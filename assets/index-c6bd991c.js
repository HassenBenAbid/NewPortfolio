function RN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var s3e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vP={exports:{}},Jv={},yP={exports:{}},qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r1=Symbol.for("react.element"),PN=Symbol.for("react.portal"),DN=Symbol.for("react.fragment"),LN=Symbol.for("react.strict_mode"),IN=Symbol.for("react.profiler"),BN=Symbol.for("react.provider"),FN=Symbol.for("react.context"),UN=Symbol.for("react.forward_ref"),ON=Symbol.for("react.suspense"),kN=Symbol.for("react.memo"),NN=Symbol.for("react.lazy"),EE=Symbol.iterator;function zN(t){return t===null||typeof t!="object"?null:(t=EE&&t[EE]||t["@@iterator"],typeof t=="function"?t:null)}var xP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},SP=Object.assign,_P={};function tp(t,e,n){this.props=t,this.context=e,this.refs=_P,this.updater=n||xP}tp.prototype.isReactComponent={};tp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wP(){}wP.prototype=tp.prototype;function Z9(t,e,n){this.props=t,this.context=e,this.refs=_P,this.updater=n||xP}var Q9=Z9.prototype=new wP;Q9.constructor=Z9;SP(Q9,tp.prototype);Q9.isPureReactComponent=!0;var bE=Array.isArray,EP=Object.prototype.hasOwnProperty,q9={current:null},bP={key:!0,ref:!0,__self:!0,__source:!0};function MP(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)EP.call(e,r)&&!bP.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:r1,type:t,key:s,ref:o,props:i,_owner:q9.current}}function GN(t,e){return{$$typeof:r1,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $9(t){return typeof t=="object"&&t!==null&&t.$$typeof===r1}function HN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ME=/\/+/g;function ry(t,e){return typeof t=="object"&&t!==null&&t.key!=null?HN(""+t.key):e.toString(36)}function cg(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case r1:case PN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ry(o,0):r,bE(i)?(n="",t!=null&&(n=t.replace(ME,"$&/")+"/"),cg(i,e,n,"",function(u){return u})):i!=null&&($9(i)&&(i=GN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ME,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",bE(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+ry(s,a);o+=cg(s,e,n,l,i)}else if(l=zN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+ry(s,a++),o+=cg(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function L3(t,e,n){if(t==null)return t;var r=[],i=0;return cg(t,r,"","",function(s){return e.call(n,s,i++)}),r}function VN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yi={current:null},fg={transition:null},WN={ReactCurrentDispatcher:Yi,ReactCurrentBatchConfig:fg,ReactCurrentOwner:q9};qt.Children={map:L3,forEach:function(t,e,n){L3(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return L3(t,function(){e++}),e},toArray:function(t){return L3(t,function(e){return e})||[]},only:function(t){if(!$9(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};qt.Component=tp;qt.Fragment=DN;qt.Profiler=IN;qt.PureComponent=Z9;qt.StrictMode=LN;qt.Suspense=ON;qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WN;qt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=SP({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=q9.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)EP.call(e,l)&&!bP.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:r1,type:t.type,key:i,ref:s,props:r,_owner:o}};qt.createContext=function(t){return t={$$typeof:FN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:BN,_context:t},t.Consumer=t};qt.createElement=MP;qt.createFactory=function(t){var e=MP.bind(null,t);return e.type=t,e};qt.createRef=function(){return{current:null}};qt.forwardRef=function(t){return{$$typeof:UN,render:t}};qt.isValidElement=$9;qt.lazy=function(t){return{$$typeof:NN,_payload:{_status:-1,_result:t},_init:VN}};qt.memo=function(t,e){return{$$typeof:kN,type:t,compare:e===void 0?null:e}};qt.startTransition=function(t){var e=fg.transition;fg.transition={};try{t()}finally{fg.transition=e}};qt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};qt.useCallback=function(t,e){return Yi.current.useCallback(t,e)};qt.useContext=function(t){return Yi.current.useContext(t)};qt.useDebugValue=function(){};qt.useDeferredValue=function(t){return Yi.current.useDeferredValue(t)};qt.useEffect=function(t,e){return Yi.current.useEffect(t,e)};qt.useId=function(){return Yi.current.useId()};qt.useImperativeHandle=function(t,e,n){return Yi.current.useImperativeHandle(t,e,n)};qt.useInsertionEffect=function(t,e){return Yi.current.useInsertionEffect(t,e)};qt.useLayoutEffect=function(t,e){return Yi.current.useLayoutEffect(t,e)};qt.useMemo=function(t,e){return Yi.current.useMemo(t,e)};qt.useReducer=function(t,e,n){return Yi.current.useReducer(t,e,n)};qt.useRef=function(t){return Yi.current.useRef(t)};qt.useState=function(t){return Yi.current.useState(t)};qt.useSyncExternalStore=function(t,e,n){return Yi.current.useSyncExternalStore(t,e,n)};qt.useTransition=function(){return Yi.current.useTransition()};qt.version="18.2.0";yP.exports=qt;var R=yP.exports;const te=tc(R),jN=RN({__proto__:null,default:te},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XN=R,YN=Symbol.for("react.element"),KN=Symbol.for("react.fragment"),JN=Object.prototype.hasOwnProperty,ZN=XN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QN={key:!0,ref:!0,__self:!0,__source:!0};function TP(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)JN.call(e,r)&&!QN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:YN,type:t,key:s,ref:o,props:i,_owner:ZN.current}}Jv.Fragment=KN;Jv.jsx=TP;Jv.jsxs=TP;vP.exports=Jv;var B=vP.exports,c8={},AP={exports:{}},js={},CP={exports:{}},RP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,G){var W=U.length;U.push(G);e:for(;0<W;){var F=W-1>>>1,j=U[F];if(0<i(j,G))U[F]=G,U[W]=j,W=F;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var G=U[0],W=U.pop();if(W!==G){U[0]=W;e:for(var F=0,j=U.length,ie=j>>>1;F<ie;){var se=2*(F+1)-1,re=U[se],fe=se+1,oe=U[fe];if(0>i(re,W))fe<j&&0>i(oe,re)?(U[F]=oe,U[fe]=W,F=fe):(U[F]=re,U[se]=W,F=se);else if(fe<j&&0>i(oe,W))U[F]=oe,U[fe]=W,F=fe;else break e}}return G}function i(U,G){var W=U.sortIndex-G.sortIndex;return W!==0?W:U.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,h=3,p=!1,g=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(U){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=U)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function E(U){if(x=!1,_(U),!g)if(n(l)!==null)g=!0,J(b);else{var G=n(u);G!==null&&$(E,G.startTime-U)}}function b(U,G){g=!1,x&&(x=!1,v(D),D=-1),p=!0;var W=h;try{for(_(G),f=n(l);f!==null&&(!(f.expirationTime>G)||U&&!k());){var F=f.callback;if(typeof F=="function"){f.callback=null,h=f.priorityLevel;var j=F(f.expirationTime<=G);G=t.unstable_now(),typeof j=="function"?f.callback=j:f===n(l)&&r(l),_(G)}else r(l);f=n(l)}if(f!==null)var ie=!0;else{var se=n(u);se!==null&&$(E,se.startTime-G),ie=!1}return ie}finally{f=null,h=W,p=!1}}var T=!1,A=null,D=-1,C=5,L=-1;function k(){return!(t.unstable_now()-L<C)}function z(){if(A!==null){var U=t.unstable_now();L=U;var G=!0;try{G=A(!0,U)}finally{G?H():(T=!1,A=null)}}else T=!1}var H;if(typeof S=="function")H=function(){S(z)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,K=V.port2;V.port1.onmessage=z,H=function(){K.postMessage(null)}}else H=function(){y(z,0)};function J(U){A=U,T||(T=!0,H())}function $(U,G){D=y(function(){U(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,J(b))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var W=h;h=G;try{return U()}finally{h=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var W=h;h=U;try{return G()}finally{h=W}},t.unstable_scheduleCallback=function(U,G,W){var F=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?F+W:F):W=F,U){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=W+j,U={id:c++,callback:G,priorityLevel:U,startTime:W,expirationTime:j,sortIndex:-1},W>F?(U.sortIndex=W,e(u,U),n(l)===null&&U===n(u)&&(x?(v(D),D=-1):x=!0,$(E,W-F))):(U.sortIndex=j,e(l,U),g||p||(g=!0,J(b))),U},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(U){var G=h;return function(){var W=h;h=G;try{return U.apply(this,arguments)}finally{h=W}}}})(RP);CP.exports=RP;var qN=CP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PP=R,Hs=qN;function Je(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DP=new Set,fm={};function Uf(t,e){Cd(t,e),Cd(t+"Capture",e)}function Cd(t,e){for(fm[t]=e,t=0;t<e.length;t++)DP.add(e[t])}var Cl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f8=Object.prototype.hasOwnProperty,$N=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,TE={},AE={};function ez(t){return f8.call(AE,t)?!0:f8.call(TE,t)?!1:$N.test(t)?AE[t]=!0:(TE[t]=!0,!1)}function tz(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nz(t,e,n,r){if(e===null||typeof e>"u"||tz(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ki(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ai={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ai[t]=new Ki(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ai[e]=new Ki(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ai[t]=new Ki(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ai[t]=new Ki(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ai[t]=new Ki(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ai[t]=new Ki(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ai[t]=new Ki(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ai[t]=new Ki(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ai[t]=new Ki(t,5,!1,t.toLowerCase(),null,!1,!1)});var e7=/[\-:]([a-z])/g;function t7(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(e7,t7);ai[e]=new Ki(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(e7,t7);ai[e]=new Ki(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(e7,t7);ai[e]=new Ki(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ai[t]=new Ki(t,1,!1,t.toLowerCase(),null,!1,!1)});ai.xlinkHref=new Ki("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ai[t]=new Ki(t,1,!1,t.toLowerCase(),null,!0,!0)});function n7(t,e,n,r){var i=ai.hasOwnProperty(e)?ai[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nz(e,n,i,r)&&(n=null),r||i===null?ez(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Hl=PP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I3=Symbol.for("react.element"),Hh=Symbol.for("react.portal"),Vh=Symbol.for("react.fragment"),r7=Symbol.for("react.strict_mode"),h8=Symbol.for("react.profiler"),LP=Symbol.for("react.provider"),IP=Symbol.for("react.context"),i7=Symbol.for("react.forward_ref"),d8=Symbol.for("react.suspense"),p8=Symbol.for("react.suspense_list"),s7=Symbol.for("react.memo"),yu=Symbol.for("react.lazy"),BP=Symbol.for("react.offscreen"),CE=Symbol.iterator;function Kp(t){return t===null||typeof t!="object"?null:(t=CE&&t[CE]||t["@@iterator"],typeof t=="function"?t:null)}var tr=Object.assign,iy;function P0(t){if(iy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);iy=e&&e[1]||""}return`
`+iy+t}var sy=!1;function oy(t,e){if(!t||sy)return"";sy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{sy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?P0(t):""}function rz(t){switch(t.tag){case 5:return P0(t.type);case 16:return P0("Lazy");case 13:return P0("Suspense");case 19:return P0("SuspenseList");case 0:case 2:case 15:return t=oy(t.type,!1),t;case 11:return t=oy(t.type.render,!1),t;case 1:return t=oy(t.type,!0),t;default:return""}}function m8(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vh:return"Fragment";case Hh:return"Portal";case h8:return"Profiler";case r7:return"StrictMode";case d8:return"Suspense";case p8:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case IP:return(t.displayName||"Context")+".Consumer";case LP:return(t._context.displayName||"Context")+".Provider";case i7:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case s7:return e=t.displayName||null,e!==null?e:m8(t.type)||"Memo";case yu:e=t._payload,t=t._init;try{return m8(t(e))}catch{}}return null}function iz(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return m8(e);case 8:return e===r7?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function FP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sz(t){var e=FP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function B3(t){t._valueTracker||(t._valueTracker=sz(t))}function UP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=FP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Gg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function g8(t,e){var n=e.checked;return tr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function RE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Hu(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function OP(t,e){e=e.checked,e!=null&&n7(t,"checked",e,!1)}function v8(t,e){OP(t,e);var n=Hu(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?y8(t,e.type,n):e.hasOwnProperty("defaultValue")&&y8(t,e.type,Hu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function PE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function y8(t,e,n){(e!=="number"||Gg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var D0=Array.isArray;function hd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Hu(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function x8(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Je(91));return tr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function DE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Je(92));if(D0(n)){if(1<n.length)throw Error(Je(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Hu(n)}}function kP(t,e){var n=Hu(e.value),r=Hu(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function LE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function NP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function S8(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?NP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var F3,zP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(F3=F3||document.createElement("div"),F3.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=F3.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hm(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var z0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oz=["Webkit","ms","Moz","O"];Object.keys(z0).forEach(function(t){oz.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),z0[e]=z0[t]})});function GP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||z0.hasOwnProperty(t)&&z0[t]?(""+e).trim():e+"px"}function HP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=GP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var az=tr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _8(t,e){if(e){if(az[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Je(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Je(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Je(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Je(62))}}function w8(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var E8=null;function o7(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var b8=null,dd=null,pd=null;function IE(t){if(t=o1(t)){if(typeof b8!="function")throw Error(Je(280));var e=t.stateNode;e&&(e=e5(e),b8(t.stateNode,t.type,e))}}function VP(t){dd?pd?pd.push(t):pd=[t]:dd=t}function WP(){if(dd){var t=dd,e=pd;if(pd=dd=null,IE(t),e)for(t=0;t<e.length;t++)IE(e[t])}}function jP(t,e){return t(e)}function XP(){}var ay=!1;function YP(t,e,n){if(ay)return t(e,n);ay=!0;try{return jP(t,e,n)}finally{ay=!1,(dd!==null||pd!==null)&&(XP(),WP())}}function dm(t,e){var n=t.stateNode;if(n===null)return null;var r=e5(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Je(231,e,typeof n));return n}var M8=!1;if(Cl)try{var Jp={};Object.defineProperty(Jp,"passive",{get:function(){M8=!0}}),window.addEventListener("test",Jp,Jp),window.removeEventListener("test",Jp,Jp)}catch{M8=!1}function lz(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var G0=!1,Hg=null,Vg=!1,T8=null,uz={onError:function(t){G0=!0,Hg=t}};function cz(t,e,n,r,i,s,o,a,l){G0=!1,Hg=null,lz.apply(uz,arguments)}function fz(t,e,n,r,i,s,o,a,l){if(cz.apply(this,arguments),G0){if(G0){var u=Hg;G0=!1,Hg=null}else throw Error(Je(198));Vg||(Vg=!0,T8=u)}}function Of(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function KP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function BE(t){if(Of(t)!==t)throw Error(Je(188))}function hz(t){var e=t.alternate;if(!e){if(e=Of(t),e===null)throw Error(Je(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return BE(i),t;if(s===r)return BE(i),e;s=s.sibling}throw Error(Je(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Je(189))}}if(n.alternate!==r)throw Error(Je(190))}if(n.tag!==3)throw Error(Je(188));return n.stateNode.current===n?t:e}function JP(t){return t=hz(t),t!==null?ZP(t):null}function ZP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ZP(t);if(e!==null)return e;t=t.sibling}return null}var QP=Hs.unstable_scheduleCallback,FE=Hs.unstable_cancelCallback,dz=Hs.unstable_shouldYield,pz=Hs.unstable_requestPaint,vr=Hs.unstable_now,mz=Hs.unstable_getCurrentPriorityLevel,a7=Hs.unstable_ImmediatePriority,qP=Hs.unstable_UserBlockingPriority,Wg=Hs.unstable_NormalPriority,gz=Hs.unstable_LowPriority,$P=Hs.unstable_IdlePriority,Zv=null,Ra=null;function vz(t){if(Ra&&typeof Ra.onCommitFiberRoot=="function")try{Ra.onCommitFiberRoot(Zv,t,void 0,(t.current.flags&128)===128)}catch{}}var Ko=Math.clz32?Math.clz32:Sz,yz=Math.log,xz=Math.LN2;function Sz(t){return t>>>=0,t===0?32:31-(yz(t)/xz|0)|0}var U3=64,O3=4194304;function L0(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jg(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=L0(a):(s&=o,s!==0&&(r=L0(s)))}else o=n&~i,o!==0?r=L0(o):s!==0&&(r=L0(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ko(e),i=1<<n,r|=t[n],e&=~i;return r}function _z(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wz(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ko(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=_z(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function A8(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function eD(){var t=U3;return U3<<=1,!(U3&4194240)&&(U3=64),t}function ly(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function i1(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ko(e),t[e]=n}function Ez(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ko(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function l7(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ko(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var mn=0;function tD(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nD,u7,rD,iD,sD,C8=!1,k3=[],Pu=null,Du=null,Lu=null,pm=new Map,mm=new Map,_u=[],bz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function UE(t,e){switch(t){case"focusin":case"focusout":Pu=null;break;case"dragenter":case"dragleave":Du=null;break;case"mouseover":case"mouseout":Lu=null;break;case"pointerover":case"pointerout":pm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":mm.delete(e.pointerId)}}function Zp(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=o1(e),e!==null&&u7(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Mz(t,e,n,r,i){switch(e){case"focusin":return Pu=Zp(Pu,t,e,n,r,i),!0;case"dragenter":return Du=Zp(Du,t,e,n,r,i),!0;case"mouseover":return Lu=Zp(Lu,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return pm.set(s,Zp(pm.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,mm.set(s,Zp(mm.get(s)||null,t,e,n,r,i)),!0}return!1}function oD(t){var e=$c(t.target);if(e!==null){var n=Of(e);if(n!==null){if(e=n.tag,e===13){if(e=KP(n),e!==null){t.blockedOn=e,sD(t.priority,function(){rD(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=R8(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);E8=r,n.target.dispatchEvent(r),E8=null}else return e=o1(n),e!==null&&u7(e),t.blockedOn=n,!1;e.shift()}return!0}function OE(t,e,n){hg(t)&&n.delete(e)}function Tz(){C8=!1,Pu!==null&&hg(Pu)&&(Pu=null),Du!==null&&hg(Du)&&(Du=null),Lu!==null&&hg(Lu)&&(Lu=null),pm.forEach(OE),mm.forEach(OE)}function Qp(t,e){t.blockedOn===e&&(t.blockedOn=null,C8||(C8=!0,Hs.unstable_scheduleCallback(Hs.unstable_NormalPriority,Tz)))}function gm(t){function e(i){return Qp(i,t)}if(0<k3.length){Qp(k3[0],t);for(var n=1;n<k3.length;n++){var r=k3[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Pu!==null&&Qp(Pu,t),Du!==null&&Qp(Du,t),Lu!==null&&Qp(Lu,t),pm.forEach(e),mm.forEach(e),n=0;n<_u.length;n++)r=_u[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_u.length&&(n=_u[0],n.blockedOn===null);)oD(n),n.blockedOn===null&&_u.shift()}var md=Hl.ReactCurrentBatchConfig,Xg=!0;function Az(t,e,n,r){var i=mn,s=md.transition;md.transition=null;try{mn=1,c7(t,e,n,r)}finally{mn=i,md.transition=s}}function Cz(t,e,n,r){var i=mn,s=md.transition;md.transition=null;try{mn=4,c7(t,e,n,r)}finally{mn=i,md.transition=s}}function c7(t,e,n,r){if(Xg){var i=R8(t,e,n,r);if(i===null)yy(t,e,r,Yg,n),UE(t,r);else if(Mz(i,t,e,n,r))r.stopPropagation();else if(UE(t,r),e&4&&-1<bz.indexOf(t)){for(;i!==null;){var s=o1(i);if(s!==null&&nD(s),s=R8(t,e,n,r),s===null&&yy(t,e,r,Yg,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else yy(t,e,r,null,n)}}var Yg=null;function R8(t,e,n,r){if(Yg=null,t=o7(r),t=$c(t),t!==null)if(e=Of(t),e===null)t=null;else if(n=e.tag,n===13){if(t=KP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yg=t,null}function aD(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mz()){case a7:return 1;case qP:return 4;case Wg:case gz:return 16;case $P:return 536870912;default:return 16}default:return 16}}var Eu=null,f7=null,dg=null;function lD(){if(dg)return dg;var t,e=f7,n=e.length,r,i="value"in Eu?Eu.value:Eu.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return dg=i.slice(t,1<r?1-r:void 0)}function pg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function N3(){return!0}function kE(){return!1}function Xs(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?N3:kE,this.isPropagationStopped=kE,this}return tr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=N3)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=N3)},persist:function(){},isPersistent:N3}),e}var np={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},h7=Xs(np),s1=tr({},np,{view:0,detail:0}),Rz=Xs(s1),uy,cy,qp,Qv=tr({},s1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:d7,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qp&&(qp&&t.type==="mousemove"?(uy=t.screenX-qp.screenX,cy=t.screenY-qp.screenY):cy=uy=0,qp=t),uy)},movementY:function(t){return"movementY"in t?t.movementY:cy}}),NE=Xs(Qv),Pz=tr({},Qv,{dataTransfer:0}),Dz=Xs(Pz),Lz=tr({},s1,{relatedTarget:0}),fy=Xs(Lz),Iz=tr({},np,{animationName:0,elapsedTime:0,pseudoElement:0}),Bz=Xs(Iz),Fz=tr({},np,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uz=Xs(Fz),Oz=tr({},np,{data:0}),zE=Xs(Oz),kz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gz(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zz[t])?!!e[t]:!1}function d7(){return Gz}var Hz=tr({},s1,{key:function(t){if(t.key){var e=kz[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nz[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:d7,charCode:function(t){return t.type==="keypress"?pg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Vz=Xs(Hz),Wz=tr({},Qv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),GE=Xs(Wz),jz=tr({},s1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:d7}),Xz=Xs(jz),Yz=tr({},np,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kz=Xs(Yz),Jz=tr({},Qv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Zz=Xs(Jz),Qz=[9,13,27,32],p7=Cl&&"CompositionEvent"in window,H0=null;Cl&&"documentMode"in document&&(H0=document.documentMode);var qz=Cl&&"TextEvent"in window&&!H0,uD=Cl&&(!p7||H0&&8<H0&&11>=H0),HE=String.fromCharCode(32),VE=!1;function cD(t,e){switch(t){case"keyup":return Qz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fD(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wh=!1;function $z(t,e){switch(t){case"compositionend":return fD(e);case"keypress":return e.which!==32?null:(VE=!0,HE);case"textInput":return t=e.data,t===HE&&VE?null:t;default:return null}}function eG(t,e){if(Wh)return t==="compositionend"||!p7&&cD(t,e)?(t=lD(),dg=f7=Eu=null,Wh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uD&&e.locale!=="ko"?null:e.data;default:return null}}var tG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function WE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tG[t.type]:e==="textarea"}function hD(t,e,n,r){VP(r),e=Kg(e,"onChange"),0<e.length&&(n=new h7("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var V0=null,vm=null;function nG(t){ED(t,0)}function qv(t){var e=Yh(t);if(UP(e))return t}function rG(t,e){if(t==="change")return e}var dD=!1;if(Cl){var hy;if(Cl){var dy="oninput"in document;if(!dy){var jE=document.createElement("div");jE.setAttribute("oninput","return;"),dy=typeof jE.oninput=="function"}hy=dy}else hy=!1;dD=hy&&(!document.documentMode||9<document.documentMode)}function XE(){V0&&(V0.detachEvent("onpropertychange",pD),vm=V0=null)}function pD(t){if(t.propertyName==="value"&&qv(vm)){var e=[];hD(e,vm,t,o7(t)),YP(nG,e)}}function iG(t,e,n){t==="focusin"?(XE(),V0=e,vm=n,V0.attachEvent("onpropertychange",pD)):t==="focusout"&&XE()}function sG(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qv(vm)}function oG(t,e){if(t==="click")return qv(e)}function aG(t,e){if(t==="input"||t==="change")return qv(e)}function lG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qo=typeof Object.is=="function"?Object.is:lG;function ym(t,e){if(qo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f8.call(e,i)||!qo(t[i],e[i]))return!1}return!0}function YE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function KE(t,e){var n=YE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=YE(n)}}function mD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gD(){for(var t=window,e=Gg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Gg(t.document)}return e}function m7(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uG(t){var e=gD(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&mD(n.ownerDocument.documentElement,n)){if(r!==null&&m7(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=KE(n,s);var o=KE(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cG=Cl&&"documentMode"in document&&11>=document.documentMode,jh=null,P8=null,W0=null,D8=!1;function JE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;D8||jh==null||jh!==Gg(r)||(r=jh,"selectionStart"in r&&m7(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),W0&&ym(W0,r)||(W0=r,r=Kg(P8,"onSelect"),0<r.length&&(e=new h7("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=jh)))}function z3(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xh={animationend:z3("Animation","AnimationEnd"),animationiteration:z3("Animation","AnimationIteration"),animationstart:z3("Animation","AnimationStart"),transitionend:z3("Transition","TransitionEnd")},py={},vD={};Cl&&(vD=document.createElement("div").style,"AnimationEvent"in window||(delete Xh.animationend.animation,delete Xh.animationiteration.animation,delete Xh.animationstart.animation),"TransitionEvent"in window||delete Xh.transitionend.transition);function $v(t){if(py[t])return py[t];if(!Xh[t])return t;var e=Xh[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vD)return py[t]=e[n];return t}var yD=$v("animationend"),xD=$v("animationiteration"),SD=$v("animationstart"),_D=$v("transitionend"),wD=new Map,ZE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nc(t,e){wD.set(t,e),Uf(e,[t])}for(var my=0;my<ZE.length;my++){var gy=ZE[my],fG=gy.toLowerCase(),hG=gy[0].toUpperCase()+gy.slice(1);nc(fG,"on"+hG)}nc(yD,"onAnimationEnd");nc(xD,"onAnimationIteration");nc(SD,"onAnimationStart");nc("dblclick","onDoubleClick");nc("focusin","onFocus");nc("focusout","onBlur");nc(_D,"onTransitionEnd");Cd("onMouseEnter",["mouseout","mouseover"]);Cd("onMouseLeave",["mouseout","mouseover"]);Cd("onPointerEnter",["pointerout","pointerover"]);Cd("onPointerLeave",["pointerout","pointerover"]);Uf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var I0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dG=new Set("cancel close invalid load scroll toggle".split(" ").concat(I0));function QE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,fz(r,e,void 0,t),t.currentTarget=null}function ED(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;QE(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;QE(i,a,u),s=l}}}if(Vg)throw t=T8,Vg=!1,T8=null,t}function Ln(t,e){var n=e[U8];n===void 0&&(n=e[U8]=new Set);var r=t+"__bubble";n.has(r)||(bD(e,t,2,!1),n.add(r))}function vy(t,e,n){var r=0;e&&(r|=4),bD(n,t,r,e)}var G3="_reactListening"+Math.random().toString(36).slice(2);function xm(t){if(!t[G3]){t[G3]=!0,DP.forEach(function(n){n!=="selectionchange"&&(dG.has(n)||vy(n,!1,t),vy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[G3]||(e[G3]=!0,vy("selectionchange",!1,e))}}function bD(t,e,n,r){switch(aD(e)){case 1:var i=Az;break;case 4:i=Cz;break;default:i=c7}n=i.bind(null,e,n,t),i=void 0,!M8||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function yy(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=$c(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}YP(function(){var u=s,c=o7(n),f=[];e:{var h=wD.get(t);if(h!==void 0){var p=h7,g=t;switch(t){case"keypress":if(pg(n)===0)break e;case"keydown":case"keyup":p=Vz;break;case"focusin":g="focus",p=fy;break;case"focusout":g="blur",p=fy;break;case"beforeblur":case"afterblur":p=fy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=NE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Dz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Xz;break;case yD:case xD:case SD:p=Bz;break;case _D:p=Kz;break;case"scroll":p=Rz;break;case"wheel":p=Zz;break;case"copy":case"cut":case"paste":p=Uz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=GE}var x=(e&4)!==0,y=!x&&t==="scroll",v=x?h!==null?h+"Capture":null:h;x=[];for(var S=u,_;S!==null;){_=S;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,v!==null&&(E=dm(S,v),E!=null&&x.push(Sm(S,E,_)))),y)break;S=S.return}0<x.length&&(h=new p(h,g,null,n,c),f.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==E8&&(g=n.relatedTarget||n.fromElement)&&($c(g)||g[Rl]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?$c(g):null,g!==null&&(y=Of(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(x=NE,E="onMouseLeave",v="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(x=GE,E="onPointerLeave",v="onPointerEnter",S="pointer"),y=p==null?h:Yh(p),_=g==null?h:Yh(g),h=new x(E,S+"leave",p,n,c),h.target=y,h.relatedTarget=_,E=null,$c(c)===u&&(x=new x(v,S+"enter",g,n,c),x.target=_,x.relatedTarget=y,E=x),y=E,p&&g)t:{for(x=p,v=g,S=0,_=x;_;_=ah(_))S++;for(_=0,E=v;E;E=ah(E))_++;for(;0<S-_;)x=ah(x),S--;for(;0<_-S;)v=ah(v),_--;for(;S--;){if(x===v||v!==null&&x===v.alternate)break t;x=ah(x),v=ah(v)}x=null}else x=null;p!==null&&qE(f,h,p,x,!1),g!==null&&y!==null&&qE(f,y,g,x,!0)}}e:{if(h=u?Yh(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var b=rG;else if(WE(h))if(dD)b=aG;else{b=sG;var T=iG}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=oG);if(b&&(b=b(t,u))){hD(f,b,n,c);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&y8(h,"number",h.value)}switch(T=u?Yh(u):window,t){case"focusin":(WE(T)||T.contentEditable==="true")&&(jh=T,P8=u,W0=null);break;case"focusout":W0=P8=jh=null;break;case"mousedown":D8=!0;break;case"contextmenu":case"mouseup":case"dragend":D8=!1,JE(f,n,c);break;case"selectionchange":if(cG)break;case"keydown":case"keyup":JE(f,n,c)}var A;if(p7)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Wh?cD(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(uD&&n.locale!=="ko"&&(Wh||D!=="onCompositionStart"?D==="onCompositionEnd"&&Wh&&(A=lD()):(Eu=c,f7="value"in Eu?Eu.value:Eu.textContent,Wh=!0)),T=Kg(u,D),0<T.length&&(D=new zE(D,t,null,n,c),f.push({event:D,listeners:T}),A?D.data=A:(A=fD(n),A!==null&&(D.data=A)))),(A=qz?$z(t,n):eG(t,n))&&(u=Kg(u,"onBeforeInput"),0<u.length&&(c=new zE("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=A))}ED(f,e)})}function Sm(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Kg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=dm(t,n),s!=null&&r.unshift(Sm(t,s,i)),s=dm(t,e),s!=null&&r.push(Sm(t,s,i))),t=t.return}return r}function ah(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qE(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=dm(n,s),l!=null&&o.unshift(Sm(n,l,a))):i||(l=dm(n,s),l!=null&&o.push(Sm(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var pG=/\r\n?/g,mG=/\u0000|\uFFFD/g;function $E(t){return(typeof t=="string"?t:""+t).replace(pG,`
`).replace(mG,"")}function H3(t,e,n){if(e=$E(e),$E(t)!==e&&n)throw Error(Je(425))}function Jg(){}var L8=null,I8=null;function B8(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var F8=typeof setTimeout=="function"?setTimeout:void 0,gG=typeof clearTimeout=="function"?clearTimeout:void 0,eb=typeof Promise=="function"?Promise:void 0,vG=typeof queueMicrotask=="function"?queueMicrotask:typeof eb<"u"?function(t){return eb.resolve(null).then(t).catch(yG)}:F8;function yG(t){setTimeout(function(){throw t})}function xy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),gm(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);gm(e)}function Iu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var rp=Math.random().toString(36).slice(2),wa="__reactFiber$"+rp,_m="__reactProps$"+rp,Rl="__reactContainer$"+rp,U8="__reactEvents$"+rp,xG="__reactListeners$"+rp,SG="__reactHandles$"+rp;function $c(t){var e=t[wa];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rl]||n[wa]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=tb(t);t!==null;){if(n=t[wa])return n;t=tb(t)}return e}t=n,n=t.parentNode}return null}function o1(t){return t=t[wa]||t[Rl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Je(33))}function e5(t){return t[_m]||null}var O8=[],Kh=-1;function rc(t){return{current:t}}function Fn(t){0>Kh||(t.current=O8[Kh],O8[Kh]=null,Kh--)}function Rn(t,e){Kh++,O8[Kh]=t.current,t.current=e}var Vu={},Ti=rc(Vu),fs=rc(!1),Ef=Vu;function Rd(t,e){var n=t.type.contextTypes;if(!n)return Vu;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function hs(t){return t=t.childContextTypes,t!=null}function Zg(){Fn(fs),Fn(Ti)}function nb(t,e,n){if(Ti.current!==Vu)throw Error(Je(168));Rn(Ti,e),Rn(fs,n)}function MD(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Je(108,iz(t)||"Unknown",i));return tr({},n,r)}function Qg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vu,Ef=Ti.current,Rn(Ti,t),Rn(fs,fs.current),!0}function rb(t,e,n){var r=t.stateNode;if(!r)throw Error(Je(169));n?(t=MD(t,e,Ef),r.__reactInternalMemoizedMergedChildContext=t,Fn(fs),Fn(Ti),Rn(Ti,t)):Fn(fs),Rn(fs,n)}var hl=null,t5=!1,Sy=!1;function TD(t){hl===null?hl=[t]:hl.push(t)}function _G(t){t5=!0,TD(t)}function ic(){if(!Sy&&hl!==null){Sy=!0;var t=0,e=mn;try{var n=hl;for(mn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hl=null,t5=!1}catch(i){throw hl!==null&&(hl=hl.slice(t+1)),QP(a7,ic),i}finally{mn=e,Sy=!1}}return null}var Jh=[],Zh=0,qg=null,$g=0,mo=[],go=0,bf=null,yl=1,xl="";function Hc(t,e){Jh[Zh++]=$g,Jh[Zh++]=qg,qg=t,$g=e}function AD(t,e,n){mo[go++]=yl,mo[go++]=xl,mo[go++]=bf,bf=t;var r=yl;t=xl;var i=32-Ko(r)-1;r&=~(1<<i),n+=1;var s=32-Ko(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,yl=1<<32-Ko(e)+i|n<<i|r,xl=s+t}else yl=1<<s|n<<i|r,xl=t}function g7(t){t.return!==null&&(Hc(t,1),AD(t,1,0))}function v7(t){for(;t===qg;)qg=Jh[--Zh],Jh[Zh]=null,$g=Jh[--Zh],Jh[Zh]=null;for(;t===bf;)bf=mo[--go],mo[go]=null,xl=mo[--go],mo[go]=null,yl=mo[--go],mo[go]=null}var ks=null,Fs=null,Gn=!1,jo=null;function CD(t,e){var n=yo(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ib(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ks=t,Fs=Iu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ks=t,Fs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=bf!==null?{id:yl,overflow:xl}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yo(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ks=t,Fs=null,!0):!1;default:return!1}}function k8(t){return(t.mode&1)!==0&&(t.flags&128)===0}function N8(t){if(Gn){var e=Fs;if(e){var n=e;if(!ib(t,e)){if(k8(t))throw Error(Je(418));e=Iu(n.nextSibling);var r=ks;e&&ib(t,e)?CD(r,n):(t.flags=t.flags&-4097|2,Gn=!1,ks=t)}}else{if(k8(t))throw Error(Je(418));t.flags=t.flags&-4097|2,Gn=!1,ks=t}}}function sb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ks=t}function V3(t){if(t!==ks)return!1;if(!Gn)return sb(t),Gn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!B8(t.type,t.memoizedProps)),e&&(e=Fs)){if(k8(t))throw RD(),Error(Je(418));for(;e;)CD(t,e),e=Iu(e.nextSibling)}if(sb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Je(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fs=Iu(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fs=null}}else Fs=ks?Iu(t.stateNode.nextSibling):null;return!0}function RD(){for(var t=Fs;t;)t=Iu(t.nextSibling)}function Pd(){Fs=ks=null,Gn=!1}function y7(t){jo===null?jo=[t]:jo.push(t)}var wG=Hl.ReactCurrentBatchConfig;function Ho(t,e){if(t&&t.defaultProps){e=tr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ev=rc(null),tv=null,Qh=null,x7=null;function S7(){x7=Qh=tv=null}function _7(t){var e=ev.current;Fn(ev),t._currentValue=e}function z8(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function gd(t,e){tv=t,x7=Qh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ls=!0),t.firstContext=null)}function To(t){var e=t._currentValue;if(x7!==t)if(t={context:t,memoizedValue:e,next:null},Qh===null){if(tv===null)throw Error(Je(308));Qh=t,tv.dependencies={lanes:0,firstContext:t}}else Qh=Qh.next=t;return e}var ef=null;function w7(t){ef===null?ef=[t]:ef.push(t)}function PD(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,w7(e)):(n.next=i.next,i.next=n),e.interleaved=n,Pl(t,r)}function Pl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var xu=!1;function E7(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bu(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,rn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Pl(t,n)}return i=r.interleaved,i===null?(e.next=e,w7(r)):(e.next=i.next,i.next=e),r.interleaved=e,Pl(t,n)}function mg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,l7(t,n)}}function ob(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function nv(t,e,n,r){var i=t.updateQueue;xu=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,x=a;switch(h=e,p=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=tr({},f,h);break e;case 2:xu=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Tf|=o,t.lanes=o,t.memoizedState=f}}function ab(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Je(191,i));i.call(r)}}}var LD=new PP.Component().refs;function G8(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var n5={isMounted:function(t){return(t=t._reactInternals)?Of(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Xi(),i=Uu(t),s=wl(r,i);s.payload=e,n!=null&&(s.callback=n),e=Bu(t,s,i),e!==null&&(Jo(e,t,i,r),mg(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Xi(),i=Uu(t),s=wl(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Bu(t,s,i),e!==null&&(Jo(e,t,i,r),mg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xi(),r=Uu(t),i=wl(n,r);i.tag=2,e!=null&&(i.callback=e),e=Bu(t,i,r),e!==null&&(Jo(e,t,r,n),mg(e,t,r))}};function lb(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ym(n,r)||!ym(i,s):!0}function ID(t,e,n){var r=!1,i=Vu,s=e.contextType;return typeof s=="object"&&s!==null?s=To(s):(i=hs(e)?Ef:Ti.current,r=e.contextTypes,s=(r=r!=null)?Rd(t,i):Vu),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=n5,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ub(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&n5.enqueueReplaceState(e,e.state,null)}function H8(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=LD,E7(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=To(s):(s=hs(e)?Ef:Ti.current,i.context=Rd(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(G8(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&n5.enqueueReplaceState(i,i.state,null),nv(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function $p(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Je(309));var r=n.stateNode}if(!r)throw Error(Je(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===LD&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Je(284));if(!n._owner)throw Error(Je(290,t))}return t}function W3(t,e){throw t=Object.prototype.toString.call(e),Error(Je(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function cb(t){var e=t._init;return e(t._payload)}function BD(t){function e(v,S){if(t){var _=v.deletions;_===null?(v.deletions=[S],v.flags|=16):_.push(S)}}function n(v,S){if(!t)return null;for(;S!==null;)e(v,S),S=S.sibling;return null}function r(v,S){for(v=new Map;S!==null;)S.key!==null?v.set(S.key,S):v.set(S.index,S),S=S.sibling;return v}function i(v,S){return v=Ou(v,S),v.index=0,v.sibling=null,v}function s(v,S,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<S?(v.flags|=2,S):_):(v.flags|=2,S)):(v.flags|=1048576,S)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,S,_,E){return S===null||S.tag!==6?(S=Ay(_,v.mode,E),S.return=v,S):(S=i(S,_),S.return=v,S)}function l(v,S,_,E){var b=_.type;return b===Vh?c(v,S,_.props.children,E,_.key):S!==null&&(S.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===yu&&cb(b)===S.type)?(E=i(S,_.props),E.ref=$p(v,S,_),E.return=v,E):(E=_g(_.type,_.key,_.props,null,v.mode,E),E.ref=$p(v,S,_),E.return=v,E)}function u(v,S,_,E){return S===null||S.tag!==4||S.stateNode.containerInfo!==_.containerInfo||S.stateNode.implementation!==_.implementation?(S=Cy(_,v.mode,E),S.return=v,S):(S=i(S,_.children||[]),S.return=v,S)}function c(v,S,_,E,b){return S===null||S.tag!==7?(S=ff(_,v.mode,E,b),S.return=v,S):(S=i(S,_),S.return=v,S)}function f(v,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Ay(""+S,v.mode,_),S.return=v,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case I3:return _=_g(S.type,S.key,S.props,null,v.mode,_),_.ref=$p(v,null,S),_.return=v,_;case Hh:return S=Cy(S,v.mode,_),S.return=v,S;case yu:var E=S._init;return f(v,E(S._payload),_)}if(D0(S)||Kp(S))return S=ff(S,v.mode,_,null),S.return=v,S;W3(v,S)}return null}function h(v,S,_,E){var b=S!==null?S.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return b!==null?null:a(v,S,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case I3:return _.key===b?l(v,S,_,E):null;case Hh:return _.key===b?u(v,S,_,E):null;case yu:return b=_._init,h(v,S,b(_._payload),E)}if(D0(_)||Kp(_))return b!==null?null:c(v,S,_,E,null);W3(v,_)}return null}function p(v,S,_,E,b){if(typeof E=="string"&&E!==""||typeof E=="number")return v=v.get(_)||null,a(S,v,""+E,b);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case I3:return v=v.get(E.key===null?_:E.key)||null,l(S,v,E,b);case Hh:return v=v.get(E.key===null?_:E.key)||null,u(S,v,E,b);case yu:var T=E._init;return p(v,S,_,T(E._payload),b)}if(D0(E)||Kp(E))return v=v.get(_)||null,c(S,v,E,b,null);W3(S,E)}return null}function g(v,S,_,E){for(var b=null,T=null,A=S,D=S=0,C=null;A!==null&&D<_.length;D++){A.index>D?(C=A,A=null):C=A.sibling;var L=h(v,A,_[D],E);if(L===null){A===null&&(A=C);break}t&&A&&L.alternate===null&&e(v,A),S=s(L,S,D),T===null?b=L:T.sibling=L,T=L,A=C}if(D===_.length)return n(v,A),Gn&&Hc(v,D),b;if(A===null){for(;D<_.length;D++)A=f(v,_[D],E),A!==null&&(S=s(A,S,D),T===null?b=A:T.sibling=A,T=A);return Gn&&Hc(v,D),b}for(A=r(v,A);D<_.length;D++)C=p(A,v,D,_[D],E),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?D:C.key),S=s(C,S,D),T===null?b=C:T.sibling=C,T=C);return t&&A.forEach(function(k){return e(v,k)}),Gn&&Hc(v,D),b}function x(v,S,_,E){var b=Kp(_);if(typeof b!="function")throw Error(Je(150));if(_=b.call(_),_==null)throw Error(Je(151));for(var T=b=null,A=S,D=S=0,C=null,L=_.next();A!==null&&!L.done;D++,L=_.next()){A.index>D?(C=A,A=null):C=A.sibling;var k=h(v,A,L.value,E);if(k===null){A===null&&(A=C);break}t&&A&&k.alternate===null&&e(v,A),S=s(k,S,D),T===null?b=k:T.sibling=k,T=k,A=C}if(L.done)return n(v,A),Gn&&Hc(v,D),b;if(A===null){for(;!L.done;D++,L=_.next())L=f(v,L.value,E),L!==null&&(S=s(L,S,D),T===null?b=L:T.sibling=L,T=L);return Gn&&Hc(v,D),b}for(A=r(v,A);!L.done;D++,L=_.next())L=p(A,v,D,L.value,E),L!==null&&(t&&L.alternate!==null&&A.delete(L.key===null?D:L.key),S=s(L,S,D),T===null?b=L:T.sibling=L,T=L);return t&&A.forEach(function(z){return e(v,z)}),Gn&&Hc(v,D),b}function y(v,S,_,E){if(typeof _=="object"&&_!==null&&_.type===Vh&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case I3:e:{for(var b=_.key,T=S;T!==null;){if(T.key===b){if(b=_.type,b===Vh){if(T.tag===7){n(v,T.sibling),S=i(T,_.props.children),S.return=v,v=S;break e}}else if(T.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===yu&&cb(b)===T.type){n(v,T.sibling),S=i(T,_.props),S.ref=$p(v,T,_),S.return=v,v=S;break e}n(v,T);break}else e(v,T);T=T.sibling}_.type===Vh?(S=ff(_.props.children,v.mode,E,_.key),S.return=v,v=S):(E=_g(_.type,_.key,_.props,null,v.mode,E),E.ref=$p(v,S,_),E.return=v,v=E)}return o(v);case Hh:e:{for(T=_.key;S!==null;){if(S.key===T)if(S.tag===4&&S.stateNode.containerInfo===_.containerInfo&&S.stateNode.implementation===_.implementation){n(v,S.sibling),S=i(S,_.children||[]),S.return=v,v=S;break e}else{n(v,S);break}else e(v,S);S=S.sibling}S=Cy(_,v.mode,E),S.return=v,v=S}return o(v);case yu:return T=_._init,y(v,S,T(_._payload),E)}if(D0(_))return g(v,S,_,E);if(Kp(_))return x(v,S,_,E);W3(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,S!==null&&S.tag===6?(n(v,S.sibling),S=i(S,_),S.return=v,v=S):(n(v,S),S=Ay(_,v.mode,E),S.return=v,v=S),o(v)):n(v,S)}return y}var Dd=BD(!0),FD=BD(!1),a1={},Pa=rc(a1),wm=rc(a1),Em=rc(a1);function tf(t){if(t===a1)throw Error(Je(174));return t}function b7(t,e){switch(Rn(Em,e),Rn(wm,t),Rn(Pa,a1),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:S8(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=S8(e,t)}Fn(Pa),Rn(Pa,e)}function Ld(){Fn(Pa),Fn(wm),Fn(Em)}function UD(t){tf(Em.current);var e=tf(Pa.current),n=S8(e,t.type);e!==n&&(Rn(wm,t),Rn(Pa,n))}function M7(t){wm.current===t&&(Fn(Pa),Fn(wm))}var Yn=rc(0);function rv(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _y=[];function T7(){for(var t=0;t<_y.length;t++)_y[t]._workInProgressVersionPrimary=null;_y.length=0}var gg=Hl.ReactCurrentDispatcher,wy=Hl.ReactCurrentBatchConfig,Mf=0,$n=null,Br=null,Kr=null,iv=!1,j0=!1,bm=0,EG=0;function mi(){throw Error(Je(321))}function A7(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qo(t[n],e[n]))return!1;return!0}function C7(t,e,n,r,i,s){if(Mf=s,$n=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gg.current=t===null||t.memoizedState===null?AG:CG,t=n(r,i),j0){s=0;do{if(j0=!1,bm=0,25<=s)throw Error(Je(301));s+=1,Kr=Br=null,e.updateQueue=null,gg.current=RG,t=n(r,i)}while(j0)}if(gg.current=sv,e=Br!==null&&Br.next!==null,Mf=0,Kr=Br=$n=null,iv=!1,e)throw Error(Je(300));return t}function R7(){var t=bm!==0;return bm=0,t}function _a(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kr===null?$n.memoizedState=Kr=t:Kr=Kr.next=t,Kr}function Ao(){if(Br===null){var t=$n.alternate;t=t!==null?t.memoizedState:null}else t=Br.next;var e=Kr===null?$n.memoizedState:Kr.next;if(e!==null)Kr=e,Br=t;else{if(t===null)throw Error(Je(310));Br=t,t={memoizedState:Br.memoizedState,baseState:Br.baseState,baseQueue:Br.baseQueue,queue:Br.queue,next:null},Kr===null?$n.memoizedState=Kr=t:Kr=Kr.next=t}return Kr}function Mm(t,e){return typeof e=="function"?e(t):e}function Ey(t){var e=Ao(),n=e.queue;if(n===null)throw Error(Je(311));n.lastRenderedReducer=t;var r=Br,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Mf&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,$n.lanes|=c,Tf|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,qo(r,e.memoizedState)||(ls=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,$n.lanes|=s,Tf|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function by(t){var e=Ao(),n=e.queue;if(n===null)throw Error(Je(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);qo(s,e.memoizedState)||(ls=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function OD(){}function kD(t,e){var n=$n,r=Ao(),i=e(),s=!qo(r.memoizedState,i);if(s&&(r.memoizedState=i,ls=!0),r=r.queue,P7(GD.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Kr!==null&&Kr.memoizedState.tag&1){if(n.flags|=2048,Tm(9,zD.bind(null,n,r,i,e),void 0,null),qr===null)throw Error(Je(349));Mf&30||ND(n,e,i)}return i}function ND(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$n.updateQueue,e===null?(e={lastEffect:null,stores:null},$n.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function zD(t,e,n,r){e.value=n,e.getSnapshot=r,HD(e)&&VD(t)}function GD(t,e,n){return n(function(){HD(e)&&VD(t)})}function HD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qo(t,n)}catch{return!0}}function VD(t){var e=Pl(t,1);e!==null&&Jo(e,t,1,-1)}function fb(t){var e=_a();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mm,lastRenderedState:t},e.queue=t,t=t.dispatch=TG.bind(null,$n,t),[e.memoizedState,t]}function Tm(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$n.updateQueue,e===null?(e={lastEffect:null,stores:null},$n.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function WD(){return Ao().memoizedState}function vg(t,e,n,r){var i=_a();$n.flags|=t,i.memoizedState=Tm(1|e,n,void 0,r===void 0?null:r)}function r5(t,e,n,r){var i=Ao();r=r===void 0?null:r;var s=void 0;if(Br!==null){var o=Br.memoizedState;if(s=o.destroy,r!==null&&A7(r,o.deps)){i.memoizedState=Tm(e,n,s,r);return}}$n.flags|=t,i.memoizedState=Tm(1|e,n,s,r)}function hb(t,e){return vg(8390656,8,t,e)}function P7(t,e){return r5(2048,8,t,e)}function jD(t,e){return r5(4,2,t,e)}function XD(t,e){return r5(4,4,t,e)}function YD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function KD(t,e,n){return n=n!=null?n.concat([t]):null,r5(4,4,YD.bind(null,e,t),n)}function D7(){}function JD(t,e){var n=Ao();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&A7(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ZD(t,e){var n=Ao();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&A7(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function QD(t,e,n){return Mf&21?(qo(n,e)||(n=eD(),$n.lanes|=n,Tf|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ls=!0),t.memoizedState=n)}function bG(t,e){var n=mn;mn=n!==0&&4>n?n:4,t(!0);var r=wy.transition;wy.transition={};try{t(!1),e()}finally{mn=n,wy.transition=r}}function qD(){return Ao().memoizedState}function MG(t,e,n){var r=Uu(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$D(t))eL(e,n);else if(n=PD(t,e,n,r),n!==null){var i=Xi();Jo(n,t,r,i),tL(n,e,r)}}function TG(t,e,n){var r=Uu(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($D(t))eL(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,qo(a,o)){var l=e.interleaved;l===null?(i.next=i,w7(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=PD(t,e,i,r),n!==null&&(i=Xi(),Jo(n,t,r,i),tL(n,e,r))}}function $D(t){var e=t.alternate;return t===$n||e!==null&&e===$n}function eL(t,e){j0=iv=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tL(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,l7(t,n)}}var sv={readContext:To,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},AG={readContext:To,useCallback:function(t,e){return _a().memoizedState=[t,e===void 0?null:e],t},useContext:To,useEffect:hb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vg(4194308,4,YD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vg(4194308,4,t,e)},useInsertionEffect:function(t,e){return vg(4,2,t,e)},useMemo:function(t,e){var n=_a();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_a();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=MG.bind(null,$n,t),[r.memoizedState,t]},useRef:function(t){var e=_a();return t={current:t},e.memoizedState=t},useState:fb,useDebugValue:D7,useDeferredValue:function(t){return _a().memoizedState=t},useTransition:function(){var t=fb(!1),e=t[0];return t=bG.bind(null,t[1]),_a().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$n,i=_a();if(Gn){if(n===void 0)throw Error(Je(407));n=n()}else{if(n=e(),qr===null)throw Error(Je(349));Mf&30||ND(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,hb(GD.bind(null,r,s,t),[t]),r.flags|=2048,Tm(9,zD.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=_a(),e=qr.identifierPrefix;if(Gn){var n=xl,r=yl;n=(r&~(1<<32-Ko(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=bm++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=EG++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CG={readContext:To,useCallback:JD,useContext:To,useEffect:P7,useImperativeHandle:KD,useInsertionEffect:jD,useLayoutEffect:XD,useMemo:ZD,useReducer:Ey,useRef:WD,useState:function(){return Ey(Mm)},useDebugValue:D7,useDeferredValue:function(t){var e=Ao();return QD(e,Br.memoizedState,t)},useTransition:function(){var t=Ey(Mm)[0],e=Ao().memoizedState;return[t,e]},useMutableSource:OD,useSyncExternalStore:kD,useId:qD,unstable_isNewReconciler:!1},RG={readContext:To,useCallback:JD,useContext:To,useEffect:P7,useImperativeHandle:KD,useInsertionEffect:jD,useLayoutEffect:XD,useMemo:ZD,useReducer:by,useRef:WD,useState:function(){return by(Mm)},useDebugValue:D7,useDeferredValue:function(t){var e=Ao();return Br===null?e.memoizedState=t:QD(e,Br.memoizedState,t)},useTransition:function(){var t=by(Mm)[0],e=Ao().memoizedState;return[t,e]},useMutableSource:OD,useSyncExternalStore:kD,useId:qD,unstable_isNewReconciler:!1};function Id(t,e){try{var n="",r=e;do n+=rz(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function My(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function V8(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var PG=typeof WeakMap=="function"?WeakMap:Map;function nL(t,e,n){n=wl(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){av||(av=!0,$8=r),V8(t,e)},n}function rL(t,e,n){n=wl(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){V8(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){V8(t,e),typeof r!="function"&&(Fu===null?Fu=new Set([this]):Fu.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function db(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new PG;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=WG.bind(null,t,e,n),e.then(t,t))}function pb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wl(-1,1),e.tag=2,Bu(n,e,1))),n.lanes|=1),t)}var DG=Hl.ReactCurrentOwner,ls=!1;function Vi(t,e,n,r){e.child=t===null?FD(e,null,n,r):Dd(e,t.child,n,r)}function gb(t,e,n,r,i){n=n.render;var s=e.ref;return gd(e,i),r=C7(t,e,n,r,s,i),n=R7(),t!==null&&!ls?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dl(t,e,i)):(Gn&&n&&g7(e),e.flags|=1,Vi(t,e,r,i),e.child)}function vb(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!N7(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,iL(t,e,s,r,i)):(t=_g(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ym,n(o,r)&&t.ref===e.ref)return Dl(t,e,i)}return e.flags|=1,t=Ou(s,r),t.ref=e.ref,t.return=e,e.child=t}function iL(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ym(s,r)&&t.ref===e.ref)if(ls=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ls=!0);else return e.lanes=t.lanes,Dl(t,e,i)}return W8(t,e,n,r,i)}function sL(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rn($h,Ds),Ds|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Rn($h,Ds),Ds|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Rn($h,Ds),Ds|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Rn($h,Ds),Ds|=r;return Vi(t,e,i,n),e.child}function oL(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function W8(t,e,n,r,i){var s=hs(n)?Ef:Ti.current;return s=Rd(e,s),gd(e,i),n=C7(t,e,n,r,s,i),r=R7(),t!==null&&!ls?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dl(t,e,i)):(Gn&&r&&g7(e),e.flags|=1,Vi(t,e,n,i),e.child)}function yb(t,e,n,r,i){if(hs(n)){var s=!0;Qg(e)}else s=!1;if(gd(e,i),e.stateNode===null)yg(t,e),ID(e,n,r),H8(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=To(u):(u=hs(n)?Ef:Ti.current,u=Rd(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&ub(e,o,r,u),xu=!1;var h=e.memoizedState;o.state=h,nv(e,r,o,i),l=e.memoizedState,a!==r||h!==l||fs.current||xu?(typeof c=="function"&&(G8(e,n,c,r),l=e.memoizedState),(a=xu||lb(e,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,DD(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ho(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=To(l):(l=hs(n)?Ef:Ti.current,l=Rd(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&ub(e,o,r,l),xu=!1,h=e.memoizedState,o.state=h,nv(e,r,o,i);var g=e.memoizedState;a!==f||h!==g||fs.current||xu?(typeof p=="function"&&(G8(e,n,p,r),g=e.memoizedState),(u=xu||lb(e,n,u,r,h,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return j8(t,e,n,r,s,i)}function j8(t,e,n,r,i,s){oL(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&rb(e,n,!1),Dl(t,e,s);r=e.stateNode,DG.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Dd(e,t.child,null,s),e.child=Dd(e,null,a,s)):Vi(t,e,a,s),e.memoizedState=r.state,i&&rb(e,n,!0),e.child}function aL(t){var e=t.stateNode;e.pendingContext?nb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&nb(t,e.context,!1),b7(t,e.containerInfo)}function xb(t,e,n,r,i){return Pd(),y7(i),e.flags|=256,Vi(t,e,n,r),e.child}var X8={dehydrated:null,treeContext:null,retryLane:0};function Y8(t){return{baseLanes:t,cachePool:null,transitions:null}}function lL(t,e,n){var r=e.pendingProps,i=Yn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Rn(Yn,i&1),t===null)return N8(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=o5(o,r,0,null),t=ff(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Y8(n),e.memoizedState=X8,t):L7(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return LG(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ou(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ou(a,s):(s=ff(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Y8(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=X8,r}return s=t.child,t=s.sibling,r=Ou(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function L7(t,e){return e=o5({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function j3(t,e,n,r){return r!==null&&y7(r),Dd(e,t.child,null,n),t=L7(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function LG(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=My(Error(Je(422))),j3(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=o5({mode:"visible",children:r.children},i,0,null),s=ff(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Dd(e,t.child,null,o),e.child.memoizedState=Y8(o),e.memoizedState=X8,s);if(!(e.mode&1))return j3(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Je(419)),r=My(s,r,void 0),j3(t,e,o,r)}if(a=(o&t.childLanes)!==0,ls||a){if(r=qr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Pl(t,i),Jo(r,t,i,-1))}return k7(),r=My(Error(Je(421))),j3(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=jG.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Fs=Iu(i.nextSibling),ks=e,Gn=!0,jo=null,t!==null&&(mo[go++]=yl,mo[go++]=xl,mo[go++]=bf,yl=t.id,xl=t.overflow,bf=e),e=L7(e,r.children),e.flags|=4096,e)}function Sb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),z8(t.return,e,n)}function Ty(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function uL(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Vi(t,e,r.children,n),r=Yn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sb(t,n,e);else if(t.tag===19)Sb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Rn(Yn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&rv(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ty(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&rv(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ty(e,!0,n,null,s);break;case"together":Ty(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Tf|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Je(153));if(e.child!==null){for(t=e.child,n=Ou(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ou(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function IG(t,e,n){switch(e.tag){case 3:aL(e),Pd();break;case 5:UD(e);break;case 1:hs(e.type)&&Qg(e);break;case 4:b7(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Rn(ev,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Rn(Yn,Yn.current&1),e.flags|=128,null):n&e.child.childLanes?lL(t,e,n):(Rn(Yn,Yn.current&1),t=Dl(t,e,n),t!==null?t.sibling:null);Rn(Yn,Yn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uL(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Rn(Yn,Yn.current),r)break;return null;case 22:case 23:return e.lanes=0,sL(t,e,n)}return Dl(t,e,n)}var cL,K8,fL,hL;cL=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};K8=function(){};fL=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,tf(Pa.current);var s=null;switch(n){case"input":i=g8(t,i),r=g8(t,r),s=[];break;case"select":i=tr({},i,{value:void 0}),r=tr({},r,{value:void 0}),s=[];break;case"textarea":i=x8(t,i),r=x8(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jg)}_8(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fm.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fm.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ln("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};hL=function(t,e,n,r){n!==r&&(e.flags|=4)};function e0(t,e){if(!Gn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function gi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function BG(t,e,n){var r=e.pendingProps;switch(v7(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gi(e),null;case 1:return hs(e.type)&&Zg(),gi(e),null;case 3:return r=e.stateNode,Ld(),Fn(fs),Fn(Ti),T7(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(V3(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jo!==null&&(nx(jo),jo=null))),K8(t,e),gi(e),null;case 5:M7(e);var i=tf(Em.current);if(n=e.type,t!==null&&e.stateNode!=null)fL(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Je(166));return gi(e),null}if(t=tf(Pa.current),V3(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[wa]=e,r[_m]=s,t=(e.mode&1)!==0,n){case"dialog":Ln("cancel",r),Ln("close",r);break;case"iframe":case"object":case"embed":Ln("load",r);break;case"video":case"audio":for(i=0;i<I0.length;i++)Ln(I0[i],r);break;case"source":Ln("error",r);break;case"img":case"image":case"link":Ln("error",r),Ln("load",r);break;case"details":Ln("toggle",r);break;case"input":RE(r,s),Ln("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ln("invalid",r);break;case"textarea":DE(r,s),Ln("invalid",r)}_8(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&H3(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&H3(r.textContent,a,t),i=["children",""+a]):fm.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ln("scroll",r)}switch(n){case"input":B3(r),PE(r,s,!0);break;case"textarea":B3(r),LE(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Jg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=NP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[wa]=e,t[_m]=r,cL(t,e,!1,!1),e.stateNode=t;e:{switch(o=w8(n,r),n){case"dialog":Ln("cancel",t),Ln("close",t),i=r;break;case"iframe":case"object":case"embed":Ln("load",t),i=r;break;case"video":case"audio":for(i=0;i<I0.length;i++)Ln(I0[i],t);i=r;break;case"source":Ln("error",t),i=r;break;case"img":case"image":case"link":Ln("error",t),Ln("load",t),i=r;break;case"details":Ln("toggle",t),i=r;break;case"input":RE(t,r),i=g8(t,r),Ln("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=tr({},r,{value:void 0}),Ln("invalid",t);break;case"textarea":DE(t,r),i=x8(t,r),Ln("invalid",t);break;default:i=r}_8(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?HP(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zP(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&hm(t,l):typeof l=="number"&&hm(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(fm.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ln("scroll",t):l!=null&&n7(t,s,l,o))}switch(n){case"input":B3(t),PE(t,r,!1);break;case"textarea":B3(t),LE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Hu(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?hd(t,!!r.multiple,s,!1):r.defaultValue!=null&&hd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Jg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gi(e),null;case 6:if(t&&e.stateNode!=null)hL(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Je(166));if(n=tf(Em.current),tf(Pa.current),V3(e)){if(r=e.stateNode,n=e.memoizedProps,r[wa]=e,(s=r.nodeValue!==n)&&(t=ks,t!==null))switch(t.tag){case 3:H3(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&H3(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wa]=e,e.stateNode=r}return gi(e),null;case 13:if(Fn(Yn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Gn&&Fs!==null&&e.mode&1&&!(e.flags&128))RD(),Pd(),e.flags|=98560,s=!1;else if(s=V3(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Je(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Je(317));s[wa]=e}else Pd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gi(e),s=!1}else jo!==null&&(nx(jo),jo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Yn.current&1?Fr===0&&(Fr=3):k7())),e.updateQueue!==null&&(e.flags|=4),gi(e),null);case 4:return Ld(),K8(t,e),t===null&&xm(e.stateNode.containerInfo),gi(e),null;case 10:return _7(e.type._context),gi(e),null;case 17:return hs(e.type)&&Zg(),gi(e),null;case 19:if(Fn(Yn),s=e.memoizedState,s===null)return gi(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)e0(s,!1);else{if(Fr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=rv(t),o!==null){for(e.flags|=128,e0(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Rn(Yn,Yn.current&1|2),e.child}t=t.sibling}s.tail!==null&&vr()>Bd&&(e.flags|=128,r=!0,e0(s,!1),e.lanes=4194304)}else{if(!r)if(t=rv(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Gn)return gi(e),null}else 2*vr()-s.renderingStartTime>Bd&&n!==1073741824&&(e.flags|=128,r=!0,e0(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=vr(),e.sibling=null,n=Yn.current,Rn(Yn,r?n&1|2:n&1),e):(gi(e),null);case 22:case 23:return O7(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ds&1073741824&&(gi(e),e.subtreeFlags&6&&(e.flags|=8192)):gi(e),null;case 24:return null;case 25:return null}throw Error(Je(156,e.tag))}function FG(t,e){switch(v7(e),e.tag){case 1:return hs(e.type)&&Zg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ld(),Fn(fs),Fn(Ti),T7(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return M7(e),null;case 13:if(Fn(Yn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Je(340));Pd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fn(Yn),null;case 4:return Ld(),null;case 10:return _7(e.type._context),null;case 22:case 23:return O7(),null;case 24:return null;default:return null}}var X3=!1,xi=!1,UG=typeof WeakSet=="function"?WeakSet:Set,ot=null;function qh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){sr(t,e,r)}else n.current=null}function J8(t,e,n){try{n()}catch(r){sr(t,e,r)}}var _b=!1;function OG(t,e){if(L8=Xg,t=gD(),m7(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(I8={focusedElem:t,selectionRange:n},Xg=!1,ot=e;ot!==null;)if(e=ot,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ot=t;else for(;ot!==null;){e=ot;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,y=g.memoizedState,v=e.stateNode,S=v.getSnapshotBeforeUpdate(e.elementType===e.type?x:Ho(e.type,x),y);v.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Je(163))}}catch(E){sr(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,ot=t;break}ot=e.return}return g=_b,_b=!1,g}function X0(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&J8(e,n,s)}i=i.next}while(i!==r)}}function i5(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Z8(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dL(t){var e=t.alternate;e!==null&&(t.alternate=null,dL(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wa],delete e[_m],delete e[U8],delete e[xG],delete e[SG])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pL(t){return t.tag===5||t.tag===3||t.tag===4}function wb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pL(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Q8(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jg));else if(r!==4&&(t=t.child,t!==null))for(Q8(t,e,n),t=t.sibling;t!==null;)Q8(t,e,n),t=t.sibling}function q8(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(q8(t,e,n),t=t.sibling;t!==null;)q8(t,e,n),t=t.sibling}var ii=null,Wo=!1;function iu(t,e,n){for(n=n.child;n!==null;)mL(t,e,n),n=n.sibling}function mL(t,e,n){if(Ra&&typeof Ra.onCommitFiberUnmount=="function")try{Ra.onCommitFiberUnmount(Zv,n)}catch{}switch(n.tag){case 5:xi||qh(n,e);case 6:var r=ii,i=Wo;ii=null,iu(t,e,n),ii=r,Wo=i,ii!==null&&(Wo?(t=ii,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ii.removeChild(n.stateNode));break;case 18:ii!==null&&(Wo?(t=ii,n=n.stateNode,t.nodeType===8?xy(t.parentNode,n):t.nodeType===1&&xy(t,n),gm(t)):xy(ii,n.stateNode));break;case 4:r=ii,i=Wo,ii=n.stateNode.containerInfo,Wo=!0,iu(t,e,n),ii=r,Wo=i;break;case 0:case 11:case 14:case 15:if(!xi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&J8(n,e,o),i=i.next}while(i!==r)}iu(t,e,n);break;case 1:if(!xi&&(qh(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){sr(n,e,a)}iu(t,e,n);break;case 21:iu(t,e,n);break;case 22:n.mode&1?(xi=(r=xi)||n.memoizedState!==null,iu(t,e,n),xi=r):iu(t,e,n);break;default:iu(t,e,n)}}function Eb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new UG),e.forEach(function(r){var i=XG.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Oo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ii=a.stateNode,Wo=!1;break e;case 3:ii=a.stateNode.containerInfo,Wo=!0;break e;case 4:ii=a.stateNode.containerInfo,Wo=!0;break e}a=a.return}if(ii===null)throw Error(Je(160));mL(s,o,i),ii=null,Wo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){sr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gL(e,t),e=e.sibling}function gL(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Oo(e,t),xa(t),r&4){try{X0(3,t,t.return),i5(3,t)}catch(x){sr(t,t.return,x)}try{X0(5,t,t.return)}catch(x){sr(t,t.return,x)}}break;case 1:Oo(e,t),xa(t),r&512&&n!==null&&qh(n,n.return);break;case 5:if(Oo(e,t),xa(t),r&512&&n!==null&&qh(n,n.return),t.flags&32){var i=t.stateNode;try{hm(i,"")}catch(x){sr(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&OP(i,s),w8(a,o);var u=w8(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?HP(i,f):c==="dangerouslySetInnerHTML"?zP(i,f):c==="children"?hm(i,f):n7(i,c,f,u)}switch(a){case"input":v8(i,s);break;case"textarea":kP(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?hd(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?hd(i,!!s.multiple,s.defaultValue,!0):hd(i,!!s.multiple,s.multiple?[]:"",!1))}i[_m]=s}catch(x){sr(t,t.return,x)}}break;case 6:if(Oo(e,t),xa(t),r&4){if(t.stateNode===null)throw Error(Je(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){sr(t,t.return,x)}}break;case 3:if(Oo(e,t),xa(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gm(e.containerInfo)}catch(x){sr(t,t.return,x)}break;case 4:Oo(e,t),xa(t);break;case 13:Oo(e,t),xa(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(F7=vr())),r&4&&Eb(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(xi=(u=xi)||c,Oo(e,t),xi=u):Oo(e,t),xa(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ot=t,c=t.child;c!==null;){for(f=ot=c;ot!==null;){switch(h=ot,p=h.child,h.tag){case 0:case 11:case 14:case 15:X0(4,h,h.return);break;case 1:qh(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){sr(r,n,x)}}break;case 5:qh(h,h.return);break;case 22:if(h.memoizedState!==null){Mb(f);continue}}p!==null?(p.return=h,ot=p):Mb(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=GP("display",o))}catch(x){sr(t,t.return,x)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){sr(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Oo(e,t),xa(t),r&4&&Eb(t);break;case 21:break;default:Oo(e,t),xa(t)}}function xa(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pL(n)){var r=n;break e}n=n.return}throw Error(Je(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(hm(i,""),r.flags&=-33);var s=wb(t);q8(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=wb(t);Q8(t,a,o);break;default:throw Error(Je(161))}}catch(l){sr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function kG(t,e,n){ot=t,vL(t)}function vL(t,e,n){for(var r=(t.mode&1)!==0;ot!==null;){var i=ot,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||X3;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||xi;a=X3;var u=xi;if(X3=o,(xi=l)&&!u)for(ot=i;ot!==null;)o=ot,l=o.child,o.tag===22&&o.memoizedState!==null?Tb(i):l!==null?(l.return=o,ot=l):Tb(i);for(;s!==null;)ot=s,vL(s),s=s.sibling;ot=i,X3=a,xi=u}bb(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ot=s):bb(t)}}function bb(t){for(;ot!==null;){var e=ot;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xi||i5(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xi)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ho(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ab(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ab(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&gm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Je(163))}xi||e.flags&512&&Z8(e)}catch(h){sr(e,e.return,h)}}if(e===t){ot=null;break}if(n=e.sibling,n!==null){n.return=e.return,ot=n;break}ot=e.return}}function Mb(t){for(;ot!==null;){var e=ot;if(e===t){ot=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ot=n;break}ot=e.return}}function Tb(t){for(;ot!==null;){var e=ot;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{i5(4,e)}catch(l){sr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){sr(e,i,l)}}var s=e.return;try{Z8(e)}catch(l){sr(e,s,l)}break;case 5:var o=e.return;try{Z8(e)}catch(l){sr(e,o,l)}}}catch(l){sr(e,e.return,l)}if(e===t){ot=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ot=a;break}ot=e.return}}var NG=Math.ceil,ov=Hl.ReactCurrentDispatcher,I7=Hl.ReactCurrentOwner,bo=Hl.ReactCurrentBatchConfig,rn=0,qr=null,Tr=null,oi=0,Ds=0,$h=rc(0),Fr=0,Am=null,Tf=0,s5=0,B7=0,Y0=null,rs=null,F7=0,Bd=1/0,cl=null,av=!1,$8=null,Fu=null,Y3=!1,bu=null,lv=0,K0=0,ex=null,xg=-1,Sg=0;function Xi(){return rn&6?vr():xg!==-1?xg:xg=vr()}function Uu(t){return t.mode&1?rn&2&&oi!==0?oi&-oi:wG.transition!==null?(Sg===0&&(Sg=eD()),Sg):(t=mn,t!==0||(t=window.event,t=t===void 0?16:aD(t.type)),t):1}function Jo(t,e,n,r){if(50<K0)throw K0=0,ex=null,Error(Je(185));i1(t,n,r),(!(rn&2)||t!==qr)&&(t===qr&&(!(rn&2)&&(s5|=n),Fr===4&&wu(t,oi)),ds(t,r),n===1&&rn===0&&!(e.mode&1)&&(Bd=vr()+500,t5&&ic()))}function ds(t,e){var n=t.callbackNode;wz(t,e);var r=jg(t,t===qr?oi:0);if(r===0)n!==null&&FE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&FE(n),e===1)t.tag===0?_G(Ab.bind(null,t)):TD(Ab.bind(null,t)),vG(function(){!(rn&6)&&ic()}),n=null;else{switch(tD(r)){case 1:n=a7;break;case 4:n=qP;break;case 16:n=Wg;break;case 536870912:n=$P;break;default:n=Wg}n=ML(n,yL.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yL(t,e){if(xg=-1,Sg=0,rn&6)throw Error(Je(327));var n=t.callbackNode;if(vd()&&t.callbackNode!==n)return null;var r=jg(t,t===qr?oi:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=uv(t,r);else{e=r;var i=rn;rn|=2;var s=SL();(qr!==t||oi!==e)&&(cl=null,Bd=vr()+500,cf(t,e));do try{HG();break}catch(a){xL(t,a)}while(1);S7(),ov.current=s,rn=i,Tr!==null?e=0:(qr=null,oi=0,e=Fr)}if(e!==0){if(e===2&&(i=A8(t),i!==0&&(r=i,e=tx(t,i))),e===1)throw n=Am,cf(t,0),wu(t,r),ds(t,vr()),n;if(e===6)wu(t,r);else{if(i=t.current.alternate,!(r&30)&&!zG(i)&&(e=uv(t,r),e===2&&(s=A8(t),s!==0&&(r=s,e=tx(t,s))),e===1))throw n=Am,cf(t,0),wu(t,r),ds(t,vr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Je(345));case 2:Vc(t,rs,cl);break;case 3:if(wu(t,r),(r&130023424)===r&&(e=F7+500-vr(),10<e)){if(jg(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Xi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=F8(Vc.bind(null,t,rs,cl),e);break}Vc(t,rs,cl);break;case 4:if(wu(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ko(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=vr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NG(r/1960))-r,10<r){t.timeoutHandle=F8(Vc.bind(null,t,rs,cl),r);break}Vc(t,rs,cl);break;case 5:Vc(t,rs,cl);break;default:throw Error(Je(329))}}}return ds(t,vr()),t.callbackNode===n?yL.bind(null,t):null}function tx(t,e){var n=Y0;return t.current.memoizedState.isDehydrated&&(cf(t,e).flags|=256),t=uv(t,e),t!==2&&(e=rs,rs=n,e!==null&&nx(e)),t}function nx(t){rs===null?rs=t:rs.push.apply(rs,t)}function zG(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!qo(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wu(t,e){for(e&=~B7,e&=~s5,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ko(e),r=1<<n;t[n]=-1,e&=~r}}function Ab(t){if(rn&6)throw Error(Je(327));vd();var e=jg(t,0);if(!(e&1))return ds(t,vr()),null;var n=uv(t,e);if(t.tag!==0&&n===2){var r=A8(t);r!==0&&(e=r,n=tx(t,r))}if(n===1)throw n=Am,cf(t,0),wu(t,e),ds(t,vr()),n;if(n===6)throw Error(Je(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vc(t,rs,cl),ds(t,vr()),null}function U7(t,e){var n=rn;rn|=1;try{return t(e)}finally{rn=n,rn===0&&(Bd=vr()+500,t5&&ic())}}function Af(t){bu!==null&&bu.tag===0&&!(rn&6)&&vd();var e=rn;rn|=1;var n=bo.transition,r=mn;try{if(bo.transition=null,mn=1,t)return t()}finally{mn=r,bo.transition=n,rn=e,!(rn&6)&&ic()}}function O7(){Ds=$h.current,Fn($h)}function cf(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,gG(n)),Tr!==null)for(n=Tr.return;n!==null;){var r=n;switch(v7(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zg();break;case 3:Ld(),Fn(fs),Fn(Ti),T7();break;case 5:M7(r);break;case 4:Ld();break;case 13:Fn(Yn);break;case 19:Fn(Yn);break;case 10:_7(r.type._context);break;case 22:case 23:O7()}n=n.return}if(qr=t,Tr=t=Ou(t.current,null),oi=Ds=e,Fr=0,Am=null,B7=s5=Tf=0,rs=Y0=null,ef!==null){for(e=0;e<ef.length;e++)if(n=ef[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ef=null}return t}function xL(t,e){do{var n=Tr;try{if(S7(),gg.current=sv,iv){for(var r=$n.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}iv=!1}if(Mf=0,Kr=Br=$n=null,j0=!1,bm=0,I7.current=null,n===null||n.return===null){Fr=1,Am=e,Tr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=oi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=pb(o);if(p!==null){p.flags&=-257,mb(p,o,a,s,e),p.mode&1&&db(s,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var x=new Set;x.add(l),e.updateQueue=x}else g.add(l);break e}else{if(!(e&1)){db(s,u,e),k7();break e}l=Error(Je(426))}}else if(Gn&&a.mode&1){var y=pb(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),mb(y,o,a,s,e),y7(Id(l,a));break e}}s=l=Id(l,a),Fr!==4&&(Fr=2),Y0===null?Y0=[s]:Y0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=nL(s,l,e);ob(s,v);break e;case 1:a=l;var S=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Fu===null||!Fu.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=rL(s,a,e);ob(s,E);break e}}s=s.return}while(s!==null)}wL(n)}catch(b){e=b,Tr===n&&n!==null&&(Tr=n=n.return);continue}break}while(1)}function SL(){var t=ov.current;return ov.current=sv,t===null?sv:t}function k7(){(Fr===0||Fr===3||Fr===2)&&(Fr=4),qr===null||!(Tf&268435455)&&!(s5&268435455)||wu(qr,oi)}function uv(t,e){var n=rn;rn|=2;var r=SL();(qr!==t||oi!==e)&&(cl=null,cf(t,e));do try{GG();break}catch(i){xL(t,i)}while(1);if(S7(),rn=n,ov.current=r,Tr!==null)throw Error(Je(261));return qr=null,oi=0,Fr}function GG(){for(;Tr!==null;)_L(Tr)}function HG(){for(;Tr!==null&&!dz();)_L(Tr)}function _L(t){var e=bL(t.alternate,t,Ds);t.memoizedProps=t.pendingProps,e===null?wL(t):Tr=e,I7.current=null}function wL(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=FG(n,e),n!==null){n.flags&=32767,Tr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Fr=6,Tr=null;return}}else if(n=BG(n,e,Ds),n!==null){Tr=n;return}if(e=e.sibling,e!==null){Tr=e;return}Tr=e=t}while(e!==null);Fr===0&&(Fr=5)}function Vc(t,e,n){var r=mn,i=bo.transition;try{bo.transition=null,mn=1,VG(t,e,n,r)}finally{bo.transition=i,mn=r}return null}function VG(t,e,n,r){do vd();while(bu!==null);if(rn&6)throw Error(Je(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Je(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Ez(t,s),t===qr&&(Tr=qr=null,oi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Y3||(Y3=!0,ML(Wg,function(){return vd(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=bo.transition,bo.transition=null;var o=mn;mn=1;var a=rn;rn|=4,I7.current=null,OG(t,n),gL(n,t),uG(I8),Xg=!!L8,I8=L8=null,t.current=n,kG(n),pz(),rn=a,mn=o,bo.transition=s}else t.current=n;if(Y3&&(Y3=!1,bu=t,lv=i),s=t.pendingLanes,s===0&&(Fu=null),vz(n.stateNode),ds(t,vr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(av)throw av=!1,t=$8,$8=null,t;return lv&1&&t.tag!==0&&vd(),s=t.pendingLanes,s&1?t===ex?K0++:(K0=0,ex=t):K0=0,ic(),null}function vd(){if(bu!==null){var t=tD(lv),e=bo.transition,n=mn;try{if(bo.transition=null,mn=16>t?16:t,bu===null)var r=!1;else{if(t=bu,bu=null,lv=0,rn&6)throw Error(Je(331));var i=rn;for(rn|=4,ot=t.current;ot!==null;){var s=ot,o=s.child;if(ot.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ot=u;ot!==null;){var c=ot;switch(c.tag){case 0:case 11:case 15:X0(8,c,s)}var f=c.child;if(f!==null)f.return=c,ot=f;else for(;ot!==null;){c=ot;var h=c.sibling,p=c.return;if(dL(c),c===u){ot=null;break}if(h!==null){h.return=p,ot=h;break}ot=p}}}var g=s.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}ot=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ot=o;else e:for(;ot!==null;){if(s=ot,s.flags&2048)switch(s.tag){case 0:case 11:case 15:X0(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,ot=v;break e}ot=s.return}}var S=t.current;for(ot=S;ot!==null;){o=ot;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,ot=_;else e:for(o=S;ot!==null;){if(a=ot,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:i5(9,a)}}catch(b){sr(a,a.return,b)}if(a===o){ot=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,ot=E;break e}ot=a.return}}if(rn=i,ic(),Ra&&typeof Ra.onPostCommitFiberRoot=="function")try{Ra.onPostCommitFiberRoot(Zv,t)}catch{}r=!0}return r}finally{mn=n,bo.transition=e}}return!1}function Cb(t,e,n){e=Id(n,e),e=nL(t,e,1),t=Bu(t,e,1),e=Xi(),t!==null&&(i1(t,1,e),ds(t,e))}function sr(t,e,n){if(t.tag===3)Cb(t,t,n);else for(;e!==null;){if(e.tag===3){Cb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fu===null||!Fu.has(r))){t=Id(n,t),t=rL(e,t,1),e=Bu(e,t,1),t=Xi(),e!==null&&(i1(e,1,t),ds(e,t));break}}e=e.return}}function WG(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Xi(),t.pingedLanes|=t.suspendedLanes&n,qr===t&&(oi&n)===n&&(Fr===4||Fr===3&&(oi&130023424)===oi&&500>vr()-F7?cf(t,0):B7|=n),ds(t,e)}function EL(t,e){e===0&&(t.mode&1?(e=O3,O3<<=1,!(O3&130023424)&&(O3=4194304)):e=1);var n=Xi();t=Pl(t,e),t!==null&&(i1(t,e,n),ds(t,n))}function jG(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),EL(t,n)}function XG(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Je(314))}r!==null&&r.delete(e),EL(t,n)}var bL;bL=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fs.current)ls=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ls=!1,IG(t,e,n);ls=!!(t.flags&131072)}else ls=!1,Gn&&e.flags&1048576&&AD(e,$g,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;yg(t,e),t=e.pendingProps;var i=Rd(e,Ti.current);gd(e,n),i=C7(null,e,r,t,i,n);var s=R7();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hs(r)?(s=!0,Qg(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,E7(e),i.updater=n5,e.stateNode=i,i._reactInternals=e,H8(e,r,t,n),e=j8(null,e,r,!0,s,n)):(e.tag=0,Gn&&s&&g7(e),Vi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(yg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=KG(r),t=Ho(r,t),i){case 0:e=W8(null,e,r,t,n);break e;case 1:e=yb(null,e,r,t,n);break e;case 11:e=gb(null,e,r,t,n);break e;case 14:e=vb(null,e,r,Ho(r.type,t),n);break e}throw Error(Je(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ho(r,i),W8(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ho(r,i),yb(t,e,r,i,n);case 3:e:{if(aL(e),t===null)throw Error(Je(387));r=e.pendingProps,s=e.memoizedState,i=s.element,DD(t,e),nv(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Id(Error(Je(423)),e),e=xb(t,e,r,n,i);break e}else if(r!==i){i=Id(Error(Je(424)),e),e=xb(t,e,r,n,i);break e}else for(Fs=Iu(e.stateNode.containerInfo.firstChild),ks=e,Gn=!0,jo=null,n=FD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pd(),r===i){e=Dl(t,e,n);break e}Vi(t,e,r,n)}e=e.child}return e;case 5:return UD(e),t===null&&N8(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,B8(r,i)?o=null:s!==null&&B8(r,s)&&(e.flags|=32),oL(t,e),Vi(t,e,o,n),e.child;case 6:return t===null&&N8(e),null;case 13:return lL(t,e,n);case 4:return b7(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Dd(e,null,r,n):Vi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ho(r,i),gb(t,e,r,i,n);case 7:return Vi(t,e,e.pendingProps,n),e.child;case 8:return Vi(t,e,e.pendingProps.children,n),e.child;case 12:return Vi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Rn(ev,r._currentValue),r._currentValue=o,s!==null)if(qo(s.value,o)){if(s.children===i.children&&!fs.current){e=Dl(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=wl(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),z8(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Je(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),z8(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Vi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,gd(e,n),i=To(i),r=r(i),e.flags|=1,Vi(t,e,r,n),e.child;case 14:return r=e.type,i=Ho(r,e.pendingProps),i=Ho(r.type,i),vb(t,e,r,i,n);case 15:return iL(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ho(r,i),yg(t,e),e.tag=1,hs(r)?(t=!0,Qg(e)):t=!1,gd(e,n),ID(e,r,i),H8(e,r,i,n),j8(null,e,r,!0,t,n);case 19:return uL(t,e,n);case 22:return sL(t,e,n)}throw Error(Je(156,e.tag))};function ML(t,e){return QP(t,e)}function YG(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yo(t,e,n,r){return new YG(t,e,n,r)}function N7(t){return t=t.prototype,!(!t||!t.isReactComponent)}function KG(t){if(typeof t=="function")return N7(t)?1:0;if(t!=null){if(t=t.$$typeof,t===i7)return 11;if(t===s7)return 14}return 2}function Ou(t,e){var n=t.alternate;return n===null?(n=yo(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _g(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")N7(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Vh:return ff(n.children,i,s,e);case r7:o=8,i|=8;break;case h8:return t=yo(12,n,e,i|2),t.elementType=h8,t.lanes=s,t;case d8:return t=yo(13,n,e,i),t.elementType=d8,t.lanes=s,t;case p8:return t=yo(19,n,e,i),t.elementType=p8,t.lanes=s,t;case BP:return o5(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case LP:o=10;break e;case IP:o=9;break e;case i7:o=11;break e;case s7:o=14;break e;case yu:o=16,r=null;break e}throw Error(Je(130,t==null?t:typeof t,""))}return e=yo(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ff(t,e,n,r){return t=yo(7,t,r,e),t.lanes=n,t}function o5(t,e,n,r){return t=yo(22,t,r,e),t.elementType=BP,t.lanes=n,t.stateNode={isHidden:!1},t}function Ay(t,e,n){return t=yo(6,t,null,e),t.lanes=n,t}function Cy(t,e,n){return e=yo(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function JG(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ly(0),this.expirationTimes=ly(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ly(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function z7(t,e,n,r,i,s,o,a,l){return t=new JG(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=yo(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},E7(s),t}function ZG(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hh,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function TL(t){if(!t)return Vu;t=t._reactInternals;e:{if(Of(t)!==t||t.tag!==1)throw Error(Je(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Je(171))}if(t.tag===1){var n=t.type;if(hs(n))return MD(t,n,e)}return e}function AL(t,e,n,r,i,s,o,a,l){return t=z7(n,r,!0,t,i,s,o,a,l),t.context=TL(null),n=t.current,r=Xi(),i=Uu(n),s=wl(r,i),s.callback=e??null,Bu(n,s,i),t.current.lanes=i,i1(t,i,r),ds(t,r),t}function a5(t,e,n,r){var i=e.current,s=Xi(),o=Uu(i);return n=TL(n),e.context===null?e.context=n:e.pendingContext=n,e=wl(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bu(i,e,o),t!==null&&(Jo(t,i,o,s),mg(t,i,o)),o}function cv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Rb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function G7(t,e){Rb(t,e),(t=t.alternate)&&Rb(t,e)}function QG(){return null}var CL=typeof reportError=="function"?reportError:function(t){console.error(t)};function H7(t){this._internalRoot=t}l5.prototype.render=H7.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Je(409));a5(t,e,null,null)};l5.prototype.unmount=H7.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Af(function(){a5(null,t,null,null)}),e[Rl]=null}};function l5(t){this._internalRoot=t}l5.prototype.unstable_scheduleHydration=function(t){if(t){var e=iD();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_u.length&&e!==0&&e<_u[n].priority;n++);_u.splice(n,0,t),n===0&&oD(t)}};function V7(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u5(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Pb(){}function qG(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=cv(o);s.call(u)}}var o=AL(e,r,t,0,null,!1,!1,"",Pb);return t._reactRootContainer=o,t[Rl]=o.current,xm(t.nodeType===8?t.parentNode:t),Af(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=cv(l);a.call(u)}}var l=z7(t,0,!1,null,null,!1,!1,"",Pb);return t._reactRootContainer=l,t[Rl]=l.current,xm(t.nodeType===8?t.parentNode:t),Af(function(){a5(e,l,n,r)}),l}function c5(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=cv(o);a.call(l)}}a5(e,o,t,i)}else o=qG(n,e,t,i,r);return cv(o)}nD=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=L0(e.pendingLanes);n!==0&&(l7(e,n|1),ds(e,vr()),!(rn&6)&&(Bd=vr()+500,ic()))}break;case 13:Af(function(){var r=Pl(t,1);if(r!==null){var i=Xi();Jo(r,t,1,i)}}),G7(t,1)}};u7=function(t){if(t.tag===13){var e=Pl(t,134217728);if(e!==null){var n=Xi();Jo(e,t,134217728,n)}G7(t,134217728)}};rD=function(t){if(t.tag===13){var e=Uu(t),n=Pl(t,e);if(n!==null){var r=Xi();Jo(n,t,e,r)}G7(t,e)}};iD=function(){return mn};sD=function(t,e){var n=mn;try{return mn=t,e()}finally{mn=n}};b8=function(t,e,n){switch(e){case"input":if(v8(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=e5(r);if(!i)throw Error(Je(90));UP(r),v8(r,i)}}}break;case"textarea":kP(t,n);break;case"select":e=n.value,e!=null&&hd(t,!!n.multiple,e,!1)}};jP=U7;XP=Af;var $G={usingClientEntryPoint:!1,Events:[o1,Yh,e5,VP,WP,U7]},t0={findFiberByHostInstance:$c,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},eH={bundleType:t0.bundleType,version:t0.version,rendererPackageName:t0.rendererPackageName,rendererConfig:t0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=JP(t),t===null?null:t.stateNode},findFiberByHostInstance:t0.findFiberByHostInstance||QG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var K3=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!K3.isDisabled&&K3.supportsFiber)try{Zv=K3.inject(eH),Ra=K3}catch{}}js.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$G;js.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!V7(e))throw Error(Je(200));return ZG(t,e,null,n)};js.createRoot=function(t,e){if(!V7(t))throw Error(Je(299));var n=!1,r="",i=CL;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=z7(t,1,!1,null,null,n,!1,r,i),t[Rl]=e.current,xm(t.nodeType===8?t.parentNode:t),new H7(e)};js.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Je(188)):(t=Object.keys(t).join(","),Error(Je(268,t)));return t=JP(e),t=t===null?null:t.stateNode,t};js.flushSync=function(t){return Af(t)};js.hydrate=function(t,e,n){if(!u5(e))throw Error(Je(200));return c5(null,t,e,!0,n)};js.hydrateRoot=function(t,e,n){if(!V7(t))throw Error(Je(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=CL;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=AL(e,null,t,1,n??null,i,!1,s,o),t[Rl]=e.current,xm(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new l5(e)};js.render=function(t,e,n){if(!u5(e))throw Error(Je(200));return c5(null,t,e,!1,n)};js.unmountComponentAtNode=function(t){if(!u5(t))throw Error(Je(40));return t._reactRootContainer?(Af(function(){c5(null,null,t,!1,function(){t._reactRootContainer=null,t[Rl]=null})}),!0):!1};js.unstable_batchedUpdates=U7;js.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!u5(n))throw Error(Je(200));if(t==null||t._reactInternals===void 0)throw Error(Je(38));return c5(t,e,n,!1,r)};js.version="18.2.0-next-9e3b772b8-20220608";function RL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RL)}catch(t){console.error(t)}}RL(),AP.exports=js;var l1=AP.exports;const tH=tc(l1);var W7,Db=l1;W7=c8.createRoot=Db.createRoot,c8.hydrateRoot=Db.hydrateRoot;const Lb=t=>{let e;const n=new Set,r=(l,u)=>{const c=typeof l=="function"?l(e):l;if(!Object.is(c,e)){const f=e;e=u??typeof c!="object"?c:Object.assign({},e,c),n.forEach(h=>h(e,f))}},i=()=>e,a={setState:r,getState:i,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>n.clear()};return e=t(r,i,a),a},nH=t=>t?Lb(t):Lb;var PL={exports:{}},DL={},LL={exports:{}},IL={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd=R;function rH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var iH=typeof Object.is=="function"?Object.is:rH,sH=Fd.useState,oH=Fd.useEffect,aH=Fd.useLayoutEffect,lH=Fd.useDebugValue;function uH(t,e){var n=e(),r=sH({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return aH(function(){i.value=n,i.getSnapshot=e,Ry(i)&&s({inst:i})},[t,n,e]),oH(function(){return Ry(i)&&s({inst:i}),t(function(){Ry(i)&&s({inst:i})})},[t]),lH(n),n}function Ry(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!iH(t,n)}catch{return!0}}function cH(t,e){return e()}var fH=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?cH:uH;IL.useSyncExternalStore=Fd.useSyncExternalStore!==void 0?Fd.useSyncExternalStore:fH;LL.exports=IL;var hH=LL.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f5=R,dH=hH;function pH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mH=typeof Object.is=="function"?Object.is:pH,gH=dH.useSyncExternalStore,vH=f5.useRef,yH=f5.useEffect,xH=f5.useMemo,SH=f5.useDebugValue;DL.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=vH(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=xH(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&o.hasValue){var g=o.value;if(i(g,p))return f=g}return f=p}if(g=f,mH(c,p))return g;var x=r(p);return i!==void 0&&i(g,x)?g:(c=p,f=x)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=gH(t,s[0],s[1]);return yH(function(){o.hasValue=!0,o.value=a},[a]),SH(a),a};PL.exports=DL;var _H=PL.exports;const wH=tc(_H),{useSyncExternalStoreWithSelector:EH}=wH;function bH(t,e=t.getState,n){const r=EH(t.subscribe,t.getState,t.getServerState||t.getState,e,n);return R.useDebugValue(r),r}const Ib=t=>{const e=typeof t=="function"?nH(t):t,n=(r,i)=>bH(e,r,i);return Object.assign(n,e),n},MH=t=>t?Ib(t):Ib;function TH(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}const j7=MH((t,e)=>{function n(){var r;const{accumulated:i,startTime:s,infos:o}=e(),a=(r=e().log)==null?void 0:r.maxMemory,{totalFrames:l,log:u,gl:c,max:f}=i,h={calls:c.calls/l,triangles:c.triangles/l,points:c.points/l,lines:c.lines/l},p={gpu:u.gpu/l,cpu:u.cpu/l,mem:u.mem/l,fps:u.fps/l};return{sessionTime:(window.performance.now()-s)/1e3,infos:o,log:p,gl:h,max:f,maxMemory:a,totalFrames:l}}return{log:null,paused:!1,triggerProgramsUpdate:0,startTime:0,customData:0,fpsLimit:60,overclockingFps:!1,accumulated:{totalFrames:0,gl:{calls:0,triangles:0,points:0,lines:0,counts:0},log:{gpu:0,cpu:0,mem:0,fps:0},max:{gl:{calls:0,triangles:0,points:0,lines:0,counts:0},log:{gpu:0,cpu:0,mem:0,fps:0}}},chart:{data:{fps:[],cpu:[],gpu:[],mem:[]},circularId:0},gl:void 0,objectWithMaterials:null,scene:void 0,programs:new Map,sceneLength:void 0,tab:"infos",getReport:n}}),Co=t=>j7(t,TH);Object.assign(Co,j7);const{getState:xo,setState:Ps}=j7;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Ha="156",Wc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},jc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},BL=0,rx=1,FL=2,AH=3,UL=0,u1=1,J0=2,Vo=3,Ro=0,yr=1,Zr=2,CH=2,On=0,El=1,ix=2,sx=3,ox=4,OL=5,Jc=100,kL=101,NL=102,ax=103,lx=104,zL=200,GL=201,HL=202,VL=203,X7=204,Y7=205,WL=206,jL=207,XL=208,YL=209,KL=210,K7=0,J7=1,fv=2,Cm=3,Rm=4,Z7=5,Q7=6,h5=7,c1=0,JL=1,ZL=2,Da=0,QL=1,qL=2,$L=3,q7=4,eI=5,d5=300,Ll=301,Wu=302,Pm=303,Dm=304,ip=306,Ai=1e3,Ar=1001,Ud=1002,Dt=1003,Lm=1004,RH=1004,yd=1005,PH=1005,ht=1006,p5=1007,DH=1007,ka=1008,LH=1008,bn=1009,tI=1010,nI=1011,m5=1012,$7=1013,ba=1014,Jn=1015,ps=1016,eS=1017,tS=1018,bl=1020,rI=1021,Bn=1023,g5=1024,iI=1025,ku=1026,ju=1027,v5=1028,nS=1029,rS=1030,iS=1031,sS=1033,wg=33776,Eg=33777,bg=33778,Mg=33779,ux=35840,cx=35841,fx=35842,hx=35843,sI=36196,dx=37492,px=37496,mx=37808,gx=37809,vx=37810,yx=37811,xx=37812,Sx=37813,_x=37814,wx=37815,Ex=37816,bx=37817,Mx=37818,Tx=37819,Ax=37820,Cx=37821,Tg=36492,Rx=36494,Px=36495,oI=36283,Dx=36284,Lx=36285,Ix=36286,aI=2200,lI=2201,uI=2202,Od=2300,Cf=2301,Ag=2302,nf=2400,rf=2401,Im=2402,y5=2500,oS=2501,cI=0,aS=1,hv=2,f1=3e3,Mo=3001,$r=3200,$o=3201,Vl=0,fI=1,Ml="",Cn="srgb",ea="srgb-linear",h1="display-p3",IH="display-p3-linear",BH=0,Cg=7680,FH=7681,UH=7682,OH=7683,kH=34055,NH=34056,zH=5386,GH=512,HH=513,VH=514,WH=515,jH=516,XH=517,YH=518,hI=519,dI=512,pI=513,mI=514,gI=515,vI=516,yI=517,xI=518,SI=519,Bm=35044,Rg=35048,KH=35040,JH=35045,ZH=35049,QH=35041,qH=35046,$H=35050,eV=35042,tV="100",dv="300 es",pv=1035,Ma=2e3,Fm=2001;class Ys{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const vi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Bb=1234567;const hf=Math.PI/180,kd=180/Math.PI;function Ns(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(vi[t&255]+vi[t>>8&255]+vi[t>>16&255]+vi[t>>24&255]+"-"+vi[e&255]+vi[e>>8&255]+"-"+vi[e>>16&15|64]+vi[e>>24&255]+"-"+vi[n&63|128]+vi[n>>8&255]+"-"+vi[n>>16&255]+vi[n>>24&255]+vi[r&255]+vi[r>>8&255]+vi[r>>16&255]+vi[r>>24&255]).toLowerCase()}function or(t,e,n){return Math.max(e,Math.min(n,t))}function lS(t,e){return(t%e+e)%e}function nV(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function rV(t,e,n){return t!==e?(n-t)/(e-t):0}function Z0(t,e,n){return(1-n)*t+n*e}function iV(t,e,n,r){return Z0(t,e,1-Math.exp(-n*r))}function sV(t,e=1){return e-Math.abs(lS(t,e*2)-e)}function oV(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function aV(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function lV(t,e){return t+Math.floor(Math.random()*(e-t+1))}function uV(t,e){return t+Math.random()*(e-t)}function cV(t){return t*(.5-Math.random())}function fV(t){t!==void 0&&(Bb=t);let e=Bb+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function hV(t){return t*hf}function dV(t){return t*kd}function Bx(t){return(t&t-1)===0&&t!==0}function _I(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function mv(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function pV(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),u=s((e+r)/2),c=o((e+r)/2),f=s((e-r)/2),h=o((e-r)/2),p=s((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":t.set(a*c,l*f,l*h,a*u);break;case"YZY":t.set(l*h,a*c,l*f,a*u);break;case"ZXZ":t.set(l*f,l*h,a*c,a*u);break;case"XZX":t.set(a*c,l*g,l*p,a*u);break;case"YXY":t.set(l*p,a*c,l*g,a*u);break;case"ZYZ":t.set(l*g,l*p,a*c,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function os(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Gt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const d1={DEG2RAD:hf,RAD2DEG:kd,generateUUID:Ns,clamp:or,euclideanModulo:lS,mapLinear:nV,inverseLerp:rV,lerp:Z0,damp:iV,pingpong:sV,smoothstep:oV,smootherstep:aV,randInt:lV,randFloat:uV,randFloatSpread:cV,seededRandom:fV,degToRad:hV,radToDeg:dV,isPowerOfTwo:Bx,ceilPowerOfTwo:_I,floorPowerOfTwo:mv,setQuaternionFromProperEuler:pV,normalize:Gt,denormalize:os};class ue{constructor(e=0,n=0){ue.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(or(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class kt{constructor(e,n,r,i,s,o,a,l,u){kt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,u)}set(e,n,r,i,s,o,a,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=n,c[4]=s,c[5]=l,c[6]=r,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],c=r[4],f=r[7],h=r[2],p=r[5],g=r[8],x=i[0],y=i[3],v=i[6],S=i[1],_=i[4],E=i[7],b=i[2],T=i[5],A=i[8];return s[0]=o*x+a*S+l*b,s[3]=o*y+a*_+l*T,s[6]=o*v+a*E+l*A,s[1]=u*x+c*S+f*b,s[4]=u*y+c*_+f*T,s[7]=u*v+c*E+f*A,s[2]=h*x+p*S+g*b,s[5]=h*y+p*_+g*T,s[8]=h*v+p*E+g*A,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return n*o*c-n*a*u-r*s*c+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=c*o-a*u,h=a*l-c*s,p=u*s-o*l,g=n*f+r*h+i*p;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/g;return e[0]=f*x,e[1]=(i*u-c*r)*x,e[2]=(a*r-i*o)*x,e[3]=h*x,e[4]=(c*n-i*l)*x,e[5]=(i*s-a*n)*x,e[6]=p*x,e[7]=(r*l-u*n)*x,e[8]=(o*n-r*s)*x,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(Py.makeScale(e,n)),this}rotate(e){return this.premultiply(Py.makeRotation(-e)),this}translate(e,n){return this.premultiply(Py.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Py=new kt;function wI(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const mV={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function ed(t,e){return new mV[t](e)}function Um(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function EI(){const t=Um("canvas");return t.style.display="block",t}const Fb={};function Q0(t){t in Fb||(Fb[t]=!0,console.warn(t))}function xd(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Dy(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const gV=new kt().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),vV=new kt().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function yV(t){return t.convertSRGBToLinear().applyMatrix3(vV)}function xV(t){return t.applyMatrix3(gV).convertLinearToSRGB()}const SV={[ea]:t=>t,[Cn]:t=>t.convertSRGBToLinear(),[h1]:yV},_V={[ea]:t=>t,[Cn]:t=>t.convertLinearToSRGB(),[h1]:xV},lo={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return ea},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=SV[e],i=_V[n];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${n}".`);return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}};let lh;class uS{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{lh===void 0&&(lh=Um("canvas")),lh.width=e.width,lh.height=e.height;const r=lh.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=lh}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Um("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=xd(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(xd(n[r]/255)*255):n[r]=xd(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let wV=0;class sf{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:wV++}),this.uuid=Ns(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(Ly(i[o].image)):s.push(Ly(i[o]))}else s=Ly(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function Ly(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?uS.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let EV=0;class gn extends Ys{constructor(e=gn.DEFAULT_IMAGE,n=gn.DEFAULT_MAPPING,r=Ar,i=Ar,s=ht,o=ka,a=Bn,l=bn,u=gn.DEFAULT_ANISOTROPY,c=Ml){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:EV++}),this.uuid=Ns(),this.name="",this.source=new sf(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ue(0,0),this.repeat=new ue(1,1),this.center=new ue(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new kt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof c=="string"?this.colorSpace=c:(Q0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=c===Mo?Cn:Ml),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==d5)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ai:e.x=e.x-Math.floor(e.x);break;case Ar:e.x=e.x<0?0:1;break;case Ud:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ai:e.y=e.y-Math.floor(e.y);break;case Ar:e.y=e.y<0?0:1;break;case Ud:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Q0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Cn?Mo:f1}set encoding(e){Q0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Mo?Cn:Ml}}gn.DEFAULT_IMAGE=null;gn.DEFAULT_MAPPING=d5;gn.DEFAULT_ANISOTROPY=1;class Kt{constructor(e=0,n=0,r=0,i=1){Kt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,u=l[0],c=l[4],f=l[8],h=l[1],p=l[5],g=l[9],x=l[2],y=l[6],v=l[10];if(Math.abs(c-h)<.01&&Math.abs(f-x)<.01&&Math.abs(g-y)<.01){if(Math.abs(c+h)<.1&&Math.abs(f+x)<.1&&Math.abs(g+y)<.1&&Math.abs(u+p+v-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const _=(u+1)/2,E=(p+1)/2,b=(v+1)/2,T=(c+h)/4,A=(f+x)/4,D=(g+y)/4;return _>E&&_>b?_<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(_),i=T/r,s=A/r):E>b?E<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(E),r=T/i,s=D/i):b<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(b),r=A/s,i=D/s),this.set(r,i,s,n),this}let S=Math.sqrt((y-g)*(y-g)+(f-x)*(f-x)+(h-c)*(h-c));return Math.abs(S)<.001&&(S=1),this.x=(y-g)/S,this.y=(f-x)/S,this.z=(h-c)/S,this.w=Math.acos((u+p+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class bI extends Ys{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Kt(0,0,e,n),this.scissorTest=!1,this.viewport=new Kt(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(Q0("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Mo?Cn:Ml),this.texture=new gn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:ht,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new sf(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Qt extends bI{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class x5 extends gn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Dt,this.minFilter=Dt,this.wrapR=Ar,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class bV extends Qt{constructor(e=1,n=1,r=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new x5(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class df extends gn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Dt,this.minFilter=Dt,this.wrapR=Ar,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class MV extends Qt{constructor(e=1,n=1,r=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new df(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class cS extends Qt{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class er{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],u=r[i+1],c=r[i+2],f=r[i+3];const h=s[o+0],p=s[o+1],g=s[o+2],x=s[o+3];if(a===0){e[n+0]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f;return}if(a===1){e[n+0]=h,e[n+1]=p,e[n+2]=g,e[n+3]=x;return}if(f!==x||l!==h||u!==p||c!==g){let y=1-a;const v=l*h+u*p+c*g+f*x,S=v>=0?1:-1,_=1-v*v;if(_>Number.EPSILON){const b=Math.sqrt(_),T=Math.atan2(b,v*S);y=Math.sin(y*T)/b,a=Math.sin(a*T)/b}const E=a*S;if(l=l*y+h*E,u=u*y+p*E,c=c*y+g*E,f=f*y+x*E,y===1-a){const b=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=b,u*=b,c*=b,f*=b}}e[n]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],c=r[i+3],f=s[o],h=s[o+1],p=s[o+2],g=s[o+3];return e[n]=a*g+c*f+l*p-u*h,e[n+1]=l*g+c*h+u*f-a*p,e[n+2]=u*g+c*p+a*h-l*f,e[n+3]=c*g-a*f-l*h-u*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),c=a(i/2),f=a(s/2),h=l(r/2),p=l(i/2),g=l(s/2);switch(o){case"XYZ":this._x=h*c*f+u*p*g,this._y=u*p*f-h*c*g,this._z=u*c*g+h*p*f,this._w=u*c*f-h*p*g;break;case"YXZ":this._x=h*c*f+u*p*g,this._y=u*p*f-h*c*g,this._z=u*c*g-h*p*f,this._w=u*c*f+h*p*g;break;case"ZXY":this._x=h*c*f-u*p*g,this._y=u*p*f+h*c*g,this._z=u*c*g+h*p*f,this._w=u*c*f-h*p*g;break;case"ZYX":this._x=h*c*f-u*p*g,this._y=u*p*f+h*c*g,this._z=u*c*g-h*p*f,this._w=u*c*f+h*p*g;break;case"YZX":this._x=h*c*f+u*p*g,this._y=u*p*f+h*c*g,this._z=u*c*g-h*p*f,this._w=u*c*f-h*p*g;break;case"XZY":this._x=h*c*f-u*p*g,this._y=u*p*f-h*c*g,this._z=u*c*g+h*p*f,this._w=u*c*f+h*p*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],u=n[2],c=n[6],f=n[10],h=r+a+f;if(h>0){const p=.5/Math.sqrt(h+1);this._w=.25/p,this._x=(c-l)*p,this._y=(s-u)*p,this._z=(o-i)*p}else if(r>a&&r>f){const p=2*Math.sqrt(1+r-a-f);this._w=(c-l)/p,this._x=.25*p,this._y=(i+o)/p,this._z=(s+u)/p}else if(a>f){const p=2*Math.sqrt(1+a-r-f);this._w=(s-u)/p,this._x=(i+o)/p,this._y=.25*p,this._z=(l+c)/p}else{const p=2*Math.sqrt(1+f-r-a);this._w=(o-i)/p,this._x=(s+u)/p,this._y=(l+c)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(or(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,u=n._z,c=n._w;return this._x=r*c+o*a+i*u-s*l,this._y=i*c+o*l+s*a-r*u,this._z=s*c+o*u+r*l-i*a,this._w=o*c-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const p=1-n;return this._w=p*o+n*this._w,this._x=p*r+n*this._x,this._y=p*i+n*this._y,this._z=p*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),c=Math.atan2(u,a),f=Math.sin((1-n)*c)/u,h=Math.sin(n*c)/u;return this._w=o*f+this._w*h,this._x=r*f+this._x*h,this._y=i*f+this._y*h,this._z=s*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class X{constructor(e=0,n=0,r=0){X.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(Ub.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(Ub.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*n+o*i-a*r,c=l*r+a*n-s*i,f=l*i+s*r-o*n,h=-s*n-o*r-a*i;return this.x=u*l+h*-s+c*-a-f*-o,this.y=c*l+h*-o+f*-s-u*-a,this.z=f*l+h*-a+u*-o-c*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Iy.copy(this).projectOnVector(e),this.sub(Iy)}reflect(e){return this.sub(Iy.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(or(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Iy=new X,Ub=new er;class Lo{constructor(e=new X(1/0,1/0,1/0),n=new X(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(tl.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(tl.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=tl.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),uh.copy(e.boundingBox),uh.applyMatrix4(e.matrixWorld),this.union(uh);else{const i=e.geometry;if(i!==void 0)if(n&&i.attributes!==void 0&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)tl.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(tl)}else i.boundingBox===null&&i.computeBoundingBox(),uh.copy(i.boundingBox),uh.applyMatrix4(e.matrixWorld),this.union(uh)}const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,tl),tl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(n0),J3.subVectors(this.max,n0),ch.subVectors(e.a,n0),fh.subVectors(e.b,n0),hh.subVectors(e.c,n0),su.subVectors(fh,ch),ou.subVectors(hh,fh),Ac.subVectors(ch,hh);let n=[0,-su.z,su.y,0,-ou.z,ou.y,0,-Ac.z,Ac.y,su.z,0,-su.x,ou.z,0,-ou.x,Ac.z,0,-Ac.x,-su.y,su.x,0,-ou.y,ou.x,0,-Ac.y,Ac.x,0];return!By(n,ch,fh,hh,J3)||(n=[1,0,0,0,1,0,0,0,1],!By(n,ch,fh,hh,J3))?!1:(Z3.crossVectors(su,ou),n=[Z3.x,Z3.y,Z3.z],By(n,ch,fh,hh,J3))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,tl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(tl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(el[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),el[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),el[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),el[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),el[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),el[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),el[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),el[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(el),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const el=[new X,new X,new X,new X,new X,new X,new X,new X],tl=new X,uh=new Lo,ch=new X,fh=new X,hh=new X,su=new X,ou=new X,Ac=new X,n0=new X,J3=new X,Z3=new X,Cc=new X;function By(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){Cc.fromArray(t,s);const a=i.x*Math.abs(Cc.x)+i.y*Math.abs(Cc.y)+i.z*Math.abs(Cc.z),l=e.dot(Cc),u=n.dot(Cc),c=r.dot(Cc);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>a)return!1}return!0}const TV=new Lo,r0=new X,Fy=new X;class xs{constructor(e=new X,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):TV.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;r0.subVectors(e,this.center);const n=r0.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(r0,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Fy.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(r0.copy(e.center).add(Fy)),this.expandByPoint(r0.copy(e.center).sub(Fy))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const nl=new X,Uy=new X,Q3=new X,au=new X,Oy=new X,q3=new X,ky=new X;class kf{constructor(e=new X,n=new X(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,nl)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=nl.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(nl.copy(this.origin).addScaledVector(this.direction,n),nl.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){Uy.copy(e).add(n).multiplyScalar(.5),Q3.copy(n).sub(e).normalize(),au.copy(this.origin).sub(Uy);const s=e.distanceTo(n)*.5,o=-this.direction.dot(Q3),a=au.dot(this.direction),l=-au.dot(Q3),u=au.lengthSq(),c=Math.abs(1-o*o);let f,h,p,g;if(c>0)if(f=o*l-a,h=o*a-l,g=s*c,f>=0)if(h>=-g)if(h<=g){const x=1/c;f*=x,h*=x,p=f*(f+o*h+2*a)+h*(o*f+h+2*l)+u}else h=s,f=Math.max(0,-(o*h+a)),p=-f*f+h*(h+2*l)+u;else h=-s,f=Math.max(0,-(o*h+a)),p=-f*f+h*(h+2*l)+u;else h<=-g?(f=Math.max(0,-(-o*s+a)),h=f>0?-s:Math.min(Math.max(-s,-l),s),p=-f*f+h*(h+2*l)+u):h<=g?(f=0,h=Math.min(Math.max(-s,-l),s),p=h*(h+2*l)+u):(f=Math.max(0,-(o*s+a)),h=f>0?s:Math.min(Math.max(-s,-l),s),p=-f*f+h*(h+2*l)+u);else h=o>0?-s:s,f=Math.max(0,-(o*h+a)),p=-f*f+h*(h+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(Uy).addScaledVector(Q3,h),p}intersectSphere(e,n){nl.subVectors(e.center,this.origin);const r=nl.dot(this.direction),i=nl.dot(nl)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,h=this.origin;return u>=0?(r=(e.min.x-h.x)*u,i=(e.max.x-h.x)*u):(r=(e.max.x-h.x)*u,i=(e.min.x-h.x)*u),c>=0?(s=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(s=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-h.z)*f,l=(e.max.z-h.z)*f):(a=(e.max.z-h.z)*f,l=(e.min.z-h.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,nl)!==null}intersectTriangle(e,n,r,i,s){Oy.subVectors(n,e),q3.subVectors(r,e),ky.crossVectors(Oy,q3);let o=this.direction.dot(ky),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;au.subVectors(this.origin,e);const l=a*this.direction.dot(q3.crossVectors(au,q3));if(l<0)return null;const u=a*this.direction.dot(Oy.cross(au));if(u<0||l+u>o)return null;const c=-a*au.dot(ky);return c<0?null:this.at(c/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class rt{constructor(e,n,r,i,s,o,a,l,u,c,f,h,p,g,x,y){rt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,u,c,f,h,p,g,x,y)}set(e,n,r,i,s,o,a,l,u,c,f,h,p,g,x,y){const v=this.elements;return v[0]=e,v[4]=n,v[8]=r,v[12]=i,v[1]=s,v[5]=o,v[9]=a,v[13]=l,v[2]=u,v[6]=c,v[10]=f,v[14]=h,v[3]=p,v[7]=g,v[11]=x,v[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new rt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/dh.setFromMatrixColumn(e,0).length(),s=1/dh.setFromMatrixColumn(e,1).length(),o=1/dh.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const h=o*c,p=o*f,g=a*c,x=a*f;n[0]=l*c,n[4]=-l*f,n[8]=u,n[1]=p+g*u,n[5]=h-x*u,n[9]=-a*l,n[2]=x-h*u,n[6]=g+p*u,n[10]=o*l}else if(e.order==="YXZ"){const h=l*c,p=l*f,g=u*c,x=u*f;n[0]=h+x*a,n[4]=g*a-p,n[8]=o*u,n[1]=o*f,n[5]=o*c,n[9]=-a,n[2]=p*a-g,n[6]=x+h*a,n[10]=o*l}else if(e.order==="ZXY"){const h=l*c,p=l*f,g=u*c,x=u*f;n[0]=h-x*a,n[4]=-o*f,n[8]=g+p*a,n[1]=p+g*a,n[5]=o*c,n[9]=x-h*a,n[2]=-o*u,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const h=o*c,p=o*f,g=a*c,x=a*f;n[0]=l*c,n[4]=g*u-p,n[8]=h*u+x,n[1]=l*f,n[5]=x*u+h,n[9]=p*u-g,n[2]=-u,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const h=o*l,p=o*u,g=a*l,x=a*u;n[0]=l*c,n[4]=x-h*f,n[8]=g*f+p,n[1]=f,n[5]=o*c,n[9]=-a*c,n[2]=-u*c,n[6]=p*f+g,n[10]=h-x*f}else if(e.order==="XZY"){const h=o*l,p=o*u,g=a*l,x=a*u;n[0]=l*c,n[4]=-f,n[8]=u*c,n[1]=h*f+x,n[5]=o*c,n[9]=p*f-g,n[2]=g*f-p,n[6]=a*c,n[10]=x*f+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(AV,e,CV)}lookAt(e,n,r){const i=this.elements;return Cs.subVectors(e,n),Cs.lengthSq()===0&&(Cs.z=1),Cs.normalize(),lu.crossVectors(r,Cs),lu.lengthSq()===0&&(Math.abs(r.z)===1?Cs.x+=1e-4:Cs.z+=1e-4,Cs.normalize(),lu.crossVectors(r,Cs)),lu.normalize(),$3.crossVectors(Cs,lu),i[0]=lu.x,i[4]=$3.x,i[8]=Cs.x,i[1]=lu.y,i[5]=$3.y,i[9]=Cs.y,i[2]=lu.z,i[6]=$3.z,i[10]=Cs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],c=r[1],f=r[5],h=r[9],p=r[13],g=r[2],x=r[6],y=r[10],v=r[14],S=r[3],_=r[7],E=r[11],b=r[15],T=i[0],A=i[4],D=i[8],C=i[12],L=i[1],k=i[5],z=i[9],H=i[13],V=i[2],K=i[6],J=i[10],$=i[14],U=i[3],G=i[7],W=i[11],F=i[15];return s[0]=o*T+a*L+l*V+u*U,s[4]=o*A+a*k+l*K+u*G,s[8]=o*D+a*z+l*J+u*W,s[12]=o*C+a*H+l*$+u*F,s[1]=c*T+f*L+h*V+p*U,s[5]=c*A+f*k+h*K+p*G,s[9]=c*D+f*z+h*J+p*W,s[13]=c*C+f*H+h*$+p*F,s[2]=g*T+x*L+y*V+v*U,s[6]=g*A+x*k+y*K+v*G,s[10]=g*D+x*z+y*J+v*W,s[14]=g*C+x*H+y*$+v*F,s[3]=S*T+_*L+E*V+b*U,s[7]=S*A+_*k+E*K+b*G,s[11]=S*D+_*z+E*J+b*W,s[15]=S*C+_*H+E*$+b*F,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],c=e[2],f=e[6],h=e[10],p=e[14],g=e[3],x=e[7],y=e[11],v=e[15];return g*(+s*l*f-i*u*f-s*a*h+r*u*h+i*a*p-r*l*p)+x*(+n*l*p-n*u*h+s*o*h-i*o*p+i*u*c-s*l*c)+y*(+n*u*f-n*a*p-s*o*f+r*o*p+s*a*c-r*u*c)+v*(-i*a*c-n*l*f+n*a*h+i*o*f-r*o*h+r*l*c)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=e[9],h=e[10],p=e[11],g=e[12],x=e[13],y=e[14],v=e[15],S=f*y*u-x*h*u+x*l*p-a*y*p-f*l*v+a*h*v,_=g*h*u-c*y*u-g*l*p+o*y*p+c*l*v-o*h*v,E=c*x*u-g*f*u+g*a*p-o*x*p-c*a*v+o*f*v,b=g*f*l-c*x*l-g*a*h+o*x*h+c*a*y-o*f*y,T=n*S+r*_+i*E+s*b;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const A=1/T;return e[0]=S*A,e[1]=(x*h*s-f*y*s-x*i*p+r*y*p+f*i*v-r*h*v)*A,e[2]=(a*y*s-x*l*s+x*i*u-r*y*u-a*i*v+r*l*v)*A,e[3]=(f*l*s-a*h*s-f*i*u+r*h*u+a*i*p-r*l*p)*A,e[4]=_*A,e[5]=(c*y*s-g*h*s+g*i*p-n*y*p-c*i*v+n*h*v)*A,e[6]=(g*l*s-o*y*s-g*i*u+n*y*u+o*i*v-n*l*v)*A,e[7]=(o*h*s-c*l*s+c*i*u-n*h*u-o*i*p+n*l*p)*A,e[8]=E*A,e[9]=(g*f*s-c*x*s-g*r*p+n*x*p+c*r*v-n*f*v)*A,e[10]=(o*x*s-g*a*s+g*r*u-n*x*u-o*r*v+n*a*v)*A,e[11]=(c*a*s-o*f*s-c*r*u+n*f*u+o*r*p-n*a*p)*A,e[12]=b*A,e[13]=(c*x*i-g*f*i+g*r*h-n*x*h-c*r*y+n*f*y)*A,e[14]=(g*a*i-o*x*i-g*r*l+n*x*l+o*r*y-n*a*y)*A,e[15]=(o*f*i-c*a*i+c*r*l-n*f*l-o*r*h+n*a*h)*A,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,c=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,c*a+r,c*l-i*o,0,u*l-i*a,c*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,u=s+s,c=o+o,f=a+a,h=s*u,p=s*c,g=s*f,x=o*c,y=o*f,v=a*f,S=l*u,_=l*c,E=l*f,b=r.x,T=r.y,A=r.z;return i[0]=(1-(x+v))*b,i[1]=(p+E)*b,i[2]=(g-_)*b,i[3]=0,i[4]=(p-E)*T,i[5]=(1-(h+v))*T,i[6]=(y+S)*T,i[7]=0,i[8]=(g+_)*A,i[9]=(y-S)*A,i[10]=(1-(h+x))*A,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=dh.set(i[0],i[1],i[2]).length();const o=dh.set(i[4],i[5],i[6]).length(),a=dh.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],ko.copy(this);const u=1/s,c=1/o,f=1/a;return ko.elements[0]*=u,ko.elements[1]*=u,ko.elements[2]*=u,ko.elements[4]*=c,ko.elements[5]*=c,ko.elements[6]*=c,ko.elements[8]*=f,ko.elements[9]*=f,ko.elements[10]*=f,n.setFromRotationMatrix(ko),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=Ma){const l=this.elements,u=2*s/(n-e),c=2*s/(r-i),f=(n+e)/(n-e),h=(r+i)/(r-i);let p,g;if(a===Ma)p=-(o+s)/(o-s),g=-2*o*s/(o-s);else if(a===Fm)p=-o/(o-s),g=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=u,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=c,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=p,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=Ma){const l=this.elements,u=1/(n-e),c=1/(r-i),f=1/(o-s),h=(n+e)*u,p=(r+i)*c;let g,x;if(a===Ma)g=(o+s)*f,x=-2*f;else if(a===Fm)g=s*f,x=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*c,l[9]=0,l[13]=-p,l[2]=0,l[6]=0,l[10]=x,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const dh=new X,ko=new rt,AV=new X(0,0,0),CV=new X(1,1,1),lu=new X,$3=new X,Cs=new X,Ob=new rt,kb=new er;class sp{constructor(e=0,n=0,r=0,i=sp.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],c=i[9],f=i[2],h=i[6],p=i[10];switch(n){case"XYZ":this._y=Math.asin(or(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,p),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-or(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(or(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-or(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(or(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-or(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-c,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return Ob.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Ob,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return kb.setFromEuler(this),this.setFromQuaternion(kb,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}sp.DEFAULT_ORDER="XYZ";class pf{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let RV=0;const Nb=new X,ph=new er,rl=new rt,e2=new X,i0=new X,PV=new X,DV=new er,zb=new X(1,0,0),Gb=new X(0,1,0),Hb=new X(0,0,1),LV={type:"added"},IV={type:"removed"};class Vt extends Ys{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:RV++}),this.uuid=Ns(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Vt.DEFAULT_UP.clone();const e=new X,n=new sp,r=new er,i=new X(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new rt},normalMatrix:{value:new kt}}),this.matrix=new rt,this.matrixWorld=new rt,this.matrixAutoUpdate=Vt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Vt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new pf,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return ph.setFromAxisAngle(e,n),this.quaternion.multiply(ph),this}rotateOnWorldAxis(e,n){return ph.setFromAxisAngle(e,n),this.quaternion.premultiply(ph),this}rotateX(e){return this.rotateOnAxis(zb,e)}rotateY(e){return this.rotateOnAxis(Gb,e)}rotateZ(e){return this.rotateOnAxis(Hb,e)}translateOnAxis(e,n){return Nb.copy(e).applyQuaternion(this.quaternion),this.position.add(Nb.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(zb,e)}translateY(e){return this.translateOnAxis(Gb,e)}translateZ(e){return this.translateOnAxis(Hb,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(rl.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?e2.copy(e):e2.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),i0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?rl.lookAt(i0,e2,this.up):rl.lookAt(e2,i0,this.up),this.quaternion.setFromRotationMatrix(rl),i&&(rl.extractRotation(i.matrixWorld),ph.setFromRotationMatrix(rl),this.quaternion.premultiply(ph.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(LV)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(IV)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),rl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),rl.multiply(e.parent.matrixWorld)),e.applyMatrix4(rl),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,n);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(i0,e,PV),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(i0,DV,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),c=o(e.images),f=o(e.shapes),h=o(e.skeletons),p=o(e.animations),g=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),f.length>0&&(r.shapes=f),h.length>0&&(r.skeletons=h),p.length>0&&(r.animations=p),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Vt.DEFAULT_UP=new X(0,1,0);Vt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Vt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const No=new X,il=new X,Ny=new X,sl=new X,mh=new X,gh=new X,Vb=new X,zy=new X,Gy=new X,Hy=new X;let t2=!1;class is{constructor(e=new X,n=new X,r=new X){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),No.subVectors(e,n),i.cross(No);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){No.subVectors(i,n),il.subVectors(r,n),Ny.subVectors(e,n);const o=No.dot(No),a=No.dot(il),l=No.dot(Ny),u=il.dot(il),c=il.dot(Ny),f=o*u-a*a;if(f===0)return s.set(-2,-1,-1);const h=1/f,p=(u*l-a*c)*h,g=(o*c-a*l)*h;return s.set(1-p-g,g,p)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,sl),sl.x>=0&&sl.y>=0&&sl.x+sl.y<=1}static getUV(e,n,r,i,s,o,a,l){return t2===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),t2=!0),this.getInterpolation(e,n,r,i,s,o,a,l)}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,sl),l.setScalar(0),l.addScaledVector(s,sl.x),l.addScaledVector(o,sl.y),l.addScaledVector(a,sl.z),l}static isFrontFacing(e,n,r,i){return No.subVectors(r,n),il.subVectors(e,n),No.cross(il).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return No.subVectors(this.c,this.b),il.subVectors(this.a,this.b),No.cross(il).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return is.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return is.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return t2===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),t2=!0),is.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}getInterpolation(e,n,r,i,s){return is.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return is.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return is.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;mh.subVectors(i,r),gh.subVectors(s,r),zy.subVectors(e,r);const l=mh.dot(zy),u=gh.dot(zy);if(l<=0&&u<=0)return n.copy(r);Gy.subVectors(e,i);const c=mh.dot(Gy),f=gh.dot(Gy);if(c>=0&&f<=c)return n.copy(i);const h=l*f-c*u;if(h<=0&&l>=0&&c<=0)return o=l/(l-c),n.copy(r).addScaledVector(mh,o);Hy.subVectors(e,s);const p=mh.dot(Hy),g=gh.dot(Hy);if(g>=0&&p<=g)return n.copy(s);const x=p*u-l*g;if(x<=0&&u>=0&&g<=0)return a=u/(u-g),n.copy(r).addScaledVector(gh,a);const y=c*g-p*f;if(y<=0&&f-c>=0&&p-g>=0)return Vb.subVectors(s,i),a=(f-c)/(f-c+(p-g)),n.copy(i).addScaledVector(Vb,a);const v=1/(y+x+h);return o=x*v,a=h*v,n.copy(r).addScaledVector(mh,o).addScaledVector(gh,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let BV=0;class ur extends Ys{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:BV++}),this.uuid=Ns(),this.name="",this.type="Material",this.blending=El,this.side=Ro,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=X7,this.blendDst=Y7,this.blendEquation=Jc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Cm,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=hI,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Cg,this.stencilZFail=Cg,this.stencilZPass=Cg,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==El&&(r.blending=this.blending),this.side!==Ro&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=this.alphaHash),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const MI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},zo={h:0,s:0,l:0},n2={h:0,s:0,l:0};function Vy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let Xe=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Cn){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,lo.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=lo.workingColorSpace){return this.r=e,this.g=n,this.b=r,lo.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=lo.workingColorSpace){if(e=lS(e,1),n=or(n,0,1),r=or(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=Vy(o,s,e+1/3),this.g=Vy(o,s,e),this.b=Vy(o,s,e-1/3)}return lo.toWorkingColorSpace(this,i),this}setStyle(e,n=Cn){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Cn){const r=MI[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=xd(e.r),this.g=xd(e.g),this.b=xd(e.b),this}copyLinearToSRGB(e){return this.r=Dy(e.r),this.g=Dy(e.g),this.b=Dy(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Cn){return lo.fromWorkingColorSpace(yi.copy(this),e),Math.round(or(yi.r*255,0,255))*65536+Math.round(or(yi.g*255,0,255))*256+Math.round(or(yi.b*255,0,255))}getHexString(e=Cn){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=lo.workingColorSpace){lo.fromWorkingColorSpace(yi.copy(this),n);const r=yi.r,i=yi.g,s=yi.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const c=(a+o)/2;if(a===o)l=0,u=0;else{const f=o-a;switch(u=c<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,n=lo.workingColorSpace){return lo.fromWorkingColorSpace(yi.copy(this),n),e.r=yi.r,e.g=yi.g,e.b=yi.b,e}getStyle(e=Cn){lo.fromWorkingColorSpace(yi.copy(this),e);const n=yi.r,r=yi.g,i=yi.b;return e!==Cn?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(zo),zo.h+=e,zo.s+=n,zo.l+=r,this.setHSL(zo.h,zo.s,zo.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(zo),e.getHSL(n2);const r=Z0(zo.h,n2.h,n),i=Z0(zo.s,n2.s,n),s=Z0(zo.l,n2.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const yi=new Xe;Xe.NAMES=MI;class us extends ur{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Xe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=c1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const gl=FV();function FV(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;!(u&8388608);)u<<=1,c-=8388608;u&=-8388609,c+=947912704,s[l]=u|c}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function ts(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=or(t,-65504,65504),gl.floatView[0]=t;const e=gl.uint32View[0],n=e>>23&511;return gl.baseTable[n]+((e&8388607)>>gl.shiftTable[n])}function B0(t){const e=t>>10;return gl.uint32View[0]=gl.mantissaTable[gl.offsetTable[e]+(t&1023)]+gl.exponentTable[e],gl.floatView[0]}const UV={toHalfFloat:ts,fromHalfFloat:B0},Er=new X,r2=new ue;class Zt{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Bm,this.updateRange={offset:0,count:-1},this.gpuType=Jn,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)r2.fromBufferAttribute(this,n),r2.applyMatrix3(e),this.setXY(n,r2.x,r2.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Er.fromBufferAttribute(this,n),Er.applyMatrix3(e),this.setXYZ(n,Er.x,Er.y,Er.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Er.fromBufferAttribute(this,n),Er.applyMatrix4(e),this.setXYZ(n,Er.x,Er.y,Er.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Er.fromBufferAttribute(this,n),Er.applyNormalMatrix(e),this.setXYZ(n,Er.x,Er.y,Er.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Er.fromBufferAttribute(this,n),Er.transformDirection(e),this.setXYZ(n,Er.x,Er.y,Er.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=os(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Gt(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=os(n,this.array)),n}setX(e,n){return this.normalized&&(n=Gt(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=os(n,this.array)),n}setY(e,n){return this.normalized&&(n=Gt(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=os(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Gt(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=os(n,this.array)),n}setW(e,n){return this.normalized&&(n=Gt(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Gt(n,this.array),r=Gt(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Gt(n,this.array),r=Gt(r,this.array),i=Gt(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Gt(n,this.array),r=Gt(r,this.array),i=Gt(i,this.array),s=Gt(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Bm&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class OV extends Zt{constructor(e,n,r){super(new Int8Array(e),n,r)}}class kV extends Zt{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class NV extends Zt{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class zV extends Zt{constructor(e,n,r){super(new Int16Array(e),n,r)}}class fS extends Zt{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class GV extends Zt{constructor(e,n,r){super(new Int32Array(e),n,r)}}class hS extends Zt{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class HV extends Zt{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=B0(this.array[e*this.itemSize]);return this.normalized&&(n=os(n,this.array)),n}setX(e,n){return this.normalized&&(n=Gt(n,this.array)),this.array[e*this.itemSize]=ts(n),this}getY(e){let n=B0(this.array[e*this.itemSize+1]);return this.normalized&&(n=os(n,this.array)),n}setY(e,n){return this.normalized&&(n=Gt(n,this.array)),this.array[e*this.itemSize+1]=ts(n),this}getZ(e){let n=B0(this.array[e*this.itemSize+2]);return this.normalized&&(n=os(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Gt(n,this.array)),this.array[e*this.itemSize+2]=ts(n),this}getW(e){let n=B0(this.array[e*this.itemSize+3]);return this.normalized&&(n=os(n,this.array)),n}setW(e,n){return this.normalized&&(n=Gt(n,this.array)),this.array[e*this.itemSize+3]=ts(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Gt(n,this.array),r=Gt(r,this.array)),this.array[e+0]=ts(n),this.array[e+1]=ts(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Gt(n,this.array),r=Gt(r,this.array),i=Gt(i,this.array)),this.array[e+0]=ts(n),this.array[e+1]=ts(r),this.array[e+2]=ts(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Gt(n,this.array),r=Gt(r,this.array),i=Gt(i,this.array),s=Gt(s,this.array)),this.array[e+0]=ts(n),this.array[e+1]=ts(r),this.array[e+2]=ts(i),this.array[e+3]=ts(s),this}}class ft extends Zt{constructor(e,n,r){super(new Float32Array(e),n,r)}}class VV extends Zt{constructor(e,n,r){super(new Float64Array(e),n,r)}}let WV=0;const so=new rt,Wy=new Vt,vh=new X,Rs=new Lo,s0=new Lo,Yr=new X;class Lt extends Ys{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:WV++}),this.uuid=Ns(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(wI(e)?hS:fS)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new kt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return so.makeRotationFromQuaternion(e),this.applyMatrix4(so),this}rotateX(e){return so.makeRotationX(e),this.applyMatrix4(so),this}rotateY(e){return so.makeRotationY(e),this.applyMatrix4(so),this}rotateZ(e){return so.makeRotationZ(e),this.applyMatrix4(so),this}translate(e,n,r){return so.makeTranslation(e,n,r),this.applyMatrix4(so),this}scale(e,n,r){return so.makeScale(e,n,r),this.applyMatrix4(so),this}lookAt(e){return Wy.lookAt(e),Wy.updateMatrix(),this.applyMatrix4(Wy.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(vh).negate(),this.translate(vh.x,vh.y,vh.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new ft(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Lo);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new X(-1/0,-1/0,-1/0),new X(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];Rs.setFromBufferAttribute(s),this.morphTargetsRelative?(Yr.addVectors(this.boundingBox.min,Rs.min),this.boundingBox.expandByPoint(Yr),Yr.addVectors(this.boundingBox.max,Rs.max),this.boundingBox.expandByPoint(Yr)):(this.boundingBox.expandByPoint(Rs.min),this.boundingBox.expandByPoint(Rs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new xs);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new X,1/0);return}if(e){const r=this.boundingSphere.center;if(Rs.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];s0.setFromBufferAttribute(a),this.morphTargetsRelative?(Yr.addVectors(Rs.min,s0.min),Rs.expandByPoint(Yr),Yr.addVectors(Rs.max,s0.max),Rs.expandByPoint(Yr)):(Rs.expandByPoint(s0.min),Rs.expandByPoint(s0.max))}Rs.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Yr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Yr));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let u=0,c=a.count;u<c;u++)Yr.fromBufferAttribute(a,u),l&&(vh.fromBufferAttribute(e,u),Yr.add(vh)),i=Math.max(i,r.distanceToSquared(Yr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,o=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Zt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],c=[];for(let L=0;L<a;L++)u[L]=new X,c[L]=new X;const f=new X,h=new X,p=new X,g=new ue,x=new ue,y=new ue,v=new X,S=new X;function _(L,k,z){f.fromArray(i,L*3),h.fromArray(i,k*3),p.fromArray(i,z*3),g.fromArray(o,L*2),x.fromArray(o,k*2),y.fromArray(o,z*2),h.sub(f),p.sub(f),x.sub(g),y.sub(g);const H=1/(x.x*y.y-y.x*x.y);isFinite(H)&&(v.copy(h).multiplyScalar(y.y).addScaledVector(p,-x.y).multiplyScalar(H),S.copy(p).multiplyScalar(x.x).addScaledVector(h,-y.x).multiplyScalar(H),u[L].add(v),u[k].add(v),u[z].add(v),c[L].add(S),c[k].add(S),c[z].add(S))}let E=this.groups;E.length===0&&(E=[{start:0,count:r.length}]);for(let L=0,k=E.length;L<k;++L){const z=E[L],H=z.start,V=z.count;for(let K=H,J=H+V;K<J;K+=3)_(r[K+0],r[K+1],r[K+2])}const b=new X,T=new X,A=new X,D=new X;function C(L){A.fromArray(s,L*3),D.copy(A);const k=u[L];b.copy(k),b.sub(A.multiplyScalar(A.dot(k))).normalize(),T.crossVectors(D,k);const H=T.dot(c[L])<0?-1:1;l[L*4]=b.x,l[L*4+1]=b.y,l[L*4+2]=b.z,l[L*4+3]=H}for(let L=0,k=E.length;L<k;++L){const z=E[L],H=z.start,V=z.count;for(let K=H,J=H+V;K<J;K+=3)C(r[K+0]),C(r[K+1]),C(r[K+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Zt(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let h=0,p=r.count;h<p;h++)r.setXYZ(h,0,0,0);const i=new X,s=new X,o=new X,a=new X,l=new X,u=new X,c=new X,f=new X;if(e)for(let h=0,p=e.count;h<p;h+=3){const g=e.getX(h+0),x=e.getX(h+1),y=e.getX(h+2);i.fromBufferAttribute(n,g),s.fromBufferAttribute(n,x),o.fromBufferAttribute(n,y),c.subVectors(o,s),f.subVectors(i,s),c.cross(f),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,x),u.fromBufferAttribute(r,y),a.add(c),l.add(c),u.add(c),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(y,u.x,u.y,u.z)}else for(let h=0,p=n.count;h<p;h+=3)i.fromBufferAttribute(n,h+0),s.fromBufferAttribute(n,h+1),o.fromBufferAttribute(n,h+2),c.subVectors(o,s),f.subVectors(i,s),c.cross(f),r.setXYZ(h+0,c.x,c.y,c.z),r.setXYZ(h+1,c.x,c.y,c.z),r.setXYZ(h+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Yr.fromBufferAttribute(e,n),Yr.normalize(),e.setXYZ(n,Yr.x,Yr.y,Yr.z)}toNonIndexed(){function e(a,l){const u=a.array,c=a.itemSize,f=a.normalized,h=new u.constructor(l.length*c);let p=0,g=0;for(let x=0,y=l.length;x<y;x++){a.isInterleavedBufferAttribute?p=l[x]*a.data.stride+a.offset:p=l[x]*c;for(let v=0;v<c;v++)h[g++]=u[p++]}return new Zt(h,c,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Lt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);n.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let c=0,f=u.length;c<f;c++){const h=u[c],p=e(h,r);l.push(p)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,h=u.length;f<h;f++){const p=u[f];c.push(p.toJSON(e.data))}c.length>0&&(i[l]=c,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(n))}const s=e.morphAttributes;for(const u in s){const c=[],f=s[u];for(let h=0,p=f.length;h<p;h++)c.push(f[h].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,c=o.length;u<c;u++){const f=o[u];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Wb=new rt,Rc=new kf,i2=new xs,jb=new X,yh=new X,xh=new X,Sh=new X,jy=new X,s2=new X,o2=new ue,a2=new ue,l2=new ue,Xb=new X,Yb=new X,Kb=new X,u2=new X,c2=new X;class Un extends Vt{constructor(e=new Lt,n=new us){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){s2.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const c=a[l],f=s[l];c!==0&&(jy.fromBufferAttribute(f,e),o?s2.addScaledVector(jy,c):s2.addScaledVector(jy.sub(n),c))}n.add(s2)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),i2.copy(r.boundingSphere),i2.applyMatrix4(s),Rc.copy(e.ray).recast(e.near),!(i2.containsPoint(Rc.origin)===!1&&(Rc.intersectSphere(i2,jb)===null||Rc.origin.distanceToSquared(jb)>(e.far-e.near)**2))&&(Wb.copy(s).invert(),Rc.copy(e.ray).applyMatrix4(Wb),!(r.boundingBox!==null&&Rc.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Rc)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,u=s.attributes.uv,c=s.attributes.uv1,f=s.attributes.normal,h=s.groups,p=s.drawRange;if(a!==null)if(Array.isArray(o))for(let g=0,x=h.length;g<x;g++){const y=h[g],v=o[y.materialIndex],S=Math.max(y.start,p.start),_=Math.min(a.count,Math.min(y.start+y.count,p.start+p.count));for(let E=S,b=_;E<b;E+=3){const T=a.getX(E),A=a.getX(E+1),D=a.getX(E+2);i=f2(this,v,e,r,u,c,f,T,A,D),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const g=Math.max(0,p.start),x=Math.min(a.count,p.start+p.count);for(let y=g,v=x;y<v;y+=3){const S=a.getX(y),_=a.getX(y+1),E=a.getX(y+2);i=f2(this,o,e,r,u,c,f,S,_,E),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let g=0,x=h.length;g<x;g++){const y=h[g],v=o[y.materialIndex],S=Math.max(y.start,p.start),_=Math.min(l.count,Math.min(y.start+y.count,p.start+p.count));for(let E=S,b=_;E<b;E+=3){const T=E,A=E+1,D=E+2;i=f2(this,v,e,r,u,c,f,T,A,D),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const g=Math.max(0,p.start),x=Math.min(l.count,p.start+p.count);for(let y=g,v=x;y<v;y+=3){const S=y,_=y+1,E=y+2;i=f2(this,o,e,r,u,c,f,S,_,E),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function jV(t,e,n,r,i,s,o,a){let l;if(e.side===yr?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Ro,a),l===null)return null;c2.copy(a),c2.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(c2);return u<n.near||u>n.far?null:{distance:u,point:c2.clone(),object:t}}function f2(t,e,n,r,i,s,o,a,l,u){t.getVertexPosition(a,yh),t.getVertexPosition(l,xh),t.getVertexPosition(u,Sh);const c=jV(t,e,n,r,yh,xh,Sh,u2);if(c){i&&(o2.fromBufferAttribute(i,a),a2.fromBufferAttribute(i,l),l2.fromBufferAttribute(i,u),c.uv=is.getInterpolation(u2,yh,xh,Sh,o2,a2,l2,new ue)),s&&(o2.fromBufferAttribute(s,a),a2.fromBufferAttribute(s,l),l2.fromBufferAttribute(s,u),c.uv1=is.getInterpolation(u2,yh,xh,Sh,o2,a2,l2,new ue),c.uv2=c.uv1),o&&(Xb.fromBufferAttribute(o,a),Yb.fromBufferAttribute(o,l),Kb.fromBufferAttribute(o,u),c.normal=is.getInterpolation(u2,yh,xh,Sh,Xb,Yb,Kb,new X),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const f={a,b:l,c:u,normal:new X,materialIndex:0};is.getNormal(yh,xh,Sh,f.normal),c.face=f}return c}class Nf extends Lt{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],c=[],f=[];let h=0,p=0;g("z","y","x",-1,-1,r,n,e,o,s,0),g("z","y","x",1,-1,r,n,-e,o,s,1),g("x","z","y",1,1,e,r,n,i,o,2),g("x","z","y",1,-1,e,r,-n,i,o,3),g("x","y","z",1,-1,e,n,r,i,s,4),g("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new ft(u,3)),this.setAttribute("normal",new ft(c,3)),this.setAttribute("uv",new ft(f,2));function g(x,y,v,S,_,E,b,T,A,D,C){const L=E/A,k=b/D,z=E/2,H=b/2,V=T/2,K=A+1,J=D+1;let $=0,U=0;const G=new X;for(let W=0;W<J;W++){const F=W*k-H;for(let j=0;j<K;j++){const ie=j*L-z;G[x]=ie*S,G[y]=F*_,G[v]=V,u.push(G.x,G.y,G.z),G[x]=0,G[y]=0,G[v]=T>0?1:-1,c.push(G.x,G.y,G.z),f.push(j/A),f.push(1-W/D),$+=1}}for(let W=0;W<D;W++)for(let F=0;F<A;F++){const j=h+F+K*W,ie=h+F+K*(W+1),se=h+(F+1)+K*(W+1),re=h+(F+1)+K*W;l.push(j,ie,re),l.push(ie,se,re),U+=6}a.addGroup(p,U,C),p+=U,h+=$}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nf(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Nd(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Hi(t){const e={};for(let n=0;n<t.length;n++){const r=Nd(t[n]);for(const i in r)e[i]=r[i]}return e}function XV(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function TI(t){return t.getRenderTarget()===null?t.outputColorSpace:ea}const p1={clone:Nd,merge:Hi};var YV=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,KV=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ht extends ur{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=YV,this.fragmentShader=KV,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Nd(e.uniforms),this.uniformsGroups=XV(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class op extends Vt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new rt,this.projectionMatrix=new rt,this.projectionMatrixInverse=new rt,this.coordinateSystem=Ma}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class hn extends op{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=kd*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(hf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return kd*2*Math.atan(Math.tan(hf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(hf*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const _h=-90,wh=1;class S5 extends Vt{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null;const i=new hn(_h,wh,e,n);i.layers=this.layers,this.add(i);const s=new hn(_h,wh,e,n);s.layers=this.layers,this.add(s);const o=new hn(_h,wh,e,n);o.layers=this.layers,this.add(o);const a=new hn(_h,wh,e,n);a.layers=this.layers,this.add(a);const l=new hn(_h,wh,e,n);l.layers=this.layers,this.add(l);const u=new hn(_h,wh,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const u of n)this.remove(u);if(e===Ma)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Fm)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,s,o,a,l,u]=this.children,c=e.getRenderTarget(),f=e.xr.enabled;e.xr.enabled=!1;const h=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,s),e.setRenderTarget(r,2),e.render(n,o),e.setRenderTarget(r,3),e.render(n,a),e.setRenderTarget(r,4),e.render(n,l),r.texture.generateMipmaps=h,e.setRenderTarget(r,5),e.render(n,u),e.setRenderTarget(c),e.xr.enabled=f,r.texture.needsPMREMUpdate=!0}}class m1 extends gn{constructor(e,n,r,i,s,o,a,l,u,c){e=e!==void 0?e:[],n=n!==void 0?n:Ll,super(e,n,r,i,s,o,a,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class g1 extends Qt{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(Q0("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Mo?Cn:Ml),this.texture=new m1(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:ht}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Nf(5,5,5),s=new Ht({name:"CubemapFromEquirect",uniforms:Nd(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:yr,blending:On});s.uniforms.tEquirect.value=n;const o=new Un(i,s),a=n.minFilter;return n.minFilter===ka&&(n.minFilter=ht),new S5(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const Xy=new X,JV=new X,ZV=new kt;class dl{constructor(e=new X(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=Xy.subVectors(r,n).cross(JV.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(Xy),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||ZV.getNormalMatrix(e),i=this.coplanarPoint(Xy).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Pc=new xs,h2=new X;class _5{constructor(e=new dl,n=new dl,r=new dl,i=new dl,s=new dl,o=new dl){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Ma){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],u=i[4],c=i[5],f=i[6],h=i[7],p=i[8],g=i[9],x=i[10],y=i[11],v=i[12],S=i[13],_=i[14],E=i[15];if(r[0].setComponents(l-s,h-u,y-p,E-v).normalize(),r[1].setComponents(l+s,h+u,y+p,E+v).normalize(),r[2].setComponents(l+o,h+c,y+g,E+S).normalize(),r[3].setComponents(l-o,h-c,y-g,E-S).normalize(),r[4].setComponents(l-a,h-f,y-x,E-_).normalize(),n===Ma)r[5].setComponents(l+a,h+f,y+x,E+_).normalize();else if(n===Fm)r[5].setComponents(a,f,x,_).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Pc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Pc.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Pc)}intersectsSprite(e){return Pc.center.set(0,0,0),Pc.radius=.7071067811865476,Pc.applyMatrix4(e.matrixWorld),this.intersectsSphere(Pc)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(h2.x=i.normal.x>0?e.max.x:e.min.x,h2.y=i.normal.y>0?e.max.y:e.min.y,h2.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(h2)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function AI(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function QV(t,e){const n=e.isWebGL2,r=new WeakMap;function i(u,c){const f=u.array,h=u.usage,p=t.createBuffer();t.bindBuffer(c,p),t.bufferData(c,f,h),u.onUploadCallback();let g;if(f instanceof Float32Array)g=t.FLOAT;else if(f instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)g=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=t.UNSIGNED_SHORT;else if(f instanceof Int16Array)g=t.SHORT;else if(f instanceof Uint32Array)g=t.UNSIGNED_INT;else if(f instanceof Int32Array)g=t.INT;else if(f instanceof Int8Array)g=t.BYTE;else if(f instanceof Uint8Array)g=t.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)g=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:p,type:g,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version}}function s(u,c,f){const h=c.array,p=c.updateRange;t.bindBuffer(f,u),p.count===-1?t.bufferSubData(f,0,h):(n?t.bufferSubData(f,p.offset*h.BYTES_PER_ELEMENT,h,p.offset,p.count):t.bufferSubData(f,p.offset*h.BYTES_PER_ELEMENT,h.subarray(p.offset,p.offset+p.count)),p.count=-1),c.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=r.get(u);c&&(t.deleteBuffer(c.buffer),r.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const h=r.get(u);(!h||h.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const f=r.get(u);f===void 0?r.set(u,i(u,c)):f.version<u.version&&(s(f.buffer,u,c),f.version=u.version)}return{get:o,remove:a,update:l}}class sc extends Lt{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),u=a+1,c=l+1,f=e/a,h=n/l,p=[],g=[],x=[],y=[];for(let v=0;v<c;v++){const S=v*h-o;for(let _=0;_<u;_++){const E=_*f-s;g.push(E,-S,0),x.push(0,0,1),y.push(_/a),y.push(1-v/l)}}for(let v=0;v<l;v++)for(let S=0;S<a;S++){const _=S+u*v,E=S+u*(v+1),b=S+1+u*(v+1),T=S+1+u*v;p.push(_,E,T),p.push(E,b,T)}this.setIndex(p),this.setAttribute("position",new ft(g,3)),this.setAttribute("normal",new ft(x,3)),this.setAttribute("uv",new ft(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sc(e.width,e.height,e.widthSegments,e.heightSegments)}}var qV=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,$V=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,eW=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,tW=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,nW=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,rW=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,iW=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,sW=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,oW=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,aW=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,lW=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,uW=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,cW=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,fW=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,hW=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,dW=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,pW=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,mW=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,gW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,vW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,yW=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,xW=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,SW=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,_W=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,wW=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,EW=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,bW=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,MW=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,TW="gl_FragColor = linearToOutputTexel( gl_FragColor );",AW=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,CW=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,RW=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,PW=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,DW=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,LW=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,IW=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,BW=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,FW=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,UW=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,OW=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,kW=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,NW=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,zW=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,GW=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,HW=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,VW=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,WW=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,jW=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,XW=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,YW=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,KW=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,JW=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,ZW=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,QW=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,qW=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,$W=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,ej=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,tj=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,nj=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,rj=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,ij=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,sj=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,oj=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,aj=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,lj=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,uj=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,cj=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,fj=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,hj=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,dj=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,pj=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,mj=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,gj=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,vj=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,yj=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,xj=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Sj=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,_j=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,wj=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Ej=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,bj=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Mj=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Tj=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Aj=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Cj=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Rj=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Pj=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Dj=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Lj=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Ij=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Bj=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Fj=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Uj=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Oj=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,kj=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Nj=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,zj=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Gj=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Hj=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Vj=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Wj=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,jj=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Xj=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Yj=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Kj=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Jj=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Zj=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Qj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,qj=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,$j=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,eX=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,tX=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,nX=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,rX=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,iX=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,sX=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,oX=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,aX=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,lX=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,uX=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,cX=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fX=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hX=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dX=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,pX=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mX=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,gX=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vX=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yX=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xX=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,SX=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_X=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,wX=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,EX=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,bX=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,MX=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,TX=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,AX=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,CX=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,gt={alphahash_fragment:qV,alphahash_pars_fragment:$V,alphamap_fragment:eW,alphamap_pars_fragment:tW,alphatest_fragment:nW,alphatest_pars_fragment:rW,aomap_fragment:iW,aomap_pars_fragment:sW,begin_vertex:oW,beginnormal_vertex:aW,bsdfs:lW,iridescence_fragment:uW,bumpmap_pars_fragment:cW,clipping_planes_fragment:fW,clipping_planes_pars_fragment:hW,clipping_planes_pars_vertex:dW,clipping_planes_vertex:pW,color_fragment:mW,color_pars_fragment:gW,color_pars_vertex:vW,color_vertex:yW,common:xW,cube_uv_reflection_fragment:SW,defaultnormal_vertex:_W,displacementmap_pars_vertex:wW,displacementmap_vertex:EW,emissivemap_fragment:bW,emissivemap_pars_fragment:MW,colorspace_fragment:TW,colorspace_pars_fragment:AW,envmap_fragment:CW,envmap_common_pars_fragment:RW,envmap_pars_fragment:PW,envmap_pars_vertex:DW,envmap_physical_pars_fragment:VW,envmap_vertex:LW,fog_vertex:IW,fog_pars_vertex:BW,fog_fragment:FW,fog_pars_fragment:UW,gradientmap_pars_fragment:OW,lightmap_fragment:kW,lightmap_pars_fragment:NW,lights_lambert_fragment:zW,lights_lambert_pars_fragment:GW,lights_pars_begin:HW,lights_toon_fragment:WW,lights_toon_pars_fragment:jW,lights_phong_fragment:XW,lights_phong_pars_fragment:YW,lights_physical_fragment:KW,lights_physical_pars_fragment:JW,lights_fragment_begin:ZW,lights_fragment_maps:QW,lights_fragment_end:qW,logdepthbuf_fragment:$W,logdepthbuf_pars_fragment:ej,logdepthbuf_pars_vertex:tj,logdepthbuf_vertex:nj,map_fragment:rj,map_pars_fragment:ij,map_particle_fragment:sj,map_particle_pars_fragment:oj,metalnessmap_fragment:aj,metalnessmap_pars_fragment:lj,morphcolor_vertex:uj,morphnormal_vertex:cj,morphtarget_pars_vertex:fj,morphtarget_vertex:hj,normal_fragment_begin:dj,normal_fragment_maps:pj,normal_pars_fragment:mj,normal_pars_vertex:gj,normal_vertex:vj,normalmap_pars_fragment:yj,clearcoat_normal_fragment_begin:xj,clearcoat_normal_fragment_maps:Sj,clearcoat_pars_fragment:_j,iridescence_pars_fragment:wj,opaque_fragment:Ej,packing:bj,premultiplied_alpha_fragment:Mj,project_vertex:Tj,dithering_fragment:Aj,dithering_pars_fragment:Cj,roughnessmap_fragment:Rj,roughnessmap_pars_fragment:Pj,shadowmap_pars_fragment:Dj,shadowmap_pars_vertex:Lj,shadowmap_vertex:Ij,shadowmask_pars_fragment:Bj,skinbase_vertex:Fj,skinning_pars_vertex:Uj,skinning_vertex:Oj,skinnormal_vertex:kj,specularmap_fragment:Nj,specularmap_pars_fragment:zj,tonemapping_fragment:Gj,tonemapping_pars_fragment:Hj,transmission_fragment:Vj,transmission_pars_fragment:Wj,uv_pars_fragment:jj,uv_pars_vertex:Xj,uv_vertex:Yj,worldpos_vertex:Kj,background_vert:Jj,background_frag:Zj,backgroundCube_vert:Qj,backgroundCube_frag:qj,cube_vert:$j,cube_frag:eX,depth_vert:tX,depth_frag:nX,distanceRGBA_vert:rX,distanceRGBA_frag:iX,equirect_vert:sX,equirect_frag:oX,linedashed_vert:aX,linedashed_frag:lX,meshbasic_vert:uX,meshbasic_frag:cX,meshlambert_vert:fX,meshlambert_frag:hX,meshmatcap_vert:dX,meshmatcap_frag:pX,meshnormal_vert:mX,meshnormal_frag:gX,meshphong_vert:vX,meshphong_frag:yX,meshphysical_vert:xX,meshphysical_frag:SX,meshtoon_vert:_X,meshtoon_frag:wX,points_vert:EX,points_frag:bX,shadow_vert:MX,shadow_frag:TX,sprite_vert:AX,sprite_frag:CX},et={common:{diffuse:{value:new Xe(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new kt},alphaMap:{value:null},alphaMapTransform:{value:new kt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new kt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new kt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new kt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new kt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new kt},normalScale:{value:new ue(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new kt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new kt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new kt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new kt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Xe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Xe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new kt},alphaTest:{value:0},uvTransform:{value:new kt}},sprite:{diffuse:{value:new Xe(16777215)},opacity:{value:1},center:{value:new ue(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new kt},alphaMap:{value:null},alphaMapTransform:{value:new kt},alphaTest:{value:0}}},Xo={basic:{uniforms:Hi([et.common,et.specularmap,et.envmap,et.aomap,et.lightmap,et.fog]),vertexShader:gt.meshbasic_vert,fragmentShader:gt.meshbasic_frag},lambert:{uniforms:Hi([et.common,et.specularmap,et.envmap,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.fog,et.lights,{emissive:{value:new Xe(0)}}]),vertexShader:gt.meshlambert_vert,fragmentShader:gt.meshlambert_frag},phong:{uniforms:Hi([et.common,et.specularmap,et.envmap,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.fog,et.lights,{emissive:{value:new Xe(0)},specular:{value:new Xe(1118481)},shininess:{value:30}}]),vertexShader:gt.meshphong_vert,fragmentShader:gt.meshphong_frag},standard:{uniforms:Hi([et.common,et.envmap,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.roughnessmap,et.metalnessmap,et.fog,et.lights,{emissive:{value:new Xe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:gt.meshphysical_vert,fragmentShader:gt.meshphysical_frag},toon:{uniforms:Hi([et.common,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.gradientmap,et.fog,et.lights,{emissive:{value:new Xe(0)}}]),vertexShader:gt.meshtoon_vert,fragmentShader:gt.meshtoon_frag},matcap:{uniforms:Hi([et.common,et.bumpmap,et.normalmap,et.displacementmap,et.fog,{matcap:{value:null}}]),vertexShader:gt.meshmatcap_vert,fragmentShader:gt.meshmatcap_frag},points:{uniforms:Hi([et.points,et.fog]),vertexShader:gt.points_vert,fragmentShader:gt.points_frag},dashed:{uniforms:Hi([et.common,et.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:gt.linedashed_vert,fragmentShader:gt.linedashed_frag},depth:{uniforms:Hi([et.common,et.displacementmap]),vertexShader:gt.depth_vert,fragmentShader:gt.depth_frag},normal:{uniforms:Hi([et.common,et.bumpmap,et.normalmap,et.displacementmap,{opacity:{value:1}}]),vertexShader:gt.meshnormal_vert,fragmentShader:gt.meshnormal_frag},sprite:{uniforms:Hi([et.sprite,et.fog]),vertexShader:gt.sprite_vert,fragmentShader:gt.sprite_frag},background:{uniforms:{uvTransform:{value:new kt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:gt.background_vert,fragmentShader:gt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:gt.backgroundCube_vert,fragmentShader:gt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:gt.cube_vert,fragmentShader:gt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:gt.equirect_vert,fragmentShader:gt.equirect_frag},distanceRGBA:{uniforms:Hi([et.common,et.displacementmap,{referencePosition:{value:new X},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:gt.distanceRGBA_vert,fragmentShader:gt.distanceRGBA_frag},shadow:{uniforms:Hi([et.lights,et.fog,{color:{value:new Xe(0)},opacity:{value:1}}]),vertexShader:gt.shadow_vert,fragmentShader:gt.shadow_frag}};Xo.physical={uniforms:Hi([Xo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new kt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new kt},clearcoatNormalScale:{value:new ue(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new kt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new kt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new kt},sheen:{value:0},sheenColor:{value:new Xe(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new kt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new kt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new kt},transmissionSamplerSize:{value:new ue},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new kt},attenuationDistance:{value:0},attenuationColor:{value:new Xe(0)},specularColor:{value:new Xe(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new kt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new kt},anisotropyVector:{value:new ue},anisotropyMap:{value:null},anisotropyMapTransform:{value:new kt}}]),vertexShader:gt.meshphysical_vert,fragmentShader:gt.meshphysical_frag};const d2={r:0,b:0,g:0};function RX(t,e,n,r,i,s,o){const a=new Xe(0);let l=s===!0?0:1,u,c,f=null,h=0,p=null;function g(y,v){let S=!1,_=v.isScene===!0?v.background:null;_&&_.isTexture&&(_=(v.backgroundBlurriness>0?n:e).get(_)),_===null?x(a,l):_&&_.isColor&&(x(_,1),S=!0);const E=t.xr.getEnvironmentBlendMode();E==="additive"?r.buffers.color.setClear(0,0,0,1,o):E==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||S)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),_&&(_.isCubeTexture||_.mapping===ip)?(c===void 0&&(c=new Un(new Nf(1,1,1),new Ht({name:"BackgroundCubeMaterial",uniforms:Nd(Xo.backgroundCube.uniforms),vertexShader:Xo.backgroundCube.vertexShader,fragmentShader:Xo.backgroundCube.fragmentShader,side:yr,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(b,T,A){this.matrixWorld.copyPosition(A.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=_,c.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,c.material.toneMapped=_.colorSpace!==Cn,(f!==_||h!==_.version||p!==t.toneMapping)&&(c.material.needsUpdate=!0,f=_,h=_.version,p=t.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null)):_&&_.isTexture&&(u===void 0&&(u=new Un(new sc(2,2),new Ht({name:"BackgroundMaterial",uniforms:Nd(Xo.background.uniforms),vertexShader:Xo.background.vertexShader,fragmentShader:Xo.background.fragmentShader,side:Ro,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=_,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.toneMapped=_.colorSpace!==Cn,_.matrixAutoUpdate===!0&&_.updateMatrix(),u.material.uniforms.uvTransform.value.copy(_.matrix),(f!==_||h!==_.version||p!==t.toneMapping)&&(u.material.needsUpdate=!0,f=_,h=_.version,p=t.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null))}function x(y,v){y.getRGB(d2,TI(t)),r.buffers.color.setClear(d2.r,d2.g,d2.b,v,o)}return{getClearColor:function(){return a},setClearColor:function(y,v=1){a.set(y),l=v,x(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,x(a,l)},render:g}}function PX(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=y(null);let u=l,c=!1;function f(V,K,J,$,U){let G=!1;if(o){const W=x($,J,K);u!==W&&(u=W,p(u.object)),G=v(V,$,J,U),G&&S(V,$,J,U)}else{const W=K.wireframe===!0;(u.geometry!==$.id||u.program!==J.id||u.wireframe!==W)&&(u.geometry=$.id,u.program=J.id,u.wireframe=W,G=!0)}U!==null&&n.update(U,t.ELEMENT_ARRAY_BUFFER),(G||c)&&(c=!1,D(V,K,J,$),U!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(U).buffer))}function h(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function p(V){return r.isWebGL2?t.bindVertexArray(V):s.bindVertexArrayOES(V)}function g(V){return r.isWebGL2?t.deleteVertexArray(V):s.deleteVertexArrayOES(V)}function x(V,K,J){const $=J.wireframe===!0;let U=a[V.id];U===void 0&&(U={},a[V.id]=U);let G=U[K.id];G===void 0&&(G={},U[K.id]=G);let W=G[$];return W===void 0&&(W=y(h()),G[$]=W),W}function y(V){const K=[],J=[],$=[];for(let U=0;U<i;U++)K[U]=0,J[U]=0,$[U]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:K,enabledAttributes:J,attributeDivisors:$,object:V,attributes:{},index:null}}function v(V,K,J,$){const U=u.attributes,G=K.attributes;let W=0;const F=J.getAttributes();for(const j in F)if(F[j].location>=0){const se=U[j];let re=G[j];if(re===void 0&&(j==="instanceMatrix"&&V.instanceMatrix&&(re=V.instanceMatrix),j==="instanceColor"&&V.instanceColor&&(re=V.instanceColor)),se===void 0||se.attribute!==re||re&&se.data!==re.data)return!0;W++}return u.attributesNum!==W||u.index!==$}function S(V,K,J,$){const U={},G=K.attributes;let W=0;const F=J.getAttributes();for(const j in F)if(F[j].location>=0){let se=G[j];se===void 0&&(j==="instanceMatrix"&&V.instanceMatrix&&(se=V.instanceMatrix),j==="instanceColor"&&V.instanceColor&&(se=V.instanceColor));const re={};re.attribute=se,se&&se.data&&(re.data=se.data),U[j]=re,W++}u.attributes=U,u.attributesNum=W,u.index=$}function _(){const V=u.newAttributes;for(let K=0,J=V.length;K<J;K++)V[K]=0}function E(V){b(V,0)}function b(V,K){const J=u.newAttributes,$=u.enabledAttributes,U=u.attributeDivisors;J[V]=1,$[V]===0&&(t.enableVertexAttribArray(V),$[V]=1),U[V]!==K&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](V,K),U[V]=K)}function T(){const V=u.newAttributes,K=u.enabledAttributes;for(let J=0,$=K.length;J<$;J++)K[J]!==V[J]&&(t.disableVertexAttribArray(J),K[J]=0)}function A(V,K,J,$,U,G,W){W===!0?t.vertexAttribIPointer(V,K,J,U,G):t.vertexAttribPointer(V,K,J,$,U,G)}function D(V,K,J,$){if(r.isWebGL2===!1&&(V.isInstancedMesh||$.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;_();const U=$.attributes,G=J.getAttributes(),W=K.defaultAttributeValues;for(const F in G){const j=G[F];if(j.location>=0){let ie=U[F];if(ie===void 0&&(F==="instanceMatrix"&&V.instanceMatrix&&(ie=V.instanceMatrix),F==="instanceColor"&&V.instanceColor&&(ie=V.instanceColor)),ie!==void 0){const se=ie.normalized,re=ie.itemSize,fe=n.get(ie);if(fe===void 0)continue;const oe=fe.buffer,he=fe.type,ke=fe.bytesPerElement,He=r.isWebGL2===!0&&(he===t.INT||he===t.UNSIGNED_INT||ie.gpuType===$7);if(ie.isInterleavedBufferAttribute){const ge=ie.data,Y=ge.stride,Se=ie.offset;if(ge.isInstancedInterleavedBuffer){for(let me=0;me<j.locationSize;me++)b(j.location+me,ge.meshPerAttribute);V.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=ge.meshPerAttribute*ge.count)}else for(let me=0;me<j.locationSize;me++)E(j.location+me);t.bindBuffer(t.ARRAY_BUFFER,oe);for(let me=0;me<j.locationSize;me++)A(j.location+me,re/j.locationSize,he,se,Y*ke,(Se+re/j.locationSize*me)*ke,He)}else{if(ie.isInstancedBufferAttribute){for(let ge=0;ge<j.locationSize;ge++)b(j.location+ge,ie.meshPerAttribute);V.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=ie.meshPerAttribute*ie.count)}else for(let ge=0;ge<j.locationSize;ge++)E(j.location+ge);t.bindBuffer(t.ARRAY_BUFFER,oe);for(let ge=0;ge<j.locationSize;ge++)A(j.location+ge,re/j.locationSize,he,se,re*ke,re/j.locationSize*ge*ke,He)}}else if(W!==void 0){const se=W[F];if(se!==void 0)switch(se.length){case 2:t.vertexAttrib2fv(j.location,se);break;case 3:t.vertexAttrib3fv(j.location,se);break;case 4:t.vertexAttrib4fv(j.location,se);break;default:t.vertexAttrib1fv(j.location,se)}}}}T()}function C(){z();for(const V in a){const K=a[V];for(const J in K){const $=K[J];for(const U in $)g($[U].object),delete $[U];delete K[J]}delete a[V]}}function L(V){if(a[V.id]===void 0)return;const K=a[V.id];for(const J in K){const $=K[J];for(const U in $)g($[U].object),delete $[U];delete K[J]}delete a[V.id]}function k(V){for(const K in a){const J=a[K];if(J[V.id]===void 0)continue;const $=J[V.id];for(const U in $)g($[U].object),delete $[U];delete J[V.id]}}function z(){H(),c=!0,u!==l&&(u=l,p(u.object))}function H(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:z,resetDefaultState:H,dispose:C,releaseStatesOfGeometry:L,releaseStatesOfProgram:k,initAttributes:_,enableAttribute:E,disableUnusedAttributes:T}}function DX(t,e,n,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,c){t.drawArrays(s,u,c),n.update(c,s,1)}function l(u,c,f){if(f===0)return;let h,p;if(i)h=t,p="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[p](s,u,c,f),n.update(c,s,f)}this.setMode=o,this.render=a,this.renderInstances=l}function LX(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const A=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(A){if(A==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";A="mediump"}return A==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),c=n.logarithmicDepthBuffer===!0,f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_TEXTURE_SIZE),g=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),x=t.getParameter(t.MAX_VERTEX_ATTRIBS),y=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),v=t.getParameter(t.MAX_VARYING_VECTORS),S=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),_=h>0,E=o||e.has("OES_texture_float"),b=_&&E,T=o?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:c,maxTextures:f,maxVertexTextures:h,maxTextureSize:p,maxCubemapSize:g,maxAttributes:x,maxVertexUniforms:y,maxVaryings:v,maxFragmentUniforms:S,vertexTextures:_,floatFragmentTextures:E,floatVertexTextures:b,maxSamples:T}}function IX(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new dl,a=new kt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const p=f.length!==0||h||r!==0||i;return i=h,r=f.length,p},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,h){n=c(f,h,0)},this.setState=function(f,h,p){const g=f.clippingPlanes,x=f.clipIntersection,y=f.clipShadows,v=t.get(f);if(!i||g===null||g.length===0||s&&!y)s?c(null):u();else{const S=s?0:r,_=S*4;let E=v.clippingState||null;l.value=E,E=c(g,h,_,p);for(let b=0;b!==_;++b)E[b]=n[b];v.clippingState=E,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=S}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(f,h,p,g){const x=f!==null?f.length:0;let y=null;if(x!==0){if(y=l.value,g!==!0||y===null){const v=p+x*4,S=h.matrixWorldInverse;a.getNormalMatrix(S),(y===null||y.length<v)&&(y=new Float32Array(v));for(let _=0,E=p;_!==x;++_,E+=4)o.copy(f[_]).applyMatrix4(S,a),o.normal.toArray(y,E),y[E+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,y}}function BX(t){let e=new WeakMap;function n(o,a){return a===Pm?o.mapping=Ll:a===Dm&&(o.mapping=Wu),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Pm||a===Dm)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new g1(l.height/2);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",i),n(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Us extends op{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const td=4,Jb=[.125,.215,.35,.446,.526,.582],Zc=20,Yy=new Us,Zb=new Xe;let Ky=null;const Xc=(1+Math.sqrt(5))/2,Eh=1/Xc,Qb=[new X(1,1,1),new X(-1,1,1),new X(1,1,-1),new X(-1,1,-1),new X(0,Xc,Eh),new X(0,Xc,-Eh),new X(Eh,0,Xc),new X(-Eh,0,Xc),new X(Xc,Eh,0),new X(-Xc,Eh,0)];class gv{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){Ky=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=eM(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=$b(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Ky),e.scissorTest=!1,p2(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Ll||e.mapping===Wu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Ky=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:ht,minFilter:ht,generateMipmaps:!1,type:ps,format:Bn,colorSpace:ea,depthBuffer:!1},i=qb(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=qb(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=FX(s)),this._blurMaterial=UX(s,e,n)}return i}_compileMaterial(e){const n=new Un(this._lodPlanes[0],e);this._renderer.compile(n,Yy)}_sceneToCubeUV(e,n,r,i){const a=new hn(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,f=c.autoClear,h=c.toneMapping;c.getClearColor(Zb),c.toneMapping=Da,c.autoClear=!1;const p=new us({name:"PMREM.Background",side:yr,depthWrite:!1,depthTest:!1}),g=new Un(new Nf,p);let x=!1;const y=e.background;y?y.isColor&&(p.color.copy(y),e.background=null,x=!0):(p.color.copy(Zb),x=!0);for(let v=0;v<6;v++){const S=v%3;S===0?(a.up.set(0,l[v],0),a.lookAt(u[v],0,0)):S===1?(a.up.set(0,0,l[v]),a.lookAt(0,u[v],0)):(a.up.set(0,l[v],0),a.lookAt(0,0,u[v]));const _=this._cubeSize;p2(i,S*_,v>2?_:0,_,_),c.setRenderTarget(i),x&&c.render(g,a),c.render(e,a)}g.geometry.dispose(),g.material.dispose(),c.toneMapping=h,c.autoClear=f,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Ll||e.mapping===Wu;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=eM()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=$b());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Un(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;p2(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,Yy)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=Qb[(i-1)%Qb.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,f=new Un(this._lodPlanes[i],u),h=u.uniforms,p=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*p):2*Math.PI/(2*Zc-1),x=s/g,y=isFinite(s)?1+Math.floor(c*x):Zc;y>Zc&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Zc}`);const v=[];let S=0;for(let A=0;A<Zc;++A){const D=A/x,C=Math.exp(-D*D/2);v.push(C),A===0?S+=C:A<y&&(S+=2*C)}for(let A=0;A<v.length;A++)v[A]=v[A]/S;h.envMap.value=e.texture,h.samples.value=y,h.weights.value=v,h.latitudinal.value=o==="latitudinal",a&&(h.poleAxis.value=a);const{_lodMax:_}=this;h.dTheta.value=g,h.mipInt.value=_-r;const E=this._sizeLods[i],b=3*E*(i>_-td?i-_+td:0),T=4*(this._cubeSize-E);p2(n,b,T,3*E,2*E),l.setRenderTarget(n),l.render(f,Yy)}}function FX(t){const e=[],n=[],r=[];let i=t;const s=t-td+1+Jb.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-td?l=Jb[o-t+td-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),c=-u,f=1+u,h=[c,c,f,c,f,f,c,c,f,f,c,f],p=6,g=6,x=3,y=2,v=1,S=new Float32Array(x*g*p),_=new Float32Array(y*g*p),E=new Float32Array(v*g*p);for(let T=0;T<p;T++){const A=T%3*2/3-1,D=T>2?0:-1,C=[A,D,0,A+2/3,D,0,A+2/3,D+1,0,A,D,0,A+2/3,D+1,0,A,D+1,0];S.set(C,x*g*T),_.set(h,y*g*T);const L=[T,T,T,T,T,T];E.set(L,v*g*T)}const b=new Lt;b.setAttribute("position",new Zt(S,x)),b.setAttribute("uv",new Zt(_,y)),b.setAttribute("faceIndex",new Zt(E,v)),e.push(b),i>td&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function qb(t,e,n){const r=new Qt(t,e,n);return r.texture.mapping=ip,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function p2(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function UX(t,e,n){const r=new Float32Array(Zc),i=new X(0,1,0);return new Ht({name:"SphericalGaussianBlur",defines:{n:Zc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:dS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:On,depthTest:!1,depthWrite:!1})}function $b(){return new Ht({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:dS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:On,depthTest:!1,depthWrite:!1})}function eM(){return new Ht({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:dS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:On,depthTest:!1,depthWrite:!1})}function dS(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function OX(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===Pm||l===Dm,c=l===Ll||l===Wu;if(u||c)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return n===null&&(n=new gv(t)),f=u?n.fromEquirectangular(a,f):n.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(u&&f&&f.height>0||c&&f&&i(f)){n===null&&(n=new gv(t));const h=u?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,h),a.addEventListener("dispose",s),h.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let c=0;c<u;c++)a[c]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function kX(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function NX(t,e,n,r){const i={},s=new WeakMap;function o(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const g in h.attributes)e.remove(h.attributes[g]);for(const g in h.morphAttributes){const x=h.morphAttributes[g];for(let y=0,v=x.length;y<v;y++)e.remove(x[y])}h.removeEventListener("dispose",o),delete i[h.id];const p=s.get(h);p&&(e.remove(p),s.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function a(f,h){return i[h.id]===!0||(h.addEventListener("dispose",o),i[h.id]=!0,n.memory.geometries++),h}function l(f){const h=f.attributes;for(const g in h)e.update(h[g],t.ARRAY_BUFFER);const p=f.morphAttributes;for(const g in p){const x=p[g];for(let y=0,v=x.length;y<v;y++)e.update(x[y],t.ARRAY_BUFFER)}}function u(f){const h=[],p=f.index,g=f.attributes.position;let x=0;if(p!==null){const S=p.array;x=p.version;for(let _=0,E=S.length;_<E;_+=3){const b=S[_+0],T=S[_+1],A=S[_+2];h.push(b,T,T,A,A,b)}}else if(g!==void 0){const S=g.array;x=g.version;for(let _=0,E=S.length/3-1;_<E;_+=3){const b=_+0,T=_+1,A=_+2;h.push(b,T,T,A,A,b)}}else return;const y=new(wI(h)?hS:fS)(h,1);y.version=x;const v=s.get(f);v&&e.remove(v),s.set(f,y)}function c(f){const h=s.get(f);if(h){const p=f.index;p!==null&&h.version<p.version&&u(f)}else u(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:c}}function zX(t,e,n,r){const i=r.isWebGL2;let s;function o(h){s=h}let a,l;function u(h){a=h.type,l=h.bytesPerElement}function c(h,p){t.drawElements(s,p,a,h*l),n.update(p,s,1)}function f(h,p,g){if(g===0)return;let x,y;if(i)x=t,y="drawElementsInstanced";else if(x=e.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",x===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}x[y](s,p,a,h*l,g),n.update(p,s,g)}this.setMode=o,this.setIndex=u,this.render=c,this.renderInstances=f}function GX(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function HX(t,e){return t[0]-e[0]}function VX(t,e){return Math.abs(e[1])-Math.abs(t[1])}function WX(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new Kt,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,c,f){const h=u.morphTargetInfluences;if(e.isWebGL2===!0){const p=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,g=p!==void 0?p.length:0;let x=s.get(c);if(x===void 0||x.count!==g){let V=function(){z.dispose(),s.delete(c),c.removeEventListener("dispose",V)};x!==void 0&&x.texture.dispose();const S=c.morphAttributes.position!==void 0,_=c.morphAttributes.normal!==void 0,E=c.morphAttributes.color!==void 0,b=c.morphAttributes.position||[],T=c.morphAttributes.normal||[],A=c.morphAttributes.color||[];let D=0;S===!0&&(D=1),_===!0&&(D=2),E===!0&&(D=3);let C=c.attributes.position.count*D,L=1;C>e.maxTextureSize&&(L=Math.ceil(C/e.maxTextureSize),C=e.maxTextureSize);const k=new Float32Array(C*L*4*g),z=new x5(k,C,L,g);z.type=Jn,z.needsUpdate=!0;const H=D*4;for(let K=0;K<g;K++){const J=b[K],$=T[K],U=A[K],G=C*L*4*K;for(let W=0;W<J.count;W++){const F=W*H;S===!0&&(o.fromBufferAttribute(J,W),k[G+F+0]=o.x,k[G+F+1]=o.y,k[G+F+2]=o.z,k[G+F+3]=0),_===!0&&(o.fromBufferAttribute($,W),k[G+F+4]=o.x,k[G+F+5]=o.y,k[G+F+6]=o.z,k[G+F+7]=0),E===!0&&(o.fromBufferAttribute(U,W),k[G+F+8]=o.x,k[G+F+9]=o.y,k[G+F+10]=o.z,k[G+F+11]=U.itemSize===4?o.w:1)}}x={count:g,texture:z,size:new ue(C,L)},s.set(c,x),c.addEventListener("dispose",V)}let y=0;for(let S=0;S<h.length;S++)y+=h[S];const v=c.morphTargetsRelative?1:1-y;f.getUniforms().setValue(t,"morphTargetBaseInfluence",v),f.getUniforms().setValue(t,"morphTargetInfluences",h),f.getUniforms().setValue(t,"morphTargetsTexture",x.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",x.size)}else{const p=h===void 0?0:h.length;let g=r[c.id];if(g===void 0||g.length!==p){g=[];for(let _=0;_<p;_++)g[_]=[_,0];r[c.id]=g}for(let _=0;_<p;_++){const E=g[_];E[0]=_,E[1]=h[_]}g.sort(VX);for(let _=0;_<8;_++)_<p&&g[_][1]?(a[_][0]=g[_][0],a[_][1]=g[_][1]):(a[_][0]=Number.MAX_SAFE_INTEGER,a[_][1]=0);a.sort(HX);const x=c.morphAttributes.position,y=c.morphAttributes.normal;let v=0;for(let _=0;_<8;_++){const E=a[_],b=E[0],T=E[1];b!==Number.MAX_SAFE_INTEGER&&T?(x&&c.getAttribute("morphTarget"+_)!==x[b]&&c.setAttribute("morphTarget"+_,x[b]),y&&c.getAttribute("morphNormal"+_)!==y[b]&&c.setAttribute("morphNormal"+_,y[b]),i[_]=T,v+=T):(x&&c.hasAttribute("morphTarget"+_)===!0&&c.deleteAttribute("morphTarget"+_),y&&c.hasAttribute("morphNormal"+_)===!0&&c.deleteAttribute("morphNormal"+_),i[_]=0)}const S=c.morphTargetsRelative?1:1-v;f.getUniforms().setValue(t,"morphTargetBaseInfluence",S),f.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function jX(t,e,n,r){let i=new WeakMap;function s(l){const u=r.render.frame,c=l.geometry,f=e.get(l,c);if(i.get(f)!==u&&(e.update(f),i.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==u&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const h=l.skeleton;i.get(h)!==u&&(h.update(),i.set(h,u))}return f}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:o}}const CI=new gn,RI=new x5,PI=new df,DI=new m1,tM=[],nM=[],rM=new Float32Array(16),iM=new Float32Array(9),sM=new Float32Array(4);function ap(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=tM[i];if(s===void 0&&(s=new Float32Array(i),tM[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function kr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Nr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function w5(t,e){let n=nM[e];n===void 0&&(n=new Int32Array(e),nM[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function XX(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function YX(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(kr(n,e))return;t.uniform2fv(this.addr,e),Nr(n,e)}}function KX(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(kr(n,e))return;t.uniform3fv(this.addr,e),Nr(n,e)}}function JX(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(kr(n,e))return;t.uniform4fv(this.addr,e),Nr(n,e)}}function ZX(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(kr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Nr(n,e)}else{if(kr(n,r))return;sM.set(r),t.uniformMatrix2fv(this.addr,!1,sM),Nr(n,r)}}function QX(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(kr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Nr(n,e)}else{if(kr(n,r))return;iM.set(r),t.uniformMatrix3fv(this.addr,!1,iM),Nr(n,r)}}function qX(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(kr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Nr(n,e)}else{if(kr(n,r))return;rM.set(r),t.uniformMatrix4fv(this.addr,!1,rM),Nr(n,r)}}function $X(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function eY(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(kr(n,e))return;t.uniform2iv(this.addr,e),Nr(n,e)}}function tY(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(kr(n,e))return;t.uniform3iv(this.addr,e),Nr(n,e)}}function nY(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(kr(n,e))return;t.uniform4iv(this.addr,e),Nr(n,e)}}function rY(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function iY(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(kr(n,e))return;t.uniform2uiv(this.addr,e),Nr(n,e)}}function sY(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(kr(n,e))return;t.uniform3uiv(this.addr,e),Nr(n,e)}}function oY(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(kr(n,e))return;t.uniform4uiv(this.addr,e),Nr(n,e)}}function aY(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||CI,i)}function lY(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||PI,i)}function uY(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||DI,i)}function cY(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||RI,i)}function fY(t){switch(t){case 5126:return XX;case 35664:return YX;case 35665:return KX;case 35666:return JX;case 35674:return ZX;case 35675:return QX;case 35676:return qX;case 5124:case 35670:return $X;case 35667:case 35671:return eY;case 35668:case 35672:return tY;case 35669:case 35673:return nY;case 5125:return rY;case 36294:return iY;case 36295:return sY;case 36296:return oY;case 35678:case 36198:case 36298:case 36306:case 35682:return aY;case 35679:case 36299:case 36307:return lY;case 35680:case 36300:case 36308:case 36293:return uY;case 36289:case 36303:case 36311:case 36292:return cY}}function hY(t,e){t.uniform1fv(this.addr,e)}function dY(t,e){const n=ap(e,this.size,2);t.uniform2fv(this.addr,n)}function pY(t,e){const n=ap(e,this.size,3);t.uniform3fv(this.addr,n)}function mY(t,e){const n=ap(e,this.size,4);t.uniform4fv(this.addr,n)}function gY(t,e){const n=ap(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function vY(t,e){const n=ap(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function yY(t,e){const n=ap(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function xY(t,e){t.uniform1iv(this.addr,e)}function SY(t,e){t.uniform2iv(this.addr,e)}function _Y(t,e){t.uniform3iv(this.addr,e)}function wY(t,e){t.uniform4iv(this.addr,e)}function EY(t,e){t.uniform1uiv(this.addr,e)}function bY(t,e){t.uniform2uiv(this.addr,e)}function MY(t,e){t.uniform3uiv(this.addr,e)}function TY(t,e){t.uniform4uiv(this.addr,e)}function AY(t,e,n){const r=this.cache,i=e.length,s=w5(n,i);kr(r,s)||(t.uniform1iv(this.addr,s),Nr(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||CI,s[o])}function CY(t,e,n){const r=this.cache,i=e.length,s=w5(n,i);kr(r,s)||(t.uniform1iv(this.addr,s),Nr(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||PI,s[o])}function RY(t,e,n){const r=this.cache,i=e.length,s=w5(n,i);kr(r,s)||(t.uniform1iv(this.addr,s),Nr(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||DI,s[o])}function PY(t,e,n){const r=this.cache,i=e.length,s=w5(n,i);kr(r,s)||(t.uniform1iv(this.addr,s),Nr(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||RI,s[o])}function DY(t){switch(t){case 5126:return hY;case 35664:return dY;case 35665:return pY;case 35666:return mY;case 35674:return gY;case 35675:return vY;case 35676:return yY;case 5124:case 35670:return xY;case 35667:case 35671:return SY;case 35668:case 35672:return _Y;case 35669:case 35673:return wY;case 5125:return EY;case 36294:return bY;case 36295:return MY;case 36296:return TY;case 35678:case 36198:case 36298:case 36306:case 35682:return AY;case 35679:case 36299:case 36307:return CY;case 35680:case 36300:case 36308:case 36293:return RY;case 36289:case 36303:case 36311:case 36292:return PY}}class LY{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=fY(n.type)}}class IY{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=DY(n.type)}}class BY{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const Jy=/(\w+)(\])?(\[|\.)?/g;function oM(t,e){t.seq.push(e),t.map[e.id]=e}function FY(t,e,n){const r=t.name,i=r.length;for(Jy.lastIndex=0;;){const s=Jy.exec(r),o=Jy.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){oM(n,u===void 0?new LY(a,t,e):new IY(a,t,e));break}else{let f=n.map[a];f===void 0&&(f=new BY(a),oM(n,f)),n=f}}}class Pg{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);FY(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function aM(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let UY=0;function OY(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function kY(t){switch(t){case ea:return["Linear","( value )"];case Cn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),["Linear","( value )"]}}function lM(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+OY(t.getShaderSource(e),o)}else return i}function NY(t,e){const n=kY(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function zY(t,e){let n;switch(e){case QL:n="Linear";break;case qL:n="Reinhard";break;case $L:n="OptimizedCineon";break;case q7:n="ACESFilmic";break;case eI:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function GY(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(F0).join(`
`)}function HY(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function VY(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function F0(t){return t!==""}function uM(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function cM(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const WY=/^[ \t]*#include +<([\w\d./]+)>/gm;function Fx(t){return t.replace(WY,XY)}const jY=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function XY(t,e){let n=gt[e];if(n===void 0){const r=jY.get(e);if(r!==void 0)n=gt[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return Fx(n)}const YY=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function fM(t){return t.replace(YY,KY)}function KY(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function hM(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function JY(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===u1?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===J0?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Vo&&(e="SHADOWMAP_TYPE_VSM"),e}function ZY(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Ll:case Wu:e="ENVMAP_TYPE_CUBE";break;case ip:e="ENVMAP_TYPE_CUBE_UV";break}return e}function QY(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Wu:e="ENVMAP_MODE_REFRACTION";break}return e}function qY(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case c1:e="ENVMAP_BLENDING_MULTIPLY";break;case JL:e="ENVMAP_BLENDING_MIX";break;case ZL:e="ENVMAP_BLENDING_ADD";break}return e}function $Y(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function eK(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=JY(n),u=ZY(n),c=QY(n),f=qY(n),h=$Y(n),p=n.isWebGL2?"":GY(n),g=HY(s),x=i.createProgram();let y,v,S=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(F0).join(`
`),y.length>0&&(y+=`
`),v=[p,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(F0).join(`
`),v.length>0&&(v+=`
`)):(y=[hM(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(F0).join(`
`),v=[p,hM(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Da?"#define TONE_MAPPING":"",n.toneMapping!==Da?gt.tonemapping_pars_fragment:"",n.toneMapping!==Da?zY("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",gt.colorspace_pars_fragment,NY("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(F0).join(`
`)),o=Fx(o),o=uM(o,n),o=cM(o,n),a=Fx(a),a=uM(a,n),a=cM(a,n),o=fM(o),a=fM(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,v=["#define varying in",n.glslVersion===dv?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===dv?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const _=S+y+o,E=S+v+a,b=aM(i,i.VERTEX_SHADER,_),T=aM(i,i.FRAGMENT_SHADER,E);if(i.attachShader(x,b),i.attachShader(x,T),n.index0AttributeName!==void 0?i.bindAttribLocation(x,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x),t.debug.checkShaderErrors){const C=i.getProgramInfoLog(x).trim(),L=i.getShaderInfoLog(b).trim(),k=i.getShaderInfoLog(T).trim();let z=!0,H=!0;if(i.getProgramParameter(x,i.LINK_STATUS)===!1)if(z=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,x,b,T);else{const V=lM(i,b,"vertex"),K=lM(i,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(x,i.VALIDATE_STATUS)+`

Program Info Log: `+C+`
`+V+`
`+K)}else C!==""?console.warn("THREE.WebGLProgram: Program Info Log:",C):(L===""||k==="")&&(H=!1);H&&(this.diagnostics={runnable:z,programLog:C,vertexShader:{log:L,prefix:y},fragmentShader:{log:k,prefix:v}})}i.deleteShader(b),i.deleteShader(T);let A;this.getUniforms=function(){return A===void 0&&(A=new Pg(i,x)),A};let D;return this.getAttributes=function(){return D===void 0&&(D=VY(i,x)),D},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(x),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=UY++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=b,this.fragmentShader=T,this}let tK=0;class nK{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new rK(e),n.set(e,r)),r}}class rK{constructor(e){this.id=tK++,this.code=e,this.usedTimes=0}}function iK(t,e,n,r,i,s,o){const a=new pf,l=new nK,u=[],c=i.isWebGL2,f=i.logarithmicDepthBuffer,h=i.vertexTextures;let p=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(C){return C===0?"uv":`uv${C}`}function y(C,L,k,z,H){const V=z.fog,K=H.geometry,J=C.isMeshStandardMaterial?z.environment:null,$=(C.isMeshStandardMaterial?n:e).get(C.envMap||J),U=$&&$.mapping===ip?$.image.height:null,G=g[C.type];C.precision!==null&&(p=i.getMaxPrecision(C.precision),p!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",p,"instead."));const W=K.morphAttributes.position||K.morphAttributes.normal||K.morphAttributes.color,F=W!==void 0?W.length:0;let j=0;K.morphAttributes.position!==void 0&&(j=1),K.morphAttributes.normal!==void 0&&(j=2),K.morphAttributes.color!==void 0&&(j=3);let ie,se,re,fe;if(G){const Wt=Xo[G];ie=Wt.vertexShader,se=Wt.fragmentShader}else ie=C.vertexShader,se=C.fragmentShader,l.update(C),re=l.getVertexShaderID(C),fe=l.getFragmentShaderID(C);const oe=t.getRenderTarget(),he=H.isInstancedMesh===!0,ke=!!C.map,He=!!C.matcap,ge=!!$,Y=!!C.aoMap,Se=!!C.lightMap,me=!!C.bumpMap,de=!!C.normalMap,pe=!!C.displacementMap,ze=!!C.emissiveMap,ye=!!C.metalnessMap,Be=!!C.roughnessMap,Ue=C.anisotropy>0,Ce=C.clearcoat>0,$e=C.iridescence>0,N=C.sheen>0,O=C.transmission>0,ne=Ue&&!!C.anisotropyMap,Ae=Ce&&!!C.clearcoatMap,be=Ce&&!!C.clearcoatNormalMap,Ee=Ce&&!!C.clearcoatRoughnessMap,Ge=$e&&!!C.iridescenceMap,Fe=$e&&!!C.iridescenceThicknessMap,ve=N&&!!C.sheenColorMap,je=N&&!!C.sheenRoughnessMap,Ze=!!C.specularMap,Ye=!!C.specularColorMap,Ne=!!C.specularIntensityMap,ee=O&&!!C.transmissionMap,Te=O&&!!C.thicknessMap,Ke=!!C.gradientMap,Q=!!C.alphaMap,Oe=C.alphaTest>0,xe=!!C.alphaHash,We=!!C.extensions,qe=!!K.attributes.uv1,Mt=!!K.attributes.uv2,bt=!!K.attributes.uv3;let Rt=Da;return C.toneMapped&&(oe===null||oe.isXRRenderTarget===!0)&&(Rt=t.toneMapping),{isWebGL2:c,shaderID:G,shaderType:C.type,shaderName:C.name,vertexShader:ie,fragmentShader:se,defines:C.defines,customVertexShaderID:re,customFragmentShaderID:fe,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:p,instancing:he,instancingColor:he&&H.instanceColor!==null,supportsVertexTextures:h,outputColorSpace:oe===null?t.outputColorSpace:oe.isXRRenderTarget===!0?oe.texture.colorSpace:ea,map:ke,matcap:He,envMap:ge,envMapMode:ge&&$.mapping,envMapCubeUVHeight:U,aoMap:Y,lightMap:Se,bumpMap:me,normalMap:de,displacementMap:h&&pe,emissiveMap:ze,normalMapObjectSpace:de&&C.normalMapType===fI,normalMapTangentSpace:de&&C.normalMapType===Vl,metalnessMap:ye,roughnessMap:Be,anisotropy:Ue,anisotropyMap:ne,clearcoat:Ce,clearcoatMap:Ae,clearcoatNormalMap:be,clearcoatRoughnessMap:Ee,iridescence:$e,iridescenceMap:Ge,iridescenceThicknessMap:Fe,sheen:N,sheenColorMap:ve,sheenRoughnessMap:je,specularMap:Ze,specularColorMap:Ye,specularIntensityMap:Ne,transmission:O,transmissionMap:ee,thicknessMap:Te,gradientMap:Ke,opaque:C.transparent===!1&&C.blending===El,alphaMap:Q,alphaTest:Oe,alphaHash:xe,combine:C.combine,mapUv:ke&&x(C.map.channel),aoMapUv:Y&&x(C.aoMap.channel),lightMapUv:Se&&x(C.lightMap.channel),bumpMapUv:me&&x(C.bumpMap.channel),normalMapUv:de&&x(C.normalMap.channel),displacementMapUv:pe&&x(C.displacementMap.channel),emissiveMapUv:ze&&x(C.emissiveMap.channel),metalnessMapUv:ye&&x(C.metalnessMap.channel),roughnessMapUv:Be&&x(C.roughnessMap.channel),anisotropyMapUv:ne&&x(C.anisotropyMap.channel),clearcoatMapUv:Ae&&x(C.clearcoatMap.channel),clearcoatNormalMapUv:be&&x(C.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ee&&x(C.clearcoatRoughnessMap.channel),iridescenceMapUv:Ge&&x(C.iridescenceMap.channel),iridescenceThicknessMapUv:Fe&&x(C.iridescenceThicknessMap.channel),sheenColorMapUv:ve&&x(C.sheenColorMap.channel),sheenRoughnessMapUv:je&&x(C.sheenRoughnessMap.channel),specularMapUv:Ze&&x(C.specularMap.channel),specularColorMapUv:Ye&&x(C.specularColorMap.channel),specularIntensityMapUv:Ne&&x(C.specularIntensityMap.channel),transmissionMapUv:ee&&x(C.transmissionMap.channel),thicknessMapUv:Te&&x(C.thicknessMap.channel),alphaMapUv:Q&&x(C.alphaMap.channel),vertexTangents:!!K.attributes.tangent&&(de||Ue),vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!K.attributes.color&&K.attributes.color.itemSize===4,vertexUv1s:qe,vertexUv2s:Mt,vertexUv3s:bt,pointsUvs:H.isPoints===!0&&!!K.attributes.uv&&(ke||Q),fog:!!V,useFog:C.fog===!0,fogExp2:V&&V.isFogExp2,flatShading:C.flatShading===!0,sizeAttenuation:C.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:H.isSkinnedMesh===!0,morphTargets:K.morphAttributes.position!==void 0,morphNormals:K.morphAttributes.normal!==void 0,morphColors:K.morphAttributes.color!==void 0,morphTargetsCount:F,morphTextureStride:j,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:C.dithering,shadowMapEnabled:t.shadowMap.enabled&&k.length>0,shadowMapType:t.shadowMap.type,toneMapping:Rt,useLegacyLights:t._useLegacyLights,decodeVideoTexture:ke&&C.map.isVideoTexture===!0&&C.map.colorSpace===Cn,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===Zr,flipSided:C.side===yr,useDepthPacking:C.depthPacking>=0,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:We&&C.extensions.derivatives===!0,extensionFragDepth:We&&C.extensions.fragDepth===!0,extensionDrawBuffers:We&&C.extensions.drawBuffers===!0,extensionShaderTextureLOD:We&&C.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:C.customProgramCacheKey()}}function v(C){const L=[];if(C.shaderID?L.push(C.shaderID):(L.push(C.customVertexShaderID),L.push(C.customFragmentShaderID)),C.defines!==void 0)for(const k in C.defines)L.push(k),L.push(C.defines[k]);return C.isRawShaderMaterial===!1&&(S(L,C),_(L,C),L.push(t.outputColorSpace)),L.push(C.customProgramCacheKey),L.join()}function S(C,L){C.push(L.precision),C.push(L.outputColorSpace),C.push(L.envMapMode),C.push(L.envMapCubeUVHeight),C.push(L.mapUv),C.push(L.alphaMapUv),C.push(L.lightMapUv),C.push(L.aoMapUv),C.push(L.bumpMapUv),C.push(L.normalMapUv),C.push(L.displacementMapUv),C.push(L.emissiveMapUv),C.push(L.metalnessMapUv),C.push(L.roughnessMapUv),C.push(L.anisotropyMapUv),C.push(L.clearcoatMapUv),C.push(L.clearcoatNormalMapUv),C.push(L.clearcoatRoughnessMapUv),C.push(L.iridescenceMapUv),C.push(L.iridescenceThicknessMapUv),C.push(L.sheenColorMapUv),C.push(L.sheenRoughnessMapUv),C.push(L.specularMapUv),C.push(L.specularColorMapUv),C.push(L.specularIntensityMapUv),C.push(L.transmissionMapUv),C.push(L.thicknessMapUv),C.push(L.combine),C.push(L.fogExp2),C.push(L.sizeAttenuation),C.push(L.morphTargetsCount),C.push(L.morphAttributeCount),C.push(L.numDirLights),C.push(L.numPointLights),C.push(L.numSpotLights),C.push(L.numSpotLightMaps),C.push(L.numHemiLights),C.push(L.numRectAreaLights),C.push(L.numDirLightShadows),C.push(L.numPointLightShadows),C.push(L.numSpotLightShadows),C.push(L.numSpotLightShadowsWithMaps),C.push(L.shadowMapType),C.push(L.toneMapping),C.push(L.numClippingPlanes),C.push(L.numClipIntersection),C.push(L.depthPacking)}function _(C,L){a.disableAll(),L.isWebGL2&&a.enable(0),L.supportsVertexTextures&&a.enable(1),L.instancing&&a.enable(2),L.instancingColor&&a.enable(3),L.matcap&&a.enable(4),L.envMap&&a.enable(5),L.normalMapObjectSpace&&a.enable(6),L.normalMapTangentSpace&&a.enable(7),L.clearcoat&&a.enable(8),L.iridescence&&a.enable(9),L.alphaTest&&a.enable(10),L.vertexColors&&a.enable(11),L.vertexAlphas&&a.enable(12),L.vertexUv1s&&a.enable(13),L.vertexUv2s&&a.enable(14),L.vertexUv3s&&a.enable(15),L.vertexTangents&&a.enable(16),L.anisotropy&&a.enable(17),C.push(a.mask),a.disableAll(),L.fog&&a.enable(0),L.useFog&&a.enable(1),L.flatShading&&a.enable(2),L.logarithmicDepthBuffer&&a.enable(3),L.skinning&&a.enable(4),L.morphTargets&&a.enable(5),L.morphNormals&&a.enable(6),L.morphColors&&a.enable(7),L.premultipliedAlpha&&a.enable(8),L.shadowMapEnabled&&a.enable(9),L.useLegacyLights&&a.enable(10),L.doubleSided&&a.enable(11),L.flipSided&&a.enable(12),L.useDepthPacking&&a.enable(13),L.dithering&&a.enable(14),L.transmission&&a.enable(15),L.sheen&&a.enable(16),L.opaque&&a.enable(17),L.pointsUvs&&a.enable(18),L.decodeVideoTexture&&a.enable(19),C.push(a.mask)}function E(C){const L=g[C.type];let k;if(L){const z=Xo[L];k=p1.clone(z.uniforms)}else k=C.uniforms;return k}function b(C,L){let k;for(let z=0,H=u.length;z<H;z++){const V=u[z];if(V.cacheKey===L){k=V,++k.usedTimes;break}}return k===void 0&&(k=new eK(t,L,C,s),u.push(k)),k}function T(C){if(--C.usedTimes===0){const L=u.indexOf(C);u[L]=u[u.length-1],u.pop(),C.destroy()}}function A(C){l.remove(C)}function D(){l.dispose()}return{getParameters:y,getProgramCacheKey:v,getUniforms:E,acquireProgram:b,releaseProgram:T,releaseShaderCache:A,programs:u,dispose:D}}function sK(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function oK(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function dM(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function pM(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(f,h,p,g,x,y){let v=t[e];return v===void 0?(v={id:f.id,object:f,geometry:h,material:p,groupOrder:g,renderOrder:f.renderOrder,z:x,group:y},t[e]=v):(v.id=f.id,v.object=f,v.geometry=h,v.material=p,v.groupOrder=g,v.renderOrder=f.renderOrder,v.z=x,v.group=y),e++,v}function a(f,h,p,g,x,y){const v=o(f,h,p,g,x,y);p.transmission>0?r.push(v):p.transparent===!0?i.push(v):n.push(v)}function l(f,h,p,g,x,y){const v=o(f,h,p,g,x,y);p.transmission>0?r.unshift(v):p.transparent===!0?i.unshift(v):n.unshift(v)}function u(f,h){n.length>1&&n.sort(f||oK),r.length>1&&r.sort(h||dM),i.length>1&&i.sort(h||dM)}function c(){for(let f=e,h=t.length;f<h;f++){const p=t[f];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:c,sort:u}}function aK(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new pM,t.set(r,[o])):i>=s.length?(o=new pM,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function lK(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new X,color:new Xe};break;case"SpotLight":n={position:new X,direction:new X,color:new Xe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new X,color:new Xe,distance:0,decay:0};break;case"HemisphereLight":n={direction:new X,skyColor:new Xe,groundColor:new Xe};break;case"RectAreaLight":n={color:new Xe,position:new X,halfWidth:new X,halfHeight:new X};break}return t[e.id]=n,n}}}function uK(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ue};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ue};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ue,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let cK=0;function fK(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function hK(t,e){const n=new lK,r=uK(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let c=0;c<9;c++)i.probe.push(new X);const s=new X,o=new rt,a=new rt;function l(c,f){let h=0,p=0,g=0;for(let k=0;k<9;k++)i.probe[k].set(0,0,0);let x=0,y=0,v=0,S=0,_=0,E=0,b=0,T=0,A=0,D=0;c.sort(fK);const C=f===!0?Math.PI:1;for(let k=0,z=c.length;k<z;k++){const H=c[k],V=H.color,K=H.intensity,J=H.distance,$=H.shadow&&H.shadow.map?H.shadow.map.texture:null;if(H.isAmbientLight)h+=V.r*K*C,p+=V.g*K*C,g+=V.b*K*C;else if(H.isLightProbe)for(let U=0;U<9;U++)i.probe[U].addScaledVector(H.sh.coefficients[U],K);else if(H.isDirectionalLight){const U=n.get(H);if(U.color.copy(H.color).multiplyScalar(H.intensity*C),H.castShadow){const G=H.shadow,W=r.get(H);W.shadowBias=G.bias,W.shadowNormalBias=G.normalBias,W.shadowRadius=G.radius,W.shadowMapSize=G.mapSize,i.directionalShadow[x]=W,i.directionalShadowMap[x]=$,i.directionalShadowMatrix[x]=H.shadow.matrix,E++}i.directional[x]=U,x++}else if(H.isSpotLight){const U=n.get(H);U.position.setFromMatrixPosition(H.matrixWorld),U.color.copy(V).multiplyScalar(K*C),U.distance=J,U.coneCos=Math.cos(H.angle),U.penumbraCos=Math.cos(H.angle*(1-H.penumbra)),U.decay=H.decay,i.spot[v]=U;const G=H.shadow;if(H.map&&(i.spotLightMap[A]=H.map,A++,G.updateMatrices(H),H.castShadow&&D++),i.spotLightMatrix[v]=G.matrix,H.castShadow){const W=r.get(H);W.shadowBias=G.bias,W.shadowNormalBias=G.normalBias,W.shadowRadius=G.radius,W.shadowMapSize=G.mapSize,i.spotShadow[v]=W,i.spotShadowMap[v]=$,T++}v++}else if(H.isRectAreaLight){const U=n.get(H);U.color.copy(V).multiplyScalar(K),U.halfWidth.set(H.width*.5,0,0),U.halfHeight.set(0,H.height*.5,0),i.rectArea[S]=U,S++}else if(H.isPointLight){const U=n.get(H);if(U.color.copy(H.color).multiplyScalar(H.intensity*C),U.distance=H.distance,U.decay=H.decay,H.castShadow){const G=H.shadow,W=r.get(H);W.shadowBias=G.bias,W.shadowNormalBias=G.normalBias,W.shadowRadius=G.radius,W.shadowMapSize=G.mapSize,W.shadowCameraNear=G.camera.near,W.shadowCameraFar=G.camera.far,i.pointShadow[y]=W,i.pointShadowMap[y]=$,i.pointShadowMatrix[y]=H.shadow.matrix,b++}i.point[y]=U,y++}else if(H.isHemisphereLight){const U=n.get(H);U.skyColor.copy(H.color).multiplyScalar(K*C),U.groundColor.copy(H.groundColor).multiplyScalar(K*C),i.hemi[_]=U,_++}}S>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=et.LTC_FLOAT_1,i.rectAreaLTC2=et.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=et.LTC_HALF_1,i.rectAreaLTC2=et.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=h,i.ambient[1]=p,i.ambient[2]=g;const L=i.hash;(L.directionalLength!==x||L.pointLength!==y||L.spotLength!==v||L.rectAreaLength!==S||L.hemiLength!==_||L.numDirectionalShadows!==E||L.numPointShadows!==b||L.numSpotShadows!==T||L.numSpotMaps!==A)&&(i.directional.length=x,i.spot.length=v,i.rectArea.length=S,i.point.length=y,i.hemi.length=_,i.directionalShadow.length=E,i.directionalShadowMap.length=E,i.pointShadow.length=b,i.pointShadowMap.length=b,i.spotShadow.length=T,i.spotShadowMap.length=T,i.directionalShadowMatrix.length=E,i.pointShadowMatrix.length=b,i.spotLightMatrix.length=T+A-D,i.spotLightMap.length=A,i.numSpotLightShadowsWithMaps=D,L.directionalLength=x,L.pointLength=y,L.spotLength=v,L.rectAreaLength=S,L.hemiLength=_,L.numDirectionalShadows=E,L.numPointShadows=b,L.numSpotShadows=T,L.numSpotMaps=A,i.version=cK++)}function u(c,f){let h=0,p=0,g=0,x=0,y=0;const v=f.matrixWorldInverse;for(let S=0,_=c.length;S<_;S++){const E=c[S];if(E.isDirectionalLight){const b=i.directional[h];b.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(v),h++}else if(E.isSpotLight){const b=i.spot[g];b.position.setFromMatrixPosition(E.matrixWorld),b.position.applyMatrix4(v),b.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(v),g++}else if(E.isRectAreaLight){const b=i.rectArea[x];b.position.setFromMatrixPosition(E.matrixWorld),b.position.applyMatrix4(v),a.identity(),o.copy(E.matrixWorld),o.premultiply(v),a.extractRotation(o),b.halfWidth.set(E.width*.5,0,0),b.halfHeight.set(0,E.height*.5,0),b.halfWidth.applyMatrix4(a),b.halfHeight.applyMatrix4(a),x++}else if(E.isPointLight){const b=i.point[p];b.position.setFromMatrixPosition(E.matrixWorld),b.position.applyMatrix4(v),p++}else if(E.isHemisphereLight){const b=i.hemi[y];b.direction.setFromMatrixPosition(E.matrixWorld),b.direction.transformDirection(v),y++}}}return{setup:l,setupView:u,state:i}}function mM(t,e){const n=new hK(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function a(f){i.push(f)}function l(f){n.setup(r,f)}function u(f){n.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function dK(t,e){let n=new WeakMap;function r(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new mM(t,e),n.set(s,[l])):o>=a.length?(l=new mM(t,e),a.push(l)):l=a[o],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class v1 extends ur{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=$r,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class E5 extends ur{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const pK=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,mK=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function gK(t,e,n){let r=new _5;const i=new ue,s=new ue,o=new Kt,a=new v1({depthPacking:$o}),l=new E5,u={},c=n.maxTextureSize,f={[Ro]:yr,[yr]:Ro,[Zr]:Zr},h=new Ht({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ue},radius:{value:4}},vertexShader:pK,fragmentShader:mK}),p=h.clone();p.defines.HORIZONTAL_PASS=1;const g=new Lt;g.setAttribute("position",new Zt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new Un(g,h),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=u1;let v=this.type;this.render=function(b,T,A){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||b.length===0)return;const D=t.getRenderTarget(),C=t.getActiveCubeFace(),L=t.getActiveMipmapLevel(),k=t.state;k.setBlending(On),k.buffers.color.setClear(1,1,1,1),k.buffers.depth.setTest(!0),k.setScissorTest(!1);const z=v!==Vo&&this.type===Vo,H=v===Vo&&this.type!==Vo;for(let V=0,K=b.length;V<K;V++){const J=b[V],$=J.shadow;if($===void 0){console.warn("THREE.WebGLShadowMap:",J,"has no shadow.");continue}if($.autoUpdate===!1&&$.needsUpdate===!1)continue;i.copy($.mapSize);const U=$.getFrameExtents();if(i.multiply(U),s.copy($.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(s.x=Math.floor(c/U.x),i.x=s.x*U.x,$.mapSize.x=s.x),i.y>c&&(s.y=Math.floor(c/U.y),i.y=s.y*U.y,$.mapSize.y=s.y)),$.map===null||z===!0||H===!0){const W=this.type!==Vo?{minFilter:Dt,magFilter:Dt}:{};$.map!==null&&$.map.dispose(),$.map=new Qt(i.x,i.y,W),$.map.texture.name=J.name+".shadowMap",$.camera.updateProjectionMatrix()}t.setRenderTarget($.map),t.clear();const G=$.getViewportCount();for(let W=0;W<G;W++){const F=$.getViewport(W);o.set(s.x*F.x,s.y*F.y,s.x*F.z,s.y*F.w),k.viewport(o),$.updateMatrices(J,W),r=$.getFrustum(),E(T,A,$.camera,J,this.type)}$.isPointLightShadow!==!0&&this.type===Vo&&S($,A),$.needsUpdate=!1}v=this.type,y.needsUpdate=!1,t.setRenderTarget(D,C,L)};function S(b,T){const A=e.update(x);h.defines.VSM_SAMPLES!==b.blurSamples&&(h.defines.VSM_SAMPLES=b.blurSamples,p.defines.VSM_SAMPLES=b.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),b.mapPass===null&&(b.mapPass=new Qt(i.x,i.y)),h.uniforms.shadow_pass.value=b.map.texture,h.uniforms.resolution.value=b.mapSize,h.uniforms.radius.value=b.radius,t.setRenderTarget(b.mapPass),t.clear(),t.renderBufferDirect(T,null,A,h,x,null),p.uniforms.shadow_pass.value=b.mapPass.texture,p.uniforms.resolution.value=b.mapSize,p.uniforms.radius.value=b.radius,t.setRenderTarget(b.map),t.clear(),t.renderBufferDirect(T,null,A,p,x,null)}function _(b,T,A,D){let C=null;const L=A.isPointLight===!0?b.customDistanceMaterial:b.customDepthMaterial;if(L!==void 0)C=L;else if(C=A.isPointLight===!0?l:a,t.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0){const k=C.uuid,z=T.uuid;let H=u[k];H===void 0&&(H={},u[k]=H);let V=H[z];V===void 0&&(V=C.clone(),H[z]=V),C=V}if(C.visible=T.visible,C.wireframe=T.wireframe,D===Vo?C.side=T.shadowSide!==null?T.shadowSide:T.side:C.side=T.shadowSide!==null?T.shadowSide:f[T.side],C.alphaMap=T.alphaMap,C.alphaTest=T.alphaTest,C.map=T.map,C.clipShadows=T.clipShadows,C.clippingPlanes=T.clippingPlanes,C.clipIntersection=T.clipIntersection,C.displacementMap=T.displacementMap,C.displacementScale=T.displacementScale,C.displacementBias=T.displacementBias,C.wireframeLinewidth=T.wireframeLinewidth,C.linewidth=T.linewidth,A.isPointLight===!0&&C.isMeshDistanceMaterial===!0){const k=t.properties.get(C);k.light=A}return C}function E(b,T,A,D,C){if(b.visible===!1)return;if(b.layers.test(T.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&C===Vo)&&(!b.frustumCulled||r.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(A.matrixWorldInverse,b.matrixWorld);const z=e.update(b),H=b.material;if(Array.isArray(H)){const V=z.groups;for(let K=0,J=V.length;K<J;K++){const $=V[K],U=H[$.materialIndex];if(U&&U.visible){const G=_(b,U,D,C);t.renderBufferDirect(A,null,z,G,b,$)}}}else if(H.visible){const V=_(b,H,D,C);t.renderBufferDirect(A,null,z,V,b,null)}}const k=b.children;for(let z=0,H=k.length;z<H;z++)E(k[z],T,A,D,C)}}function vK(t,e,n){const r=n.isWebGL2;function i(){let Q=!1;const Oe=new Kt;let xe=null;const We=new Kt(0,0,0,0);return{setMask:function(qe){xe!==qe&&!Q&&(t.colorMask(qe,qe,qe,qe),xe=qe)},setLocked:function(qe){Q=qe},setClear:function(qe,Mt,bt,Rt,Xt){Xt===!0&&(qe*=Rt,Mt*=Rt,bt*=Rt),Oe.set(qe,Mt,bt,Rt),We.equals(Oe)===!1&&(t.clearColor(qe,Mt,bt,Rt),We.copy(Oe))},reset:function(){Q=!1,xe=null,We.set(-1,0,0,0)}}}function s(){let Q=!1,Oe=null,xe=null,We=null;return{setTest:function(qe){qe?oe(t.DEPTH_TEST):he(t.DEPTH_TEST)},setMask:function(qe){Oe!==qe&&!Q&&(t.depthMask(qe),Oe=qe)},setFunc:function(qe){if(xe!==qe){switch(qe){case K7:t.depthFunc(t.NEVER);break;case J7:t.depthFunc(t.ALWAYS);break;case fv:t.depthFunc(t.LESS);break;case Cm:t.depthFunc(t.LEQUAL);break;case Rm:t.depthFunc(t.EQUAL);break;case Z7:t.depthFunc(t.GEQUAL);break;case Q7:t.depthFunc(t.GREATER);break;case h5:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}xe=qe}},setLocked:function(qe){Q=qe},setClear:function(qe){We!==qe&&(t.clearDepth(qe),We=qe)},reset:function(){Q=!1,Oe=null,xe=null,We=null}}}function o(){let Q=!1,Oe=null,xe=null,We=null,qe=null,Mt=null,bt=null,Rt=null,Xt=null;return{setTest:function(Wt){Q||(Wt?oe(t.STENCIL_TEST):he(t.STENCIL_TEST))},setMask:function(Wt){Oe!==Wt&&!Q&&(t.stencilMask(Wt),Oe=Wt)},setFunc:function(Wt,zt,Pt){(xe!==Wt||We!==zt||qe!==Pt)&&(t.stencilFunc(Wt,zt,Pt),xe=Wt,We=zt,qe=Pt)},setOp:function(Wt,zt,Pt){(Mt!==Wt||bt!==zt||Rt!==Pt)&&(t.stencilOp(Wt,zt,Pt),Mt=Wt,bt=zt,Rt=Pt)},setLocked:function(Wt){Q=Wt},setClear:function(Wt){Xt!==Wt&&(t.clearStencil(Wt),Xt=Wt)},reset:function(){Q=!1,Oe=null,xe=null,We=null,qe=null,Mt=null,bt=null,Rt=null,Xt=null}}}const a=new i,l=new s,u=new o,c=new WeakMap,f=new WeakMap;let h={},p={},g=new WeakMap,x=[],y=null,v=!1,S=null,_=null,E=null,b=null,T=null,A=null,D=null,C=!1,L=null,k=null,z=null,H=null,V=null;const K=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let J=!1,$=0;const U=t.getParameter(t.VERSION);U.indexOf("WebGL")!==-1?($=parseFloat(/^WebGL (\d)/.exec(U)[1]),J=$>=1):U.indexOf("OpenGL ES")!==-1&&($=parseFloat(/^OpenGL ES (\d)/.exec(U)[1]),J=$>=2);let G=null,W={};const F=t.getParameter(t.SCISSOR_BOX),j=t.getParameter(t.VIEWPORT),ie=new Kt().fromArray(F),se=new Kt().fromArray(j);function re(Q,Oe,xe,We){const qe=new Uint8Array(4),Mt=t.createTexture();t.bindTexture(Q,Mt),t.texParameteri(Q,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Q,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let bt=0;bt<xe;bt++)r&&(Q===t.TEXTURE_3D||Q===t.TEXTURE_2D_ARRAY)?t.texImage3D(Oe,0,t.RGBA,1,1,We,0,t.RGBA,t.UNSIGNED_BYTE,qe):t.texImage2D(Oe+bt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,qe);return Mt}const fe={};fe[t.TEXTURE_2D]=re(t.TEXTURE_2D,t.TEXTURE_2D,1),fe[t.TEXTURE_CUBE_MAP]=re(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(fe[t.TEXTURE_2D_ARRAY]=re(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),fe[t.TEXTURE_3D]=re(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),oe(t.DEPTH_TEST),l.setFunc(Cm),pe(!1),ze(rx),oe(t.CULL_FACE),me(On);function oe(Q){h[Q]!==!0&&(t.enable(Q),h[Q]=!0)}function he(Q){h[Q]!==!1&&(t.disable(Q),h[Q]=!1)}function ke(Q,Oe){return p[Q]!==Oe?(t.bindFramebuffer(Q,Oe),p[Q]=Oe,r&&(Q===t.DRAW_FRAMEBUFFER&&(p[t.FRAMEBUFFER]=Oe),Q===t.FRAMEBUFFER&&(p[t.DRAW_FRAMEBUFFER]=Oe)),!0):!1}function He(Q,Oe){let xe=x,We=!1;if(Q)if(xe=g.get(Oe),xe===void 0&&(xe=[],g.set(Oe,xe)),Q.isWebGLMultipleRenderTargets){const qe=Q.texture;if(xe.length!==qe.length||xe[0]!==t.COLOR_ATTACHMENT0){for(let Mt=0,bt=qe.length;Mt<bt;Mt++)xe[Mt]=t.COLOR_ATTACHMENT0+Mt;xe.length=qe.length,We=!0}}else xe[0]!==t.COLOR_ATTACHMENT0&&(xe[0]=t.COLOR_ATTACHMENT0,We=!0);else xe[0]!==t.BACK&&(xe[0]=t.BACK,We=!0);We&&(n.isWebGL2?t.drawBuffers(xe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(xe))}function ge(Q){return y!==Q?(t.useProgram(Q),y=Q,!0):!1}const Y={[Jc]:t.FUNC_ADD,[kL]:t.FUNC_SUBTRACT,[NL]:t.FUNC_REVERSE_SUBTRACT};if(r)Y[ax]=t.MIN,Y[lx]=t.MAX;else{const Q=e.get("EXT_blend_minmax");Q!==null&&(Y[ax]=Q.MIN_EXT,Y[lx]=Q.MAX_EXT)}const Se={[zL]:t.ZERO,[GL]:t.ONE,[HL]:t.SRC_COLOR,[X7]:t.SRC_ALPHA,[KL]:t.SRC_ALPHA_SATURATE,[XL]:t.DST_COLOR,[WL]:t.DST_ALPHA,[VL]:t.ONE_MINUS_SRC_COLOR,[Y7]:t.ONE_MINUS_SRC_ALPHA,[YL]:t.ONE_MINUS_DST_COLOR,[jL]:t.ONE_MINUS_DST_ALPHA};function me(Q,Oe,xe,We,qe,Mt,bt,Rt){if(Q===On){v===!0&&(he(t.BLEND),v=!1);return}if(v===!1&&(oe(t.BLEND),v=!0),Q!==OL){if(Q!==S||Rt!==C){if((_!==Jc||T!==Jc)&&(t.blendEquation(t.FUNC_ADD),_=Jc,T=Jc),Rt)switch(Q){case El:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case ix:t.blendFunc(t.ONE,t.ONE);break;case sx:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case ox:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Q);break}else switch(Q){case El:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case ix:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case sx:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case ox:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Q);break}E=null,b=null,A=null,D=null,S=Q,C=Rt}return}qe=qe||Oe,Mt=Mt||xe,bt=bt||We,(Oe!==_||qe!==T)&&(t.blendEquationSeparate(Y[Oe],Y[qe]),_=Oe,T=qe),(xe!==E||We!==b||Mt!==A||bt!==D)&&(t.blendFuncSeparate(Se[xe],Se[We],Se[Mt],Se[bt]),E=xe,b=We,A=Mt,D=bt),S=Q,C=!1}function de(Q,Oe){Q.side===Zr?he(t.CULL_FACE):oe(t.CULL_FACE);let xe=Q.side===yr;Oe&&(xe=!xe),pe(xe),Q.blending===El&&Q.transparent===!1?me(On):me(Q.blending,Q.blendEquation,Q.blendSrc,Q.blendDst,Q.blendEquationAlpha,Q.blendSrcAlpha,Q.blendDstAlpha,Q.premultipliedAlpha),l.setFunc(Q.depthFunc),l.setTest(Q.depthTest),l.setMask(Q.depthWrite),a.setMask(Q.colorWrite);const We=Q.stencilWrite;u.setTest(We),We&&(u.setMask(Q.stencilWriteMask),u.setFunc(Q.stencilFunc,Q.stencilRef,Q.stencilFuncMask),u.setOp(Q.stencilFail,Q.stencilZFail,Q.stencilZPass)),Be(Q.polygonOffset,Q.polygonOffsetFactor,Q.polygonOffsetUnits),Q.alphaToCoverage===!0?oe(t.SAMPLE_ALPHA_TO_COVERAGE):he(t.SAMPLE_ALPHA_TO_COVERAGE)}function pe(Q){L!==Q&&(Q?t.frontFace(t.CW):t.frontFace(t.CCW),L=Q)}function ze(Q){Q!==BL?(oe(t.CULL_FACE),Q!==k&&(Q===rx?t.cullFace(t.BACK):Q===FL?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):he(t.CULL_FACE),k=Q}function ye(Q){Q!==z&&(J&&t.lineWidth(Q),z=Q)}function Be(Q,Oe,xe){Q?(oe(t.POLYGON_OFFSET_FILL),(H!==Oe||V!==xe)&&(t.polygonOffset(Oe,xe),H=Oe,V=xe)):he(t.POLYGON_OFFSET_FILL)}function Ue(Q){Q?oe(t.SCISSOR_TEST):he(t.SCISSOR_TEST)}function Ce(Q){Q===void 0&&(Q=t.TEXTURE0+K-1),G!==Q&&(t.activeTexture(Q),G=Q)}function $e(Q,Oe,xe){xe===void 0&&(G===null?xe=t.TEXTURE0+K-1:xe=G);let We=W[xe];We===void 0&&(We={type:void 0,texture:void 0},W[xe]=We),(We.type!==Q||We.texture!==Oe)&&(G!==xe&&(t.activeTexture(xe),G=xe),t.bindTexture(Q,Oe||fe[Q]),We.type=Q,We.texture=Oe)}function N(){const Q=W[G];Q!==void 0&&Q.type!==void 0&&(t.bindTexture(Q.type,null),Q.type=void 0,Q.texture=void 0)}function O(){try{t.compressedTexImage2D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function ne(){try{t.compressedTexImage3D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Ae(){try{t.texSubImage2D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function be(){try{t.texSubImage3D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Ee(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Ge(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Fe(){try{t.texStorage2D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function ve(){try{t.texStorage3D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function je(){try{t.texImage2D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Ze(){try{t.texImage3D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Ye(Q){ie.equals(Q)===!1&&(t.scissor(Q.x,Q.y,Q.z,Q.w),ie.copy(Q))}function Ne(Q){se.equals(Q)===!1&&(t.viewport(Q.x,Q.y,Q.z,Q.w),se.copy(Q))}function ee(Q,Oe){let xe=f.get(Oe);xe===void 0&&(xe=new WeakMap,f.set(Oe,xe));let We=xe.get(Q);We===void 0&&(We=t.getUniformBlockIndex(Oe,Q.name),xe.set(Q,We))}function Te(Q,Oe){const We=f.get(Oe).get(Q);c.get(Oe)!==We&&(t.uniformBlockBinding(Oe,We,Q.__bindingPointIndex),c.set(Oe,We))}function Ke(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),h={},G=null,W={},p={},g=new WeakMap,x=[],y=null,v=!1,S=null,_=null,E=null,b=null,T=null,A=null,D=null,C=!1,L=null,k=null,z=null,H=null,V=null,ie.set(0,0,t.canvas.width,t.canvas.height),se.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:oe,disable:he,bindFramebuffer:ke,drawBuffers:He,useProgram:ge,setBlending:me,setMaterial:de,setFlipSided:pe,setCullFace:ze,setLineWidth:ye,setPolygonOffset:Be,setScissorTest:Ue,activeTexture:Ce,bindTexture:$e,unbindTexture:N,compressedTexImage2D:O,compressedTexImage3D:ne,texImage2D:je,texImage3D:Ze,updateUBOMapping:ee,uniformBlockBinding:Te,texStorage2D:Fe,texStorage3D:ve,texSubImage2D:Ae,texSubImage3D:be,compressedTexSubImage2D:Ee,compressedTexSubImage3D:Ge,scissor:Ye,viewport:Ne,reset:Ke}}function yK(t,e,n,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,c=i.maxTextureSize,f=i.maxSamples,h=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,p=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let x;const y=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(N,O){return v?new OffscreenCanvas(N,O):Um("canvas")}function _(N,O,ne,Ae){let be=1;if((N.width>Ae||N.height>Ae)&&(be=Ae/Math.max(N.width,N.height)),be<1||O===!0)if(typeof HTMLImageElement<"u"&&N instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&N instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&N instanceof ImageBitmap){const Ee=O?mv:Math.floor,Ge=Ee(be*N.width),Fe=Ee(be*N.height);x===void 0&&(x=S(Ge,Fe));const ve=ne?S(Ge,Fe):x;return ve.width=Ge,ve.height=Fe,ve.getContext("2d").drawImage(N,0,0,Ge,Fe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+N.width+"x"+N.height+") to ("+Ge+"x"+Fe+")."),ve}else return"data"in N&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+N.width+"x"+N.height+")."),N;return N}function E(N){return Bx(N.width)&&Bx(N.height)}function b(N){return a?!1:N.wrapS!==Ar||N.wrapT!==Ar||N.minFilter!==Dt&&N.minFilter!==ht}function T(N,O){return N.generateMipmaps&&O&&N.minFilter!==Dt&&N.minFilter!==ht}function A(N){t.generateMipmap(N)}function D(N,O,ne,Ae,be=!1){if(a===!1)return O;if(N!==null){if(t[N]!==void 0)return t[N];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+N+"'")}let Ee=O;return O===t.RED&&(ne===t.FLOAT&&(Ee=t.R32F),ne===t.HALF_FLOAT&&(Ee=t.R16F),ne===t.UNSIGNED_BYTE&&(Ee=t.R8)),O===t.RED_INTEGER&&(ne===t.UNSIGNED_BYTE&&(Ee=t.R8UI),ne===t.UNSIGNED_SHORT&&(Ee=t.R16UI),ne===t.UNSIGNED_INT&&(Ee=t.R32UI),ne===t.BYTE&&(Ee=t.R8I),ne===t.SHORT&&(Ee=t.R16I),ne===t.INT&&(Ee=t.R32I)),O===t.RG&&(ne===t.FLOAT&&(Ee=t.RG32F),ne===t.HALF_FLOAT&&(Ee=t.RG16F),ne===t.UNSIGNED_BYTE&&(Ee=t.RG8)),O===t.RGBA&&(ne===t.FLOAT&&(Ee=t.RGBA32F),ne===t.HALF_FLOAT&&(Ee=t.RGBA16F),ne===t.UNSIGNED_BYTE&&(Ee=Ae===Cn&&be===!1?t.SRGB8_ALPHA8:t.RGBA8),ne===t.UNSIGNED_SHORT_4_4_4_4&&(Ee=t.RGBA4),ne===t.UNSIGNED_SHORT_5_5_5_1&&(Ee=t.RGB5_A1)),(Ee===t.R16F||Ee===t.R32F||Ee===t.RG16F||Ee===t.RG32F||Ee===t.RGBA16F||Ee===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Ee}function C(N,O,ne){return T(N,ne)===!0||N.isFramebufferTexture&&N.minFilter!==Dt&&N.minFilter!==ht?Math.log2(Math.max(O.width,O.height))+1:N.mipmaps!==void 0&&N.mipmaps.length>0?N.mipmaps.length:N.isCompressedTexture&&Array.isArray(N.image)?O.mipmaps.length:1}function L(N){return N===Dt||N===Lm||N===yd?t.NEAREST:t.LINEAR}function k(N){const O=N.target;O.removeEventListener("dispose",k),H(O),O.isVideoTexture&&g.delete(O)}function z(N){const O=N.target;O.removeEventListener("dispose",z),K(O)}function H(N){const O=r.get(N);if(O.__webglInit===void 0)return;const ne=N.source,Ae=y.get(ne);if(Ae){const be=Ae[O.__cacheKey];be.usedTimes--,be.usedTimes===0&&V(N),Object.keys(Ae).length===0&&y.delete(ne)}r.remove(N)}function V(N){const O=r.get(N);t.deleteTexture(O.__webglTexture);const ne=N.source,Ae=y.get(ne);delete Ae[O.__cacheKey],o.memory.textures--}function K(N){const O=N.texture,ne=r.get(N),Ae=r.get(O);if(Ae.__webglTexture!==void 0&&(t.deleteTexture(Ae.__webglTexture),o.memory.textures--),N.depthTexture&&N.depthTexture.dispose(),N.isWebGLCubeRenderTarget)for(let be=0;be<6;be++){if(Array.isArray(ne.__webglFramebuffer[be]))for(let Ee=0;Ee<ne.__webglFramebuffer[be].length;Ee++)t.deleteFramebuffer(ne.__webglFramebuffer[be][Ee]);else t.deleteFramebuffer(ne.__webglFramebuffer[be]);ne.__webglDepthbuffer&&t.deleteRenderbuffer(ne.__webglDepthbuffer[be])}else{if(Array.isArray(ne.__webglFramebuffer))for(let be=0;be<ne.__webglFramebuffer.length;be++)t.deleteFramebuffer(ne.__webglFramebuffer[be]);else t.deleteFramebuffer(ne.__webglFramebuffer);if(ne.__webglDepthbuffer&&t.deleteRenderbuffer(ne.__webglDepthbuffer),ne.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ne.__webglMultisampledFramebuffer),ne.__webglColorRenderbuffer)for(let be=0;be<ne.__webglColorRenderbuffer.length;be++)ne.__webglColorRenderbuffer[be]&&t.deleteRenderbuffer(ne.__webglColorRenderbuffer[be]);ne.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ne.__webglDepthRenderbuffer)}if(N.isWebGLMultipleRenderTargets)for(let be=0,Ee=O.length;be<Ee;be++){const Ge=r.get(O[be]);Ge.__webglTexture&&(t.deleteTexture(Ge.__webglTexture),o.memory.textures--),r.remove(O[be])}r.remove(O),r.remove(N)}let J=0;function $(){J=0}function U(){const N=J;return N>=l&&console.warn("THREE.WebGLTextures: Trying to use "+N+" texture units while this GPU supports only "+l),J+=1,N}function G(N){const O=[];return O.push(N.wrapS),O.push(N.wrapT),O.push(N.wrapR||0),O.push(N.magFilter),O.push(N.minFilter),O.push(N.anisotropy),O.push(N.internalFormat),O.push(N.format),O.push(N.type),O.push(N.generateMipmaps),O.push(N.premultiplyAlpha),O.push(N.flipY),O.push(N.unpackAlignment),O.push(N.colorSpace),O.join()}function W(N,O){const ne=r.get(N);if(N.isVideoTexture&&Ce(N),N.isRenderTargetTexture===!1&&N.version>0&&ne.__version!==N.version){const Ae=N.image;if(Ae===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ae.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ke(ne,N,O);return}}n.bindTexture(t.TEXTURE_2D,ne.__webglTexture,t.TEXTURE0+O)}function F(N,O){const ne=r.get(N);if(N.version>0&&ne.__version!==N.version){ke(ne,N,O);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ne.__webglTexture,t.TEXTURE0+O)}function j(N,O){const ne=r.get(N);if(N.version>0&&ne.__version!==N.version){ke(ne,N,O);return}n.bindTexture(t.TEXTURE_3D,ne.__webglTexture,t.TEXTURE0+O)}function ie(N,O){const ne=r.get(N);if(N.version>0&&ne.__version!==N.version){He(ne,N,O);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ne.__webglTexture,t.TEXTURE0+O)}const se={[Ai]:t.REPEAT,[Ar]:t.CLAMP_TO_EDGE,[Ud]:t.MIRRORED_REPEAT},re={[Dt]:t.NEAREST,[Lm]:t.NEAREST_MIPMAP_NEAREST,[yd]:t.NEAREST_MIPMAP_LINEAR,[ht]:t.LINEAR,[p5]:t.LINEAR_MIPMAP_NEAREST,[ka]:t.LINEAR_MIPMAP_LINEAR},fe={[dI]:t.NEVER,[SI]:t.ALWAYS,[pI]:t.LESS,[gI]:t.LEQUAL,[mI]:t.EQUAL,[xI]:t.GEQUAL,[vI]:t.GREATER,[yI]:t.NOTEQUAL};function oe(N,O,ne){if(ne?(t.texParameteri(N,t.TEXTURE_WRAP_S,se[O.wrapS]),t.texParameteri(N,t.TEXTURE_WRAP_T,se[O.wrapT]),(N===t.TEXTURE_3D||N===t.TEXTURE_2D_ARRAY)&&t.texParameteri(N,t.TEXTURE_WRAP_R,se[O.wrapR]),t.texParameteri(N,t.TEXTURE_MAG_FILTER,re[O.magFilter]),t.texParameteri(N,t.TEXTURE_MIN_FILTER,re[O.minFilter])):(t.texParameteri(N,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(N,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(N===t.TEXTURE_3D||N===t.TEXTURE_2D_ARRAY)&&t.texParameteri(N,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(O.wrapS!==Ar||O.wrapT!==Ar)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(N,t.TEXTURE_MAG_FILTER,L(O.magFilter)),t.texParameteri(N,t.TEXTURE_MIN_FILTER,L(O.minFilter)),O.minFilter!==Dt&&O.minFilter!==ht&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),O.compareFunction&&(t.texParameteri(N,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(N,t.TEXTURE_COMPARE_FUNC,fe[O.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Ae=e.get("EXT_texture_filter_anisotropic");if(O.magFilter===Dt||O.minFilter!==yd&&O.minFilter!==ka||O.type===Jn&&e.has("OES_texture_float_linear")===!1||a===!1&&O.type===ps&&e.has("OES_texture_half_float_linear")===!1)return;(O.anisotropy>1||r.get(O).__currentAnisotropy)&&(t.texParameterf(N,Ae.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(O.anisotropy,i.getMaxAnisotropy())),r.get(O).__currentAnisotropy=O.anisotropy)}}function he(N,O){let ne=!1;N.__webglInit===void 0&&(N.__webglInit=!0,O.addEventListener("dispose",k));const Ae=O.source;let be=y.get(Ae);be===void 0&&(be={},y.set(Ae,be));const Ee=G(O);if(Ee!==N.__cacheKey){be[Ee]===void 0&&(be[Ee]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,ne=!0),be[Ee].usedTimes++;const Ge=be[N.__cacheKey];Ge!==void 0&&(be[N.__cacheKey].usedTimes--,Ge.usedTimes===0&&V(O)),N.__cacheKey=Ee,N.__webglTexture=be[Ee].texture}return ne}function ke(N,O,ne){let Ae=t.TEXTURE_2D;(O.isDataArrayTexture||O.isCompressedArrayTexture)&&(Ae=t.TEXTURE_2D_ARRAY),O.isData3DTexture&&(Ae=t.TEXTURE_3D);const be=he(N,O),Ee=O.source;n.bindTexture(Ae,N.__webglTexture,t.TEXTURE0+ne);const Ge=r.get(Ee);if(Ee.version!==Ge.__version||be===!0){n.activeTexture(t.TEXTURE0+ne),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,O.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,O.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,O.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const Fe=b(O)&&E(O.image)===!1;let ve=_(O.image,Fe,!1,c);ve=$e(O,ve);const je=E(ve)||a,Ze=s.convert(O.format,O.colorSpace);let Ye=s.convert(O.type),Ne=D(O.internalFormat,Ze,Ye,O.colorSpace,O.isVideoTexture);oe(Ae,O,je);let ee;const Te=O.mipmaps,Ke=a&&O.isVideoTexture!==!0,Q=Ge.__version===void 0||be===!0,Oe=C(O,ve,je);if(O.isDepthTexture)Ne=t.DEPTH_COMPONENT,a?O.type===Jn?Ne=t.DEPTH_COMPONENT32F:O.type===ba?Ne=t.DEPTH_COMPONENT24:O.type===bl?Ne=t.DEPTH24_STENCIL8:Ne=t.DEPTH_COMPONENT16:O.type===Jn&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),O.format===ku&&Ne===t.DEPTH_COMPONENT&&O.type!==m5&&O.type!==ba&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),O.type=ba,Ye=s.convert(O.type)),O.format===ju&&Ne===t.DEPTH_COMPONENT&&(Ne=t.DEPTH_STENCIL,O.type!==bl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),O.type=bl,Ye=s.convert(O.type))),Q&&(Ke?n.texStorage2D(t.TEXTURE_2D,1,Ne,ve.width,ve.height):n.texImage2D(t.TEXTURE_2D,0,Ne,ve.width,ve.height,0,Ze,Ye,null));else if(O.isDataTexture)if(Te.length>0&&je){Ke&&Q&&n.texStorage2D(t.TEXTURE_2D,Oe,Ne,Te[0].width,Te[0].height);for(let xe=0,We=Te.length;xe<We;xe++)ee=Te[xe],Ke?n.texSubImage2D(t.TEXTURE_2D,xe,0,0,ee.width,ee.height,Ze,Ye,ee.data):n.texImage2D(t.TEXTURE_2D,xe,Ne,ee.width,ee.height,0,Ze,Ye,ee.data);O.generateMipmaps=!1}else Ke?(Q&&n.texStorage2D(t.TEXTURE_2D,Oe,Ne,ve.width,ve.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,ve.width,ve.height,Ze,Ye,ve.data)):n.texImage2D(t.TEXTURE_2D,0,Ne,ve.width,ve.height,0,Ze,Ye,ve.data);else if(O.isCompressedTexture)if(O.isCompressedArrayTexture){Ke&&Q&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Oe,Ne,Te[0].width,Te[0].height,ve.depth);for(let xe=0,We=Te.length;xe<We;xe++)ee=Te[xe],O.format!==Bn?Ze!==null?Ke?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,xe,0,0,0,ee.width,ee.height,ve.depth,Ze,ee.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,xe,Ne,ee.width,ee.height,ve.depth,0,ee.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ke?n.texSubImage3D(t.TEXTURE_2D_ARRAY,xe,0,0,0,ee.width,ee.height,ve.depth,Ze,Ye,ee.data):n.texImage3D(t.TEXTURE_2D_ARRAY,xe,Ne,ee.width,ee.height,ve.depth,0,Ze,Ye,ee.data)}else{Ke&&Q&&n.texStorage2D(t.TEXTURE_2D,Oe,Ne,Te[0].width,Te[0].height);for(let xe=0,We=Te.length;xe<We;xe++)ee=Te[xe],O.format!==Bn?Ze!==null?Ke?n.compressedTexSubImage2D(t.TEXTURE_2D,xe,0,0,ee.width,ee.height,Ze,ee.data):n.compressedTexImage2D(t.TEXTURE_2D,xe,Ne,ee.width,ee.height,0,ee.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ke?n.texSubImage2D(t.TEXTURE_2D,xe,0,0,ee.width,ee.height,Ze,Ye,ee.data):n.texImage2D(t.TEXTURE_2D,xe,Ne,ee.width,ee.height,0,Ze,Ye,ee.data)}else if(O.isDataArrayTexture)Ke?(Q&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Oe,Ne,ve.width,ve.height,ve.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,ve.width,ve.height,ve.depth,Ze,Ye,ve.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,Ne,ve.width,ve.height,ve.depth,0,Ze,Ye,ve.data);else if(O.isData3DTexture)Ke?(Q&&n.texStorage3D(t.TEXTURE_3D,Oe,Ne,ve.width,ve.height,ve.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,ve.width,ve.height,ve.depth,Ze,Ye,ve.data)):n.texImage3D(t.TEXTURE_3D,0,Ne,ve.width,ve.height,ve.depth,0,Ze,Ye,ve.data);else if(O.isFramebufferTexture){if(Q)if(Ke)n.texStorage2D(t.TEXTURE_2D,Oe,Ne,ve.width,ve.height);else{let xe=ve.width,We=ve.height;for(let qe=0;qe<Oe;qe++)n.texImage2D(t.TEXTURE_2D,qe,Ne,xe,We,0,Ze,Ye,null),xe>>=1,We>>=1}}else if(Te.length>0&&je){Ke&&Q&&n.texStorage2D(t.TEXTURE_2D,Oe,Ne,Te[0].width,Te[0].height);for(let xe=0,We=Te.length;xe<We;xe++)ee=Te[xe],Ke?n.texSubImage2D(t.TEXTURE_2D,xe,0,0,Ze,Ye,ee):n.texImage2D(t.TEXTURE_2D,xe,Ne,Ze,Ye,ee);O.generateMipmaps=!1}else Ke?(Q&&n.texStorage2D(t.TEXTURE_2D,Oe,Ne,ve.width,ve.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ze,Ye,ve)):n.texImage2D(t.TEXTURE_2D,0,Ne,Ze,Ye,ve);T(O,je)&&A(Ae),Ge.__version=Ee.version,O.onUpdate&&O.onUpdate(O)}N.__version=O.version}function He(N,O,ne){if(O.image.length!==6)return;const Ae=he(N,O),be=O.source;n.bindTexture(t.TEXTURE_CUBE_MAP,N.__webglTexture,t.TEXTURE0+ne);const Ee=r.get(be);if(be.version!==Ee.__version||Ae===!0){n.activeTexture(t.TEXTURE0+ne),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,O.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,O.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,O.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const Ge=O.isCompressedTexture||O.image[0].isCompressedTexture,Fe=O.image[0]&&O.image[0].isDataTexture,ve=[];for(let xe=0;xe<6;xe++)!Ge&&!Fe?ve[xe]=_(O.image[xe],!1,!0,u):ve[xe]=Fe?O.image[xe].image:O.image[xe],ve[xe]=$e(O,ve[xe]);const je=ve[0],Ze=E(je)||a,Ye=s.convert(O.format,O.colorSpace),Ne=s.convert(O.type),ee=D(O.internalFormat,Ye,Ne,O.colorSpace),Te=a&&O.isVideoTexture!==!0,Ke=Ee.__version===void 0||Ae===!0;let Q=C(O,je,Ze);oe(t.TEXTURE_CUBE_MAP,O,Ze);let Oe;if(Ge){Te&&Ke&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Q,ee,je.width,je.height);for(let xe=0;xe<6;xe++){Oe=ve[xe].mipmaps;for(let We=0;We<Oe.length;We++){const qe=Oe[We];O.format!==Bn?Ye!==null?Te?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+xe,We,0,0,qe.width,qe.height,Ye,qe.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+xe,We,ee,qe.width,qe.height,0,qe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Te?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+xe,We,0,0,qe.width,qe.height,Ye,Ne,qe.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+xe,We,ee,qe.width,qe.height,0,Ye,Ne,qe.data)}}}else{Oe=O.mipmaps,Te&&Ke&&(Oe.length>0&&Q++,n.texStorage2D(t.TEXTURE_CUBE_MAP,Q,ee,ve[0].width,ve[0].height));for(let xe=0;xe<6;xe++)if(Fe){Te?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+xe,0,0,0,ve[xe].width,ve[xe].height,Ye,Ne,ve[xe].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+xe,0,ee,ve[xe].width,ve[xe].height,0,Ye,Ne,ve[xe].data);for(let We=0;We<Oe.length;We++){const Mt=Oe[We].image[xe].image;Te?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+xe,We+1,0,0,Mt.width,Mt.height,Ye,Ne,Mt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+xe,We+1,ee,Mt.width,Mt.height,0,Ye,Ne,Mt.data)}}else{Te?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+xe,0,0,0,Ye,Ne,ve[xe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+xe,0,ee,Ye,Ne,ve[xe]);for(let We=0;We<Oe.length;We++){const qe=Oe[We];Te?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+xe,We+1,0,0,Ye,Ne,qe.image[xe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+xe,We+1,ee,Ye,Ne,qe.image[xe])}}}T(O,Ze)&&A(t.TEXTURE_CUBE_MAP),Ee.__version=be.version,O.onUpdate&&O.onUpdate(O)}N.__version=O.version}function ge(N,O,ne,Ae,be,Ee){const Ge=s.convert(ne.format,ne.colorSpace),Fe=s.convert(ne.type),ve=D(ne.internalFormat,Ge,Fe,ne.colorSpace);if(!r.get(O).__hasExternalTextures){const Ze=Math.max(1,O.width>>Ee),Ye=Math.max(1,O.height>>Ee);be===t.TEXTURE_3D||be===t.TEXTURE_2D_ARRAY?n.texImage3D(be,Ee,ve,Ze,Ye,O.depth,0,Ge,Fe,null):n.texImage2D(be,Ee,ve,Ze,Ye,0,Ge,Fe,null)}n.bindFramebuffer(t.FRAMEBUFFER,N),Ue(O)?h.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Ae,be,r.get(ne).__webglTexture,0,Be(O)):(be===t.TEXTURE_2D||be>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&be<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Ae,be,r.get(ne).__webglTexture,Ee),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Y(N,O,ne){if(t.bindRenderbuffer(t.RENDERBUFFER,N),O.depthBuffer&&!O.stencilBuffer){let Ae=t.DEPTH_COMPONENT16;if(ne||Ue(O)){const be=O.depthTexture;be&&be.isDepthTexture&&(be.type===Jn?Ae=t.DEPTH_COMPONENT32F:be.type===ba&&(Ae=t.DEPTH_COMPONENT24));const Ee=Be(O);Ue(O)?h.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ee,Ae,O.width,O.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Ee,Ae,O.width,O.height)}else t.renderbufferStorage(t.RENDERBUFFER,Ae,O.width,O.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,N)}else if(O.depthBuffer&&O.stencilBuffer){const Ae=Be(O);ne&&Ue(O)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ae,t.DEPTH24_STENCIL8,O.width,O.height):Ue(O)?h.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ae,t.DEPTH24_STENCIL8,O.width,O.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,O.width,O.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,N)}else{const Ae=O.isWebGLMultipleRenderTargets===!0?O.texture:[O.texture];for(let be=0;be<Ae.length;be++){const Ee=Ae[be],Ge=s.convert(Ee.format,Ee.colorSpace),Fe=s.convert(Ee.type),ve=D(Ee.internalFormat,Ge,Fe,Ee.colorSpace),je=Be(O);ne&&Ue(O)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,je,ve,O.width,O.height):Ue(O)?h.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,je,ve,O.width,O.height):t.renderbufferStorage(t.RENDERBUFFER,ve,O.width,O.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Se(N,O){if(O&&O.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,N),!(O.depthTexture&&O.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(O.depthTexture).__webglTexture||O.depthTexture.image.width!==O.width||O.depthTexture.image.height!==O.height)&&(O.depthTexture.image.width=O.width,O.depthTexture.image.height=O.height,O.depthTexture.needsUpdate=!0),W(O.depthTexture,0);const Ae=r.get(O.depthTexture).__webglTexture,be=Be(O);if(O.depthTexture.format===ku)Ue(O)?h.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ae,0,be):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ae,0);else if(O.depthTexture.format===ju)Ue(O)?h.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ae,0,be):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ae,0);else throw new Error("Unknown depthTexture format")}function me(N){const O=r.get(N),ne=N.isWebGLCubeRenderTarget===!0;if(N.depthTexture&&!O.__autoAllocateDepthBuffer){if(ne)throw new Error("target.depthTexture not supported in Cube render targets");Se(O.__webglFramebuffer,N)}else if(ne){O.__webglDepthbuffer=[];for(let Ae=0;Ae<6;Ae++)n.bindFramebuffer(t.FRAMEBUFFER,O.__webglFramebuffer[Ae]),O.__webglDepthbuffer[Ae]=t.createRenderbuffer(),Y(O.__webglDepthbuffer[Ae],N,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,O.__webglFramebuffer),O.__webglDepthbuffer=t.createRenderbuffer(),Y(O.__webglDepthbuffer,N,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function de(N,O,ne){const Ae=r.get(N);O!==void 0&&ge(Ae.__webglFramebuffer,N,N.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ne!==void 0&&me(N)}function pe(N){const O=N.texture,ne=r.get(N),Ae=r.get(O);N.addEventListener("dispose",z),N.isWebGLMultipleRenderTargets!==!0&&(Ae.__webglTexture===void 0&&(Ae.__webglTexture=t.createTexture()),Ae.__version=O.version,o.memory.textures++);const be=N.isWebGLCubeRenderTarget===!0,Ee=N.isWebGLMultipleRenderTargets===!0,Ge=E(N)||a;if(be){ne.__webglFramebuffer=[];for(let Fe=0;Fe<6;Fe++)if(a&&O.mipmaps&&O.mipmaps.length>0){ne.__webglFramebuffer[Fe]=[];for(let ve=0;ve<O.mipmaps.length;ve++)ne.__webglFramebuffer[Fe][ve]=t.createFramebuffer()}else ne.__webglFramebuffer[Fe]=t.createFramebuffer()}else{if(a&&O.mipmaps&&O.mipmaps.length>0){ne.__webglFramebuffer=[];for(let Fe=0;Fe<O.mipmaps.length;Fe++)ne.__webglFramebuffer[Fe]=t.createFramebuffer()}else ne.__webglFramebuffer=t.createFramebuffer();if(Ee)if(i.drawBuffers){const Fe=N.texture;for(let ve=0,je=Fe.length;ve<je;ve++){const Ze=r.get(Fe[ve]);Ze.__webglTexture===void 0&&(Ze.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&N.samples>0&&Ue(N)===!1){const Fe=Ee?O:[O];ne.__webglMultisampledFramebuffer=t.createFramebuffer(),ne.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ne.__webglMultisampledFramebuffer);for(let ve=0;ve<Fe.length;ve++){const je=Fe[ve];ne.__webglColorRenderbuffer[ve]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ne.__webglColorRenderbuffer[ve]);const Ze=s.convert(je.format,je.colorSpace),Ye=s.convert(je.type),Ne=D(je.internalFormat,Ze,Ye,je.colorSpace,N.isXRRenderTarget===!0),ee=Be(N);t.renderbufferStorageMultisample(t.RENDERBUFFER,ee,Ne,N.width,N.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ve,t.RENDERBUFFER,ne.__webglColorRenderbuffer[ve])}t.bindRenderbuffer(t.RENDERBUFFER,null),N.depthBuffer&&(ne.__webglDepthRenderbuffer=t.createRenderbuffer(),Y(ne.__webglDepthRenderbuffer,N,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(be){n.bindTexture(t.TEXTURE_CUBE_MAP,Ae.__webglTexture),oe(t.TEXTURE_CUBE_MAP,O,Ge);for(let Fe=0;Fe<6;Fe++)if(a&&O.mipmaps&&O.mipmaps.length>0)for(let ve=0;ve<O.mipmaps.length;ve++)ge(ne.__webglFramebuffer[Fe][ve],N,O,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,ve);else ge(ne.__webglFramebuffer[Fe],N,O,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,0);T(O,Ge)&&A(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ee){const Fe=N.texture;for(let ve=0,je=Fe.length;ve<je;ve++){const Ze=Fe[ve],Ye=r.get(Ze);n.bindTexture(t.TEXTURE_2D,Ye.__webglTexture),oe(t.TEXTURE_2D,Ze,Ge),ge(ne.__webglFramebuffer,N,Ze,t.COLOR_ATTACHMENT0+ve,t.TEXTURE_2D,0),T(Ze,Ge)&&A(t.TEXTURE_2D)}n.unbindTexture()}else{let Fe=t.TEXTURE_2D;if((N.isWebGL3DRenderTarget||N.isWebGLArrayRenderTarget)&&(a?Fe=N.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Fe,Ae.__webglTexture),oe(Fe,O,Ge),a&&O.mipmaps&&O.mipmaps.length>0)for(let ve=0;ve<O.mipmaps.length;ve++)ge(ne.__webglFramebuffer[ve],N,O,t.COLOR_ATTACHMENT0,Fe,ve);else ge(ne.__webglFramebuffer,N,O,t.COLOR_ATTACHMENT0,Fe,0);T(O,Ge)&&A(Fe),n.unbindTexture()}N.depthBuffer&&me(N)}function ze(N){const O=E(N)||a,ne=N.isWebGLMultipleRenderTargets===!0?N.texture:[N.texture];for(let Ae=0,be=ne.length;Ae<be;Ae++){const Ee=ne[Ae];if(T(Ee,O)){const Ge=N.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Fe=r.get(Ee).__webglTexture;n.bindTexture(Ge,Fe),A(Ge),n.unbindTexture()}}}function ye(N){if(a&&N.samples>0&&Ue(N)===!1){const O=N.isWebGLMultipleRenderTargets?N.texture:[N.texture],ne=N.width,Ae=N.height;let be=t.COLOR_BUFFER_BIT;const Ee=[],Ge=N.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Fe=r.get(N),ve=N.isWebGLMultipleRenderTargets===!0;if(ve)for(let je=0;je<O.length;je++)n.bindFramebuffer(t.FRAMEBUFFER,Fe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+je,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Fe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+je,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Fe.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Fe.__webglFramebuffer);for(let je=0;je<O.length;je++){Ee.push(t.COLOR_ATTACHMENT0+je),N.depthBuffer&&Ee.push(Ge);const Ze=Fe.__ignoreDepthValues!==void 0?Fe.__ignoreDepthValues:!1;if(Ze===!1&&(N.depthBuffer&&(be|=t.DEPTH_BUFFER_BIT),N.stencilBuffer&&(be|=t.STENCIL_BUFFER_BIT)),ve&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Fe.__webglColorRenderbuffer[je]),Ze===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[Ge]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Ge])),ve){const Ye=r.get(O[je]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Ye,0)}t.blitFramebuffer(0,0,ne,Ae,0,0,ne,Ae,be,t.NEAREST),p&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Ee)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),ve)for(let je=0;je<O.length;je++){n.bindFramebuffer(t.FRAMEBUFFER,Fe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+je,t.RENDERBUFFER,Fe.__webglColorRenderbuffer[je]);const Ze=r.get(O[je]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Fe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+je,t.TEXTURE_2D,Ze,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Fe.__webglMultisampledFramebuffer)}}function Be(N){return Math.min(f,N.samples)}function Ue(N){const O=r.get(N);return a&&N.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&O.__useRenderToTexture!==!1}function Ce(N){const O=o.render.frame;g.get(N)!==O&&(g.set(N,O),N.update())}function $e(N,O){const ne=N.colorSpace,Ae=N.format,be=N.type;return N.isCompressedTexture===!0||N.isVideoTexture===!0||N.format===pv||ne!==ea&&ne!==Ml&&(ne===Cn||ne===h1?a===!1?e.has("EXT_sRGB")===!0&&Ae===Bn?(N.format=pv,N.minFilter=ht,N.generateMipmaps=!1):O=uS.sRGBToLinear(O):(Ae!==Bn||be!==bn)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ne)),O}this.allocateTextureUnit=U,this.resetTextureUnits=$,this.setTexture2D=W,this.setTexture2DArray=F,this.setTexture3D=j,this.setTextureCube=ie,this.rebindTextures=de,this.setupRenderTarget=pe,this.updateRenderTargetMipmap=ze,this.updateMultisampleRenderTarget=ye,this.setupDepthRenderbuffer=me,this.setupFrameBufferTexture=ge,this.useMultisampledRTT=Ue}const xK=0,Ir=1;function LI(t,e,n){const r=n.isWebGL2;function i(s,o=Ml){let a;const l=o===Cn||o===h1?Ir:xK;if(s===bn)return t.UNSIGNED_BYTE;if(s===eS)return t.UNSIGNED_SHORT_4_4_4_4;if(s===tS)return t.UNSIGNED_SHORT_5_5_5_1;if(s===tI)return t.BYTE;if(s===nI)return t.SHORT;if(s===m5)return t.UNSIGNED_SHORT;if(s===$7)return t.INT;if(s===ba)return t.UNSIGNED_INT;if(s===Jn)return t.FLOAT;if(s===ps)return r?t.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===rI)return t.ALPHA;if(s===Bn)return t.RGBA;if(s===g5)return t.LUMINANCE;if(s===iI)return t.LUMINANCE_ALPHA;if(s===ku)return t.DEPTH_COMPONENT;if(s===ju)return t.DEPTH_STENCIL;if(s===pv)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===v5)return t.RED;if(s===nS)return t.RED_INTEGER;if(s===rS)return t.RG;if(s===iS)return t.RG_INTEGER;if(s===sS)return t.RGBA_INTEGER;if(s===wg||s===Eg||s===bg||s===Mg)if(l===Ir)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===wg)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Eg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===bg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Mg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===wg)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Eg)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===bg)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Mg)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===ux||s===cx||s===fx||s===hx)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===ux)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===cx)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===fx)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===hx)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===sI)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===dx||s===px)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===dx)return l===Ir?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===px)return l===Ir?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===mx||s===gx||s===vx||s===yx||s===xx||s===Sx||s===_x||s===wx||s===Ex||s===bx||s===Mx||s===Tx||s===Ax||s===Cx)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===mx)return l===Ir?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===gx)return l===Ir?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===vx)return l===Ir?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===yx)return l===Ir?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===xx)return l===Ir?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===Sx)return l===Ir?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===_x)return l===Ir?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===wx)return l===Ir?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===Ex)return l===Ir?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===bx)return l===Ir?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===Mx)return l===Ir?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===Tx)return l===Ir?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===Ax)return l===Ir?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===Cx)return l===Ir?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Tg||s===Rx||s===Px)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===Tg)return l===Ir?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===Rx)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===Px)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===oI||s===Dx||s===Lx||s===Ix)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===Tg)return a.COMPRESSED_RED_RGTC1_EXT;if(s===Dx)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===Lx)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===Ix)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===bl?r?t.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class II extends hn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Sl extends Vt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const SK={type:"move"};class Zy{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Sl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Sl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new X,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new X),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Sl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new X,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new X),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const x of e.hand.values()){const y=n.getJointPose(x,r),v=this._getHandJoint(u,x);y!==null&&(v.matrix.fromArray(y.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=y.radius),v.visible=y!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],h=c.position.distanceTo(f.position),p=.02,g=.005;u.inputState.pinching&&h>p+g?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&h<=p-g&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(SK)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Sl;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class b5 extends gn{constructor(e,n,r,i,s,o,a,l,u,c){if(c=c!==void 0?c:ku,c!==ku&&c!==ju)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===ku&&(r=ba),r===void 0&&c===ju&&(r=bl),super(null,i,s,o,a,l,c,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:Dt,this.minFilter=l!==void 0?l:Dt,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class _K extends Ys{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,u=null,c=null,f=null,h=null,p=null,g=null;const x=n.getContextAttributes();let y=null,v=null;const S=[],_=[],E=new hn;E.layers.enable(1),E.viewport=new Kt;const b=new hn;b.layers.enable(2),b.viewport=new Kt;const T=[E,b],A=new II;A.layers.enable(1),A.layers.enable(2);let D=null,C=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(F){let j=S[F];return j===void 0&&(j=new Zy,S[F]=j),j.getTargetRaySpace()},this.getControllerGrip=function(F){let j=S[F];return j===void 0&&(j=new Zy,S[F]=j),j.getGripSpace()},this.getHand=function(F){let j=S[F];return j===void 0&&(j=new Zy,S[F]=j),j.getHandSpace()};function L(F){const j=_.indexOf(F.inputSource);if(j===-1)return;const ie=S[j];ie!==void 0&&(ie.update(F.inputSource,F.frame,u||o),ie.dispatchEvent({type:F.type,data:F.inputSource}))}function k(){i.removeEventListener("select",L),i.removeEventListener("selectstart",L),i.removeEventListener("selectend",L),i.removeEventListener("squeeze",L),i.removeEventListener("squeezestart",L),i.removeEventListener("squeezeend",L),i.removeEventListener("end",k),i.removeEventListener("inputsourceschange",z);for(let F=0;F<S.length;F++){const j=_[F];j!==null&&(_[F]=null,S[F].disconnect(j))}D=null,C=null,e.setRenderTarget(y),p=null,h=null,f=null,i=null,v=null,W.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(F){s=F,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(F){a=F,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(F){u=F},this.getBaseLayer=function(){return h!==null?h:p},this.getBinding=function(){return f},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(F){if(i=F,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",L),i.addEventListener("selectstart",L),i.addEventListener("selectend",L),i.addEventListener("squeeze",L),i.addEventListener("squeezestart",L),i.addEventListener("squeezeend",L),i.addEventListener("end",k),i.addEventListener("inputsourceschange",z),x.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const j={antialias:i.renderState.layers===void 0?x.antialias:!0,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:s};p=new XRWebGLLayer(i,n,j),i.updateRenderState({baseLayer:p}),v=new Qt(p.framebufferWidth,p.framebufferHeight,{format:Bn,type:bn,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil})}else{let j=null,ie=null,se=null;x.depth&&(se=x.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,j=x.stencil?ju:ku,ie=x.stencil?bl:ba);const re={colorFormat:n.RGBA8,depthFormat:se,scaleFactor:s};f=new XRWebGLBinding(i,n),h=f.createProjectionLayer(re),i.updateRenderState({layers:[h]}),v=new Qt(h.textureWidth,h.textureHeight,{format:Bn,type:bn,depthTexture:new b5(h.textureWidth,h.textureHeight,ie,void 0,void 0,void 0,void 0,void 0,void 0,j),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0});const fe=e.properties.get(v);fe.__ignoreDepthValues=h.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(a),W.setContext(i),W.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function z(F){for(let j=0;j<F.removed.length;j++){const ie=F.removed[j],se=_.indexOf(ie);se>=0&&(_[se]=null,S[se].disconnect(ie))}for(let j=0;j<F.added.length;j++){const ie=F.added[j];let se=_.indexOf(ie);if(se===-1){for(let fe=0;fe<S.length;fe++)if(fe>=_.length){_.push(ie),se=fe;break}else if(_[fe]===null){_[fe]=ie,se=fe;break}if(se===-1)break}const re=S[se];re&&re.connect(ie)}}const H=new X,V=new X;function K(F,j,ie){H.setFromMatrixPosition(j.matrixWorld),V.setFromMatrixPosition(ie.matrixWorld);const se=H.distanceTo(V),re=j.projectionMatrix.elements,fe=ie.projectionMatrix.elements,oe=re[14]/(re[10]-1),he=re[14]/(re[10]+1),ke=(re[9]+1)/re[5],He=(re[9]-1)/re[5],ge=(re[8]-1)/re[0],Y=(fe[8]+1)/fe[0],Se=oe*ge,me=oe*Y,de=se/(-ge+Y),pe=de*-ge;j.matrixWorld.decompose(F.position,F.quaternion,F.scale),F.translateX(pe),F.translateZ(de),F.matrixWorld.compose(F.position,F.quaternion,F.scale),F.matrixWorldInverse.copy(F.matrixWorld).invert();const ze=oe+de,ye=he+de,Be=Se-pe,Ue=me+(se-pe),Ce=ke*he/ye*ze,$e=He*he/ye*ze;F.projectionMatrix.makePerspective(Be,Ue,Ce,$e,ze,ye),F.projectionMatrixInverse.copy(F.projectionMatrix).invert()}function J(F,j){j===null?F.matrixWorld.copy(F.matrix):F.matrixWorld.multiplyMatrices(j.matrixWorld,F.matrix),F.matrixWorldInverse.copy(F.matrixWorld).invert()}this.updateCamera=function(F){if(i===null)return;A.near=b.near=E.near=F.near,A.far=b.far=E.far=F.far,(D!==A.near||C!==A.far)&&(i.updateRenderState({depthNear:A.near,depthFar:A.far}),D=A.near,C=A.far);const j=F.parent,ie=A.cameras;J(A,j);for(let se=0;se<ie.length;se++)J(ie[se],j);ie.length===2?K(A,E,b):A.projectionMatrix.copy(E.projectionMatrix),$(F,A,j)};function $(F,j,ie){ie===null?F.matrix.copy(j.matrixWorld):(F.matrix.copy(ie.matrixWorld),F.matrix.invert(),F.matrix.multiply(j.matrixWorld)),F.matrix.decompose(F.position,F.quaternion,F.scale),F.updateMatrixWorld(!0),F.projectionMatrix.copy(j.projectionMatrix),F.projectionMatrixInverse.copy(j.projectionMatrixInverse),F.isPerspectiveCamera&&(F.fov=kd*2*Math.atan(1/F.projectionMatrix.elements[5]),F.zoom=1)}this.getCamera=function(){return A},this.getFoveation=function(){if(!(h===null&&p===null))return l},this.setFoveation=function(F){l=F,h!==null&&(h.fixedFoveation=F),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=F)};let U=null;function G(F,j){if(c=j.getViewerPose(u||o),g=j,c!==null){const ie=c.views;p!==null&&(e.setRenderTargetFramebuffer(v,p.framebuffer),e.setRenderTarget(v));let se=!1;ie.length!==A.cameras.length&&(A.cameras.length=0,se=!0);for(let re=0;re<ie.length;re++){const fe=ie[re];let oe=null;if(p!==null)oe=p.getViewport(fe);else{const ke=f.getViewSubImage(h,fe);oe=ke.viewport,re===0&&(e.setRenderTargetTextures(v,ke.colorTexture,h.ignoreDepthValues?void 0:ke.depthStencilTexture),e.setRenderTarget(v))}let he=T[re];he===void 0&&(he=new hn,he.layers.enable(re),he.viewport=new Kt,T[re]=he),he.matrix.fromArray(fe.transform.matrix),he.matrix.decompose(he.position,he.quaternion,he.scale),he.projectionMatrix.fromArray(fe.projectionMatrix),he.projectionMatrixInverse.copy(he.projectionMatrix).invert(),he.viewport.set(oe.x,oe.y,oe.width,oe.height),re===0&&(A.matrix.copy(he.matrix),A.matrix.decompose(A.position,A.quaternion,A.scale)),se===!0&&A.cameras.push(he)}}for(let ie=0;ie<S.length;ie++){const se=_[ie],re=S[ie];se!==null&&re!==void 0&&re.update(se,j,u||o)}U&&U(F,j),j.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:j}),g=null}const W=new AI;W.setAnimationLoop(G),this.setAnimationLoop=function(F){U=F},this.dispose=function(){}}}function wK(t,e){function n(y,v){y.matrixAutoUpdate===!0&&y.updateMatrix(),v.value.copy(y.matrix)}function r(y,v){v.color.getRGB(y.fogColor.value,TI(t)),v.isFog?(y.fogNear.value=v.near,y.fogFar.value=v.far):v.isFogExp2&&(y.fogDensity.value=v.density)}function i(y,v,S,_,E){v.isMeshBasicMaterial||v.isMeshLambertMaterial?s(y,v):v.isMeshToonMaterial?(s(y,v),f(y,v)):v.isMeshPhongMaterial?(s(y,v),c(y,v)):v.isMeshStandardMaterial?(s(y,v),h(y,v),v.isMeshPhysicalMaterial&&p(y,v,E)):v.isMeshMatcapMaterial?(s(y,v),g(y,v)):v.isMeshDepthMaterial?s(y,v):v.isMeshDistanceMaterial?(s(y,v),x(y,v)):v.isMeshNormalMaterial?s(y,v):v.isLineBasicMaterial?(o(y,v),v.isLineDashedMaterial&&a(y,v)):v.isPointsMaterial?l(y,v,S,_):v.isSpriteMaterial?u(y,v):v.isShadowMaterial?(y.color.value.copy(v.color),y.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function s(y,v){y.opacity.value=v.opacity,v.color&&y.diffuse.value.copy(v.color),v.emissive&&y.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(y.map.value=v.map,n(v.map,y.mapTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.bumpMap&&(y.bumpMap.value=v.bumpMap,n(v.bumpMap,y.bumpMapTransform),y.bumpScale.value=v.bumpScale,v.side===yr&&(y.bumpScale.value*=-1)),v.normalMap&&(y.normalMap.value=v.normalMap,n(v.normalMap,y.normalMapTransform),y.normalScale.value.copy(v.normalScale),v.side===yr&&y.normalScale.value.negate()),v.displacementMap&&(y.displacementMap.value=v.displacementMap,n(v.displacementMap,y.displacementMapTransform),y.displacementScale.value=v.displacementScale,y.displacementBias.value=v.displacementBias),v.emissiveMap&&(y.emissiveMap.value=v.emissiveMap,n(v.emissiveMap,y.emissiveMapTransform)),v.specularMap&&(y.specularMap.value=v.specularMap,n(v.specularMap,y.specularMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest);const S=e.get(v).envMap;if(S&&(y.envMap.value=S,y.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=v.reflectivity,y.ior.value=v.ior,y.refractionRatio.value=v.refractionRatio),v.lightMap){y.lightMap.value=v.lightMap;const _=t._useLegacyLights===!0?Math.PI:1;y.lightMapIntensity.value=v.lightMapIntensity*_,n(v.lightMap,y.lightMapTransform)}v.aoMap&&(y.aoMap.value=v.aoMap,y.aoMapIntensity.value=v.aoMapIntensity,n(v.aoMap,y.aoMapTransform))}function o(y,v){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,v.map&&(y.map.value=v.map,n(v.map,y.mapTransform))}function a(y,v){y.dashSize.value=v.dashSize,y.totalSize.value=v.dashSize+v.gapSize,y.scale.value=v.scale}function l(y,v,S,_){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,y.size.value=v.size*S,y.scale.value=_*.5,v.map&&(y.map.value=v.map,n(v.map,y.uvTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest)}function u(y,v){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,y.rotation.value=v.rotation,v.map&&(y.map.value=v.map,n(v.map,y.mapTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest)}function c(y,v){y.specular.value.copy(v.specular),y.shininess.value=Math.max(v.shininess,1e-4)}function f(y,v){v.gradientMap&&(y.gradientMap.value=v.gradientMap)}function h(y,v){y.metalness.value=v.metalness,v.metalnessMap&&(y.metalnessMap.value=v.metalnessMap,n(v.metalnessMap,y.metalnessMapTransform)),y.roughness.value=v.roughness,v.roughnessMap&&(y.roughnessMap.value=v.roughnessMap,n(v.roughnessMap,y.roughnessMapTransform)),e.get(v).envMap&&(y.envMapIntensity.value=v.envMapIntensity)}function p(y,v,S){y.ior.value=v.ior,v.sheen>0&&(y.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),y.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(y.sheenColorMap.value=v.sheenColorMap,n(v.sheenColorMap,y.sheenColorMapTransform)),v.sheenRoughnessMap&&(y.sheenRoughnessMap.value=v.sheenRoughnessMap,n(v.sheenRoughnessMap,y.sheenRoughnessMapTransform))),v.clearcoat>0&&(y.clearcoat.value=v.clearcoat,y.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(y.clearcoatMap.value=v.clearcoatMap,n(v.clearcoatMap,y.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,n(v.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(y.clearcoatNormalMap.value=v.clearcoatNormalMap,n(v.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===yr&&y.clearcoatNormalScale.value.negate())),v.iridescence>0&&(y.iridescence.value=v.iridescence,y.iridescenceIOR.value=v.iridescenceIOR,y.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(y.iridescenceMap.value=v.iridescenceMap,n(v.iridescenceMap,y.iridescenceMapTransform)),v.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=v.iridescenceThicknessMap,n(v.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),v.transmission>0&&(y.transmission.value=v.transmission,y.transmissionSamplerMap.value=S.texture,y.transmissionSamplerSize.value.set(S.width,S.height),v.transmissionMap&&(y.transmissionMap.value=v.transmissionMap,n(v.transmissionMap,y.transmissionMapTransform)),y.thickness.value=v.thickness,v.thicknessMap&&(y.thicknessMap.value=v.thicknessMap,n(v.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=v.attenuationDistance,y.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(y.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(y.anisotropyMap.value=v.anisotropyMap,n(v.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=v.specularIntensity,y.specularColor.value.copy(v.specularColor),v.specularColorMap&&(y.specularColorMap.value=v.specularColorMap,n(v.specularColorMap,y.specularColorMapTransform)),v.specularIntensityMap&&(y.specularIntensityMap.value=v.specularIntensityMap,n(v.specularIntensityMap,y.specularIntensityMapTransform))}function g(y,v){v.matcap&&(y.matcap.value=v.matcap)}function x(y,v){const S=e.get(v).light;y.referencePosition.value.setFromMatrixPosition(S.matrixWorld),y.nearDistance.value=S.shadow.camera.near,y.farDistance.value=S.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function EK(t,e,n,r){let i={},s={},o=[];const a=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(S,_){const E=_.program;r.uniformBlockBinding(S,E)}function u(S,_){let E=i[S.id];E===void 0&&(g(S),E=c(S),i[S.id]=E,S.addEventListener("dispose",y));const b=_.program;r.updateUBOMapping(S,b);const T=e.render.frame;s[S.id]!==T&&(h(S),s[S.id]=T)}function c(S){const _=f();S.__bindingPointIndex=_;const E=t.createBuffer(),b=S.__size,T=S.usage;return t.bindBuffer(t.UNIFORM_BUFFER,E),t.bufferData(t.UNIFORM_BUFFER,b,T),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,_,E),E}function f(){for(let S=0;S<a;S++)if(o.indexOf(S)===-1)return o.push(S),S;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(S){const _=i[S.id],E=S.uniforms,b=S.__cache;t.bindBuffer(t.UNIFORM_BUFFER,_);for(let T=0,A=E.length;T<A;T++){const D=E[T];if(p(D,T,b)===!0){const C=D.__offset,L=Array.isArray(D.value)?D.value:[D.value];let k=0;for(let z=0;z<L.length;z++){const H=L[z],V=x(H);typeof H=="number"?(D.__data[0]=H,t.bufferSubData(t.UNIFORM_BUFFER,C+k,D.__data)):H.isMatrix3?(D.__data[0]=H.elements[0],D.__data[1]=H.elements[1],D.__data[2]=H.elements[2],D.__data[3]=H.elements[0],D.__data[4]=H.elements[3],D.__data[5]=H.elements[4],D.__data[6]=H.elements[5],D.__data[7]=H.elements[0],D.__data[8]=H.elements[6],D.__data[9]=H.elements[7],D.__data[10]=H.elements[8],D.__data[11]=H.elements[0]):(H.toArray(D.__data,k),k+=V.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,C,D.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function p(S,_,E){const b=S.value;if(E[_]===void 0){if(typeof b=="number")E[_]=b;else{const T=Array.isArray(b)?b:[b],A=[];for(let D=0;D<T.length;D++)A.push(T[D].clone());E[_]=A}return!0}else if(typeof b=="number"){if(E[_]!==b)return E[_]=b,!0}else{const T=Array.isArray(E[_])?E[_]:[E[_]],A=Array.isArray(b)?b:[b];for(let D=0;D<T.length;D++){const C=T[D];if(C.equals(A[D])===!1)return C.copy(A[D]),!0}}return!1}function g(S){const _=S.uniforms;let E=0;const b=16;let T=0;for(let A=0,D=_.length;A<D;A++){const C=_[A],L={boundary:0,storage:0},k=Array.isArray(C.value)?C.value:[C.value];for(let z=0,H=k.length;z<H;z++){const V=k[z],K=x(V);L.boundary+=K.boundary,L.storage+=K.storage}if(C.__data=new Float32Array(L.storage/Float32Array.BYTES_PER_ELEMENT),C.__offset=E,A>0){T=E%b;const z=b-T;T!==0&&z-L.boundary<0&&(E+=b-T,C.__offset=E)}E+=L.storage}return T=E%b,T>0&&(E+=b-T),S.__size=E,S.__cache={},this}function x(S){const _={boundary:0,storage:0};return typeof S=="number"?(_.boundary=4,_.storage=4):S.isVector2?(_.boundary=8,_.storage=8):S.isVector3||S.isColor?(_.boundary=16,_.storage=12):S.isVector4?(_.boundary=16,_.storage=16):S.isMatrix3?(_.boundary=48,_.storage=48):S.isMatrix4?(_.boundary=64,_.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),_}function y(S){const _=S.target;_.removeEventListener("dispose",y);const E=o.indexOf(_.__bindingPointIndex);o.splice(E,1),t.deleteBuffer(i[_.id]),delete i[_.id],delete s[_.id]}function v(){for(const S in i)t.deleteBuffer(i[S]);o=[],i={},s={}}return{bind:l,update:u,dispose:v}}class pS{constructor(e={}){const{canvas:n=EI(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let h;r!==null?h=r.getContextAttributes().alpha:h=o;const p=new Uint32Array(4),g=new Int32Array(4);let x=null,y=null;const v=[],S=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=Cn,this._useLegacyLights=!1,this.toneMapping=Da,this.toneMappingExposure=1;const _=this;let E=!1,b=0,T=0,A=null,D=-1,C=null;const L=new Kt,k=new Kt;let z=null;const H=new Xe(0);let V=0,K=n.width,J=n.height,$=1,U=null,G=null;const W=new Kt(0,0,K,J),F=new Kt(0,0,K,J);let j=!1;const ie=new _5;let se=!1,re=!1,fe=null;const oe=new rt,he=new ue,ke=new X,He={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ge(){return A===null?$:1}let Y=r;function Se(Z,_e){for(let Le=0;Le<Z.length;Le++){const we=Z[Le],De=n.getContext(we,_e);if(De!==null)return De}return null}try{const Z={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Ha}`),n.addEventListener("webglcontextlost",Oe,!1),n.addEventListener("webglcontextrestored",xe,!1),n.addEventListener("webglcontextcreationerror",We,!1),Y===null){const _e=["webgl2","webgl","experimental-webgl"];if(_.isWebGL1Renderer===!0&&_e.shift(),Y=Se(_e,Z),Y===null)throw Se(_e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&Y instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),Y.getShaderPrecisionFormat===void 0&&(Y.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Z){throw console.error("THREE.WebGLRenderer: "+Z.message),Z}let me,de,pe,ze,ye,Be,Ue,Ce,$e,N,O,ne,Ae,be,Ee,Ge,Fe,ve,je,Ze,Ye,Ne,ee,Te;function Ke(){me=new kX(Y),de=new LX(Y,me,e),me.init(de),Ne=new LI(Y,me,de),pe=new vK(Y,me,de),ze=new GX(Y),ye=new sK,Be=new yK(Y,me,pe,ye,de,Ne,ze),Ue=new BX(_),Ce=new OX(_),$e=new QV(Y,de),ee=new PX(Y,me,$e,de),N=new NX(Y,$e,ze,ee),O=new jX(Y,N,$e,ze),je=new WX(Y,de,Be),Ge=new IX(ye),ne=new iK(_,Ue,Ce,me,de,ee,Ge),Ae=new wK(_,ye),be=new aK,Ee=new dK(me,de),ve=new RX(_,Ue,Ce,pe,O,h,l),Fe=new gK(_,O,de),Te=new EK(Y,ze,de,pe),Ze=new DX(Y,me,ze,de),Ye=new zX(Y,me,ze,de),ze.programs=ne.programs,_.capabilities=de,_.extensions=me,_.properties=ye,_.renderLists=be,_.shadowMap=Fe,_.state=pe,_.info=ze}Ke();const Q=new _K(_,Y);this.xr=Q,this.getContext=function(){return Y},this.getContextAttributes=function(){return Y.getContextAttributes()},this.forceContextLoss=function(){const Z=me.get("WEBGL_lose_context");Z&&Z.loseContext()},this.forceContextRestore=function(){const Z=me.get("WEBGL_lose_context");Z&&Z.restoreContext()},this.getPixelRatio=function(){return $},this.setPixelRatio=function(Z){Z!==void 0&&($=Z,this.setSize(K,J,!1))},this.getSize=function(Z){return Z.set(K,J)},this.setSize=function(Z,_e,Le=!0){if(Q.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}K=Z,J=_e,n.width=Math.floor(Z*$),n.height=Math.floor(_e*$),Le===!0&&(n.style.width=Z+"px",n.style.height=_e+"px"),this.setViewport(0,0,Z,_e)},this.getDrawingBufferSize=function(Z){return Z.set(K*$,J*$).floor()},this.setDrawingBufferSize=function(Z,_e,Le){K=Z,J=_e,$=Le,n.width=Math.floor(Z*Le),n.height=Math.floor(_e*Le),this.setViewport(0,0,Z,_e)},this.getCurrentViewport=function(Z){return Z.copy(L)},this.getViewport=function(Z){return Z.copy(W)},this.setViewport=function(Z,_e,Le,we){Z.isVector4?W.set(Z.x,Z.y,Z.z,Z.w):W.set(Z,_e,Le,we),pe.viewport(L.copy(W).multiplyScalar($).floor())},this.getScissor=function(Z){return Z.copy(F)},this.setScissor=function(Z,_e,Le,we){Z.isVector4?F.set(Z.x,Z.y,Z.z,Z.w):F.set(Z,_e,Le,we),pe.scissor(k.copy(F).multiplyScalar($).floor())},this.getScissorTest=function(){return j},this.setScissorTest=function(Z){pe.setScissorTest(j=Z)},this.setOpaqueSort=function(Z){U=Z},this.setTransparentSort=function(Z){G=Z},this.getClearColor=function(Z){return Z.copy(ve.getClearColor())},this.setClearColor=function(){ve.setClearColor.apply(ve,arguments)},this.getClearAlpha=function(){return ve.getClearAlpha()},this.setClearAlpha=function(){ve.setClearAlpha.apply(ve,arguments)},this.clear=function(Z=!0,_e=!0,Le=!0){let we=0;if(Z){let De=!1;if(A!==null){const st=A.texture.format;De=st===sS||st===iS||st===nS}if(De){const st=A.texture.type,mt=st===bn||st===ba||st===m5||st===bl||st===eS||st===tS,vt=ve.getClearColor(),_t=ve.getClearAlpha(),Bt=vt.r,Ve=vt.g,yt=vt.b;mt?(p[0]=Bt,p[1]=Ve,p[2]=yt,p[3]=_t,Y.clearBufferuiv(Y.COLOR,0,p)):(g[0]=Bt,g[1]=Ve,g[2]=yt,g[3]=_t,Y.clearBufferiv(Y.COLOR,0,g))}else we|=Y.COLOR_BUFFER_BIT}_e&&(we|=Y.DEPTH_BUFFER_BIT),Le&&(we|=Y.STENCIL_BUFFER_BIT),Y.clear(we)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Oe,!1),n.removeEventListener("webglcontextrestored",xe,!1),n.removeEventListener("webglcontextcreationerror",We,!1),be.dispose(),Ee.dispose(),ye.dispose(),Ue.dispose(),Ce.dispose(),O.dispose(),ee.dispose(),Te.dispose(),ne.dispose(),Q.dispose(),Q.removeEventListener("sessionstart",Wt),Q.removeEventListener("sessionend",zt),fe&&(fe.dispose(),fe=null),Pt.stop()};function Oe(Z){Z.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),E=!0}function xe(){console.log("THREE.WebGLRenderer: Context Restored."),E=!1;const Z=ze.autoReset,_e=Fe.enabled,Le=Fe.autoUpdate,we=Fe.needsUpdate,De=Fe.type;Ke(),ze.autoReset=Z,Fe.enabled=_e,Fe.autoUpdate=Le,Fe.needsUpdate=we,Fe.type=De}function We(Z){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Z.statusMessage)}function qe(Z){const _e=Z.target;_e.removeEventListener("dispose",qe),Mt(_e)}function Mt(Z){bt(Z),ye.remove(Z)}function bt(Z){const _e=ye.get(Z).programs;_e!==void 0&&(_e.forEach(function(Le){ne.releaseProgram(Le)}),Z.isShaderMaterial&&ne.releaseShaderCache(Z))}this.renderBufferDirect=function(Z,_e,Le,we,De,st){_e===null&&(_e=He);const mt=De.isMesh&&De.matrixWorld.determinant()<0,vt=Pr(Z,_e,Le,we,De);pe.setMaterial(we,mt);let _t=Le.index,Bt=1;if(we.wireframe===!0){if(_t=N.getWireframeAttribute(Le),_t===void 0)return;Bt=2}const Ve=Le.drawRange,yt=Le.attributes.position;let vn=Ve.start*Bt,on=(Ve.start+Ve.count)*Bt;st!==null&&(vn=Math.max(vn,st.start*Bt),on=Math.min(on,(st.start+st.count)*Bt)),_t!==null?(vn=Math.max(vn,0),on=Math.min(on,_t.count)):yt!=null&&(vn=Math.max(vn,0),on=Math.min(on,yt.count));const Dr=on-vn;if(Dr<0||Dr===1/0)return;ee.setup(De,we,vt,Le,_t);let ui,fn=Ze;if(_t!==null&&(ui=$e.get(_t),fn=Ye,fn.setIndex(ui)),De.isMesh)we.wireframe===!0?(pe.setLineWidth(we.wireframeLinewidth*ge()),fn.setMode(Y.LINES)):fn.setMode(Y.TRIANGLES);else if(De.isLine){let wt=we.linewidth;wt===void 0&&(wt=1),pe.setLineWidth(wt*ge()),De.isLineSegments?fn.setMode(Y.LINES):De.isLineLoop?fn.setMode(Y.LINE_LOOP):fn.setMode(Y.LINE_STRIP)}else De.isPoints?fn.setMode(Y.POINTS):De.isSprite&&fn.setMode(Y.TRIANGLES);if(De.isInstancedMesh)fn.renderInstances(vn,Dr,De.count);else if(Le.isInstancedBufferGeometry){const wt=Le._maxInstanceCount!==void 0?Le._maxInstanceCount:1/0,tn=Math.min(Le.instanceCount,wt);fn.renderInstances(vn,Dr,tn)}else fn.render(vn,Dr)},this.compile=function(Z,_e){function Le(we,De,st){we.transparent===!0&&we.side===Zr&&we.forceSinglePass===!1?(we.side=yr,we.needsUpdate=!0,Sn(we,De,st),we.side=Ro,we.needsUpdate=!0,Sn(we,De,st),we.side=Zr):Sn(we,De,st)}y=Ee.get(Z),y.init(),S.push(y),Z.traverseVisible(function(we){we.isLight&&we.layers.test(_e.layers)&&(y.pushLight(we),we.castShadow&&y.pushShadow(we))}),y.setupLights(_._useLegacyLights),Z.traverse(function(we){const De=we.material;if(De)if(Array.isArray(De))for(let st=0;st<De.length;st++){const mt=De[st];Le(mt,Z,we)}else Le(De,Z,we)}),S.pop(),y=null};let Rt=null;function Xt(Z){Rt&&Rt(Z)}function Wt(){Pt.stop()}function zt(){Pt.start()}const Pt=new AI;Pt.setAnimationLoop(Xt),typeof self<"u"&&Pt.setContext(self),this.setAnimationLoop=function(Z){Rt=Z,Q.setAnimationLoop(Z),Z===null?Pt.stop():Pt.start()},Q.addEventListener("sessionstart",Wt),Q.addEventListener("sessionend",zt),this.render=function(Z,_e){if(_e!==void 0&&_e.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(E===!0)return;Z.matrixWorldAutoUpdate===!0&&Z.updateMatrixWorld(),_e.parent===null&&_e.matrixWorldAutoUpdate===!0&&_e.updateMatrixWorld(),Q.enabled===!0&&Q.isPresenting===!0&&(Q.cameraAutoUpdate===!0&&Q.updateCamera(_e),_e=Q.getCamera()),Z.isScene===!0&&Z.onBeforeRender(_,Z,_e,A),y=Ee.get(Z,S.length),y.init(),S.push(y),oe.multiplyMatrices(_e.projectionMatrix,_e.matrixWorldInverse),ie.setFromProjectionMatrix(oe),re=this.localClippingEnabled,se=Ge.init(this.clippingPlanes,re),x=be.get(Z,v.length),x.init(),v.push(x),li(Z,_e,0,_.sortObjects),x.finish(),_.sortObjects===!0&&x.sort(U,G),this.info.render.frame++,se===!0&&Ge.beginShadows();const Le=y.state.shadowsArray;if(Fe.render(Le,Z,_e),se===!0&&Ge.endShadows(),this.info.autoReset===!0&&this.info.reset(),ve.render(x,Z),y.setupLights(_._useLegacyLights),_e.isArrayCamera){const we=_e.cameras;for(let De=0,st=we.length;De<st;De++){const mt=we[De];Hr(x,Z,mt,mt.viewport)}}else Hr(x,Z,_e);A!==null&&(Be.updateMultisampleRenderTarget(A),Be.updateRenderTargetMipmap(A)),Z.isScene===!0&&Z.onAfterRender(_,Z,_e),ee.resetDefaultState(),D=-1,C=null,S.pop(),S.length>0?y=S[S.length-1]:y=null,v.pop(),v.length>0?x=v[v.length-1]:x=null};function li(Z,_e,Le,we){if(Z.visible===!1)return;if(Z.layers.test(_e.layers)){if(Z.isGroup)Le=Z.renderOrder;else if(Z.isLOD)Z.autoUpdate===!0&&Z.update(_e);else if(Z.isLight)y.pushLight(Z),Z.castShadow&&y.pushShadow(Z);else if(Z.isSprite){if(!Z.frustumCulled||ie.intersectsSprite(Z)){we&&ke.setFromMatrixPosition(Z.matrixWorld).applyMatrix4(oe);const mt=O.update(Z),vt=Z.material;vt.visible&&x.push(Z,mt,vt,Le,ke.z,null)}}else if((Z.isMesh||Z.isLine||Z.isPoints)&&(!Z.frustumCulled||ie.intersectsObject(Z))){const mt=O.update(Z),vt=Z.material;if(we&&(Z.boundingSphere!==void 0?(Z.boundingSphere===null&&Z.computeBoundingSphere(),ke.copy(Z.boundingSphere.center)):(mt.boundingSphere===null&&mt.computeBoundingSphere(),ke.copy(mt.boundingSphere.center)),ke.applyMatrix4(Z.matrixWorld).applyMatrix4(oe)),Array.isArray(vt)){const _t=mt.groups;for(let Bt=0,Ve=_t.length;Bt<Ve;Bt++){const yt=_t[Bt],vn=vt[yt.materialIndex];vn&&vn.visible&&x.push(Z,mt,vn,Le,ke.z,yt)}}else vt.visible&&x.push(Z,mt,vt,Le,ke.z,null)}}const st=Z.children;for(let mt=0,vt=st.length;mt<vt;mt++)li(st[mt],_e,Le,we)}function Hr(Z,_e,Le,we){const De=Z.opaque,st=Z.transmissive,mt=Z.transparent;y.setupLightsView(Le),se===!0&&Ge.setGlobalState(_.clippingPlanes,Le),st.length>0&&sn(De,st,_e,Le),we&&pe.viewport(L.copy(we)),De.length>0&&Mn(De,_e,Le),st.length>0&&Mn(st,_e,Le),mt.length>0&&Mn(mt,_e,Le),pe.buffers.depth.setTest(!0),pe.buffers.depth.setMask(!0),pe.buffers.color.setMask(!0),pe.setPolygonOffset(!1)}function sn(Z,_e,Le,we){const De=de.isWebGL2;fe===null&&(fe=new Qt(1,1,{generateMipmaps:!0,type:me.has("EXT_color_buffer_half_float")?ps:bn,minFilter:ka,samples:De?4:0})),_.getDrawingBufferSize(he),De?fe.setSize(he.x,he.y):fe.setSize(mv(he.x),mv(he.y));const st=_.getRenderTarget();_.setRenderTarget(fe),_.getClearColor(H),V=_.getClearAlpha(),V<1&&_.setClearColor(16777215,.5),_.clear();const mt=_.toneMapping;_.toneMapping=Da,Mn(Z,Le,we),Be.updateMultisampleRenderTarget(fe),Be.updateRenderTargetMipmap(fe);let vt=!1;for(let _t=0,Bt=_e.length;_t<Bt;_t++){const Ve=_e[_t],yt=Ve.object,vn=Ve.geometry,on=Ve.material,Dr=Ve.group;if(on.side===Zr&&yt.layers.test(we.layers)){const ui=on.side;on.side=yr,on.needsUpdate=!0,ti(yt,Le,we,vn,on,Dr),on.side=ui,on.needsUpdate=!0,vt=!0}}vt===!0&&(Be.updateMultisampleRenderTarget(fe),Be.updateRenderTargetMipmap(fe)),_.setRenderTarget(st),_.setClearColor(H,V),_.toneMapping=mt}function Mn(Z,_e,Le){const we=_e.isScene===!0?_e.overrideMaterial:null;for(let De=0,st=Z.length;De<st;De++){const mt=Z[De],vt=mt.object,_t=mt.geometry,Bt=we===null?mt.material:we,Ve=mt.group;vt.layers.test(Le.layers)&&ti(vt,_e,Le,_t,Bt,Ve)}}function ti(Z,_e,Le,we,De,st){Z.onBeforeRender(_,_e,Le,we,De,st),Z.modelViewMatrix.multiplyMatrices(Le.matrixWorldInverse,Z.matrixWorld),Z.normalMatrix.getNormalMatrix(Z.modelViewMatrix),De.onBeforeRender(_,_e,Le,we,Z,st),De.transparent===!0&&De.side===Zr&&De.forceSinglePass===!1?(De.side=yr,De.needsUpdate=!0,_.renderBufferDirect(Le,_e,we,De,Z,st),De.side=Ro,De.needsUpdate=!0,_.renderBufferDirect(Le,_e,we,De,Z,st),De.side=Zr):_.renderBufferDirect(Le,_e,we,De,Z,st),Z.onAfterRender(_,_e,Le,we,De,st)}function Sn(Z,_e,Le){_e.isScene!==!0&&(_e=He);const we=ye.get(Z),De=y.state.lights,st=y.state.shadowsArray,mt=De.state.version,vt=ne.getParameters(Z,De.state,st,_e,Le),_t=ne.getProgramCacheKey(vt);let Bt=we.programs;we.environment=Z.isMeshStandardMaterial?_e.environment:null,we.fog=_e.fog,we.envMap=(Z.isMeshStandardMaterial?Ce:Ue).get(Z.envMap||we.environment),Bt===void 0&&(Z.addEventListener("dispose",qe),Bt=new Map,we.programs=Bt);let Ve=Bt.get(_t);if(Ve!==void 0){if(we.currentProgram===Ve&&we.lightsStateVersion===mt)return Hn(Z,vt),Ve}else vt.uniforms=ne.getUniforms(Z),Z.onBuild(Le,vt,_),Z.onBeforeCompile(vt,_),Ve=ne.acquireProgram(vt,_t),Bt.set(_t,Ve),we.uniforms=vt.uniforms;const yt=we.uniforms;(!Z.isShaderMaterial&&!Z.isRawShaderMaterial||Z.clipping===!0)&&(yt.clippingPlanes=Ge.uniform),Hn(Z,vt),we.needsLights=Li(Z),we.lightsStateVersion=mt,we.needsLights&&(yt.ambientLightColor.value=De.state.ambient,yt.lightProbe.value=De.state.probe,yt.directionalLights.value=De.state.directional,yt.directionalLightShadows.value=De.state.directionalShadow,yt.spotLights.value=De.state.spot,yt.spotLightShadows.value=De.state.spotShadow,yt.rectAreaLights.value=De.state.rectArea,yt.ltc_1.value=De.state.rectAreaLTC1,yt.ltc_2.value=De.state.rectAreaLTC2,yt.pointLights.value=De.state.point,yt.pointLightShadows.value=De.state.pointShadow,yt.hemisphereLights.value=De.state.hemi,yt.directionalShadowMap.value=De.state.directionalShadowMap,yt.directionalShadowMatrix.value=De.state.directionalShadowMatrix,yt.spotShadowMap.value=De.state.spotShadowMap,yt.spotLightMatrix.value=De.state.spotLightMatrix,yt.spotLightMap.value=De.state.spotLightMap,yt.pointShadowMap.value=De.state.pointShadowMap,yt.pointShadowMatrix.value=De.state.pointShadowMatrix);const vn=Ve.getUniforms(),on=Pg.seqWithValue(vn.seq,yt);return we.currentProgram=Ve,we.uniformsList=on,Ve}function Hn(Z,_e){const Le=ye.get(Z);Le.outputColorSpace=_e.outputColorSpace,Le.instancing=_e.instancing,Le.instancingColor=_e.instancingColor,Le.skinning=_e.skinning,Le.morphTargets=_e.morphTargets,Le.morphNormals=_e.morphNormals,Le.morphColors=_e.morphColors,Le.morphTargetsCount=_e.morphTargetsCount,Le.numClippingPlanes=_e.numClippingPlanes,Le.numIntersection=_e.numClipIntersection,Le.vertexAlphas=_e.vertexAlphas,Le.vertexTangents=_e.vertexTangents,Le.toneMapping=_e.toneMapping}function Pr(Z,_e,Le,we,De){_e.isScene!==!0&&(_e=He),Be.resetTextureUnits();const st=_e.fog,mt=we.isMeshStandardMaterial?_e.environment:null,vt=A===null?_.outputColorSpace:A.isXRRenderTarget===!0?A.texture.colorSpace:ea,_t=(we.isMeshStandardMaterial?Ce:Ue).get(we.envMap||mt),Bt=we.vertexColors===!0&&!!Le.attributes.color&&Le.attributes.color.itemSize===4,Ve=!!Le.attributes.tangent&&(!!we.normalMap||we.anisotropy>0),yt=!!Le.morphAttributes.position,vn=!!Le.morphAttributes.normal,on=!!Le.morphAttributes.color;let Dr=Da;we.toneMapped&&(A===null||A.isXRRenderTarget===!0)&&(Dr=_.toneMapping);const ui=Le.morphAttributes.position||Le.morphAttributes.normal||Le.morphAttributes.color,fn=ui!==void 0?ui.length:0,wt=ye.get(we),tn=y.state.lights;if(se===!0&&(re===!0||Z!==C)){const Sr=Z===C&&we.id===D;Ge.setState(we,Z,Sr)}let Et=!1;we.version===wt.__version?(wt.needsLights&&wt.lightsStateVersion!==tn.state.version||wt.outputColorSpace!==vt||De.isInstancedMesh&&wt.instancing===!1||!De.isInstancedMesh&&wt.instancing===!0||De.isSkinnedMesh&&wt.skinning===!1||!De.isSkinnedMesh&&wt.skinning===!0||De.isInstancedMesh&&wt.instancingColor===!0&&De.instanceColor===null||De.isInstancedMesh&&wt.instancingColor===!1&&De.instanceColor!==null||wt.envMap!==_t||we.fog===!0&&wt.fog!==st||wt.numClippingPlanes!==void 0&&(wt.numClippingPlanes!==Ge.numPlanes||wt.numIntersection!==Ge.numIntersection)||wt.vertexAlphas!==Bt||wt.vertexTangents!==Ve||wt.morphTargets!==yt||wt.morphNormals!==vn||wt.morphColors!==on||wt.toneMapping!==Dr||de.isWebGL2===!0&&wt.morphTargetsCount!==fn)&&(Et=!0):(Et=!0,wt.__version=we.version);let fr=wt.currentProgram;Et===!0&&(fr=Sn(we,_e,De));let nr=!1,Nn=!1,Ji=!1;const yn=fr.getUniforms(),Tn=wt.uniforms;if(pe.useProgram(fr.program)&&(nr=!0,Nn=!0,Ji=!0),we.id!==D&&(D=we.id,Nn=!0),nr||C!==Z){yn.setValue(Y,"projectionMatrix",Z.projectionMatrix),yn.setValue(Y,"viewMatrix",Z.matrixWorldInverse);const Sr=yn.map.cameraPosition;Sr!==void 0&&Sr.setValue(Y,ke.setFromMatrixPosition(Z.matrixWorld)),de.logarithmicDepthBuffer&&yn.setValue(Y,"logDepthBufFC",2/(Math.log(Z.far+1)/Math.LN2)),(we.isMeshPhongMaterial||we.isMeshToonMaterial||we.isMeshLambertMaterial||we.isMeshBasicMaterial||we.isMeshStandardMaterial||we.isShaderMaterial)&&yn.setValue(Y,"isOrthographic",Z.isOrthographicCamera===!0),C!==Z&&(C=Z,Nn=!0,Ji=!0)}if(De.isSkinnedMesh){yn.setOptional(Y,De,"bindMatrix"),yn.setOptional(Y,De,"bindMatrixInverse");const Sr=De.skeleton;Sr&&(de.floatVertexTextures?(Sr.boneTexture===null&&Sr.computeBoneTexture(),yn.setValue(Y,"boneTexture",Sr.boneTexture,Be),yn.setValue(Y,"boneTextureSize",Sr.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Ii=Le.morphAttributes;if((Ii.position!==void 0||Ii.normal!==void 0||Ii.color!==void 0&&de.isWebGL2===!0)&&je.update(De,Le,fr),(Nn||wt.receiveShadow!==De.receiveShadow)&&(wt.receiveShadow=De.receiveShadow,yn.setValue(Y,"receiveShadow",De.receiveShadow)),we.isMeshGouraudMaterial&&we.envMap!==null&&(Tn.envMap.value=_t,Tn.flipEnvMap.value=_t.isCubeTexture&&_t.isRenderTargetTexture===!1?-1:1),Nn&&(yn.setValue(Y,"toneMappingExposure",_.toneMappingExposure),wt.needsLights&&Zs(Tn,Ji),st&&we.fog===!0&&Ae.refreshFogUniforms(Tn,st),Ae.refreshMaterialUniforms(Tn,we,$,J,fe),Pg.upload(Y,wt.uniformsList,Tn,Be)),we.isShaderMaterial&&we.uniformsNeedUpdate===!0&&(Pg.upload(Y,wt.uniformsList,Tn,Be),we.uniformsNeedUpdate=!1),we.isSpriteMaterial&&yn.setValue(Y,"center",De.center),yn.setValue(Y,"modelViewMatrix",De.modelViewMatrix),yn.setValue(Y,"normalMatrix",De.normalMatrix),yn.setValue(Y,"modelMatrix",De.matrixWorld),we.isShaderMaterial||we.isRawShaderMaterial){const Sr=we.uniformsGroups;for(let fa=0,ha=Sr.length;fa<ha;fa++)if(de.isWebGL2){const ci=Sr[fa];Te.update(ci,fr),Te.bind(ci,fr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return fr}function Zs(Z,_e){Z.ambientLightColor.needsUpdate=_e,Z.lightProbe.needsUpdate=_e,Z.directionalLights.needsUpdate=_e,Z.directionalLightShadows.needsUpdate=_e,Z.pointLights.needsUpdate=_e,Z.pointLightShadows.needsUpdate=_e,Z.spotLights.needsUpdate=_e,Z.spotLightShadows.needsUpdate=_e,Z.rectAreaLights.needsUpdate=_e,Z.hemisphereLights.needsUpdate=_e}function Li(Z){return Z.isMeshLambertMaterial||Z.isMeshToonMaterial||Z.isMeshPhongMaterial||Z.isMeshStandardMaterial||Z.isShadowMaterial||Z.isShaderMaterial&&Z.lights===!0}this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return T},this.getRenderTarget=function(){return A},this.setRenderTargetTextures=function(Z,_e,Le){ye.get(Z.texture).__webglTexture=_e,ye.get(Z.depthTexture).__webglTexture=Le;const we=ye.get(Z);we.__hasExternalTextures=!0,we.__hasExternalTextures&&(we.__autoAllocateDepthBuffer=Le===void 0,we.__autoAllocateDepthBuffer||me.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),we.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Z,_e){const Le=ye.get(Z);Le.__webglFramebuffer=_e,Le.__useDefaultFramebuffer=_e===void 0},this.setRenderTarget=function(Z,_e=0,Le=0){A=Z,b=_e,T=Le;let we=!0,De=null,st=!1,mt=!1;if(Z){const _t=ye.get(Z);_t.__useDefaultFramebuffer!==void 0?(pe.bindFramebuffer(Y.FRAMEBUFFER,null),we=!1):_t.__webglFramebuffer===void 0?Be.setupRenderTarget(Z):_t.__hasExternalTextures&&Be.rebindTextures(Z,ye.get(Z.texture).__webglTexture,ye.get(Z.depthTexture).__webglTexture);const Bt=Z.texture;(Bt.isData3DTexture||Bt.isDataArrayTexture||Bt.isCompressedArrayTexture)&&(mt=!0);const Ve=ye.get(Z).__webglFramebuffer;Z.isWebGLCubeRenderTarget?(Array.isArray(Ve[_e])?De=Ve[_e][Le]:De=Ve[_e],st=!0):de.isWebGL2&&Z.samples>0&&Be.useMultisampledRTT(Z)===!1?De=ye.get(Z).__webglMultisampledFramebuffer:Array.isArray(Ve)?De=Ve[Le]:De=Ve,L.copy(Z.viewport),k.copy(Z.scissor),z=Z.scissorTest}else L.copy(W).multiplyScalar($).floor(),k.copy(F).multiplyScalar($).floor(),z=j;if(pe.bindFramebuffer(Y.FRAMEBUFFER,De)&&de.drawBuffers&&we&&pe.drawBuffers(Z,De),pe.viewport(L),pe.scissor(k),pe.setScissorTest(z),st){const _t=ye.get(Z.texture);Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_CUBE_MAP_POSITIVE_X+_e,_t.__webglTexture,Le)}else if(mt){const _t=ye.get(Z.texture),Bt=_e||0;Y.framebufferTextureLayer(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,_t.__webglTexture,Le||0,Bt)}D=-1},this.readRenderTargetPixels=function(Z,_e,Le,we,De,st,mt){if(!(Z&&Z.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let vt=ye.get(Z).__webglFramebuffer;if(Z.isWebGLCubeRenderTarget&&mt!==void 0&&(vt=vt[mt]),vt){pe.bindFramebuffer(Y.FRAMEBUFFER,vt);try{const _t=Z.texture,Bt=_t.format,Ve=_t.type;if(Bt!==Bn&&Ne.convert(Bt)!==Y.getParameter(Y.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const yt=Ve===ps&&(me.has("EXT_color_buffer_half_float")||de.isWebGL2&&me.has("EXT_color_buffer_float"));if(Ve!==bn&&Ne.convert(Ve)!==Y.getParameter(Y.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Ve===Jn&&(de.isWebGL2||me.has("OES_texture_float")||me.has("WEBGL_color_buffer_float")))&&!yt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}_e>=0&&_e<=Z.width-we&&Le>=0&&Le<=Z.height-De&&Y.readPixels(_e,Le,we,De,Ne.convert(Bt),Ne.convert(Ve),st)}finally{const _t=A!==null?ye.get(A).__webglFramebuffer:null;pe.bindFramebuffer(Y.FRAMEBUFFER,_t)}}},this.copyFramebufferToTexture=function(Z,_e,Le=0){const we=Math.pow(2,-Le),De=Math.floor(_e.image.width*we),st=Math.floor(_e.image.height*we);Be.setTexture2D(_e,0),Y.copyTexSubImage2D(Y.TEXTURE_2D,Le,0,0,Z.x,Z.y,De,st),pe.unbindTexture()},this.copyTextureToTexture=function(Z,_e,Le,we=0){const De=_e.image.width,st=_e.image.height,mt=Ne.convert(Le.format),vt=Ne.convert(Le.type);Be.setTexture2D(Le,0),Y.pixelStorei(Y.UNPACK_FLIP_Y_WEBGL,Le.flipY),Y.pixelStorei(Y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Le.premultiplyAlpha),Y.pixelStorei(Y.UNPACK_ALIGNMENT,Le.unpackAlignment),_e.isDataTexture?Y.texSubImage2D(Y.TEXTURE_2D,we,Z.x,Z.y,De,st,mt,vt,_e.image.data):_e.isCompressedTexture?Y.compressedTexSubImage2D(Y.TEXTURE_2D,we,Z.x,Z.y,_e.mipmaps[0].width,_e.mipmaps[0].height,mt,_e.mipmaps[0].data):Y.texSubImage2D(Y.TEXTURE_2D,we,Z.x,Z.y,mt,vt,_e.image),we===0&&Le.generateMipmaps&&Y.generateMipmap(Y.TEXTURE_2D),pe.unbindTexture()},this.copyTextureToTexture3D=function(Z,_e,Le,we,De=0){if(_.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const st=Z.max.x-Z.min.x+1,mt=Z.max.y-Z.min.y+1,vt=Z.max.z-Z.min.z+1,_t=Ne.convert(we.format),Bt=Ne.convert(we.type);let Ve;if(we.isData3DTexture)Be.setTexture3D(we,0),Ve=Y.TEXTURE_3D;else if(we.isDataArrayTexture)Be.setTexture2DArray(we,0),Ve=Y.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Y.pixelStorei(Y.UNPACK_FLIP_Y_WEBGL,we.flipY),Y.pixelStorei(Y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,we.premultiplyAlpha),Y.pixelStorei(Y.UNPACK_ALIGNMENT,we.unpackAlignment);const yt=Y.getParameter(Y.UNPACK_ROW_LENGTH),vn=Y.getParameter(Y.UNPACK_IMAGE_HEIGHT),on=Y.getParameter(Y.UNPACK_SKIP_PIXELS),Dr=Y.getParameter(Y.UNPACK_SKIP_ROWS),ui=Y.getParameter(Y.UNPACK_SKIP_IMAGES),fn=Le.isCompressedTexture?Le.mipmaps[0]:Le.image;Y.pixelStorei(Y.UNPACK_ROW_LENGTH,fn.width),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,fn.height),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,Z.min.x),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,Z.min.y),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,Z.min.z),Le.isDataTexture||Le.isData3DTexture?Y.texSubImage3D(Ve,De,_e.x,_e.y,_e.z,st,mt,vt,_t,Bt,fn.data):Le.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Y.compressedTexSubImage3D(Ve,De,_e.x,_e.y,_e.z,st,mt,vt,_t,fn.data)):Y.texSubImage3D(Ve,De,_e.x,_e.y,_e.z,st,mt,vt,_t,Bt,fn),Y.pixelStorei(Y.UNPACK_ROW_LENGTH,yt),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,vn),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,on),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,Dr),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,ui),De===0&&we.generateMipmaps&&Y.generateMipmap(Ve),pe.unbindTexture()},this.initTexture=function(Z){Z.isCubeTexture?Be.setTextureCube(Z,0):Z.isData3DTexture?Be.setTexture3D(Z,0):Z.isDataArrayTexture||Z.isCompressedArrayTexture?Be.setTexture2DArray(Z,0):Be.setTexture2D(Z,0),pe.unbindTexture()},this.resetState=function(){b=0,T=0,A=null,pe.reset(),ee.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ma}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Cn?Mo:f1}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Mo?Cn:ea}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class BI extends pS{}BI.prototype.isWebGL1Renderer=!0;class M5{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Xe(e),this.density=n}clone(){return new M5(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class T5{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Xe(e),this.near=n,this.far=r}clone(){return new T5(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Il extends Vt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class y1{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Bm,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ns()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ns()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ns()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const zi=new X;class Xu{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)zi.fromBufferAttribute(this,n),zi.applyMatrix4(e),this.setXYZ(n,zi.x,zi.y,zi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)zi.fromBufferAttribute(this,n),zi.applyNormalMatrix(e),this.setXYZ(n,zi.x,zi.y,zi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)zi.fromBufferAttribute(this,n),zi.transformDirection(e),this.setXYZ(n,zi.x,zi.y,zi.z);return this}setX(e,n){return this.normalized&&(n=Gt(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Gt(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Gt(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Gt(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=os(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=os(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=os(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=os(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Gt(n,this.array),r=Gt(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Gt(n,this.array),r=Gt(r,this.array),i=Gt(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Gt(n,this.array),r=Gt(r,this.array),i=Gt(i,this.array),s=Gt(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new Zt(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Xu(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class mS extends ur{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Xe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let bh;const o0=new X,Mh=new X,Th=new X,Ah=new ue,a0=new ue,FI=new rt,m2=new X,l0=new X,g2=new X,gM=new ue,Qy=new ue,vM=new ue;class UI extends Vt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",bh===void 0){bh=new Lt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new y1(n,5);bh.setIndex([0,1,2,0,2,3]),bh.setAttribute("position",new Xu(r,3,0,!1)),bh.setAttribute("uv",new Xu(r,2,3,!1))}this.geometry=bh,this.material=e!==void 0?e:new mS,this.center=new ue(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Mh.setFromMatrixScale(this.matrixWorld),FI.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Th.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Mh.multiplyScalar(-Th.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;v2(m2.set(-.5,-.5,0),Th,o,Mh,i,s),v2(l0.set(.5,-.5,0),Th,o,Mh,i,s),v2(g2.set(.5,.5,0),Th,o,Mh,i,s),gM.set(0,0),Qy.set(1,0),vM.set(1,1);let a=e.ray.intersectTriangle(m2,l0,g2,!1,o0);if(a===null&&(v2(l0.set(-.5,.5,0),Th,o,Mh,i,s),Qy.set(0,1),a=e.ray.intersectTriangle(m2,g2,l0,!1,o0),a===null))return;const l=e.ray.origin.distanceTo(o0);l<e.near||l>e.far||n.push({distance:l,point:o0.clone(),uv:is.getInterpolation(o0,m2,l0,g2,gM,Qy,vM,new ue),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function v2(t,e,n,r,i,s){Ah.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(a0.x=s*Ah.x-i*Ah.y,a0.y=i*Ah.x+s*Ah.y):a0.copy(Ah),t.copy(e),t.x+=a0.x,t.y+=a0.y,t.applyMatrix4(FI)}const y2=new X,yM=new X;class OI extends Vt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){y2.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(y2);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){y2.setFromMatrixPosition(e.matrixWorld),yM.setFromMatrixPosition(this.matrixWorld);const r=y2.distanceTo(yM)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const xM=new X,SM=new Kt,_M=new Kt,bK=new X,wM=new rt,Ch=new X,qy=new xs,EM=new rt,$y=new kf;class gS extends Un{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new rt,this.bindMatrixInverse=new rt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Lo),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)Ch.fromBufferAttribute(n,r),this.applyBoneTransform(r,Ch),this.boundingBox.expandByPoint(Ch)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new xs),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)Ch.fromBufferAttribute(n,r),this.applyBoneTransform(r,Ch),this.boundingSphere.expandByPoint(Ch)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),qy.copy(this.boundingSphere),qy.applyMatrix4(i),e.ray.intersectsSphere(qy)!==!1&&(EM.copy(i).invert(),$y.copy(e.ray).applyMatrix4(EM),!(this.boundingBox!==null&&$y.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,$y)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Kt,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;SM.fromBufferAttribute(i.attributes.skinIndex,e),_M.fromBufferAttribute(i.attributes.skinWeight,e),xM.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=_M.getComponent(s);if(o!==0){const a=SM.getComponent(s);wM.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(bK.copy(xM).applyMatrix4(wM),o)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class A5 extends Vt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class La extends gn{constructor(e=null,n=1,r=1,i,s,o,a,l,u=Dt,c=Dt,f,h){super(null,o,a,l,u,c,i,s,f,h),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const bM=new rt,MK=new rt;class x1{constructor(e=[],n=[]){this.uuid=Ns(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new rt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new rt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:MK;bM.multiplyMatrices(a,n[s]),bM.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new x1(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=_I(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new La(n,e,e,Bn,Jn);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new A5),this.bones.push(o),this.boneInverses.push(new rt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Rf extends Zt{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Rh=new rt,MM=new rt,x2=[],TM=new Lo,TK=new rt,u0=new Un,c0=new xs;class vS extends Un{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Rf(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,TK)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Lo),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Rh),TM.copy(e.boundingBox).applyMatrix4(Rh),this.boundingBox.union(TM)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new xs),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Rh),c0.copy(e.boundingSphere).applyMatrix4(Rh),this.boundingSphere.union(c0)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(u0.geometry=this.geometry,u0.material=this.material,u0.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),c0.copy(this.boundingSphere),c0.applyMatrix4(r),e.ray.intersectsSphere(c0)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Rh),MM.multiplyMatrices(r,Rh),u0.matrixWorld=MM,u0.raycast(e,x2);for(let o=0,a=x2.length;o<a;o++){const l=x2[o];l.instanceId=s,l.object=this,n.push(l)}x2.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Rf(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Ri extends ur{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Xe(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const AM=new X,CM=new X,RM=new rt,e4=new kf,S2=new xs;class Bl extends Vt{constructor(e=new Lt,n=new Ri){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)AM.fromBufferAttribute(n,i-1),CM.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=AM.distanceTo(CM);e.setAttribute("lineDistance",new ft(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),S2.copy(r.boundingSphere),S2.applyMatrix4(i),S2.radius+=s,e.ray.intersectsSphere(S2)===!1)return;RM.copy(i).invert(),e4.copy(e.ray).applyMatrix4(RM);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new X,c=new X,f=new X,h=new X,p=this.isLineSegments?2:1,g=r.index,y=r.attributes.position;if(g!==null){const v=Math.max(0,o.start),S=Math.min(g.count,o.start+o.count);for(let _=v,E=S-1;_<E;_+=p){const b=g.getX(_),T=g.getX(_+1);if(u.fromBufferAttribute(y,b),c.fromBufferAttribute(y,T),e4.distanceSqToSegment(u,c,h,f)>l)continue;h.applyMatrix4(this.matrixWorld);const D=e.ray.origin.distanceTo(h);D<e.near||D>e.far||n.push({distance:D,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{const v=Math.max(0,o.start),S=Math.min(y.count,o.start+o.count);for(let _=v,E=S-1;_<E;_+=p){if(u.fromBufferAttribute(y,_),c.fromBufferAttribute(y,_+1),e4.distanceSqToSegment(u,c,h,f)>l)continue;h.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(h);T<e.near||T>e.far||n.push({distance:T,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const PM=new X,DM=new X;class ia extends Bl{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)PM.fromBufferAttribute(n,i),DM.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+PM.distanceTo(DM);e.setAttribute("lineDistance",new ft(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class yS extends Bl{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class C5 extends ur{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Xe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const LM=new rt,Ux=new kf,_2=new xs,w2=new X;class R5 extends Vt{constructor(e=new Lt,n=new C5){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),_2.copy(r.boundingSphere),_2.applyMatrix4(i),_2.radius+=s,e.ray.intersectsSphere(_2)===!1)return;LM.copy(i).invert(),Ux.copy(e.ray).applyMatrix4(LM);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,f=r.attributes.position;if(u!==null){const h=Math.max(0,o.start),p=Math.min(u.count,o.start+o.count);for(let g=h,x=p;g<x;g++){const y=u.getX(g);w2.fromBufferAttribute(f,y),IM(w2,y,l,i,e,n,this)}}else{const h=Math.max(0,o.start),p=Math.min(f.count,o.start+o.count);for(let g=h,x=p;g<x;g++)w2.fromBufferAttribute(f,g),IM(w2,g,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function IM(t,e,n,r,i,s,o){const a=Ux.distanceSqToPoint(t);if(a<n){const l=new X;Ux.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class kI extends gn{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:ht,this.magFilter=s!==void 0?s:ht,this.generateMipmaps=!1;const c=this;function f(){c.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Ox extends gn{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Dt,this.minFilter=Dt,this.generateMipmaps=!1,this.needsUpdate=!0}}class P5 extends gn{constructor(e,n,r,i,s,o,a,l,u,c,f,h){super(null,o,a,l,u,c,i,s,f,h),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class AK extends P5{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Ar}}class CK extends P5{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Ll),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class NI extends gn{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class sa{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const c=r[i],h=r[i+1]-c,p=(o-c)/h;return(i+p)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new ue:new X);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new X,i=[],s=[],o=[],a=new X,l=new rt;for(let p=0;p<=e;p++){const g=p/e;i[p]=this.getTangentAt(g,new X)}s[0]=new X,o[0]=new X;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),f=Math.abs(i[0].y),h=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),h<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let p=1;p<=e;p++){if(s[p]=s[p-1].clone(),o[p]=o[p-1].clone(),a.crossVectors(i[p-1],i[p]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(or(i[p-1].dot(i[p]),-1,1));s[p].applyMatrix4(l.makeRotationAxis(a,g))}o[p].crossVectors(i[p],s[p])}if(n===!0){let p=Math.acos(or(s[0].dot(s[e]),-1,1));p/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(p=-p);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(i[g],p*g)),o[g].crossVectors(i[g],s[g])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class D5 extends sa{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const r=n||new ue,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=l-this.aX,p=u-this.aY;l=h*c-p*f+this.aX,u=h*f+p*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class zI extends D5{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function xS(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,c,f){let h=(o-s)/u-(a-s)/(u+c)+(a-o)/c,p=(a-o)/c-(l-o)/(c+f)+(l-a)/f;h*=c,p*=c,i(o,a,h,p)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const E2=new X,t4=new xS,n4=new xS,r4=new xS;class GI extends sa{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new X){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,c;this.closed||a>0?u=i[(a-1)%s]:(E2.subVectors(i[0],i[1]).add(i[0]),u=E2);const f=i[a%s],h=i[(a+1)%s];if(this.closed||a+2<s?c=i[(a+2)%s]:(E2.subVectors(i[s-1],i[s-2]).add(i[s-1]),c=E2),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let g=Math.pow(u.distanceToSquared(f),p),x=Math.pow(f.distanceToSquared(h),p),y=Math.pow(h.distanceToSquared(c),p);x<1e-4&&(x=1),g<1e-4&&(g=x),y<1e-4&&(y=x),t4.initNonuniformCatmullRom(u.x,f.x,h.x,c.x,g,x,y),n4.initNonuniformCatmullRom(u.y,f.y,h.y,c.y,g,x,y),r4.initNonuniformCatmullRom(u.z,f.z,h.z,c.z,g,x,y)}else this.curveType==="catmullrom"&&(t4.initCatmullRom(u.x,f.x,h.x,c.x,this.tension),n4.initCatmullRom(u.y,f.y,h.y,c.y,this.tension),r4.initCatmullRom(u.z,f.z,h.z,c.z,this.tension));return r.set(t4.calc(l),n4.calc(l),r4.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new X().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function BM(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function RK(t,e){const n=1-t;return n*n*e}function PK(t,e){return 2*(1-t)*t*e}function DK(t,e){return t*t*e}function q0(t,e,n,r){return RK(t,e)+PK(t,n)+DK(t,r)}function LK(t,e){const n=1-t;return n*n*n*e}function IK(t,e){const n=1-t;return 3*n*n*t*e}function BK(t,e){return 3*(1-t)*t*t*e}function FK(t,e){return t*t*t*e}function $0(t,e,n,r,i){return LK(t,e)+IK(t,n)+BK(t,r)+FK(t,i)}class SS extends sa{constructor(e=new ue,n=new ue,r=new ue,i=new ue){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ue){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set($0(e,i.x,s.x,o.x,a.x),$0(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class HI extends sa{constructor(e=new X,n=new X,r=new X,i=new X){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new X){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set($0(e,i.x,s.x,o.x,a.x),$0(e,i.y,s.y,o.y,a.y),$0(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class L5 extends sa{constructor(e=new ue,n=new ue){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new ue){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ue){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class VI extends sa{constructor(e=new X,n=new X){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new X){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new X){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class _S extends sa{constructor(e=new ue,n=new ue,r=new ue){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ue){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(q0(e,i.x,s.x,o.x),q0(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class wS extends sa{constructor(e=new X,n=new X,r=new X){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new X){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(q0(e,i.x,s.x,o.x),q0(e,i.y,s.y,o.y),q0(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ES extends sa{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new ue){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],c=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(BM(a,l.x,u.x,c.x,f.x),BM(a,l.y,u.y,c.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ue().fromArray(i))}return this}}var bS=Object.freeze({__proto__:null,ArcCurve:zI,CatmullRomCurve3:GI,CubicBezierCurve:SS,CubicBezierCurve3:HI,EllipseCurve:D5,LineCurve:L5,LineCurve3:VI,QuadraticBezierCurve:_S,QuadraticBezierCurve3:wS,SplineCurve:ES});class WI extends sa{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new L5(n,e))}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(n.push(c),r=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new bS[i.type]().fromJSON(i))}return this}}let Om=class extends WI{constructor(e){super(),this.type="Path",this.currentPoint=new ue,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new L5(this.currentPoint.clone(),new ue(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new _S(this.currentPoint.clone(),new ue(e,n),new ue(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new SS(this.currentPoint.clone(),new ue(e,n),new ue(r,i),new ue(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new ES(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,n+c,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const u=new D5(e,n,r,i,s,o,a,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class S1 extends Lt{constructor(e=[new ue(0,-.5),new ue(.5,0),new ue(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=or(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],c=1/n,f=new X,h=new ue,p=new X,g=new X,x=new X;let y=0,v=0;for(let S=0;S<=e.length-1;S++)switch(S){case 0:y=e[S+1].x-e[S].x,v=e[S+1].y-e[S].y,p.x=v*1,p.y=-y,p.z=v*0,x.copy(p),p.normalize(),l.push(p.x,p.y,p.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:y=e[S+1].x-e[S].x,v=e[S+1].y-e[S].y,p.x=v*1,p.y=-y,p.z=v*0,g.copy(p),p.x+=x.x,p.y+=x.y,p.z+=x.z,p.normalize(),l.push(p.x,p.y,p.z),x.copy(g)}for(let S=0;S<=n;S++){const _=r+S*c*i,E=Math.sin(_),b=Math.cos(_);for(let T=0;T<=e.length-1;T++){f.x=e[T].x*E,f.y=e[T].y,f.z=e[T].x*b,o.push(f.x,f.y,f.z),h.x=S/n,h.y=T/(e.length-1),a.push(h.x,h.y);const A=l[3*T+0]*E,D=l[3*T+1],C=l[3*T+0]*b;u.push(A,D,C)}}for(let S=0;S<n;S++)for(let _=0;_<e.length-1;_++){const E=_+S*e.length,b=E,T=E+e.length,A=E+e.length+1,D=E+1;s.push(b,T,D),s.push(A,D,T)}this.setIndex(s),this.setAttribute("position",new ft(o,3)),this.setAttribute("uv",new ft(a,2)),this.setAttribute("normal",new ft(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new S1(e.points,e.segments,e.phiStart,e.phiLength)}}class I5 extends S1{constructor(e=1,n=1,r=4,i=8){const s=new Om;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new I5(e.radius,e.length,e.capSegments,e.radialSegments)}}class B5 extends Lt{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],u=new X,c=new ue;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,h=3;f<=n;f++,h+=3){const p=r+f/n*i;u.x=e*Math.cos(p),u.y=e*Math.sin(p),o.push(u.x,u.y,u.z),a.push(0,0,1),c.x=(o[h]/e+1)/2,c.y=(o[h+1]/e+1)/2,l.push(c.x,c.y)}for(let f=1;f<=n;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new ft(o,3)),this.setAttribute("normal",new ft(a,3)),this.setAttribute("uv",new ft(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new B5(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class lp extends Lt{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const c=[],f=[],h=[],p=[];let g=0;const x=[],y=r/2;let v=0;S(),o===!1&&(e>0&&_(!0),n>0&&_(!1)),this.setIndex(c),this.setAttribute("position",new ft(f,3)),this.setAttribute("normal",new ft(h,3)),this.setAttribute("uv",new ft(p,2));function S(){const E=new X,b=new X;let T=0;const A=(n-e)/r;for(let D=0;D<=s;D++){const C=[],L=D/s,k=L*(n-e)+e;for(let z=0;z<=i;z++){const H=z/i,V=H*l+a,K=Math.sin(V),J=Math.cos(V);b.x=k*K,b.y=-L*r+y,b.z=k*J,f.push(b.x,b.y,b.z),E.set(K,A,J).normalize(),h.push(E.x,E.y,E.z),p.push(H,1-L),C.push(g++)}x.push(C)}for(let D=0;D<i;D++)for(let C=0;C<s;C++){const L=x[C][D],k=x[C+1][D],z=x[C+1][D+1],H=x[C][D+1];c.push(L,k,H),c.push(k,z,H),T+=6}u.addGroup(v,T,0),v+=T}function _(E){const b=g,T=new ue,A=new X;let D=0;const C=E===!0?e:n,L=E===!0?1:-1;for(let z=1;z<=i;z++)f.push(0,y*L,0),h.push(0,L,0),p.push(.5,.5),g++;const k=g;for(let z=0;z<=i;z++){const V=z/i*l+a,K=Math.cos(V),J=Math.sin(V);A.x=C*J,A.y=y*L,A.z=C*K,f.push(A.x,A.y,A.z),h.push(0,L,0),T.x=K*.5+.5,T.y=J*.5*L+.5,p.push(T.x,T.y),g++}for(let z=0;z<i;z++){const H=b+z,V=k+z;E===!0?c.push(V,V+1,H):c.push(V+1,V,H),D+=3}u.addGroup(v,D,E===!0?1:2),v+=D}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lp(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class F5 extends lp{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new F5(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class oc extends Lt{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),u(r),c(),this.setAttribute("position",new ft(s,3)),this.setAttribute("normal",new ft(s.slice(),3)),this.setAttribute("uv",new ft(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(S){const _=new X,E=new X,b=new X;for(let T=0;T<n.length;T+=3)p(n[T+0],_),p(n[T+1],E),p(n[T+2],b),l(_,E,b,S)}function l(S,_,E,b){const T=b+1,A=[];for(let D=0;D<=T;D++){A[D]=[];const C=S.clone().lerp(E,D/T),L=_.clone().lerp(E,D/T),k=T-D;for(let z=0;z<=k;z++)z===0&&D===T?A[D][z]=C:A[D][z]=C.clone().lerp(L,z/k)}for(let D=0;D<T;D++)for(let C=0;C<2*(T-D)-1;C++){const L=Math.floor(C/2);C%2===0?(h(A[D][L+1]),h(A[D+1][L]),h(A[D][L])):(h(A[D][L+1]),h(A[D+1][L+1]),h(A[D+1][L]))}}function u(S){const _=new X;for(let E=0;E<s.length;E+=3)_.x=s[E+0],_.y=s[E+1],_.z=s[E+2],_.normalize().multiplyScalar(S),s[E+0]=_.x,s[E+1]=_.y,s[E+2]=_.z}function c(){const S=new X;for(let _=0;_<s.length;_+=3){S.x=s[_+0],S.y=s[_+1],S.z=s[_+2];const E=y(S)/2/Math.PI+.5,b=v(S)/Math.PI+.5;o.push(E,1-b)}g(),f()}function f(){for(let S=0;S<o.length;S+=6){const _=o[S+0],E=o[S+2],b=o[S+4],T=Math.max(_,E,b),A=Math.min(_,E,b);T>.9&&A<.1&&(_<.2&&(o[S+0]+=1),E<.2&&(o[S+2]+=1),b<.2&&(o[S+4]+=1))}}function h(S){s.push(S.x,S.y,S.z)}function p(S,_){const E=S*3;_.x=e[E+0],_.y=e[E+1],_.z=e[E+2]}function g(){const S=new X,_=new X,E=new X,b=new X,T=new ue,A=new ue,D=new ue;for(let C=0,L=0;C<s.length;C+=9,L+=6){S.set(s[C+0],s[C+1],s[C+2]),_.set(s[C+3],s[C+4],s[C+5]),E.set(s[C+6],s[C+7],s[C+8]),T.set(o[L+0],o[L+1]),A.set(o[L+2],o[L+3]),D.set(o[L+4],o[L+5]),b.copy(S).add(_).add(E).divideScalar(3);const k=y(b);x(T,L+0,S,k),x(A,L+2,_,k),x(D,L+4,E,k)}}function x(S,_,E,b){b<0&&S.x===1&&(o[_]=S.x-1),E.x===0&&E.z===0&&(o[_]=b/2/Math.PI+.5)}function y(S){return Math.atan2(S.z,-S.x)}function v(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new oc(e.vertices,e.indices,e.radius,e.details)}}class U5 extends oc{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new U5(e.radius,e.detail)}}const b2=new X,M2=new X,i4=new X,T2=new is;class jI extends Lt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(hf*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),h={},p=[];for(let g=0;g<l;g+=3){o?(u[0]=o.getX(g),u[1]=o.getX(g+1),u[2]=o.getX(g+2)):(u[0]=g,u[1]=g+1,u[2]=g+2);const{a:x,b:y,c:v}=T2;if(x.fromBufferAttribute(a,u[0]),y.fromBufferAttribute(a,u[1]),v.fromBufferAttribute(a,u[2]),T2.getNormal(i4),f[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,f[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[2]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let S=0;S<3;S++){const _=(S+1)%3,E=f[S],b=f[_],T=T2[c[S]],A=T2[c[_]],D=`${E}_${b}`,C=`${b}_${E}`;C in h&&h[C]?(i4.dot(h[C].normal)<=s&&(p.push(T.x,T.y,T.z),p.push(A.x,A.y,A.z)),h[C]=null):D in h||(h[D]={index0:u[S],index1:u[_],normal:i4.clone()})}}for(const g in h)if(h[g]){const{index0:x,index1:y}=h[g];b2.fromBufferAttribute(a,x),M2.fromBufferAttribute(a,y),p.push(b2.x,b2.y,b2.z),p.push(M2.x,M2.y,M2.z)}this.setAttribute("position",new ft(p,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class mf extends Om{constructor(e){super(e),this.uuid=Ns(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new Om().fromJSON(i))}return this}}const UK={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=XI(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,c,f,h,p;if(r&&(s=GK(t,e,s,n)),t.length>80*n){a=u=t[0],l=c=t[1];for(let g=n;g<i;g+=n)f=t[g],h=t[g+1],f<a&&(a=f),h<l&&(l=h),f>u&&(u=f),h>c&&(c=h);p=Math.max(u-a,c-l),p=p!==0?32767/p:0}return km(s,o,n,a,l,p,0),o}};function XI(t,e,n,r,i){let s,o;if(i===qK(t,e,n,r)>0)for(s=e;s<n;s+=r)o=FM(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=FM(s,t[s],t[s+1],o);return o&&O5(o,o.next)&&(zm(o),o=o.next),o}function Pf(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(O5(n,n.next)||Zn(n.prev,n,n.next)===0)){if(zm(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function km(t,e,n,r,i,s,o){if(!t)return;!o&&s&&XK(t,r,i,s);let a=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,s?kK(t,r,i,s):OK(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),zm(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=NK(Pf(t),e,n),km(t,e,n,r,i,s,2)):o===2&&zK(t,e,n,r,i,s):km(Pf(t),e,n,r,i,s,1);break}}}function OK(t){const e=t.prev,n=t,r=t.next;if(Zn(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,u=r.y,c=i<s?i<o?i:o:s<o?s:o,f=a<l?a<u?a:u:l<u?l:u,h=i>s?i>o?i:o:s>o?s:o,p=a>l?a>u?a:u:l>u?l:u;let g=r.next;for(;g!==e;){if(g.x>=c&&g.x<=h&&g.y>=f&&g.y<=p&&nd(i,a,s,l,o,u,g.x,g.y)&&Zn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function kK(t,e,n,r){const i=t.prev,s=t,o=t.next;if(Zn(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,c=i.y,f=s.y,h=o.y,p=a<l?a<u?a:u:l<u?l:u,g=c<f?c<h?c:h:f<h?f:h,x=a>l?a>u?a:u:l>u?l:u,y=c>f?c>h?c:h:f>h?f:h,v=kx(p,g,e,n,r),S=kx(x,y,e,n,r);let _=t.prevZ,E=t.nextZ;for(;_&&_.z>=v&&E&&E.z<=S;){if(_.x>=p&&_.x<=x&&_.y>=g&&_.y<=y&&_!==i&&_!==o&&nd(a,c,l,f,u,h,_.x,_.y)&&Zn(_.prev,_,_.next)>=0||(_=_.prevZ,E.x>=p&&E.x<=x&&E.y>=g&&E.y<=y&&E!==i&&E!==o&&nd(a,c,l,f,u,h,E.x,E.y)&&Zn(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;_&&_.z>=v;){if(_.x>=p&&_.x<=x&&_.y>=g&&_.y<=y&&_!==i&&_!==o&&nd(a,c,l,f,u,h,_.x,_.y)&&Zn(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;E&&E.z<=S;){if(E.x>=p&&E.x<=x&&E.y>=g&&E.y<=y&&E!==i&&E!==o&&nd(a,c,l,f,u,h,E.x,E.y)&&Zn(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function NK(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!O5(i,s)&&YI(i,r,r.next,s)&&Nm(i,s)&&Nm(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),zm(r),zm(r.next),r=t=s),r=r.next}while(r!==t);return Pf(r)}function zK(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&JK(o,a)){let l=KI(o,a);o=Pf(o,o.next),l=Pf(l,l.next),km(o,e,n,r,i,s,0),km(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function GK(t,e,n,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,u=XI(t,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(KK(u));for(i.sort(HK),s=0;s<i.length;s++)n=VK(i[s],n);return n}function HK(t,e){return t.x-e.x}function VK(t,e){const n=WK(t,e);if(!n)return e;const r=KI(n,t);return Pf(r,r.next),Pf(n,n.next)}function WK(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const h=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(h<=s&&h>r&&(r=h,i=n.x<n.next.x?n:n.next,h===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,u=i.y;let c=1/0,f;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&nd(o<u?s:r,o,l,u,o<u?r:s,o,n.x,n.y)&&(f=Math.abs(o-n.y)/(s-n.x),Nm(n,t)&&(f<c||f===c&&(n.x>i.x||n.x===i.x&&jK(i,n)))&&(i=n,c=f)),n=n.next;while(n!==a);return i}function jK(t,e){return Zn(t.prev,t,e.prev)<0&&Zn(e.next,t,t.next)<0}function XK(t,e,n,r){let i=t;do i.z===0&&(i.z=kx(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,YK(i)}function YK(t){let e,n,r,i,s,o,a,l,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return t}function kx(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function KK(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function nd(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function JK(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!ZK(t,e)&&(Nm(t,e)&&Nm(e,t)&&QK(t,e)&&(Zn(t.prev,t,e.prev)||Zn(t,e.prev,e))||O5(t,e)&&Zn(t.prev,t,t.next)>0&&Zn(e.prev,e,e.next)>0)}function Zn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function O5(t,e){return t.x===e.x&&t.y===e.y}function YI(t,e,n,r){const i=C2(Zn(t,e,n)),s=C2(Zn(t,e,r)),o=C2(Zn(n,r,t)),a=C2(Zn(n,r,e));return!!(i!==s&&o!==a||i===0&&A2(t,n,e)||s===0&&A2(t,r,e)||o===0&&A2(n,t,r)||a===0&&A2(n,e,r))}function A2(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function C2(t){return t>0?1:t<0?-1:0}function ZK(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&YI(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Nm(t,e){return Zn(t.prev,t,t.next)<0?Zn(t,e,t.next)>=0&&Zn(t,t.prev,e)>=0:Zn(t,e,t.prev)<0||Zn(t,t.next,e)<0}function QK(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function KI(t,e){const n=new Nx(t.i,t.x,t.y),r=new Nx(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function FM(t,e,n,r){const i=new Nx(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function zm(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Nx(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function qK(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class Ia{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Ia.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];UM(e),OM(r,e);let o=e.length;n.forEach(UM);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,OM(r,n[l]);const a=UK.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function UM(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function OM(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class k5 extends Lt{constructor(e=new mf([new ue(.5,.5),new ue(-.5,.5),new ue(-.5,-.5),new ue(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new ft(i,3)),this.setAttribute("uv",new ft(s,2)),this.computeVertexNormals();function o(a){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let h=n.bevelEnabled!==void 0?n.bevelEnabled:!0,p=n.bevelThickness!==void 0?n.bevelThickness:.2,g=n.bevelSize!==void 0?n.bevelSize:p-.1,x=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const v=n.extrudePath,S=n.UVGenerator!==void 0?n.UVGenerator:$K;let _,E=!1,b,T,A,D;v&&(_=v.getSpacedPoints(c),E=!0,h=!1,b=v.computeFrenetFrames(c,!1),T=new X,A=new X,D=new X),h||(y=0,p=0,g=0,x=0);const C=a.extractPoints(u);let L=C.shape;const k=C.holes;if(!Ia.isClockWise(L)){L=L.reverse();for(let Y=0,Se=k.length;Y<Se;Y++){const me=k[Y];Ia.isClockWise(me)&&(k[Y]=me.reverse())}}const H=Ia.triangulateShape(L,k),V=L;for(let Y=0,Se=k.length;Y<Se;Y++){const me=k[Y];L=L.concat(me)}function K(Y,Se,me){return Se||console.error("THREE.ExtrudeGeometry: vec does not exist"),Y.clone().addScaledVector(Se,me)}const J=L.length,$=H.length;function U(Y,Se,me){let de,pe,ze;const ye=Y.x-Se.x,Be=Y.y-Se.y,Ue=me.x-Y.x,Ce=me.y-Y.y,$e=ye*ye+Be*Be,N=ye*Ce-Be*Ue;if(Math.abs(N)>Number.EPSILON){const O=Math.sqrt($e),ne=Math.sqrt(Ue*Ue+Ce*Ce),Ae=Se.x-Be/O,be=Se.y+ye/O,Ee=me.x-Ce/ne,Ge=me.y+Ue/ne,Fe=((Ee-Ae)*Ce-(Ge-be)*Ue)/(ye*Ce-Be*Ue);de=Ae+ye*Fe-Y.x,pe=be+Be*Fe-Y.y;const ve=de*de+pe*pe;if(ve<=2)return new ue(de,pe);ze=Math.sqrt(ve/2)}else{let O=!1;ye>Number.EPSILON?Ue>Number.EPSILON&&(O=!0):ye<-Number.EPSILON?Ue<-Number.EPSILON&&(O=!0):Math.sign(Be)===Math.sign(Ce)&&(O=!0),O?(de=-Be,pe=ye,ze=Math.sqrt($e)):(de=ye,pe=Be,ze=Math.sqrt($e/2))}return new ue(de/ze,pe/ze)}const G=[];for(let Y=0,Se=V.length,me=Se-1,de=Y+1;Y<Se;Y++,me++,de++)me===Se&&(me=0),de===Se&&(de=0),G[Y]=U(V[Y],V[me],V[de]);const W=[];let F,j=G.concat();for(let Y=0,Se=k.length;Y<Se;Y++){const me=k[Y];F=[];for(let de=0,pe=me.length,ze=pe-1,ye=de+1;de<pe;de++,ze++,ye++)ze===pe&&(ze=0),ye===pe&&(ye=0),F[de]=U(me[de],me[ze],me[ye]);W.push(F),j=j.concat(F)}for(let Y=0;Y<y;Y++){const Se=Y/y,me=p*Math.cos(Se*Math.PI/2),de=g*Math.sin(Se*Math.PI/2)+x;for(let pe=0,ze=V.length;pe<ze;pe++){const ye=K(V[pe],G[pe],de);oe(ye.x,ye.y,-me)}for(let pe=0,ze=k.length;pe<ze;pe++){const ye=k[pe];F=W[pe];for(let Be=0,Ue=ye.length;Be<Ue;Be++){const Ce=K(ye[Be],F[Be],de);oe(Ce.x,Ce.y,-me)}}}const ie=g+x;for(let Y=0;Y<J;Y++){const Se=h?K(L[Y],j[Y],ie):L[Y];E?(A.copy(b.normals[0]).multiplyScalar(Se.x),T.copy(b.binormals[0]).multiplyScalar(Se.y),D.copy(_[0]).add(A).add(T),oe(D.x,D.y,D.z)):oe(Se.x,Se.y,0)}for(let Y=1;Y<=c;Y++)for(let Se=0;Se<J;Se++){const me=h?K(L[Se],j[Se],ie):L[Se];E?(A.copy(b.normals[Y]).multiplyScalar(me.x),T.copy(b.binormals[Y]).multiplyScalar(me.y),D.copy(_[Y]).add(A).add(T),oe(D.x,D.y,D.z)):oe(me.x,me.y,f/c*Y)}for(let Y=y-1;Y>=0;Y--){const Se=Y/y,me=p*Math.cos(Se*Math.PI/2),de=g*Math.sin(Se*Math.PI/2)+x;for(let pe=0,ze=V.length;pe<ze;pe++){const ye=K(V[pe],G[pe],de);oe(ye.x,ye.y,f+me)}for(let pe=0,ze=k.length;pe<ze;pe++){const ye=k[pe];F=W[pe];for(let Be=0,Ue=ye.length;Be<Ue;Be++){const Ce=K(ye[Be],F[Be],de);E?oe(Ce.x,Ce.y+_[c-1].y,_[c-1].x+me):oe(Ce.x,Ce.y,f+me)}}}se(),re();function se(){const Y=i.length/3;if(h){let Se=0,me=J*Se;for(let de=0;de<$;de++){const pe=H[de];he(pe[2]+me,pe[1]+me,pe[0]+me)}Se=c+y*2,me=J*Se;for(let de=0;de<$;de++){const pe=H[de];he(pe[0]+me,pe[1]+me,pe[2]+me)}}else{for(let Se=0;Se<$;Se++){const me=H[Se];he(me[2],me[1],me[0])}for(let Se=0;Se<$;Se++){const me=H[Se];he(me[0]+J*c,me[1]+J*c,me[2]+J*c)}}r.addGroup(Y,i.length/3-Y,0)}function re(){const Y=i.length/3;let Se=0;fe(V,Se),Se+=V.length;for(let me=0,de=k.length;me<de;me++){const pe=k[me];fe(pe,Se),Se+=pe.length}r.addGroup(Y,i.length/3-Y,1)}function fe(Y,Se){let me=Y.length;for(;--me>=0;){const de=me;let pe=me-1;pe<0&&(pe=Y.length-1);for(let ze=0,ye=c+y*2;ze<ye;ze++){const Be=J*ze,Ue=J*(ze+1),Ce=Se+de+Be,$e=Se+pe+Be,N=Se+pe+Ue,O=Se+de+Ue;ke(Ce,$e,N,O)}}}function oe(Y,Se,me){l.push(Y),l.push(Se),l.push(me)}function he(Y,Se,me){He(Y),He(Se),He(me);const de=i.length/3,pe=S.generateTopUV(r,i,de-3,de-2,de-1);ge(pe[0]),ge(pe[1]),ge(pe[2])}function ke(Y,Se,me,de){He(Y),He(Se),He(de),He(Se),He(me),He(de);const pe=i.length/3,ze=S.generateSideWallUV(r,i,pe-6,pe-3,pe-2,pe-1);ge(ze[0]),ge(ze[1]),ge(ze[3]),ge(ze[1]),ge(ze[2]),ge(ze[3])}function He(Y){i.push(l[Y*3+0]),i.push(l[Y*3+1]),i.push(l[Y*3+2])}function ge(Y){s.push(Y.x),s.push(Y.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return eJ(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new bS[i.type]().fromJSON(i)),new k5(r,e.options)}}const $K={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new ue(s,o),new ue(a,l),new ue(u,c)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],u=e[r*3],c=e[r*3+1],f=e[r*3+2],h=e[i*3],p=e[i*3+1],g=e[i*3+2],x=e[s*3],y=e[s*3+1],v=e[s*3+2];return Math.abs(a-c)<Math.abs(o-u)?[new ue(o,1-l),new ue(u,1-f),new ue(h,1-g),new ue(x,1-v)]:[new ue(a,1-l),new ue(c,1-f),new ue(p,1-g),new ue(y,1-v)]}};function eJ(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class N5 extends oc{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new N5(e.radius,e.detail)}}class _1 extends oc{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new _1(e.radius,e.detail)}}class z5 extends Lt{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],c=[];let f=e;const h=(n-e)/i,p=new X,g=new ue;for(let x=0;x<=i;x++){for(let y=0;y<=r;y++){const v=s+y/r*o;p.x=f*Math.cos(v),p.y=f*Math.sin(v),l.push(p.x,p.y,p.z),u.push(0,0,1),g.x=(p.x/n+1)/2,g.y=(p.y/n+1)/2,c.push(g.x,g.y)}f+=h}for(let x=0;x<i;x++){const y=x*(r+1);for(let v=0;v<r;v++){const S=v+y,_=S,E=S+r+1,b=S+r+2,T=S+1;a.push(_,E,T),a.push(E,b,T)}}this.setIndex(a),this.setAttribute("position",new ft(l,3)),this.setAttribute("normal",new ft(u,3)),this.setAttribute("uv",new ft(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new z5(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class G5 extends Lt{constructor(e=new mf([new ue(0,.5),new ue(-.5,-.5),new ue(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(a,l,c),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new ft(i,3)),this.setAttribute("normal",new ft(s,3)),this.setAttribute("uv",new ft(o,2));function u(c){const f=i.length/3,h=c.extractPoints(n);let p=h.shape;const g=h.holes;Ia.isClockWise(p)===!1&&(p=p.reverse());for(let y=0,v=g.length;y<v;y++){const S=g[y];Ia.isClockWise(S)===!0&&(g[y]=S.reverse())}const x=Ia.triangulateShape(p,g);for(let y=0,v=g.length;y<v;y++){const S=g[y];p=p.concat(S)}for(let y=0,v=p.length;y<v;y++){const S=p[y];i.push(S.x,S.y,0),s.push(0,0,1),o.push(S.x,S.y)}for(let y=0,v=x.length;y<v;y++){const S=x[y],_=S[0]+f,E=S[1]+f,b=S[2]+f;r.push(_,E,b),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return tJ(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new G5(r,e.curveSegments)}}function tJ(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class w1 extends Lt{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const c=[],f=new X,h=new X,p=[],g=[],x=[],y=[];for(let v=0;v<=r;v++){const S=[],_=v/r;let E=0;v===0&&o===0?E=.5/n:v===r&&l===Math.PI&&(E=-.5/n);for(let b=0;b<=n;b++){const T=b/n;f.x=-e*Math.cos(i+T*s)*Math.sin(o+_*a),f.y=e*Math.cos(o+_*a),f.z=e*Math.sin(i+T*s)*Math.sin(o+_*a),g.push(f.x,f.y,f.z),h.copy(f).normalize(),x.push(h.x,h.y,h.z),y.push(T+E,1-_),S.push(u++)}c.push(S)}for(let v=0;v<r;v++)for(let S=0;S<n;S++){const _=c[v][S+1],E=c[v][S],b=c[v+1][S],T=c[v+1][S+1];(v!==0||o>0)&&p.push(_,E,T),(v!==r-1||l<Math.PI)&&p.push(E,b,T)}this.setIndex(p),this.setAttribute("position",new ft(g,3)),this.setAttribute("normal",new ft(x,3)),this.setAttribute("uv",new ft(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new w1(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class H5 extends oc{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new H5(e.radius,e.detail)}}class V5 extends Lt{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],c=new X,f=new X,h=new X;for(let p=0;p<=r;p++)for(let g=0;g<=i;g++){const x=g/i*s,y=p/r*Math.PI*2;f.x=(e+n*Math.cos(y))*Math.cos(x),f.y=(e+n*Math.cos(y))*Math.sin(x),f.z=n*Math.sin(y),a.push(f.x,f.y,f.z),c.x=e*Math.cos(x),c.y=e*Math.sin(x),h.subVectors(f,c).normalize(),l.push(h.x,h.y,h.z),u.push(g/i),u.push(p/r)}for(let p=1;p<=r;p++)for(let g=1;g<=i;g++){const x=(i+1)*p+g-1,y=(i+1)*(p-1)+g-1,v=(i+1)*(p-1)+g,S=(i+1)*p+g;o.push(x,y,S),o.push(y,v,S)}this.setIndex(o),this.setAttribute("position",new ft(a,3)),this.setAttribute("normal",new ft(l,3)),this.setAttribute("uv",new ft(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new V5(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class W5 extends Lt{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],c=[],f=new X,h=new X,p=new X,g=new X,x=new X,y=new X,v=new X;for(let _=0;_<=r;++_){const E=_/r*s*Math.PI*2;S(E,s,o,e,p),S(E+.01,s,o,e,g),y.subVectors(g,p),v.addVectors(g,p),x.crossVectors(y,v),v.crossVectors(x,y),x.normalize(),v.normalize();for(let b=0;b<=i;++b){const T=b/i*Math.PI*2,A=-n*Math.cos(T),D=n*Math.sin(T);f.x=p.x+(A*v.x+D*x.x),f.y=p.y+(A*v.y+D*x.y),f.z=p.z+(A*v.z+D*x.z),l.push(f.x,f.y,f.z),h.subVectors(f,p).normalize(),u.push(h.x,h.y,h.z),c.push(_/r),c.push(b/i)}}for(let _=1;_<=r;_++)for(let E=1;E<=i;E++){const b=(i+1)*(_-1)+(E-1),T=(i+1)*_+(E-1),A=(i+1)*_+E,D=(i+1)*(_-1)+E;a.push(b,T,D),a.push(T,A,D)}this.setIndex(a),this.setAttribute("position",new ft(l,3)),this.setAttribute("normal",new ft(u,3)),this.setAttribute("uv",new ft(c,2));function S(_,E,b,T,A){const D=Math.cos(_),C=Math.sin(_),L=b/E*_,k=Math.cos(L);A.x=T*(2+k)*.5*D,A.y=T*(2+k)*C*.5,A.z=T*Math.sin(L)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new W5(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class j5 extends Lt{constructor(e=new wS(new X(-1,-1,0),new X(-1,1,0),new X(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new X,l=new X,u=new ue;let c=new X;const f=[],h=[],p=[],g=[];x(),this.setIndex(g),this.setAttribute("position",new ft(f,3)),this.setAttribute("normal",new ft(h,3)),this.setAttribute("uv",new ft(p,2));function x(){for(let _=0;_<n;_++)y(_);y(s===!1?n:0),S(),v()}function y(_){c=e.getPointAt(_/n,c);const E=o.normals[_],b=o.binormals[_];for(let T=0;T<=i;T++){const A=T/i*Math.PI*2,D=Math.sin(A),C=-Math.cos(A);l.x=C*E.x+D*b.x,l.y=C*E.y+D*b.y,l.z=C*E.z+D*b.z,l.normalize(),h.push(l.x,l.y,l.z),a.x=c.x+r*l.x,a.y=c.y+r*l.y,a.z=c.z+r*l.z,f.push(a.x,a.y,a.z)}}function v(){for(let _=1;_<=n;_++)for(let E=1;E<=i;E++){const b=(i+1)*(_-1)+(E-1),T=(i+1)*_+(E-1),A=(i+1)*_+E,D=(i+1)*(_-1)+E;g.push(b,T,D),g.push(T,A,D)}}function S(){for(let _=0;_<=n;_++)for(let E=0;E<=i;E++)u.x=_/n,u.y=E/i,p.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new j5(new bS[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class JI extends Lt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new X,s=new X;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const f=l[u],h=f.start,p=f.count;for(let g=h,x=h+p;g<x;g+=3)for(let y=0;y<3;y++){const v=a.getX(g+y),S=a.getX(g+(y+1)%3);i.fromBufferAttribute(o,v),s.fromBufferAttribute(o,S),kM(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const c=3*a+u,f=3*a+(u+1)%3;i.fromBufferAttribute(o,c),s.fromBufferAttribute(o,f),kM(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new ft(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function kM(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var NM=Object.freeze({__proto__:null,BoxGeometry:Nf,CapsuleGeometry:I5,CircleGeometry:B5,ConeGeometry:F5,CylinderGeometry:lp,DodecahedronGeometry:U5,EdgesGeometry:jI,ExtrudeGeometry:k5,IcosahedronGeometry:N5,LatheGeometry:S1,OctahedronGeometry:_1,PlaneGeometry:sc,PolyhedronGeometry:oc,RingGeometry:z5,ShapeGeometry:G5,SphereGeometry:w1,TetrahedronGeometry:H5,TorusGeometry:V5,TorusKnotGeometry:W5,TubeGeometry:j5,WireframeGeometry:JI});class ZI extends ur{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Xe(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class QI extends Ht{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class E1 extends ur{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Xe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Xe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vl,this.normalScale=new ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Va extends E1{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ue(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return or(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Xe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Xe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Xe(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class qI extends ur{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Xe(16777215),this.specular=new Xe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Xe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vl,this.normalScale=new ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=c1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class $I extends ur{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Xe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Xe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vl,this.normalScale=new ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class MS extends ur{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vl,this.normalScale=new ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class eB extends ur{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Xe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Xe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vl,this.normalScale=new ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=c1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class tB extends ur{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Xe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vl,this.normalScale=new ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class nB extends Ri{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function po(t,e,n){return TS(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function of(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function TS(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function rB(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function zx(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function AS(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function nJ(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],c=u.getValueSize(),f=[],h=[];for(let p=0;p<u.times.length;++p){const g=u.times[p]*i;if(!(g<n||g>=r)){f.push(u.times[p]);for(let x=0;x<c;++x)h.push(u.values[p*c+x])}}f.length!==0&&(u.times=of(f,u.times.constructor),u.values=of(h,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function rJ(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(v){return v.name===a.name&&v.ValueTypeName===l});if(u===void 0)continue;let c=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let h=0;const p=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=p/3);const g=a.times.length-1;let x;if(s<=a.times[0]){const v=c,S=f-c;x=po(a.values,v,S)}else if(s>=a.times[g]){const v=g*f+c,S=v+f-c;x=po(a.values,v,S)}else{const v=a.createInterpolant(),S=c,_=f-c;v.evaluate(s),x=po(v.resultBuffer,S,_)}l==="quaternion"&&new er().fromArray(x).normalize().conjugate().toArray(x);const y=u.times.length;for(let v=0;v<y;++v){const S=v*p+h;if(l==="quaternion")er.multiplyQuaternionsFlat(u.values,S,x,0,u.values,S);else{const _=p-h*2;for(let E=0;E<_;++E)u.values[S+E]-=x[E]}}}return t.blendMode=oS,t}const iJ={arraySlice:po,convertArray:of,isTypedArray:TS,getKeyframeOrder:rB,sortedArray:zx,flattenJSON:AS,subclip:nJ,makeClipAdditive:rJ};class up{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class iB extends up{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:nf,endingEnd:nf}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case rf:s=e,a=2*n-r;break;case Im:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case rf:o=e,l=2*r-n;break;case Im:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const u=(r-n)*.5,c=this.valueSize;this._weightPrev=u/(n-a),this._weightNext=u/(l-r),this._offsetPrev=s*c,this._offsetNext=o*c}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,p=this._weightNext,g=(r-n)/(i-n),x=g*g,y=x*g,v=-h*y+2*h*x-h*g,S=(1+h)*y+(-1.5-2*h)*x+(-.5+h)*g+1,_=(-1-p)*y+(1.5+p)*x+.5*g,E=p*y-p*x;for(let b=0;b!==a;++b)s[b]=v*o[c+b]+S*o[u+b]+_*o[l+b]+E*o[f+b];return s}}class CS extends up{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=(r-n)/(i-n),f=1-c;for(let h=0;h!==a;++h)s[h]=o[u+h]*f+o[l+h]*c;return s}}class sB extends up{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class oa{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=of(n,this.TimeBufferType),this.values=of(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:of(e.times,Array),values:of(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new sB(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new CS(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new iB(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Od:n=this.InterpolantFactoryMethodDiscrete;break;case Cf:n=this.InterpolantFactoryMethodLinear;break;case Ag:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Od;case this.InterpolantFactoryMethodLinear:return Cf;case this.InterpolantFactoryMethodSmooth:return Ag}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=po(r,s,o),this.values=po(this.values,s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&TS(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=po(this.times),n=po(this.values),r=this.getValueSize(),i=this.getInterpolation()===Ag,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],c=e[a+1];if(u!==c&&(a!==1||u!==e[0]))if(i)l=!0;else{const f=a*r,h=f-r,p=f+r;for(let g=0;g!==r;++g){const x=n[f+g];if(x!==n[h+g]||x!==n[p+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,h=o*r;for(let p=0;p!==r;++p)n[h+p]=n[f+p]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)n[l+u]=n[a+u];++o}return o!==e.length?(this.times=po(e,0,o),this.values=po(n,0,o*r)):(this.times=e,this.values=n),this}clone(){const e=po(this.times,0),n=po(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}oa.prototype.TimeBufferType=Float32Array;oa.prototype.ValueBufferType=Float32Array;oa.prototype.DefaultInterpolation=Cf;class zf extends oa{}zf.prototype.ValueTypeName="bool";zf.prototype.ValueBufferType=Array;zf.prototype.DefaultInterpolation=Od;zf.prototype.InterpolantFactoryMethodLinear=void 0;zf.prototype.InterpolantFactoryMethodSmooth=void 0;class RS extends oa{}RS.prototype.ValueTypeName="color";class zd extends oa{}zd.prototype.ValueTypeName="number";class oB extends up{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let u=e*a;for(let c=u+a;u!==c;u+=4)er.slerpFlat(s,0,o,u-a,o,u,l);return s}}class Yu extends oa{InterpolantFactoryMethodLinear(e){return new oB(this.times,this.values,this.getValueSize(),e)}}Yu.prototype.ValueTypeName="quaternion";Yu.prototype.DefaultInterpolation=Cf;Yu.prototype.InterpolantFactoryMethodSmooth=void 0;class Gf extends oa{}Gf.prototype.ValueTypeName="string";Gf.prototype.ValueBufferType=Array;Gf.prototype.DefaultInterpolation=Od;Gf.prototype.InterpolantFactoryMethodLinear=void 0;Gf.prototype.InterpolantFactoryMethodSmooth=void 0;class Gd extends oa{}Gd.prototype.ValueTypeName="vector";class Hd{constructor(e,n=-1,r,i=y5){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Ns(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(oJ(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(oa.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const c=rB(l);l=zx(l,1,c),u=zx(u,1,c),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new zd(".morphTargetInfluences["+n[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],c=u.name.match(s);if(c&&c.length>1){const f=c[1];let h=i[f];h||(i[f]=h=[]),h.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,h,p,g,x){if(p.length!==0){const y=[],v=[];AS(p,y,v,g),y.length!==0&&x.push(new f(h,y,v))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const h=u[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const p={};let g;for(g=0;g<h.length;g++)if(h[g].morphTargets)for(let x=0;x<h[g].morphTargets.length;x++)p[h[g].morphTargets[x]]=-1;for(const x in p){const y=[],v=[];for(let S=0;S!==h[g].morphTargets.length;++S){const _=h[g];y.push(_.time),v.push(_.morphTarget===x?1:0)}i.push(new zd(".morphTargetInfluence["+x+"]",y,v))}l=p.length*o}else{const p=".bones["+n[f].name+"]";r(Gd,p+".position",h,"pos",i),r(Yu,p+".quaternion",h,"rot",i),r(Gd,p+".scale",h,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function sJ(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return zd;case"vector":case"vector2":case"vector3":case"vector4":return Gd;case"color":return RS;case"quaternion":return Yu;case"bool":case"boolean":return zf;case"string":return Gf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function oJ(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=sJ(t.type);if(t.times===void 0){const n=[],r=[];AS(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Df={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class PS{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(c){a++,s===!1&&i.onStart!==void 0&&i.onStart(c,o,a),s=!0},this.itemEnd=function(c){o++,i.onProgress!==void 0&&i.onProgress(c,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,h=u.length;f<h;f+=2){const p=u[f],g=u[f+1];if(p.global&&(p.lastIndex=0),p.test(c))return g}return null}}}const rd=new PS;class Pi{constructor(e){this.manager=e!==void 0?e:rd,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Pi.DEFAULT_MATERIAL_NAME="__DEFAULT";const ol={};class aJ extends Error{constructor(e,n){super(e),this.response=n}}class Vs extends Pi{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Df.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(ol[e]!==void 0){ol[e].push({onLoad:n,onProgress:r,onError:i});return}ol[e]=[],ol[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=ol[e],f=u.body.getReader(),h=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),p=h?parseInt(h):0,g=p!==0;let x=0;const y=new ReadableStream({start(v){S();function S(){f.read().then(({done:_,value:E})=>{if(_)v.close();else{x+=E.byteLength;const b=new ProgressEvent("progress",{lengthComputable:g,loaded:x,total:p});for(let T=0,A=c.length;T<A;T++){const D=c[T];D.onProgress&&D.onProgress(b)}v.enqueue(E),S()}})}}});return new Response(y)}else throw new aJ(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,a));case"json":return u.json();default:if(a===void 0)return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),h=f&&f[1]?f[1].toLowerCase():void 0,p=new TextDecoder(h);return u.arrayBuffer().then(g=>p.decode(g))}}}).then(u=>{Df.add(e,u);const c=ol[e];delete ol[e];for(let f=0,h=c.length;f<h;f++){const p=c[f];p.onLoad&&p.onLoad(u)}}).catch(u=>{const c=ol[e];if(c===void 0)throw this.manager.itemError(e),u;delete ol[e];for(let f=0,h=c.length;f<h;f++){const p=c[f];p.onError&&p.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class lJ extends Pi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Vs(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=Hd.parse(e[r]);n.push(i)}return n}}class uJ extends Pi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new P5,l=new Vs(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function c(f){l.load(e[f],function(h){const p=s.parse(h,!0);o[f]={width:p.width,height:p.height,format:p.format,mipmaps:p.mipmaps},u+=1,u===6&&(p.mipmapCount===1&&(a.minFilter=ht),a.image=o,a.format=p.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let f=0,h=e.length;f<h;++f)c(f);else l.load(e,function(f){const h=s.parse(f,!0);if(h.isCubemap){const p=h.mipmaps.length/h.mipmapCount;for(let g=0;g<p;g++){o[g]={mipmaps:[]};for(let x=0;x<h.mipmapCount;x++)o[g].mipmaps.push(h.mipmaps[g*h.mipmapCount+x]),o[g].format=h.format,o[g].width=h.width,o[g].height=h.height}a.image=o}else a.image.width=h.width,a.image.height=h.height,a.mipmaps=h.mipmaps;h.mipmapCount===1&&(a.minFilter=ht),a.format=h.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class Gm extends Pi{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Df.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=Um("img");function l(){c(),Df.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(f){c(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function c(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class cJ extends Pi{constructor(e){super(e)}load(e,n,r,i){const s=new m1;s.colorSpace=Cn;const o=new Gm(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(c){s.images[u]=c,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class fJ extends Pi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new La,a=new Vs(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let u;try{u=s.parse(l)}catch(c){if(i!==void 0)i(c);else{console.error(c);return}}u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Ar,o.wrapT=u.wrapT!==void 0?u.wrapT:Ar,o.magFilter=u.magFilter!==void 0?u.magFilter:ht,o.minFilter=u.minFilter!==void 0?u.minFilter:ht,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0?o.colorSpace=u.colorSpace:u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=ka),u.mipmapCount===1&&(o.minFilter=ht),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u)},r,i),o}}class DS extends Pi{constructor(e){super(e)}load(e,n,r,i){const s=new gn,o=new Gm(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class ac extends Vt{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Xe(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class aB extends ac{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Vt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Xe(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const s4=new rt,zM=new X,GM=new X;class LS{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ue(512,512),this.map=null,this.mapPass=null,this.matrix=new rt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new _5,this._frameExtents=new ue(1,1),this._viewportCount=1,this._viewports=[new Kt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;zM.setFromMatrixPosition(e.matrixWorld),n.position.copy(zM),GM.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(GM),n.updateMatrixWorld(),s4.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(s4),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(s4)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class hJ extends LS{constructor(){super(new hn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=kd*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class IS extends ac{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Vt.DEFAULT_UP),this.updateMatrix(),this.target=new Vt,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new hJ}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const HM=new rt,f0=new X,o4=new X;class dJ extends LS{constructor(){super(new hn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ue(4,2),this._viewportCount=6,this._viewports=[new Kt(2,1,1,1),new Kt(0,1,1,1),new Kt(3,1,1,1),new Kt(1,1,1,1),new Kt(3,0,1,1),new Kt(1,0,1,1)],this._cubeDirections=[new X(1,0,0),new X(-1,0,0),new X(0,0,1),new X(0,0,-1),new X(0,1,0),new X(0,-1,0)],this._cubeUps=[new X(0,1,0),new X(0,1,0),new X(0,1,0),new X(0,1,0),new X(0,0,1),new X(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),f0.setFromMatrixPosition(e.matrixWorld),r.position.copy(f0),o4.copy(r.position),o4.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(o4),r.updateMatrixWorld(),i.makeTranslation(-f0.x,-f0.y,-f0.z),HM.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(HM)}}class BS extends ac{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new dJ}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class pJ extends LS{constructor(){super(new Us(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class FS extends ac{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Vt.DEFAULT_UP),this.updateMatrix(),this.target=new Vt,this.shadow=new pJ}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class lB extends ac{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class uB extends ac{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class cB{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new X)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class X5 extends ac{constructor(e=new cB,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class Y5 extends Pi{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new Vs(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=Y5.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Xe().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Xe().setHex(o.value);break;case"v2":i.uniforms[s].value=new ue().fromArray(o.value);break;case"v3":i.uniforms[s].value=new X().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Kt().fromArray(o.value);break;case"m3":i.uniforms[s].value=new kt().fromArray(o.value);break;case"m4":i.uniforms[s].value=new rt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new ue().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new ue().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:ZI,SpriteMaterial:mS,RawShaderMaterial:QI,ShaderMaterial:Ht,PointsMaterial:C5,MeshPhysicalMaterial:Va,MeshStandardMaterial:E1,MeshPhongMaterial:qI,MeshToonMaterial:$I,MeshNormalMaterial:MS,MeshLambertMaterial:eB,MeshDepthMaterial:v1,MeshDistanceMaterial:E5,MeshBasicMaterial:us,MeshMatcapMaterial:tB,LineDashedMaterial:nB,LineBasicMaterial:Ri,Material:ur};return new n[e]}}class Ba{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class US extends Lt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class fB extends Pi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Vs(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(p,g){if(n[g]!==void 0)return n[g];const y=p.interleavedBuffers[g],v=s(p,y.buffer),S=ed(y.type,v),_=new y1(S,y.stride);return _.uuid=y.uuid,n[g]=_,_}function s(p,g){if(r[g]!==void 0)return r[g];const y=p.arrayBuffers[g],v=new Uint32Array(y).buffer;return r[g]=v,v}const o=e.isInstancedBufferGeometry?new US:new Lt,a=e.data.index;if(a!==void 0){const p=ed(a.type,a.array);o.setIndex(new Zt(p,1))}const l=e.data.attributes;for(const p in l){const g=l[p];let x;if(g.isInterleavedBufferAttribute){const y=i(e.data,g.data);x=new Xu(y,g.itemSize,g.offset,g.normalized)}else{const y=ed(g.type,g.array),v=g.isInstancedBufferAttribute?Rf:Zt;x=new v(y,g.itemSize,g.normalized)}g.name!==void 0&&(x.name=g.name),g.usage!==void 0&&x.setUsage(g.usage),g.updateRange!==void 0&&(x.updateRange.offset=g.updateRange.offset,x.updateRange.count=g.updateRange.count),o.setAttribute(p,x)}const u=e.data.morphAttributes;if(u)for(const p in u){const g=u[p],x=[];for(let y=0,v=g.length;y<v;y++){const S=g[y];let _;if(S.isInterleavedBufferAttribute){const E=i(e.data,S.data);_=new Xu(E,S.itemSize,S.offset,S.normalized)}else{const E=ed(S.type,S.array);_=new Zt(E,S.itemSize,S.normalized)}S.name!==void 0&&(_.name=S.name),x.push(_)}o.morphAttributes[p]=x}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let p=0,g=f.length;p!==g;++p){const x=f[p];o.addGroup(x.start,x.count,x.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const p=new X;h.center!==void 0&&p.fromArray(h.center),o.boundingSphere=new xs(p,h.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class mJ extends Pi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?Ba.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Vs(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?Ba.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Vs(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),n!==void 0){let f=!1;for(const h in o)if(o[h].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new mf().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new x1().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new fB;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in NM?a=NM[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new Y5;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Hd.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(c)}else return l.data?{data:ed(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new PS(n);s=new Gm(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const f=e[u],h=f.url;if(Array.isArray(h)){const p=[];for(let g=0,x=h.length;g<x;g++){const y=h[g],v=a(y);v!==null&&(v instanceof HTMLImageElement?p.push(v):p.push(new La(v.data,v.width,v.height)))}i[f.uuid]=new sf(p)}else{const p=a(f.url);i[f.uuid]=new sf(p)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:ed(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Gm(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const c=[];for(let f=0,h=u.length;f<h;f++){const p=u[f],g=await s(p);g!==null&&(g instanceof HTMLImageElement?c.push(g):c.push(new La(g.data,g.width,g.height)))}r[l.uuid]=new sf(c)}else{const c=await s(l.url);r[l.uuid]=new sf(c)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],u=l.data;let c;Array.isArray(u)?(c=new m1,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new La:c=new gn,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=a.uuid,a.name!==void 0&&(c.name=a.name),a.mapping!==void 0&&(c.mapping=r(a.mapping,gJ)),a.channel!==void 0&&(c.channel=a.channel),a.offset!==void 0&&c.offset.fromArray(a.offset),a.repeat!==void 0&&c.repeat.fromArray(a.repeat),a.center!==void 0&&c.center.fromArray(a.center),a.rotation!==void 0&&(c.rotation=a.rotation),a.wrap!==void 0&&(c.wrapS=r(a.wrap[0],VM),c.wrapT=r(a.wrap[1],VM)),a.format!==void 0&&(c.format=a.format),a.internalFormat!==void 0&&(c.internalFormat=a.internalFormat),a.type!==void 0&&(c.type=a.type),a.colorSpace!==void 0&&(c.colorSpace=a.colorSpace),a.encoding!==void 0&&(c.encoding=a.encoding),a.minFilter!==void 0&&(c.minFilter=r(a.minFilter,WM)),a.magFilter!==void 0&&(c.magFilter=r(a.magFilter,WM)),a.anisotropy!==void 0&&(c.anisotropy=a.anisotropy),a.flipY!==void 0&&(c.flipY=a.flipY),a.generateMipmaps!==void 0&&(c.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(c.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(c.compareFunction=a.compareFunction),a.userData!==void 0&&(c.userData=a.userData),i[a.uuid]=c}return i}parseObject(e,n,r,i,s){let o;function a(h){return n[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),n[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const p=[];for(let g=0,x=h.length;g<x;g++){const y=h[g];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),p.push(r[y])}return p}return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),r[h]}}function u(h){return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),i[h]}let c,f;switch(e.type){case"Scene":o=new Il,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Xe(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new T5(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new M5(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new hn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Us(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new lB(e.color,e.intensity);break;case"DirectionalLight":o=new FS(e.color,e.intensity);break;case"PointLight":o=new BS(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new uB(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new IS(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new aB(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new X5().fromJSON(e);break;case"SkinnedMesh":c=a(e.geometry),f=l(e.material),o=new gS(c,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":c=a(e.geometry),f=l(e.material),o=new Un(c,f);break;case"InstancedMesh":c=a(e.geometry),f=l(e.material);const h=e.count,p=e.instanceMatrix,g=e.instanceColor;o=new vS(c,f,h),o.instanceMatrix=new Rf(new Float32Array(p.array),16),g!==void 0&&(o.instanceColor=new Rf(new Float32Array(g.array),g.itemSize));break;case"LOD":o=new OI;break;case"Line":o=new Bl(a(e.geometry),l(e.material));break;case"LineLoop":o=new yS(a(e.geometry),l(e.material));break;case"LineSegments":o=new ia(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new R5(a(e.geometry),l(e.material));break;case"Sprite":o=new UI(l(e.material));break;case"Group":o=new Sl;break;case"Bone":o=new A5;break;default:o=new Vt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let p=0;p<h.length;p++)o.add(this.parseObject(h[p],n,r,i,s))}if(e.animations!==void 0){const h=e.animations;for(let p=0;p<h.length;p++){const g=h[p];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const h=e.levels;for(let p=0;p<h.length;p++){const g=h[p],x=o.getObjectByProperty("uuid",g.object);x!==void 0&&o.addLevel(x,g.distance,g.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const gJ={UVMapping:d5,CubeReflectionMapping:Ll,CubeRefractionMapping:Wu,EquirectangularReflectionMapping:Pm,EquirectangularRefractionMapping:Dm,CubeUVReflectionMapping:ip},VM={RepeatWrapping:Ai,ClampToEdgeWrapping:Ar,MirroredRepeatWrapping:Ud},WM={NearestFilter:Dt,NearestMipmapNearestFilter:Lm,NearestMipmapLinearFilter:yd,LinearFilter:ht,LinearMipmapNearestFilter:p5,LinearMipmapLinearFilter:ka};class hB extends Pi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Df.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Df.add(e,l),n&&n(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let R2;class OS{static getContext(){return R2===void 0&&(R2=new(window.AudioContext||window.webkitAudioContext)),R2}static setContext(e){R2=e}}class vJ extends Pi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Vs(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);OS.getContext().decodeAudioData(u,function(f){n(f)},a)}catch(u){a(u)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}class yJ extends X5{constructor(e,n,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new Xe().set(e),s=new Xe().set(n),o=new X(i.r,i.g,i.b),a=new X(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class xJ extends X5{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const r=new Xe().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const jM=new rt,XM=new rt,Dc=new rt;class SJ{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new hn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new hn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Dc.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(hf*n.fov*.5)/n.zoom;let a,l;XM.elements[12]=-i,jM.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,Dc.elements[0]=2*n.near/(l-a),Dc.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Dc),a=-o*n.aspect-s,l=o*n.aspect-s,Dc.elements[0]=2*n.near/(l-a),Dc.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Dc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(XM),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(jM)}}class kS{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=YM(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=YM();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function YM(){return(typeof performance>"u"?Date:performance).now()}const Lc=new X,KM=new er,_J=new X,Ic=new X;class wJ extends Vt{constructor(){super(),this.type="AudioListener",this.context=OS.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new kS}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Lc,KM,_J),Ic.set(0,0,-1).applyQuaternion(KM),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Lc.x,i),n.positionY.linearRampToValueAtTime(Lc.y,i),n.positionZ.linearRampToValueAtTime(Lc.z,i),n.forwardX.linearRampToValueAtTime(Ic.x,i),n.forwardY.linearRampToValueAtTime(Ic.y,i),n.forwardZ.linearRampToValueAtTime(Ic.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Lc.x,Lc.y,Lc.z),n.setOrientation(Ic.x,Ic.y,Ic.z,r.x,r.y,r.z)}}class dB extends Vt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Bc=new X,JM=new er,EJ=new X,Fc=new X;class bJ extends dB{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Bc,JM,EJ),Fc.set(0,0,1).applyQuaternion(JM);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Bc.x,r),n.positionY.linearRampToValueAtTime(Bc.y,r),n.positionZ.linearRampToValueAtTime(Bc.z,r),n.orientationX.linearRampToValueAtTime(Fc.x,r),n.orientationY.linearRampToValueAtTime(Fc.y,r),n.orientationZ.linearRampToValueAtTime(Fc.z,r)}else n.setPosition(Bc.x,Bc.y,Bc.z),n.setOrientation(Fc.x,Fc.y,Fc.z)}}class MJ{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class pB{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){er.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;er.multiplyQuaternionsFlat(e,o,e,n,e,r),er.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const NS="\\[\\]\\.:\\/",TJ=new RegExp("["+NS+"]","g"),zS="[^"+NS+"]",AJ="[^"+NS.replace("\\.","")+"]",CJ=/((?:WC+[\/:])*)/.source.replace("WC",zS),RJ=/(WCOD+)?/.source.replace("WCOD",AJ),PJ=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",zS),DJ=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",zS),LJ=new RegExp("^"+CJ+RJ+PJ+DJ+"$"),IJ=["material","materials","bones","map"];class BJ{constructor(e,n,r){const i=r||nn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class nn{constructor(e,n,r){this.path=n,this.parsedPath=r||nn.parseTrackName(n),this.node=nn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new nn.Composite(e,n,r):new nn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(TJ,"")}static parseTrackName(e){const n=LJ.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);IJ.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=nn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}nn.Composite=BJ;nn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};nn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};nn.prototype.GetterByBindingType=[nn.prototype._getValue_direct,nn.prototype._getValue_array,nn.prototype._getValue_arrayElement,nn.prototype._getValue_toArray];nn.prototype.SetterByBindingTypeAndVersioning=[[nn.prototype._setValue_direct,nn.prototype._setValue_direct_setNeedsUpdate,nn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[nn.prototype._setValue_array,nn.prototype._setValue_array_setNeedsUpdate,nn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[nn.prototype._setValue_arrayElement,nn.prototype._setValue_arrayElement_setNeedsUpdate,nn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[nn.prototype._setValue_fromArray,nn.prototype._setValue_fromArray_setNeedsUpdate,nn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class FJ{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ns(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const h=arguments[c],p=h.uuid;let g=n[p];if(g===void 0){g=l++,n[p]=g,e.push(h);for(let x=0,y=o;x!==y;++x)s[x].push(new nn(h,r[x],i[x]))}else if(g<u){a=e[g];const x=--u,y=e[x];n[y.uuid]=g,e[g]=y,n[p]=x,e[x]=h;for(let v=0,S=o;v!==S;++v){const _=s[v],E=_[x];let b=_[g];_[g]=E,b===void 0&&(b=new nn(h,r[v],i[v])),_[x]=b}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,c=n[u];if(c!==void 0&&c>=s){const f=s++,h=e[f];n[h.uuid]=c,e[c]=h,n[u]=f,e[f]=l;for(let p=0,g=i;p!==g;++p){const x=r[p],y=x[f],v=x[c];x[c]=y,x[f]=v}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],c=u.uuid,f=n[c];if(f!==void 0)if(delete n[c],f<s){const h=--s,p=e[h],g=--o,x=e[g];n[p.uuid]=f,e[f]=p,n[x.uuid]=h,e[h]=x,e.pop();for(let y=0,v=i;y!==v;++y){const S=r[y],_=S[h],E=S[g];S[f]=_,S[h]=E,S.pop()}}else{const h=--o,p=e[h];h>0&&(n[p.uuid]=f),e[f]=p,e.pop();for(let g=0,x=i;g!==x;++g){const y=r[g];y[f]=y[h],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,f=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(f);for(let h=c,p=l.length;h!==p;++h){const g=l[h];f[h]=new nn(g,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];n[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class mB{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:nf,endingEnd:nf};for(let u=0;u!==o;++u){const c=s[u].createInterpolant(null);a[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=lI,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case oS:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulateAdditive(a);break;case y5:default:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===uI;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===aI){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=rf,i.endingEnd=rf):(e?i.endingStart=this.zeroSlopeAtStart?rf:nf:i.endingStart=Im,n?i.endingEnd=this.zeroSlopeAtEnd?rf:nf:i.endingEnd=Im)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const UJ=new Float32Array(1);class OJ extends Ys{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let f=0;f!==s;++f){const h=i[f],p=h.name;let g=c[p];if(g!==void 0)++g.referenceCount,o[f]=g;else{if(g=o[f],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,p));continue}const x=n&&n._propertyBindings[f].binding.parsedPath;g=new pB(nn.create(r,p,x),h.ValueTypeName,h.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,p),o[f]=g}a[f].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new CS(new Float32Array(2),new Float32Array(2),1,UJ),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?Hd.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=y5),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const c=new mB(this,o,n,r);return this._bindAction(c,u),this._addInactiveAction(c,a,s),c}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?Hd.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const c=u._cacheIndex,f=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,n[c]=f,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class le{constructor(e){this.value=e}clone(){return new le(this.value.clone===void 0?this.value:this.value.clone())}}let kJ=0;class NJ extends Ys{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:kJ++}),this.name="",this.usage=Bm,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++)this.uniforms.push(n[r].clone());return this}clone(){return new this.constructor().copy(this)}}class zJ extends y1{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class GJ{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class GS{constructor(e,n,r=0,i=1/0){this.ray=new kf(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new pf,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return Gx(e,this,r,n),r.sort(ZM),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)Gx(e[i],this,r,n);return r.sort(ZM),r}}function ZM(t,e){return t.distance-e.distance}function Gx(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)Gx(i[s],e,n,!0)}}class vv{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(or(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class HJ{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const QM=new ue;class VJ{constructor(e=new ue(1/0,1/0),n=new ue(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=QM.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,QM).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const qM=new X,P2=new X;class WJ{constructor(e=new X,n=new X){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){qM.subVectors(e,this.start),P2.subVectors(this.end,this.start);const r=P2.dot(P2);let s=P2.dot(qM)/r;return n&&(s=or(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const $M=new X;class jJ extends Vt{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Lt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,c=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new ft(i,3));const s=new Ri({fog:!1,toneMapped:!1});this.cone=new ia(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),$M.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt($M),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const uu=new X,D2=new rt,a4=new rt;class XJ extends ia{constructor(e){const n=gB(e),r=new Lt,i=[],s=[],o=new Xe(0,0,1),a=new Xe(0,1,0);for(let u=0;u<n.length;u++){const c=n[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new ft(i,3)),r.setAttribute("color",new ft(s,3));const l=new Ri({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");a4.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(D2.multiplyMatrices(a4,a.matrixWorld),uu.setFromMatrixPosition(D2),i.setXYZ(o,uu.x,uu.y,uu.z),D2.multiplyMatrices(a4,a.parent.matrixWorld),uu.setFromMatrixPosition(D2),i.setXYZ(o+1,uu.x,uu.y,uu.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function gB(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,gB(t.children[n]));return e}class YJ extends Un{constructor(e,n,r){const i=new w1(n,4,2),s=new us({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const KJ=new X,eT=new Xe,tT=new Xe;class JJ extends Vt{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new _1(n);i.rotateY(Math.PI*.5),this.material=new us({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Zt(o,3)),this.add(new Un(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");eT.copy(this.light.color),tT.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?eT:tT;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(KJ.setFromMatrixPosition(this.light.matrixWorld).negate())}}class ZJ extends ia{constructor(e=10,n=10,r=4473924,i=8947848){r=new Xe(r),i=new Xe(i);const s=n/2,o=e/n,a=e/2,l=[],u=[];for(let h=0,p=0,g=-a;h<=n;h++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const x=h===s?r:i;x.toArray(u,p),p+=3,x.toArray(u,p),p+=3,x.toArray(u,p),p+=3,x.toArray(u,p),p+=3}const c=new Lt;c.setAttribute("position",new ft(l,3)),c.setAttribute("color",new ft(u,3));const f=new Ri({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class QJ extends ia{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new Xe(s),o=new Xe(o);const a=[],l=[];if(n>1)for(let f=0;f<n;f++){const h=f/n*(Math.PI*2),p=Math.sin(h)*e,g=Math.cos(h)*e;a.push(0,0,0),a.push(p,0,g);const x=f&1?s:o;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let f=0;f<r;f++){const h=f&1?s:o,p=e-e/r*f;for(let g=0;g<i;g++){let x=g/i*(Math.PI*2),y=Math.sin(x)*p,v=Math.cos(x)*p;a.push(y,0,v),l.push(h.r,h.g,h.b),x=(g+1)/i*(Math.PI*2),y=Math.sin(x)*p,v=Math.cos(x)*p,a.push(y,0,v),l.push(h.r,h.g,h.b)}}const u=new Lt;u.setAttribute("position",new ft(a,3)),u.setAttribute("color",new ft(l,3));const c=new Ri({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const nT=new X,L2=new X,rT=new X;class qJ extends Vt{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Lt;i.setAttribute("position",new ft([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Ri({fog:!1,toneMapped:!1});this.lightPlane=new Bl(i,s),this.add(this.lightPlane),i=new Lt,i.setAttribute("position",new ft([0,0,0,0,0,1],3)),this.targetLine=new Bl(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),nT.setFromMatrixPosition(this.light.matrixWorld),L2.setFromMatrixPosition(this.light.target.matrixWorld),rT.subVectors(L2,nT),this.lightPlane.lookAt(L2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(L2),this.targetLine.scale.z=rT.length()}}const I2=new X,ir=new op;class $J extends ia{constructor(e){const n=new Lt,r=new Ri({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,x){l(g),l(x)}function l(g){i.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}n.setAttribute("position",new ft(i,3)),n.setAttribute("color",new ft(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new Xe(16755200),c=new Xe(16711680),f=new Xe(43775),h=new Xe(16777215),p=new Xe(3355443);this.setColors(u,c,f,h,p)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;ir.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),mr("c",n,e,ir,0,0,-1),mr("t",n,e,ir,0,0,1),mr("n1",n,e,ir,-r,-i,-1),mr("n2",n,e,ir,r,-i,-1),mr("n3",n,e,ir,-r,i,-1),mr("n4",n,e,ir,r,i,-1),mr("f1",n,e,ir,-r,-i,1),mr("f2",n,e,ir,r,-i,1),mr("f3",n,e,ir,-r,i,1),mr("f4",n,e,ir,r,i,1),mr("u1",n,e,ir,r*.7,i*1.1,-1),mr("u2",n,e,ir,-r*.7,i*1.1,-1),mr("u3",n,e,ir,0,i*2,-1),mr("cf1",n,e,ir,-r,0,1),mr("cf2",n,e,ir,r,0,1),mr("cf3",n,e,ir,0,-i,1),mr("cf4",n,e,ir,0,i,1),mr("cn1",n,e,ir,-r,0,-1),mr("cn2",n,e,ir,r,0,-1),mr("cn3",n,e,ir,0,-i,-1),mr("cn4",n,e,ir,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function mr(t,e,n,r,i,s,o){I2.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let u=0,c=a.length;u<c;u++)l.setXYZ(a[u],I2.x,I2.y,I2.z)}}const B2=new Lo;class eZ extends ia{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Lt;s.setIndex(new Zt(r,1)),s.setAttribute("position",new Zt(i,3)),super(s,new Ri({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&B2.setFromObject(this.object),B2.isEmpty())return;const n=B2.min,r=B2.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class tZ extends ia{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Lt;s.setIndex(new Zt(r,1)),s.setAttribute("position",new ft(i,3)),super(s,new Ri({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class nZ extends Bl{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Lt;o.setAttribute("position",new ft(s,3)),o.computeBoundingSphere(),super(o,new Ri({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Lt;l.setAttribute("position",new ft(a,3)),l.computeBoundingSphere(),this.add(new Un(l,new us({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const iT=new X;let F2,l4;class rZ extends Vt{constructor(e=new X(0,0,1),n=new X(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",F2===void 0&&(F2=new Lt,F2.setAttribute("position",new ft([0,0,0,0,1,0],3)),l4=new lp(0,.5,1,5,1),l4.translate(0,-.5,0)),this.position.copy(n),this.line=new Bl(F2,new Ri({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Un(l4,new us({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{iT.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(iT,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class iZ extends ia{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Lt;i.setAttribute("position",new ft(n,3)),i.setAttribute("color",new ft(r,3));const s=new Ri({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new Xe,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class sZ{constructor(){this.type="ShapePath",this.color=new Xe,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Om,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(v){const S=[];for(let _=0,E=v.length;_<E;_++){const b=v[_],T=new mf;T.curves=b.curves,S.push(T)}return S}function r(v,S){const _=S.length;let E=!1;for(let b=_-1,T=0;T<_;b=T++){let A=S[b],D=S[T],C=D.x-A.x,L=D.y-A.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(A=S[T],C=-C,D=S[b],L=-L),v.y<A.y||v.y>D.y)continue;if(v.y===A.y){if(v.x===A.x)return!0}else{const k=L*(v.x-A.x)-C*(v.y-A.y);if(k===0)return!0;if(k<0)continue;E=!E}}else{if(v.y!==A.y)continue;if(D.x<=v.x&&v.x<=A.x||A.x<=v.x&&v.x<=D.x)return!0}}return E}const i=Ia.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new mf,l.curves=a.curves,u.push(l),u;let c=!i(s[0].getPoints());c=e?!c:c;const f=[],h=[];let p=[],g=0,x;h[g]=void 0,p[g]=[];for(let v=0,S=s.length;v<S;v++)a=s[v],x=a.getPoints(),o=i(x),o=e?!o:o,o?(!c&&h[g]&&g++,h[g]={s:new mf,p:x},h[g].s.curves=a.curves,c&&g++,p[g]=[]):p[g].push({h:a,p:x[0]});if(!h[0])return n(s);if(h.length>1){let v=!1,S=0;for(let _=0,E=h.length;_<E;_++)f[_]=[];for(let _=0,E=h.length;_<E;_++){const b=p[_];for(let T=0;T<b.length;T++){const A=b[T];let D=!0;for(let C=0;C<h.length;C++)r(A.p,h[C].p)&&(_!==C&&S++,D?(D=!1,f[C].push(A)):v=!0);D&&f[_].push(A)}}S>0&&v===!1&&(p=f)}let y;for(let v=0,S=h.length;v<S;v++){l=h[v].s,u.push(l),y=p[v];for(let _=0,E=y.length;_<E;_++)l.holes.push(y[_].h)}return u}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Ha}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Ha);const oZ=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:q7,AddEquation:Jc,AddOperation:ZL,AdditiveAnimationBlendMode:oS,AdditiveBlending:ix,AlphaFormat:rI,AlwaysCompare:SI,AlwaysDepth:J7,AlwaysStencilFunc:hI,AmbientLight:lB,AmbientLightProbe:xJ,AnimationAction:mB,AnimationClip:Hd,AnimationLoader:lJ,AnimationMixer:OJ,AnimationObjectGroup:FJ,AnimationUtils:iJ,ArcCurve:zI,ArrayCamera:II,ArrowHelper:rZ,Audio:dB,AudioAnalyser:MJ,AudioContext:OS,AudioListener:wJ,AudioLoader:vJ,AxesHelper:iZ,BackSide:yr,BasicDepthPacking:$r,BasicShadowMap:UL,Bone:A5,BooleanKeyframeTrack:zf,Box2:VJ,Box3:Lo,Box3Helper:tZ,BoxGeometry:Nf,BoxHelper:eZ,BufferAttribute:Zt,BufferGeometry:Lt,BufferGeometryLoader:fB,ByteType:tI,Cache:Df,Camera:op,CameraHelper:$J,CanvasTexture:NI,CapsuleGeometry:I5,CatmullRomCurve3:GI,CineonToneMapping:$L,CircleGeometry:B5,ClampToEdgeWrapping:Ar,Clock:kS,Color:Xe,ColorKeyframeTrack:RS,ColorManagement:lo,CompressedArrayTexture:AK,CompressedCubeTexture:CK,CompressedTexture:P5,CompressedTextureLoader:uJ,ConeGeometry:F5,CubeCamera:S5,CubeReflectionMapping:Ll,CubeRefractionMapping:Wu,CubeTexture:m1,CubeTextureLoader:cJ,CubeUVReflectionMapping:ip,CubicBezierCurve:SS,CubicBezierCurve3:HI,CubicInterpolant:iB,CullFaceBack:rx,CullFaceFront:FL,CullFaceFrontBack:AH,CullFaceNone:BL,Curve:sa,CurvePath:WI,CustomBlending:OL,CustomToneMapping:eI,CylinderGeometry:lp,Cylindrical:HJ,Data3DTexture:df,DataArrayTexture:x5,DataTexture:La,DataTextureLoader:fJ,DataUtils:UV,DecrementStencilOp:OH,DecrementWrapStencilOp:NH,DefaultLoadingManager:rd,DepthFormat:ku,DepthStencilFormat:ju,DepthTexture:b5,DirectionalLight:FS,DirectionalLightHelper:qJ,DiscreteInterpolant:sB,DisplayP3ColorSpace:h1,DodecahedronGeometry:U5,DoubleSide:Zr,DstAlphaFactor:WL,DstColorFactor:XL,DynamicCopyUsage:$H,DynamicDrawUsage:Rg,DynamicReadUsage:ZH,EdgesGeometry:jI,EllipseCurve:D5,EqualCompare:mI,EqualDepth:Rm,EqualStencilFunc:VH,EquirectangularReflectionMapping:Pm,EquirectangularRefractionMapping:Dm,Euler:sp,EventDispatcher:Ys,ExtrudeGeometry:k5,FileLoader:Vs,Float16BufferAttribute:HV,Float32BufferAttribute:ft,Float64BufferAttribute:VV,FloatType:Jn,Fog:T5,FogExp2:M5,FramebufferTexture:Ox,FrontSide:Ro,Frustum:_5,GLBufferAttribute:GJ,GLSL1:tV,GLSL3:dv,GreaterCompare:vI,GreaterDepth:Q7,GreaterEqualCompare:xI,GreaterEqualDepth:Z7,GreaterEqualStencilFunc:YH,GreaterStencilFunc:jH,GridHelper:ZJ,Group:Sl,HalfFloatType:ps,HemisphereLight:aB,HemisphereLightHelper:JJ,HemisphereLightProbe:yJ,IcosahedronGeometry:N5,ImageBitmapLoader:hB,ImageLoader:Gm,ImageUtils:uS,IncrementStencilOp:UH,IncrementWrapStencilOp:kH,InstancedBufferAttribute:Rf,InstancedBufferGeometry:US,InstancedInterleavedBuffer:zJ,InstancedMesh:vS,Int16BufferAttribute:zV,Int32BufferAttribute:GV,Int8BufferAttribute:OV,IntType:$7,InterleavedBuffer:y1,InterleavedBufferAttribute:Xu,Interpolant:up,InterpolateDiscrete:Od,InterpolateLinear:Cf,InterpolateSmooth:Ag,InvertStencilOp:zH,KeepStencilOp:Cg,KeyframeTrack:oa,LOD:OI,LatheGeometry:S1,Layers:pf,LessCompare:pI,LessDepth:fv,LessEqualCompare:gI,LessEqualDepth:Cm,LessEqualStencilFunc:WH,LessStencilFunc:HH,Light:ac,LightProbe:X5,Line:Bl,Line3:WJ,LineBasicMaterial:Ri,LineCurve:L5,LineCurve3:VI,LineDashedMaterial:nB,LineLoop:yS,LineSegments:ia,LinearDisplayP3ColorSpace:IH,LinearEncoding:f1,LinearFilter:ht,LinearInterpolant:CS,LinearMipMapLinearFilter:LH,LinearMipMapNearestFilter:DH,LinearMipmapLinearFilter:ka,LinearMipmapNearestFilter:p5,LinearSRGBColorSpace:ea,LinearToneMapping:QL,Loader:Pi,LoaderUtils:Ba,LoadingManager:PS,LoopOnce:aI,LoopPingPong:uI,LoopRepeat:lI,LuminanceAlphaFormat:iI,LuminanceFormat:g5,MOUSE:Wc,Material:ur,MaterialLoader:Y5,MathUtils:d1,Matrix3:kt,Matrix4:rt,MaxEquation:lx,Mesh:Un,MeshBasicMaterial:us,MeshDepthMaterial:v1,MeshDistanceMaterial:E5,MeshLambertMaterial:eB,MeshMatcapMaterial:tB,MeshNormalMaterial:MS,MeshPhongMaterial:qI,MeshPhysicalMaterial:Va,MeshStandardMaterial:E1,MeshToonMaterial:$I,MinEquation:ax,MirroredRepeatWrapping:Ud,MixOperation:JL,MultiplyBlending:ox,MultiplyOperation:c1,NearestFilter:Dt,NearestMipMapLinearFilter:PH,NearestMipMapNearestFilter:RH,NearestMipmapLinearFilter:yd,NearestMipmapNearestFilter:Lm,NeverCompare:dI,NeverDepth:K7,NeverStencilFunc:GH,NoBlending:On,NoColorSpace:Ml,NoToneMapping:Da,NormalAnimationBlendMode:y5,NormalBlending:El,NotEqualCompare:yI,NotEqualDepth:h5,NotEqualStencilFunc:XH,NumberKeyframeTrack:zd,Object3D:Vt,ObjectLoader:mJ,ObjectSpaceNormalMap:fI,OctahedronGeometry:_1,OneFactor:GL,OneMinusDstAlphaFactor:jL,OneMinusDstColorFactor:YL,OneMinusSrcAlphaFactor:Y7,OneMinusSrcColorFactor:VL,OrthographicCamera:Us,PCFShadowMap:u1,PCFSoftShadowMap:J0,PMREMGenerator:gv,Path:Om,PerspectiveCamera:hn,Plane:dl,PlaneGeometry:sc,PlaneHelper:nZ,PointLight:BS,PointLightHelper:YJ,Points:R5,PointsMaterial:C5,PolarGridHelper:QJ,PolyhedronGeometry:oc,PositionalAudio:bJ,PropertyBinding:nn,PropertyMixer:pB,QuadraticBezierCurve:_S,QuadraticBezierCurve3:wS,Quaternion:er,QuaternionKeyframeTrack:Yu,QuaternionLinearInterpolant:oB,RED_GREEN_RGTC2_Format:Lx,RED_RGTC1_Format:oI,REVISION:Ha,RGBADepthPacking:$o,RGBAFormat:Bn,RGBAIntegerFormat:sS,RGBA_ASTC_10x10_Format:Tx,RGBA_ASTC_10x5_Format:Ex,RGBA_ASTC_10x6_Format:bx,RGBA_ASTC_10x8_Format:Mx,RGBA_ASTC_12x10_Format:Ax,RGBA_ASTC_12x12_Format:Cx,RGBA_ASTC_4x4_Format:mx,RGBA_ASTC_5x4_Format:gx,RGBA_ASTC_5x5_Format:vx,RGBA_ASTC_6x5_Format:yx,RGBA_ASTC_6x6_Format:xx,RGBA_ASTC_8x5_Format:Sx,RGBA_ASTC_8x6_Format:_x,RGBA_ASTC_8x8_Format:wx,RGBA_BPTC_Format:Tg,RGBA_ETC2_EAC_Format:px,RGBA_PVRTC_2BPPV1_Format:hx,RGBA_PVRTC_4BPPV1_Format:fx,RGBA_S3TC_DXT1_Format:Eg,RGBA_S3TC_DXT3_Format:bg,RGBA_S3TC_DXT5_Format:Mg,RGB_BPTC_SIGNED_Format:Rx,RGB_BPTC_UNSIGNED_Format:Px,RGB_ETC1_Format:sI,RGB_ETC2_Format:dx,RGB_PVRTC_2BPPV1_Format:cx,RGB_PVRTC_4BPPV1_Format:ux,RGB_S3TC_DXT1_Format:wg,RGFormat:rS,RGIntegerFormat:iS,RawShaderMaterial:QI,Ray:kf,Raycaster:GS,RectAreaLight:uB,RedFormat:v5,RedIntegerFormat:nS,ReinhardToneMapping:qL,RenderTarget:bI,RepeatWrapping:Ai,ReplaceStencilOp:FH,ReverseSubtractEquation:NL,RingGeometry:z5,SIGNED_RED_GREEN_RGTC2_Format:Ix,SIGNED_RED_RGTC1_Format:Dx,SRGBColorSpace:Cn,Scene:Il,ShaderChunk:gt,ShaderLib:Xo,ShaderMaterial:Ht,ShadowMaterial:ZI,Shape:mf,ShapeGeometry:G5,ShapePath:sZ,ShapeUtils:Ia,ShortType:nI,Skeleton:x1,SkeletonHelper:XJ,SkinnedMesh:gS,Source:sf,Sphere:xs,SphereGeometry:w1,Spherical:vv,SphericalHarmonics3:cB,SplineCurve:ES,SpotLight:IS,SpotLightHelper:jJ,Sprite:UI,SpriteMaterial:mS,SrcAlphaFactor:X7,SrcAlphaSaturateFactor:KL,SrcColorFactor:HL,StaticCopyUsage:qH,StaticDrawUsage:Bm,StaticReadUsage:JH,StereoCamera:SJ,StreamCopyUsage:eV,StreamDrawUsage:KH,StreamReadUsage:QH,StringKeyframeTrack:Gf,SubtractEquation:kL,SubtractiveBlending:sx,TOUCH:jc,TangentSpaceNormalMap:Vl,TetrahedronGeometry:H5,Texture:gn,TextureLoader:DS,TorusGeometry:V5,TorusKnotGeometry:W5,Triangle:is,TriangleFanDrawMode:hv,TriangleStripDrawMode:aS,TrianglesDrawMode:cI,TubeGeometry:j5,TwoPassDoubleSide:CH,UVMapping:d5,Uint16BufferAttribute:fS,Uint32BufferAttribute:hS,Uint8BufferAttribute:kV,Uint8ClampedBufferAttribute:NV,Uniform:le,UniformsGroup:NJ,UniformsLib:et,UniformsUtils:p1,UnsignedByteType:bn,UnsignedInt248Type:bl,UnsignedIntType:ba,UnsignedShort4444Type:eS,UnsignedShort5551Type:tS,UnsignedShortType:m5,VSMShadowMap:Vo,Vector2:ue,Vector3:X,Vector4:Kt,VectorKeyframeTrack:Gd,VideoTexture:kI,WebGL1Renderer:BI,WebGL3DRenderTarget:MV,WebGLArrayRenderTarget:bV,WebGLCoordinateSystem:Ma,WebGLCubeRenderTarget:g1,WebGLMultipleRenderTargets:cS,WebGLRenderTarget:Qt,WebGLRenderer:pS,WebGLUtils:LI,WebGPUCoordinateSystem:Fm,WireframeGeometry:JI,WrapAroundEnding:Im,ZeroCurvatureEnding:nf,ZeroFactor:zL,ZeroSlopeEnding:rf,ZeroStencilOp:BH,_SRGBAFormat:pv,createCanvasElement:EI,sRGBEncoding:Mo},Symbol.toStringTag,{value:"Module"}));var vB={exports:{}},Hf={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Hf.ConcurrentRoot=1;Hf.ContinuousEventPriority=4;Hf.DefaultEventPriority=16;Hf.DiscreteEventPriority=1;Hf.IdleEventPriority=536870912;Hf.LegacyRoot=0;vB.exports=Hf;var id=vB.exports;function aZ(t){let e;const n=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const h=e;e=c?f:Object.assign({},e,f),n.forEach(p=>p(e,h))}},i=()=>e,s=(u,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=c(e);function p(){const g=c(e);if(!f(h,g)){const x=h;u(h=g,x)}}return n.add(p),()=>n.delete(p)},l={setState:r,getState:i,subscribe:(u,c,f)=>c||f?s(u,c,f):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const lZ=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),sT=lZ?R.useEffect:R.useLayoutEffect;function K5(t){const e=typeof t=="function"?aZ(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=R.useReducer(y=>y+1,0),o=e.getState(),a=R.useRef(o),l=R.useRef(r),u=R.useRef(i),c=R.useRef(!1),f=R.useRef();f.current===void 0&&(f.current=r(o));let h,p=!1;(a.current!==o||l.current!==r||u.current!==i||c.current)&&(h=r(o),p=!i(f.current,h)),sT(()=>{p&&(f.current=h),a.current=o,l.current=r,u.current=i,c.current=!1});const g=R.useRef(o);sT(()=>{const y=()=>{try{const S=e.getState(),_=l.current(S);u.current(f.current,_)||(a.current=S,f.current=_,s())}catch{c.current=!0,s()}},v=e.subscribe(y);return e.getState()!==g.current&&y(),v},[]);const x=p?h:f.current;return R.useDebugValue(x),x};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var yB={exports:{}},u4={exports:{}},c4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oT;function uZ(){return oT||(oT=1,function(t){function e(U,G){var W=U.length;U.push(G);e:for(;0<W;){var F=W-1>>>1,j=U[F];if(0<i(j,G))U[F]=G,U[W]=j,W=F;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var G=U[0],W=U.pop();if(W!==G){U[0]=W;e:for(var F=0,j=U.length,ie=j>>>1;F<ie;){var se=2*(F+1)-1,re=U[se],fe=se+1,oe=U[fe];if(0>i(re,W))fe<j&&0>i(oe,re)?(U[F]=oe,U[fe]=W,F=fe):(U[F]=re,U[se]=W,F=se);else if(fe<j&&0>i(oe,W))U[F]=oe,U[fe]=W,F=fe;else break e}}return G}function i(U,G){var W=U.sortIndex-G.sortIndex;return W!==0?W:U.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,h=3,p=!1,g=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(U){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=U)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function E(U){if(x=!1,_(U),!g)if(n(l)!==null)g=!0,J(b);else{var G=n(u);G!==null&&$(E,G.startTime-U)}}function b(U,G){g=!1,x&&(x=!1,v(D),D=-1),p=!0;var W=h;try{for(_(G),f=n(l);f!==null&&(!(f.expirationTime>G)||U&&!k());){var F=f.callback;if(typeof F=="function"){f.callback=null,h=f.priorityLevel;var j=F(f.expirationTime<=G);G=t.unstable_now(),typeof j=="function"?f.callback=j:f===n(l)&&r(l),_(G)}else r(l);f=n(l)}if(f!==null)var ie=!0;else{var se=n(u);se!==null&&$(E,se.startTime-G),ie=!1}return ie}finally{f=null,h=W,p=!1}}var T=!1,A=null,D=-1,C=5,L=-1;function k(){return!(t.unstable_now()-L<C)}function z(){if(A!==null){var U=t.unstable_now();L=U;var G=!0;try{G=A(!0,U)}finally{G?H():(T=!1,A=null)}}else T=!1}var H;if(typeof S=="function")H=function(){S(z)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,K=V.port2;V.port1.onmessage=z,H=function(){K.postMessage(null)}}else H=function(){y(z,0)};function J(U){A=U,T||(T=!0,H())}function $(U,G){D=y(function(){U(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,J(b))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var W=h;h=G;try{return U()}finally{h=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var W=h;h=U;try{return G()}finally{h=W}},t.unstable_scheduleCallback=function(U,G,W){var F=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?F+W:F):W=F,U){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=W+j,U={id:c++,callback:G,priorityLevel:U,startTime:W,expirationTime:j,sortIndex:-1},W>F?(U.sortIndex=W,e(u,U),n(l)===null&&U===n(u)&&(x?(v(D),D=-1):x=!0,$(E,W-F))):(U.sortIndex=j,e(l,U),g||p||(g=!0,J(b))),U},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(U){var G=h;return function(){var W=h;h=G;try{return U.apply(this,arguments)}finally{h=W}}}}(c4)),c4}var aT;function cZ(){return aT||(aT=1,u4.exports=uZ()),u4.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fZ=function(e){var n={},r=R,i=cZ(),s=Object.assign;function o(d){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+d,w=1;w<arguments.length;w++)m+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),g=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),b=Symbol.iterator;function T(d){return d===null||typeof d!="object"?null:(d=b&&d[b]||d["@@iterator"],typeof d=="function"?d:null)}function A(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case c:return"Fragment";case u:return"Portal";case h:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case v:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case g:return(d.displayName||"Context")+".Consumer";case p:return(d._context.displayName||"Context")+".Provider";case x:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case S:return m=d.displayName||null,m!==null?m:A(d.type)||"Memo";case _:m=d._payload,d=d._init;try{return A(d(m))}catch{}}return null}function D(d){var m=d.type;switch(d.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=m.render,d=d.displayName||d.name||"",m.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A(m);case 8:return m===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function C(d){var m=d,w=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,m.flags&4098&&(w=m.return),d=m.return;while(d)}return m.tag===3?w:null}function L(d){if(C(d)!==d)throw Error(o(188))}function k(d){var m=d.alternate;if(!m){if(m=C(d),m===null)throw Error(o(188));return m!==d?null:d}for(var w=d,M=m;;){var P=w.return;if(P===null)break;var I=P.alternate;if(I===null){if(M=P.return,M!==null){w=M;continue}break}if(P.child===I.child){for(I=P.child;I;){if(I===w)return L(P),d;if(I===M)return L(P),m;I=I.sibling}throw Error(o(188))}if(w.return!==M.return)w=P,M=I;else{for(var q=!1,ae=P.child;ae;){if(ae===w){q=!0,w=P,M=I;break}if(ae===M){q=!0,M=P,w=I;break}ae=ae.sibling}if(!q){for(ae=I.child;ae;){if(ae===w){q=!0,w=I,M=P;break}if(ae===M){q=!0,M=I,w=P;break}ae=ae.sibling}if(!q)throw Error(o(189))}}if(w.alternate!==M)throw Error(o(190))}if(w.tag!==3)throw Error(o(188));return w.stateNode.current===w?d:m}function z(d){return d=k(d),d!==null?H(d):null}function H(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var m=H(d);if(m!==null)return m;d=d.sibling}return null}function V(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var m=V(d);if(m!==null)return m}d=d.sibling}return null}var K=Array.isArray,J=e.getPublicInstance,$=e.getRootHostContext,U=e.getChildHostContext,G=e.prepareForCommit,W=e.resetAfterCommit,F=e.createInstance,j=e.appendInitialChild,ie=e.finalizeInitialChildren,se=e.prepareUpdate,re=e.shouldSetTextContent,fe=e.createTextInstance,oe=e.scheduleTimeout,he=e.cancelTimeout,ke=e.noTimeout,He=e.isPrimaryRenderer,ge=e.supportsMutation,Y=e.supportsPersistence,Se=e.supportsHydration,me=e.getInstanceFromNode,de=e.preparePortalMount,pe=e.getCurrentEventPriority,ze=e.detachDeletedInstance,ye=e.supportsMicrotasks,Be=e.scheduleMicrotask,Ue=e.supportsTestSelectors,Ce=e.findFiberRoot,$e=e.getBoundingRect,N=e.getTextContent,O=e.isHiddenSubtree,ne=e.matchAccessibilityRole,Ae=e.setFocusIfFocusable,be=e.setupIntersectionObserver,Ee=e.appendChild,Ge=e.appendChildToContainer,Fe=e.commitTextUpdate,ve=e.commitMount,je=e.commitUpdate,Ze=e.insertBefore,Ye=e.insertInContainerBefore,Ne=e.removeChild,ee=e.removeChildFromContainer,Te=e.resetTextContent,Ke=e.hideInstance,Q=e.hideTextInstance,Oe=e.unhideInstance,xe=e.unhideTextInstance,We=e.clearContainer,qe=e.cloneInstance,Mt=e.createContainerChildSet,bt=e.appendChildToContainerChildSet,Rt=e.finalizeContainerChildren,Xt=e.replaceContainerChildren,Wt=e.cloneHiddenInstance,zt=e.cloneHiddenTextInstance,Pt=e.canHydrateInstance,li=e.canHydrateTextInstance,Hr=e.canHydrateSuspenseInstance,sn=e.isSuspenseInstancePending,Mn=e.isSuspenseInstanceFallback,ti=e.registerSuspenseInstanceRetry,Sn=e.getNextHydratableSibling,Hn=e.getFirstHydratableChild,Pr=e.getFirstHydratableChildWithinContainer,Zs=e.getFirstHydratableChildWithinSuspenseInstance,Li=e.hydrateInstance,Z=e.hydrateTextInstance,_e=e.hydrateSuspenseInstance,Le=e.getNextHydratableInstanceAfterSuspenseInstance,we=e.commitHydratedContainer,De=e.commitHydratedSuspenseInstance,st=e.clearSuspenseBoundary,mt=e.clearSuspenseBoundaryFromContainer,vt=e.shouldDeleteUnhydratedTailInstances,_t=e.didNotMatchHydratedContainerTextInstance,Bt=e.didNotMatchHydratedTextInstance,Ve;function yt(d){if(Ve===void 0)try{throw Error()}catch(w){var m=w.stack.trim().match(/\n( *(at )?)/);Ve=m&&m[1]||""}return`
`+Ve+d}var vn=!1;function on(d,m){if(!d||vn)return"";vn=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(Qe){var M=Qe}Reflect.construct(d,[],m)}else{try{m.call()}catch(Qe){M=Qe}d.call(m.prototype)}else{try{throw Error()}catch(Qe){M=Qe}d()}}catch(Qe){if(Qe&&M&&typeof Qe.stack=="string"){for(var P=Qe.stack.split(`
`),I=M.stack.split(`
`),q=P.length-1,ae=I.length-1;1<=q&&0<=ae&&P[q]!==I[ae];)ae--;for(;1<=q&&0<=ae;q--,ae--)if(P[q]!==I[ae]){if(q!==1||ae!==1)do if(q--,ae--,0>ae||P[q]!==I[ae]){var Ie=`
`+P[q].replace(" at new "," at ");return d.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",d.displayName)),Ie}while(1<=q&&0<=ae);break}}}finally{vn=!1,Error.prepareStackTrace=w}return(d=d?d.displayName||d.name:"")?yt(d):""}var Dr=Object.prototype.hasOwnProperty,ui=[],fn=-1;function wt(d){return{current:d}}function tn(d){0>fn||(d.current=ui[fn],ui[fn]=null,fn--)}function Et(d,m){fn++,ui[fn]=d.current,d.current=m}var fr={},nr=wt(fr),Nn=wt(!1),Ji=fr;function yn(d,m){var w=d.type.contextTypes;if(!w)return fr;var M=d.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===m)return M.__reactInternalMemoizedMaskedChildContext;var P={},I;for(I in w)P[I]=m[I];return M&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=m,d.__reactInternalMemoizedMaskedChildContext=P),P}function Tn(d){return d=d.childContextTypes,d!=null}function Ii(){tn(Nn),tn(nr)}function Sr(d,m,w){if(nr.current!==fr)throw Error(o(168));Et(nr,m),Et(Nn,w)}function fa(d,m,w){var M=d.stateNode;if(m=m.childContextTypes,typeof M.getChildContext!="function")return w;M=M.getChildContext();for(var P in M)if(!(P in m))throw Error(o(108,D(d)||"Unknown",P));return s({},w,M)}function ha(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||fr,Ji=nr.current,Et(nr,d),Et(Nn,Nn.current),!0}function ci(d,m,w){var M=d.stateNode;if(!M)throw Error(o(169));w?(d=fa(d,m,Ji),M.__reactInternalMemoizedMergedChildContext=d,tn(Nn),tn(nr),Et(nr,d)):tn(Nn),Et(Nn,w)}var Ss=Math.clz32?Math.clz32:H1,Xf=Math.log,fc=Math.LN2;function H1(d){return d>>>=0,d===0?32:31-(Xf(d)/fc|0)|0}var Wa=64,ja=4194304;function Xa(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function hc(d,m){var w=d.pendingLanes;if(w===0)return 0;var M=0,P=d.suspendedLanes,I=d.pingedLanes,q=w&268435455;if(q!==0){var ae=q&~P;ae!==0?M=Xa(ae):(I&=q,I!==0&&(M=Xa(I)))}else q=w&~P,q!==0?M=Xa(q):I!==0&&(M=Xa(I));if(M===0)return 0;if(m!==0&&m!==M&&!(m&P)&&(P=M&-M,I=m&-m,P>=I||P===16&&(I&4194240)!==0))return m;if(M&4&&(M|=w&16),m=d.entangledLanes,m!==0)for(d=d.entanglements,m&=M;0<m;)w=31-Ss(m),P=1<<w,M|=d[w],m&=~P;return M}function V1(d,m){switch(d){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bp(d,m){for(var w=d.suspendedLanes,M=d.pingedLanes,P=d.expirationTimes,I=d.pendingLanes;0<I;){var q=31-Ss(I),ae=1<<q,Ie=P[q];Ie===-1?(!(ae&w)||ae&M)&&(P[q]=V1(ae,m)):Ie<=m&&(d.expiredLanes|=ae),I&=~ae}}function Ya(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Yf(d){for(var m=[],w=0;31>w;w++)m.push(d);return m}function da(d,m,w){d.pendingLanes|=m,m!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,m=31-Ss(m),d[m]=w}function Kl(d,m){var w=d.pendingLanes&~m;d.pendingLanes=m,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=m,d.mutableReadLanes&=m,d.entangledLanes&=m,m=d.entanglements;var M=d.eventTimes;for(d=d.expirationTimes;0<w;){var P=31-Ss(w),I=1<<P;m[P]=0,M[P]=-1,d[P]=-1,w&=~I}}function pa(d,m){var w=d.entangledLanes|=m;for(d=d.entanglements;w;){var M=31-Ss(w),P=1<<M;P&m|d[M]&m&&(d[M]|=m),w&=~P}}var Jt=0;function Mp(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var Ka=i.unstable_scheduleCallback,Kf=i.unstable_cancelCallback,Tp=i.unstable_shouldYield,W1=i.unstable_requestPaint,Vn=i.unstable_now,dc=i.unstable_ImmediatePriority,j1=i.unstable_UserBlockingPriority,Bi=i.unstable_NormalPriority,Ap=i.unstable_IdlePriority,pc=null,_s=null;function Cp(d){if(_s&&typeof _s.onCommitFiberRoot=="function")try{_s.onCommitFiberRoot(pc,d,void 0,(d.current.flags&128)===128)}catch{}}function X1(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var ws=typeof Object.is=="function"?Object.is:X1,Fi=null,ma=!1,Qs=!1;function Rp(d){Fi===null?Fi=[d]:Fi.push(d)}function Pp(d){ma=!0,Rp(d)}function Zi(){if(!Qs&&Fi!==null){Qs=!0;var d=0,m=Jt;try{var w=Fi;for(Jt=1;d<w.length;d++){var M=w[d];do M=M(!0);while(M!==null)}Fi=null,ma=!1}catch(P){throw Fi!==null&&(Fi=Fi.slice(d+1)),Ka(dc,Zi),P}finally{Jt=m,Qs=!1}}return null}var mc=a.ReactCurrentBatchConfig;function gc(d,m){if(ws(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var w=Object.keys(d),M=Object.keys(m);if(w.length!==M.length)return!1;for(M=0;M<w.length;M++){var P=w[M];if(!Dr.call(m,P)||!ws(d[P],m[P]))return!1}return!0}function vc(d){switch(d.tag){case 5:return yt(d.type);case 16:return yt("Lazy");case 13:return yt("Suspense");case 19:return yt("SuspenseList");case 0:case 2:case 15:return d=on(d.type,!1),d;case 11:return d=on(d.type.render,!1),d;case 1:return d=on(d.type,!0),d;default:return""}}function Ui(d,m){if(d&&d.defaultProps){m=s({},m),d=d.defaultProps;for(var w in d)m[w]===void 0&&(m[w]=d[w]);return m}return m}var Vr=wt(null),Jf=null,Fo=null,Jl=null;function Zf(){Jl=Fo=Jf=null}function Y1(d,m,w){He?(Et(Vr,m._currentValue),m._currentValue=w):(Et(Vr,m._currentValue2),m._currentValue2=w)}function Wr(d){var m=Vr.current;tn(Vr),He?d._currentValue=m:d._currentValue2=m}function Oi(d,m,w){for(;d!==null;){var M=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,M!==null&&(M.childLanes|=m)):M!==null&&(M.childLanes&m)!==m&&(M.childLanes|=m),d===w)break;d=d.return}}function hr(d,m){Jf=d,Jl=Fo=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&m&&(Ts=!0),d.firstContext=null)}function dr(d){var m=He?d._currentValue:d._currentValue2;if(Jl!==d)if(d={context:d,memoizedValue:m,next:null},Fo===null){if(Jf===null)throw Error(o(308));Fo=d,Jf.dependencies={lanes:0,firstContext:d}}else Fo=Fo.next=d;return m}var Es=null,Zl=!1;function c6(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Z_(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Ja(d,m){return{eventTime:d,lane:m,tag:0,payload:null,callback:null,next:null}}function Ql(d,m){var w=d.updateQueue;w!==null&&(w=w.shared,_r!==null&&d.mode&1&&!(Yt&2)?(d=w.interleaved,d===null?(m.next=m,Es===null?Es=[w]:Es.push(w)):(m.next=d.next,d.next=m),w.interleaved=m):(d=w.pending,d===null?m.next=m:(m.next=d.next,d.next=m),w.pending=m))}function K1(d,m,w){if(m=m.updateQueue,m!==null&&(m=m.shared,(w&4194240)!==0)){var M=m.lanes;M&=d.pendingLanes,w|=M,m.lanes=w,pa(d,w)}}function Q_(d,m){var w=d.updateQueue,M=d.alternate;if(M!==null&&(M=M.updateQueue,w===M)){var P=null,I=null;if(w=w.firstBaseUpdate,w!==null){do{var q={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};I===null?P=I=q:I=I.next=q,w=w.next}while(w!==null);I===null?P=I=m:I=I.next=m}else P=I=m;w={baseState:M.baseState,firstBaseUpdate:P,lastBaseUpdate:I,shared:M.shared,effects:M.effects},d.updateQueue=w;return}d=w.lastBaseUpdate,d===null?w.firstBaseUpdate=m:d.next=m,w.lastBaseUpdate=m}function J1(d,m,w,M){var P=d.updateQueue;Zl=!1;var I=P.firstBaseUpdate,q=P.lastBaseUpdate,ae=P.shared.pending;if(ae!==null){P.shared.pending=null;var Ie=ae,Qe=Ie.next;Ie.next=null,q===null?I=Qe:q.next=Qe,q=Ie;var at=d.alternate;at!==null&&(at=at.updateQueue,ae=at.lastBaseUpdate,ae!==q&&(ae===null?at.firstBaseUpdate=Qe:ae.next=Qe,at.lastBaseUpdate=Ie))}if(I!==null){var Ft=P.baseState;q=0,at=Qe=Ie=null,ae=I;do{var xt=ae.lane,_n=ae.eventTime;if((M&xt)===xt){at!==null&&(at=at.next={eventTime:_n,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var pt=d,pi=ae;switch(xt=m,_n=w,pi.tag){case 1:if(pt=pi.payload,typeof pt=="function"){Ft=pt.call(_n,Ft,xt);break e}Ft=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=pi.payload,xt=typeof pt=="function"?pt.call(_n,Ft,xt):pt,xt==null)break e;Ft=s({},Ft,xt);break e;case 2:Zl=!0}}ae.callback!==null&&ae.lane!==0&&(d.flags|=64,xt=P.effects,xt===null?P.effects=[ae]:xt.push(ae))}else _n={eventTime:_n,lane:xt,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},at===null?(Qe=at=_n,Ie=Ft):at=at.next=_n,q|=xt;if(ae=ae.next,ae===null){if(ae=P.shared.pending,ae===null)break;xt=ae,ae=xt.next,xt.next=null,P.lastBaseUpdate=xt,P.shared.pending=null}}while(1);if(at===null&&(Ie=Ft),P.baseState=Ie,P.firstBaseUpdate=Qe,P.lastBaseUpdate=at,m=P.shared.interleaved,m!==null){P=m;do q|=P.lane,P=P.next;while(P!==m)}else I===null&&(P.shared.lanes=0);sh|=q,d.lanes=q,d.memoizedState=Ft}}function q_(d,m,w){if(d=m.effects,m.effects=null,d!==null)for(m=0;m<d.length;m++){var M=d[m],P=M.callback;if(P!==null){if(M.callback=null,M=w,typeof P!="function")throw Error(o(191,P));P.call(M)}}}var $_=new r.Component().refs;function f6(d,m,w,M){m=d.memoizedState,w=w(M,m),w=w==null?m:s({},m,w),d.memoizedState=w,d.lanes===0&&(d.updateQueue.baseState=w)}var Z1={isMounted:function(d){return(d=d._reactInternals)?C(d)===d:!1},enqueueSetState:function(d,m,w){d=d._reactInternals;var M=Ni(),P=eu(d),I=Ja(M,P);I.payload=m,w!=null&&(I.callback=w),Ql(d,I),m=no(d,P,M),m!==null&&K1(m,d,P)},enqueueReplaceState:function(d,m,w){d=d._reactInternals;var M=Ni(),P=eu(d),I=Ja(M,P);I.tag=1,I.payload=m,w!=null&&(I.callback=w),Ql(d,I),m=no(d,P,M),m!==null&&K1(m,d,P)},enqueueForceUpdate:function(d,m){d=d._reactInternals;var w=Ni(),M=eu(d),P=Ja(w,M);P.tag=2,m!=null&&(P.callback=m),Ql(d,P),m=no(d,M,w),m!==null&&K1(m,d,M)}};function ew(d,m,w,M,P,I,q){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(M,I,q):m.prototype&&m.prototype.isPureReactComponent?!gc(w,M)||!gc(P,I):!0}function tw(d,m,w){var M=!1,P=fr,I=m.contextType;return typeof I=="object"&&I!==null?I=dr(I):(P=Tn(m)?Ji:nr.current,M=m.contextTypes,I=(M=M!=null)?yn(d,P):fr),m=new m(w,I),d.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Z1,d.stateNode=m,m._reactInternals=d,M&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=P,d.__reactInternalMemoizedMaskedChildContext=I),m}function nw(d,m,w,M){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(w,M),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(w,M),m.state!==d&&Z1.enqueueReplaceState(m,m.state,null)}function h6(d,m,w,M){var P=d.stateNode;P.props=w,P.state=d.memoizedState,P.refs=$_,c6(d);var I=m.contextType;typeof I=="object"&&I!==null?P.context=dr(I):(I=Tn(m)?Ji:nr.current,P.context=yn(d,I)),P.state=d.memoizedState,I=m.getDerivedStateFromProps,typeof I=="function"&&(f6(d,m,I,w),P.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(m=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),m!==P.state&&Z1.enqueueReplaceState(P,P.state,null),J1(d,w,P,M),P.state=d.memoizedState),typeof P.componentDidMount=="function"&&(d.flags|=4194308)}var Qf=[],qf=0,Q1=null,q1=0,qs=[],$s=0,yc=null,Za=1,Qa="";function xc(d,m){Qf[qf++]=q1,Qf[qf++]=Q1,Q1=d,q1=m}function rw(d,m,w){qs[$s++]=Za,qs[$s++]=Qa,qs[$s++]=yc,yc=d;var M=Za;d=Qa;var P=32-Ss(M)-1;M&=~(1<<P),w+=1;var I=32-Ss(m)+P;if(30<I){var q=P-P%5;I=(M&(1<<q)-1).toString(32),M>>=q,P-=q,Za=1<<32-Ss(m)+P|w<<P|M,Qa=I+d}else Za=1<<I|w<<P|M,Qa=d}function d6(d){d.return!==null&&(xc(d,1),rw(d,1,0))}function p6(d){for(;d===Q1;)Q1=Qf[--qf],Qf[qf]=null,q1=Qf[--qf],Qf[qf]=null;for(;d===yc;)yc=qs[--$s],qs[$s]=null,Qa=qs[--$s],qs[$s]=null,Za=qs[--$s],qs[$s]=null}var bs=null,Ms=null,zn=!1,Dp=!1,Uo=null;function iw(d,m){var w=ro(5,null,null,0);w.elementType="DELETED",w.stateNode=m,w.return=d,m=d.deletions,m===null?(d.deletions=[w],d.flags|=16):m.push(w)}function sw(d,m){switch(d.tag){case 5:return m=Pt(m,d.type,d.pendingProps),m!==null?(d.stateNode=m,bs=d,Ms=Hn(m),!0):!1;case 6:return m=li(m,d.pendingProps),m!==null?(d.stateNode=m,bs=d,Ms=null,!0):!1;case 13:if(m=Hr(m),m!==null){var w=yc!==null?{id:Za,overflow:Qa}:null;return d.memoizedState={dehydrated:m,treeContext:w,retryLane:1073741824},w=ro(18,null,null,0),w.stateNode=m,w.return=d,d.child=w,bs=d,Ms=null,!0}return!1;default:return!1}}function m6(d){return(d.mode&1)!==0&&(d.flags&128)===0}function g6(d){if(zn){var m=Ms;if(m){var w=m;if(!sw(d,m)){if(m6(d))throw Error(o(418));m=Sn(w);var M=bs;m&&sw(d,m)?iw(M,w):(d.flags=d.flags&-4097|2,zn=!1,bs=d)}}else{if(m6(d))throw Error(o(418));d.flags=d.flags&-4097|2,zn=!1,bs=d}}}function ow(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;bs=d}function Lp(d){if(!Se||d!==bs)return!1;if(!zn)return ow(d),zn=!0,!1;if(d.tag!==3&&(d.tag!==5||vt(d.type)&&!re(d.type,d.memoizedProps))){var m=Ms;if(m){if(m6(d)){for(d=Ms;d;)d=Sn(d);throw Error(o(418))}for(;m;)iw(d,m),m=Sn(m)}}if(ow(d),d.tag===13){if(!Se)throw Error(o(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));Ms=Le(d)}else Ms=bs?Sn(d.stateNode):null;return!0}function $f(){Se&&(Ms=bs=null,Dp=zn=!1)}function v6(d){Uo===null?Uo=[d]:Uo.push(d)}function Ip(d,m,w){if(d=w.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(o(309));var M=w.stateNode}if(!M)throw Error(o(147,d));var P=M,I=""+d;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===I?m.ref:(m=function(q){var ae=P.refs;ae===$_&&(ae=P.refs={}),q===null?delete ae[I]:ae[I]=q},m._stringRef=I,m)}if(typeof d!="string")throw Error(o(284));if(!w._owner)throw Error(o(290,d))}return d}function $1(d,m){throw d=Object.prototype.toString.call(m),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d))}function aw(d){var m=d._init;return m(d._payload)}function lw(d){function m(Me,ce){if(d){var Re=Me.deletions;Re===null?(Me.deletions=[ce],Me.flags|=16):Re.push(ce)}}function w(Me,ce){if(!d)return null;for(;ce!==null;)m(Me,ce),ce=ce.sibling;return null}function M(Me,ce){for(Me=new Map;ce!==null;)ce.key!==null?Me.set(ce.key,ce):Me.set(ce.index,ce),ce=ce.sibling;return Me}function P(Me,ce){return Me=nu(Me,ce),Me.index=0,Me.sibling=null,Me}function I(Me,ce,Re){return Me.index=Re,d?(Re=Me.alternate,Re!==null?(Re=Re.index,Re<ce?(Me.flags|=2,ce):Re):(Me.flags|=2,ce)):(Me.flags|=1048576,ce)}function q(Me){return d&&Me.alternate===null&&(Me.flags|=2),Me}function ae(Me,ce,Re,it){return ce===null||ce.tag!==6?(ce=ey(Re,Me.mode,it),ce.return=Me,ce):(ce=P(ce,Re),ce.return=Me,ce)}function Ie(Me,ce,Re,it){var dt=Re.type;return dt===c?at(Me,ce,Re.props.children,it,Re.key):ce!==null&&(ce.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===_&&aw(dt)===ce.type)?(it=P(ce,Re.props),it.ref=Ip(Me,ce,Re),it.return=Me,it):(it=P3(Re.type,Re.key,Re.props,null,Me.mode,it),it.ref=Ip(Me,ce,Re),it.return=Me,it)}function Qe(Me,ce,Re,it){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==Re.containerInfo||ce.stateNode.implementation!==Re.implementation?(ce=ty(Re,Me.mode,it),ce.return=Me,ce):(ce=P(ce,Re.children||[]),ce.return=Me,ce)}function at(Me,ce,Re,it,dt){return ce===null||ce.tag!==7?(ce=Tc(Re,Me.mode,it,dt),ce.return=Me,ce):(ce=P(ce,Re),ce.return=Me,ce)}function Ft(Me,ce,Re){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return ce=ey(""+ce,Me.mode,Re),ce.return=Me,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:return Re=P3(ce.type,ce.key,ce.props,null,Me.mode,Re),Re.ref=Ip(Me,null,ce),Re.return=Me,Re;case u:return ce=ty(ce,Me.mode,Re),ce.return=Me,ce;case _:var it=ce._init;return Ft(Me,it(ce._payload),Re)}if(K(ce)||T(ce))return ce=Tc(ce,Me.mode,Re,null),ce.return=Me,ce;$1(Me,ce)}return null}function xt(Me,ce,Re,it){var dt=ce!==null?ce.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number")return dt!==null?null:ae(Me,ce,""+Re,it);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case l:return Re.key===dt?Ie(Me,ce,Re,it):null;case u:return Re.key===dt?Qe(Me,ce,Re,it):null;case _:return dt=Re._init,xt(Me,ce,dt(Re._payload),it)}if(K(Re)||T(Re))return dt!==null?null:at(Me,ce,Re,it,null);$1(Me,Re)}return null}function _n(Me,ce,Re,it,dt){if(typeof it=="string"&&it!==""||typeof it=="number")return Me=Me.get(Re)||null,ae(ce,Me,""+it,dt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case l:return Me=Me.get(it.key===null?Re:it.key)||null,Ie(ce,Me,it,dt);case u:return Me=Me.get(it.key===null?Re:it.key)||null,Qe(ce,Me,it,dt);case _:var jt=it._init;return _n(Me,ce,Re,jt(it._payload),dt)}if(K(it)||T(it))return Me=Me.get(Re)||null,at(ce,Me,it,dt,null);$1(ce,it)}return null}function pt(Me,ce,Re,it){for(var dt=null,jt=null,Ut=ce,an=ce=0,Xr=null;Ut!==null&&an<Re.length;an++){Ut.index>an?(Xr=Ut,Ut=null):Xr=Ut.sibling;var ln=xt(Me,Ut,Re[an],it);if(ln===null){Ut===null&&(Ut=Xr);break}d&&Ut&&ln.alternate===null&&m(Me,Ut),ce=I(ln,ce,an),jt===null?dt=ln:jt.sibling=ln,jt=ln,Ut=Xr}if(an===Re.length)return w(Me,Ut),zn&&xc(Me,an),dt;if(Ut===null){for(;an<Re.length;an++)Ut=Ft(Me,Re[an],it),Ut!==null&&(ce=I(Ut,ce,an),jt===null?dt=Ut:jt.sibling=Ut,jt=Ut);return zn&&xc(Me,an),dt}for(Ut=M(Me,Ut);an<Re.length;an++)Xr=_n(Ut,Me,an,Re[an],it),Xr!==null&&(d&&Xr.alternate!==null&&Ut.delete(Xr.key===null?an:Xr.key),ce=I(Xr,ce,an),jt===null?dt=Xr:jt.sibling=Xr,jt=Xr);return d&&Ut.forEach(function(ru){return m(Me,ru)}),zn&&xc(Me,an),dt}function pi(Me,ce,Re,it){var dt=T(Re);if(typeof dt!="function")throw Error(o(150));if(Re=dt.call(Re),Re==null)throw Error(o(151));for(var jt=dt=null,Ut=ce,an=ce=0,Xr=null,ln=Re.next();Ut!==null&&!ln.done;an++,ln=Re.next()){Ut.index>an?(Xr=Ut,Ut=null):Xr=Ut.sibling;var ru=xt(Me,Ut,ln.value,it);if(ru===null){Ut===null&&(Ut=Xr);break}d&&Ut&&ru.alternate===null&&m(Me,Ut),ce=I(ru,ce,an),jt===null?dt=ru:jt.sibling=ru,jt=ru,Ut=Xr}if(ln.done)return w(Me,Ut),zn&&xc(Me,an),dt;if(Ut===null){for(;!ln.done;an++,ln=Re.next())ln=Ft(Me,ln.value,it),ln!==null&&(ce=I(ln,ce,an),jt===null?dt=ln:jt.sibling=ln,jt=ln);return zn&&xc(Me,an),dt}for(Ut=M(Me,Ut);!ln.done;an++,ln=Re.next())ln=_n(Ut,Me,an,ln.value,it),ln!==null&&(d&&ln.alternate!==null&&Ut.delete(ln.key===null?an:ln.key),ce=I(ln,ce,an),jt===null?dt=ln:jt.sibling=ln,jt=ln);return d&&Ut.forEach(function(CN){return m(Me,CN)}),zn&&xc(Me,an),dt}function io(Me,ce,Re,it){if(typeof Re=="object"&&Re!==null&&Re.type===c&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case l:e:{for(var dt=Re.key,jt=ce;jt!==null;){if(jt.key===dt){if(dt=Re.type,dt===c){if(jt.tag===7){w(Me,jt.sibling),ce=P(jt,Re.props.children),ce.return=Me,Me=ce;break e}}else if(jt.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===_&&aw(dt)===jt.type){w(Me,jt.sibling),ce=P(jt,Re.props),ce.ref=Ip(Me,jt,Re),ce.return=Me,Me=ce;break e}w(Me,jt);break}else m(Me,jt);jt=jt.sibling}Re.type===c?(ce=Tc(Re.props.children,Me.mode,it,Re.key),ce.return=Me,Me=ce):(it=P3(Re.type,Re.key,Re.props,null,Me.mode,it),it.ref=Ip(Me,ce,Re),it.return=Me,Me=it)}return q(Me);case u:e:{for(jt=Re.key;ce!==null;){if(ce.key===jt)if(ce.tag===4&&ce.stateNode.containerInfo===Re.containerInfo&&ce.stateNode.implementation===Re.implementation){w(Me,ce.sibling),ce=P(ce,Re.children||[]),ce.return=Me,Me=ce;break e}else{w(Me,ce);break}else m(Me,ce);ce=ce.sibling}ce=ty(Re,Me.mode,it),ce.return=Me,Me=ce}return q(Me);case _:return jt=Re._init,io(Me,ce,jt(Re._payload),it)}if(K(Re))return pt(Me,ce,Re,it);if(T(Re))return pi(Me,ce,Re,it);$1(Me,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"?(Re=""+Re,ce!==null&&ce.tag===6?(w(Me,ce.sibling),ce=P(ce,Re),ce.return=Me,Me=ce):(w(Me,ce),ce=ey(Re,Me.mode,it),ce.return=Me,Me=ce),q(Me)):w(Me,ce)}return io}var eh=lw(!0),uw=lw(!1),Bp={},eo=wt(Bp),Fp=wt(Bp),th=wt(Bp);function ga(d){if(d===Bp)throw Error(o(174));return d}function y6(d,m){Et(th,m),Et(Fp,d),Et(eo,Bp),d=$(m),tn(eo),Et(eo,d)}function nh(){tn(eo),tn(Fp),tn(th)}function cw(d){var m=ga(th.current),w=ga(eo.current);m=U(w,d.type,m),w!==m&&(Et(Fp,d),Et(eo,m))}function x6(d){Fp.current===d&&(tn(eo),tn(Fp))}var Wn=wt(0);function e3(d){for(var m=d;m!==null;){if(m.tag===13){var w=m.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||sn(w)||Mn(w)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if(m.flags&128)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var S6=[];function _6(){for(var d=0;d<S6.length;d++){var m=S6[d];He?m._workInProgressVersionPrimary=null:m._workInProgressVersionSecondary=null}S6.length=0}var t3=a.ReactCurrentDispatcher,to=a.ReactCurrentBatchConfig,rh=0,rr=null,fi=null,jr=null,n3=!1,Up=!1,Op=0,$k=0;function hi(){throw Error(o(321))}function w6(d,m){if(m===null)return!1;for(var w=0;w<m.length&&w<d.length;w++)if(!ws(d[w],m[w]))return!1;return!0}function E6(d,m,w,M,P,I){if(rh=I,rr=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,t3.current=d===null||d.memoizedState===null?rN:iN,d=w(M,P),Up){I=0;do{if(Up=!1,Op=0,25<=I)throw Error(o(301));I+=1,jr=fi=null,m.updateQueue=null,t3.current=sN,d=w(M,P)}while(Up)}if(t3.current=a3,m=fi!==null&&fi.next!==null,rh=0,jr=fi=rr=null,n3=!1,m)throw Error(o(300));return d}function b6(){var d=Op!==0;return Op=0,d}function qa(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jr===null?rr.memoizedState=jr=d:jr=jr.next=d,jr}function va(){if(fi===null){var d=rr.alternate;d=d!==null?d.memoizedState:null}else d=fi.next;var m=jr===null?rr.memoizedState:jr.next;if(m!==null)jr=m,fi=d;else{if(d===null)throw Error(o(310));fi=d,d={memoizedState:fi.memoizedState,baseState:fi.baseState,baseQueue:fi.baseQueue,queue:fi.queue,next:null},jr===null?rr.memoizedState=jr=d:jr=jr.next=d}return jr}function Sc(d,m){return typeof m=="function"?m(d):m}function r3(d){var m=va(),w=m.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=d;var M=fi,P=M.baseQueue,I=w.pending;if(I!==null){if(P!==null){var q=P.next;P.next=I.next,I.next=q}M.baseQueue=P=I,w.pending=null}if(P!==null){I=P.next,M=M.baseState;var ae=q=null,Ie=null,Qe=I;do{var at=Qe.lane;if((rh&at)===at)Ie!==null&&(Ie=Ie.next={lane:0,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null}),M=Qe.hasEagerState?Qe.eagerState:d(M,Qe.action);else{var Ft={lane:at,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null};Ie===null?(ae=Ie=Ft,q=M):Ie=Ie.next=Ft,rr.lanes|=at,sh|=at}Qe=Qe.next}while(Qe!==null&&Qe!==I);Ie===null?q=M:Ie.next=ae,ws(M,m.memoizedState)||(Ts=!0),m.memoizedState=M,m.baseState=q,m.baseQueue=Ie,w.lastRenderedState=M}if(d=w.interleaved,d!==null){P=d;do I=P.lane,rr.lanes|=I,sh|=I,P=P.next;while(P!==d)}else P===null&&(w.lanes=0);return[m.memoizedState,w.dispatch]}function i3(d){var m=va(),w=m.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=d;var M=w.dispatch,P=w.pending,I=m.memoizedState;if(P!==null){w.pending=null;var q=P=P.next;do I=d(I,q.action),q=q.next;while(q!==P);ws(I,m.memoizedState)||(Ts=!0),m.memoizedState=I,m.baseQueue===null&&(m.baseState=I),w.lastRenderedState=I}return[I,M]}function fw(){}function hw(d,m){var w=rr,M=va(),P=m(),I=!ws(M.memoizedState,P);if(I&&(M.memoizedState=P,Ts=!0),M=M.queue,Np(mw.bind(null,w,M,d),[d]),M.getSnapshot!==m||I||jr!==null&&jr.memoizedState.tag&1){if(w.flags|=2048,kp(9,pw.bind(null,w,M,P,m),void 0,null),_r===null)throw Error(o(349));rh&30||dw(w,m,P)}return P}function dw(d,m,w){d.flags|=16384,d={getSnapshot:m,value:w},m=rr.updateQueue,m===null?(m={lastEffect:null,stores:null},rr.updateQueue=m,m.stores=[d]):(w=m.stores,w===null?m.stores=[d]:w.push(d))}function pw(d,m,w,M){m.value=w,m.getSnapshot=M,gw(m)&&no(d,1,-1)}function mw(d,m,w){return w(function(){gw(m)&&no(d,1,-1)})}function gw(d){var m=d.getSnapshot;d=d.value;try{var w=m();return!ws(d,w)}catch{return!0}}function M6(d){var m=qa();return typeof d=="function"&&(d=d()),m.memoizedState=m.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:d},m.queue=d,d=d.dispatch=nN.bind(null,rr,d),[m.memoizedState,d]}function kp(d,m,w,M){return d={tag:d,create:m,destroy:w,deps:M,next:null},m=rr.updateQueue,m===null?(m={lastEffect:null,stores:null},rr.updateQueue=m,m.lastEffect=d.next=d):(w=m.lastEffect,w===null?m.lastEffect=d.next=d:(M=w.next,w.next=d,d.next=M,m.lastEffect=d)),d}function vw(){return va().memoizedState}function s3(d,m,w,M){var P=qa();rr.flags|=d,P.memoizedState=kp(1|m,w,void 0,M===void 0?null:M)}function o3(d,m,w,M){var P=va();M=M===void 0?null:M;var I=void 0;if(fi!==null){var q=fi.memoizedState;if(I=q.destroy,M!==null&&w6(M,q.deps)){P.memoizedState=kp(m,w,I,M);return}}rr.flags|=d,P.memoizedState=kp(1|m,w,I,M)}function T6(d,m){return s3(8390656,8,d,m)}function Np(d,m){return o3(2048,8,d,m)}function yw(d,m){return o3(4,2,d,m)}function xw(d,m){return o3(4,4,d,m)}function Sw(d,m){if(typeof m=="function")return d=d(),m(d),function(){m(null)};if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function _w(d,m,w){return w=w!=null?w.concat([d]):null,o3(4,4,Sw.bind(null,m,d),w)}function A6(){}function ww(d,m){var w=va();m=m===void 0?null:m;var M=w.memoizedState;return M!==null&&m!==null&&w6(m,M[1])?M[0]:(w.memoizedState=[d,m],d)}function Ew(d,m){var w=va();m=m===void 0?null:m;var M=w.memoizedState;return M!==null&&m!==null&&w6(m,M[1])?M[0]:(d=d(),w.memoizedState=[d,m],d)}function eN(d,m){var w=Jt;Jt=w!==0&&4>w?w:4,d(!0);var M=to.transition;to.transition={};try{d(!1),m()}finally{Jt=w,to.transition=M}}function bw(){return va().memoizedState}function tN(d,m,w){var M=eu(d);w={lane:M,action:w,hasEagerState:!1,eagerState:null,next:null},Mw(d)?Tw(m,w):(Aw(d,m,w),w=Ni(),d=no(d,M,w),d!==null&&Cw(d,m,M))}function nN(d,m,w){var M=eu(d),P={lane:M,action:w,hasEagerState:!1,eagerState:null,next:null};if(Mw(d))Tw(m,P);else{Aw(d,m,P);var I=d.alternate;if(d.lanes===0&&(I===null||I.lanes===0)&&(I=m.lastRenderedReducer,I!==null))try{var q=m.lastRenderedState,ae=I(q,w);if(P.hasEagerState=!0,P.eagerState=ae,ws(ae,q))return}catch{}finally{}w=Ni(),d=no(d,M,w),d!==null&&Cw(d,m,M)}}function Mw(d){var m=d.alternate;return d===rr||m!==null&&m===rr}function Tw(d,m){Up=n3=!0;var w=d.pending;w===null?m.next=m:(m.next=w.next,w.next=m),d.pending=m}function Aw(d,m,w){_r!==null&&d.mode&1&&!(Yt&2)?(d=m.interleaved,d===null?(w.next=w,Es===null?Es=[m]:Es.push(m)):(w.next=d.next,d.next=w),m.interleaved=w):(d=m.pending,d===null?w.next=w:(w.next=d.next,d.next=w),m.pending=w)}function Cw(d,m,w){if(w&4194240){var M=m.lanes;M&=d.pendingLanes,w|=M,m.lanes=w,pa(d,w)}}var a3={readContext:dr,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},rN={readContext:dr,useCallback:function(d,m){return qa().memoizedState=[d,m===void 0?null:m],d},useContext:dr,useEffect:T6,useImperativeHandle:function(d,m,w){return w=w!=null?w.concat([d]):null,s3(4194308,4,Sw.bind(null,m,d),w)},useLayoutEffect:function(d,m){return s3(4194308,4,d,m)},useInsertionEffect:function(d,m){return s3(4,2,d,m)},useMemo:function(d,m){var w=qa();return m=m===void 0?null:m,d=d(),w.memoizedState=[d,m],d},useReducer:function(d,m,w){var M=qa();return m=w!==void 0?w(m):m,M.memoizedState=M.baseState=m,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:m},M.queue=d,d=d.dispatch=tN.bind(null,rr,d),[M.memoizedState,d]},useRef:function(d){var m=qa();return d={current:d},m.memoizedState=d},useState:M6,useDebugValue:A6,useDeferredValue:function(d){var m=M6(d),w=m[0],M=m[1];return T6(function(){var P=to.transition;to.transition={};try{M(d)}finally{to.transition=P}},[d]),w},useTransition:function(){var d=M6(!1),m=d[0];return d=eN.bind(null,d[1]),qa().memoizedState=d,[m,d]},useMutableSource:function(){},useSyncExternalStore:function(d,m,w){var M=rr,P=qa();if(zn){if(w===void 0)throw Error(o(407));w=w()}else{if(w=m(),_r===null)throw Error(o(349));rh&30||dw(M,m,w)}P.memoizedState=w;var I={value:w,getSnapshot:m};return P.queue=I,T6(mw.bind(null,M,I,d),[d]),M.flags|=2048,kp(9,pw.bind(null,M,I,w,m),void 0,null),w},useId:function(){var d=qa(),m=_r.identifierPrefix;if(zn){var w=Qa,M=Za;w=(M&~(1<<32-Ss(M)-1)).toString(32)+w,m=":"+m+"R"+w,w=Op++,0<w&&(m+="H"+w.toString(32)),m+=":"}else w=$k++,m=":"+m+"r"+w.toString(32)+":";return d.memoizedState=m},unstable_isNewReconciler:!1},iN={readContext:dr,useCallback:ww,useContext:dr,useEffect:Np,useImperativeHandle:_w,useInsertionEffect:yw,useLayoutEffect:xw,useMemo:Ew,useReducer:r3,useRef:vw,useState:function(){return r3(Sc)},useDebugValue:A6,useDeferredValue:function(d){var m=r3(Sc),w=m[0],M=m[1];return Np(function(){var P=to.transition;to.transition={};try{M(d)}finally{to.transition=P}},[d]),w},useTransition:function(){var d=r3(Sc)[0],m=va().memoizedState;return[d,m]},useMutableSource:fw,useSyncExternalStore:hw,useId:bw,unstable_isNewReconciler:!1},sN={readContext:dr,useCallback:ww,useContext:dr,useEffect:Np,useImperativeHandle:_w,useInsertionEffect:yw,useLayoutEffect:xw,useMemo:Ew,useReducer:i3,useRef:vw,useState:function(){return i3(Sc)},useDebugValue:A6,useDeferredValue:function(d){var m=i3(Sc),w=m[0],M=m[1];return Np(function(){var P=to.transition;to.transition={};try{M(d)}finally{to.transition=P}},[d]),w},useTransition:function(){var d=i3(Sc)[0],m=va().memoizedState;return[d,m]},useMutableSource:fw,useSyncExternalStore:hw,useId:bw,unstable_isNewReconciler:!1};function C6(d,m){try{var w="",M=m;do w+=vc(M),M=M.return;while(M);var P=w}catch(I){P=`
Error generating stack: `+I.message+`
`+I.stack}return{value:d,source:m,stack:P}}function R6(d,m){try{console.error(m.value)}catch(w){setTimeout(function(){throw w})}}var oN=typeof WeakMap=="function"?WeakMap:Map;function Rw(d,m,w){w=Ja(-1,w),w.tag=3,w.payload={element:null};var M=m.value;return w.callback=function(){E3||(E3=!0,Y6=M),R6(d,m)},w}function Pw(d,m,w){w=Ja(-1,w),w.tag=3;var M=d.type.getDerivedStateFromError;if(typeof M=="function"){var P=m.value;w.payload=function(){return M(P)},w.callback=function(){R6(d,m)}}var I=d.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(w.callback=function(){R6(d,m),typeof M!="function"&&(ql===null?ql=new Set([this]):ql.add(this));var q=m.stack;this.componentDidCatch(m.value,{componentStack:q!==null?q:""})}),w}function Dw(d,m,w){var M=d.pingCache;if(M===null){M=d.pingCache=new oN;var P=new Set;M.set(m,P)}else P=M.get(m),P===void 0&&(P=new Set,M.set(m,P));P.has(w)||(P.add(w),d=SN.bind(null,d,m,w),m.then(d,d))}function Lw(d){do{var m;if((m=d.tag===13)&&(m=d.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return d;d=d.return}while(d!==null);return null}function Iw(d,m,w,M,P){return d.mode&1?(d.flags|=65536,d.lanes=P,d):(d===m?d.flags|=65536:(d.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(m=Ja(-1,1),m.tag=2,Ql(w,m))),w.lanes|=1),d)}function ya(d){d.flags|=4}function Bw(d,m){if(d!==null&&d.child===m.child)return!0;if(m.flags&16)return!1;for(d=m.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var zp,Gp,l3,u3;if(ge)zp=function(d,m){for(var w=m.child;w!==null;){if(w.tag===5||w.tag===6)j(d,w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===m)break;for(;w.sibling===null;){if(w.return===null||w.return===m)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},Gp=function(){},l3=function(d,m,w,M,P){if(d=d.memoizedProps,d!==M){var I=m.stateNode,q=ga(eo.current);w=se(I,w,d,M,P,q),(m.updateQueue=w)&&ya(m)}},u3=function(d,m,w,M){w!==M&&ya(m)};else if(Y){zp=function(d,m,w,M){for(var P=m.child;P!==null;){if(P.tag===5){var I=P.stateNode;w&&M&&(I=Wt(I,P.type,P.memoizedProps,P)),j(d,I)}else if(P.tag===6)I=P.stateNode,w&&M&&(I=zt(I,P.memoizedProps,P)),j(d,I);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)I=P.child,I!==null&&(I.return=P),zp(d,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===m)break;for(;P.sibling===null;){if(P.return===null||P.return===m)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};var Fw=function(d,m,w,M){for(var P=m.child;P!==null;){if(P.tag===5){var I=P.stateNode;w&&M&&(I=Wt(I,P.type,P.memoizedProps,P)),bt(d,I)}else if(P.tag===6)I=P.stateNode,w&&M&&(I=zt(I,P.memoizedProps,P)),bt(d,I);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)I=P.child,I!==null&&(I.return=P),Fw(d,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===m)break;for(;P.sibling===null;){if(P.return===null||P.return===m)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};Gp=function(d,m){var w=m.stateNode;if(!Bw(d,m)){d=w.containerInfo;var M=Mt(d);Fw(M,m,!1,!1),w.pendingChildren=M,ya(m),Rt(d,M)}},l3=function(d,m,w,M,P){var I=d.stateNode,q=d.memoizedProps;if((d=Bw(d,m))&&q===M)m.stateNode=I;else{var ae=m.stateNode,Ie=ga(eo.current),Qe=null;q!==M&&(Qe=se(ae,w,q,M,P,Ie)),d&&Qe===null?m.stateNode=I:(I=qe(I,Qe,w,q,M,m,d,ae),ie(I,w,M,P,Ie)&&ya(m),m.stateNode=I,d?ya(m):zp(I,m,!1,!1))}},u3=function(d,m,w,M){w!==M?(d=ga(th.current),w=ga(eo.current),m.stateNode=fe(M,d,w,m),ya(m)):m.stateNode=d.stateNode}}else Gp=function(){},l3=function(){},u3=function(){};function Hp(d,m){if(!zn)switch(d.tailMode){case"hidden":m=d.tail;for(var w=null;m!==null;)m.alternate!==null&&(w=m),m=m.sibling;w===null?d.tail=null:w.sibling=null;break;case"collapsed":w=d.tail;for(var M=null;w!==null;)w.alternate!==null&&(M=w),w=w.sibling;M===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:M.sibling=null}}function di(d){var m=d.alternate!==null&&d.alternate.child===d.child,w=0,M=0;if(m)for(var P=d.child;P!==null;)w|=P.lanes|P.childLanes,M|=P.subtreeFlags&14680064,M|=P.flags&14680064,P.return=d,P=P.sibling;else for(P=d.child;P!==null;)w|=P.lanes|P.childLanes,M|=P.subtreeFlags,M|=P.flags,P.return=d,P=P.sibling;return d.subtreeFlags|=M,d.childLanes=w,m}function aN(d,m,w){var M=m.pendingProps;switch(p6(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return di(m),null;case 1:return Tn(m.type)&&Ii(),di(m),null;case 3:return M=m.stateNode,nh(),tn(Nn),tn(nr),_6(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(d===null||d.child===null)&&(Lp(m)?ya(m):d===null||d.memoizedState.isDehydrated&&!(m.flags&256)||(m.flags|=1024,Uo!==null&&(Z6(Uo),Uo=null))),Gp(d,m),di(m),null;case 5:x6(m),w=ga(th.current);var P=m.type;if(d!==null&&m.stateNode!=null)l3(d,m,P,M,w),d.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!M){if(m.stateNode===null)throw Error(o(166));return di(m),null}if(d=ga(eo.current),Lp(m)){if(!Se)throw Error(o(175));d=Li(m.stateNode,m.type,m.memoizedProps,w,d,m,!Dp),m.updateQueue=d,d!==null&&ya(m)}else{var I=F(P,M,w,d,m);zp(I,m,!1,!1),m.stateNode=I,ie(I,P,M,w,d)&&ya(m)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return di(m),null;case 6:if(d&&m.stateNode!=null)u3(d,m,d.memoizedProps,M);else{if(typeof M!="string"&&m.stateNode===null)throw Error(o(166));if(d=ga(th.current),w=ga(eo.current),Lp(m)){if(!Se)throw Error(o(176));if(d=m.stateNode,M=m.memoizedProps,(w=Z(d,M,m,!Dp))&&(P=bs,P!==null))switch(I=(P.mode&1)!==0,P.tag){case 3:_t(P.stateNode.containerInfo,d,M,I);break;case 5:Bt(P.type,P.memoizedProps,P.stateNode,d,M,I)}w&&ya(m)}else m.stateNode=fe(M,d,w,m)}return di(m),null;case 13:if(tn(Wn),M=m.memoizedState,zn&&Ms!==null&&m.mode&1&&!(m.flags&128)){for(d=Ms;d;)d=Sn(d);return $f(),m.flags|=98560,m}if(M!==null&&M.dehydrated!==null){if(M=Lp(m),d===null){if(!M)throw Error(o(318));if(!Se)throw Error(o(344));if(d=m.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));_e(d,m)}else $f(),!(m.flags&128)&&(m.memoizedState=null),m.flags|=4;return di(m),null}return Uo!==null&&(Z6(Uo),Uo=null),m.flags&128?(m.lanes=w,m):(M=M!==null,w=!1,d===null?Lp(m):w=d.memoizedState!==null,M&&!w&&(m.child.flags|=8192,m.mode&1&&(d===null||Wn.current&1?Lr===0&&(Lr=3):q6())),m.updateQueue!==null&&(m.flags|=4),di(m),null);case 4:return nh(),Gp(d,m),d===null&&de(m.stateNode.containerInfo),di(m),null;case 10:return Wr(m.type._context),di(m),null;case 17:return Tn(m.type)&&Ii(),di(m),null;case 19:if(tn(Wn),P=m.memoizedState,P===null)return di(m),null;if(M=(m.flags&128)!==0,I=P.rendering,I===null)if(M)Hp(P,!1);else{if(Lr!==0||d!==null&&d.flags&128)for(d=m.child;d!==null;){if(I=e3(d),I!==null){for(m.flags|=128,Hp(P,!1),d=I.updateQueue,d!==null&&(m.updateQueue=d,m.flags|=4),m.subtreeFlags=0,d=w,M=m.child;M!==null;)w=M,P=d,w.flags&=14680066,I=w.alternate,I===null?(w.childLanes=0,w.lanes=P,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=I.childLanes,w.lanes=I.lanes,w.child=I.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=I.memoizedProps,w.memoizedState=I.memoizedState,w.updateQueue=I.updateQueue,w.type=I.type,P=I.dependencies,w.dependencies=P===null?null:{lanes:P.lanes,firstContext:P.firstContext}),M=M.sibling;return Et(Wn,Wn.current&1|2),m.child}d=d.sibling}P.tail!==null&&Vn()>X6&&(m.flags|=128,M=!0,Hp(P,!1),m.lanes=4194304)}else{if(!M)if(d=e3(I),d!==null){if(m.flags|=128,M=!0,d=d.updateQueue,d!==null&&(m.updateQueue=d,m.flags|=4),Hp(P,!0),P.tail===null&&P.tailMode==="hidden"&&!I.alternate&&!zn)return di(m),null}else 2*Vn()-P.renderingStartTime>X6&&w!==1073741824&&(m.flags|=128,M=!0,Hp(P,!1),m.lanes=4194304);P.isBackwards?(I.sibling=m.child,m.child=I):(d=P.last,d!==null?d.sibling=I:m.child=I,P.last=I)}return P.tail!==null?(m=P.tail,P.rendering=m,P.tail=m.sibling,P.renderingStartTime=Vn(),m.sibling=null,d=Wn.current,Et(Wn,M?d&1|2:d&1),m):(di(m),null);case 22:case 23:return Q6(),M=m.memoizedState!==null,d!==null&&d.memoizedState!==null!==M&&(m.flags|=8192),M&&m.mode&1?As&1073741824&&(di(m),ge&&m.subtreeFlags&6&&(m.flags|=8192)):di(m),null;case 24:return null;case 25:return null}throw Error(o(156,m.tag))}var lN=a.ReactCurrentOwner,Ts=!1;function ki(d,m,w,M){m.child=d===null?uw(m,null,w,M):eh(m,d.child,w,M)}function Uw(d,m,w,M,P){w=w.render;var I=m.ref;return hr(m,P),M=E6(d,m,w,M,I,P),w=b6(),d!==null&&!Ts?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~P,$a(d,m,P)):(zn&&w&&d6(m),m.flags|=1,ki(d,m,M,P),m.child)}function Ow(d,m,w,M,P){if(d===null){var I=w.type;return typeof I=="function"&&!$6(I)&&I.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(m.tag=15,m.type=I,kw(d,m,I,M,P)):(d=P3(w.type,null,M,m,m.mode,P),d.ref=m.ref,d.return=m,m.child=d)}if(I=d.child,!(d.lanes&P)){var q=I.memoizedProps;if(w=w.compare,w=w!==null?w:gc,w(q,M)&&d.ref===m.ref)return $a(d,m,P)}return m.flags|=1,d=nu(I,M),d.ref=m.ref,d.return=m,m.child=d}function kw(d,m,w,M,P){if(d!==null&&gc(d.memoizedProps,M)&&d.ref===m.ref)if(Ts=!1,(d.lanes&P)!==0)d.flags&131072&&(Ts=!0);else return m.lanes=d.lanes,$a(d,m,P);return P6(d,m,w,M,P)}function Nw(d,m,w){var M=m.pendingProps,P=M.children,I=d!==null?d.memoizedState:null;if(M.mode==="hidden")if(!(m.mode&1))m.memoizedState={baseLanes:0,cachePool:null},Et(ih,As),As|=w;else if(w&1073741824)m.memoizedState={baseLanes:0,cachePool:null},M=I!==null?I.baseLanes:w,Et(ih,As),As|=M;else return d=I!==null?I.baseLanes|w:w,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:d,cachePool:null},m.updateQueue=null,Et(ih,As),As|=d,null;else I!==null?(M=I.baseLanes|w,m.memoizedState=null):M=w,Et(ih,As),As|=M;return ki(d,m,P,w),m.child}function zw(d,m){var w=m.ref;(d===null&&w!==null||d!==null&&d.ref!==w)&&(m.flags|=512,m.flags|=2097152)}function P6(d,m,w,M,P){var I=Tn(w)?Ji:nr.current;return I=yn(m,I),hr(m,P),w=E6(d,m,w,M,I,P),M=b6(),d!==null&&!Ts?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~P,$a(d,m,P)):(zn&&M&&d6(m),m.flags|=1,ki(d,m,w,P),m.child)}function Gw(d,m,w,M,P){if(Tn(w)){var I=!0;ha(m)}else I=!1;if(hr(m,P),m.stateNode===null)d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2),tw(m,w,M),h6(m,w,M,P),M=!0;else if(d===null){var q=m.stateNode,ae=m.memoizedProps;q.props=ae;var Ie=q.context,Qe=w.contextType;typeof Qe=="object"&&Qe!==null?Qe=dr(Qe):(Qe=Tn(w)?Ji:nr.current,Qe=yn(m,Qe));var at=w.getDerivedStateFromProps,Ft=typeof at=="function"||typeof q.getSnapshotBeforeUpdate=="function";Ft||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(ae!==M||Ie!==Qe)&&nw(m,q,M,Qe),Zl=!1;var xt=m.memoizedState;q.state=xt,J1(m,M,q,P),Ie=m.memoizedState,ae!==M||xt!==Ie||Nn.current||Zl?(typeof at=="function"&&(f6(m,w,at,M),Ie=m.memoizedState),(ae=Zl||ew(m,w,ae,M,xt,Ie,Qe))?(Ft||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(m.flags|=4194308)):(typeof q.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=M,m.memoizedState=Ie),q.props=M,q.state=Ie,q.context=Qe,M=ae):(typeof q.componentDidMount=="function"&&(m.flags|=4194308),M=!1)}else{q=m.stateNode,Z_(d,m),ae=m.memoizedProps,Qe=m.type===m.elementType?ae:Ui(m.type,ae),q.props=Qe,Ft=m.pendingProps,xt=q.context,Ie=w.contextType,typeof Ie=="object"&&Ie!==null?Ie=dr(Ie):(Ie=Tn(w)?Ji:nr.current,Ie=yn(m,Ie));var _n=w.getDerivedStateFromProps;(at=typeof _n=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(ae!==Ft||xt!==Ie)&&nw(m,q,M,Ie),Zl=!1,xt=m.memoizedState,q.state=xt,J1(m,M,q,P);var pt=m.memoizedState;ae!==Ft||xt!==pt||Nn.current||Zl?(typeof _n=="function"&&(f6(m,w,_n,M),pt=m.memoizedState),(Qe=Zl||ew(m,w,Qe,M,xt,pt,Ie)||!1)?(at||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(M,pt,Ie),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(M,pt,Ie)),typeof q.componentDidUpdate=="function"&&(m.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof q.componentDidUpdate!="function"||ae===d.memoizedProps&&xt===d.memoizedState||(m.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||ae===d.memoizedProps&&xt===d.memoizedState||(m.flags|=1024),m.memoizedProps=M,m.memoizedState=pt),q.props=M,q.state=pt,q.context=Ie,M=Qe):(typeof q.componentDidUpdate!="function"||ae===d.memoizedProps&&xt===d.memoizedState||(m.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||ae===d.memoizedProps&&xt===d.memoizedState||(m.flags|=1024),M=!1)}return D6(d,m,w,M,I,P)}function D6(d,m,w,M,P,I){zw(d,m);var q=(m.flags&128)!==0;if(!M&&!q)return P&&ci(m,w,!1),$a(d,m,I);M=m.stateNode,lN.current=m;var ae=q&&typeof w.getDerivedStateFromError!="function"?null:M.render();return m.flags|=1,d!==null&&q?(m.child=eh(m,d.child,null,I),m.child=eh(m,null,ae,I)):ki(d,m,ae,I),m.memoizedState=M.state,P&&ci(m,w,!0),m.child}function Hw(d){var m=d.stateNode;m.pendingContext?Sr(d,m.pendingContext,m.pendingContext!==m.context):m.context&&Sr(d,m.context,!1),y6(d,m.containerInfo)}function Vw(d,m,w,M,P){return $f(),v6(P),m.flags|=256,ki(d,m,w,M),m.child}var c3={dehydrated:null,treeContext:null,retryLane:0};function f3(d){return{baseLanes:d,cachePool:null}}function Ww(d,m,w){var M=m.pendingProps,P=Wn.current,I=!1,q=(m.flags&128)!==0,ae;if((ae=q)||(ae=d!==null&&d.memoizedState===null?!1:(P&2)!==0),ae?(I=!0,m.flags&=-129):(d===null||d.memoizedState!==null)&&(P|=1),Et(Wn,P&1),d===null)return g6(m),d=m.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(m.mode&1?Mn(d)?m.lanes=8:m.lanes=1073741824:m.lanes=1,null):(P=M.children,d=M.fallback,I?(M=m.mode,I=m.child,P={mode:"hidden",children:P},!(M&1)&&I!==null?(I.childLanes=0,I.pendingProps=P):I=D3(P,M,0,null),d=Tc(d,M,w,null),I.return=m,d.return=m,I.sibling=d,m.child=I,m.child.memoizedState=f3(w),m.memoizedState=c3,d):L6(m,P));if(P=d.memoizedState,P!==null){if(ae=P.dehydrated,ae!==null){if(q)return m.flags&256?(m.flags&=-257,h3(d,m,w,Error(o(422)))):m.memoizedState!==null?(m.child=d.child,m.flags|=128,null):(I=M.fallback,P=m.mode,M=D3({mode:"visible",children:M.children},P,0,null),I=Tc(I,P,w,null),I.flags|=2,M.return=m,I.return=m,M.sibling=I,m.child=M,m.mode&1&&eh(m,d.child,null,w),m.child.memoizedState=f3(w),m.memoizedState=c3,I);if(!(m.mode&1))m=h3(d,m,w,null);else if(Mn(ae))m=h3(d,m,w,Error(o(419)));else if(M=(w&d.childLanes)!==0,Ts||M){if(M=_r,M!==null){switch(w&-w){case 4:I=2;break;case 16:I=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:I=32;break;case 536870912:I=268435456;break;default:I=0}M=I&(M.suspendedLanes|w)?0:I,M!==0&&M!==P.retryLane&&(P.retryLane=M,no(d,M,-1))}q6(),m=h3(d,m,w,Error(o(421)))}else sn(ae)?(m.flags|=128,m.child=d.child,m=_N.bind(null,d),ti(ae,m),m=null):(w=P.treeContext,Se&&(Ms=Zs(ae),bs=m,zn=!0,Uo=null,Dp=!1,w!==null&&(qs[$s++]=Za,qs[$s++]=Qa,qs[$s++]=yc,Za=w.id,Qa=w.overflow,yc=m)),m=L6(m,m.pendingProps.children),m.flags|=4096);return m}return I?(M=Xw(d,m,M.children,M.fallback,w),I=m.child,P=d.child.memoizedState,I.memoizedState=P===null?f3(w):{baseLanes:P.baseLanes|w,cachePool:null},I.childLanes=d.childLanes&~w,m.memoizedState=c3,M):(w=jw(d,m,M.children,w),m.memoizedState=null,w)}return I?(M=Xw(d,m,M.children,M.fallback,w),I=m.child,P=d.child.memoizedState,I.memoizedState=P===null?f3(w):{baseLanes:P.baseLanes|w,cachePool:null},I.childLanes=d.childLanes&~w,m.memoizedState=c3,M):(w=jw(d,m,M.children,w),m.memoizedState=null,w)}function L6(d,m){return m=D3({mode:"visible",children:m},d.mode,0,null),m.return=d,d.child=m}function jw(d,m,w,M){var P=d.child;return d=P.sibling,w=nu(P,{mode:"visible",children:w}),!(m.mode&1)&&(w.lanes=M),w.return=m,w.sibling=null,d!==null&&(M=m.deletions,M===null?(m.deletions=[d],m.flags|=16):M.push(d)),m.child=w}function Xw(d,m,w,M,P){var I=m.mode;d=d.child;var q=d.sibling,ae={mode:"hidden",children:w};return!(I&1)&&m.child!==d?(w=m.child,w.childLanes=0,w.pendingProps=ae,m.deletions=null):(w=nu(d,ae),w.subtreeFlags=d.subtreeFlags&14680064),q!==null?M=nu(q,M):(M=Tc(M,I,P,null),M.flags|=2),M.return=m,w.return=m,w.sibling=M,m.child=w,M}function h3(d,m,w,M){return M!==null&&v6(M),eh(m,d.child,null,w),d=L6(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function Yw(d,m,w){d.lanes|=m;var M=d.alternate;M!==null&&(M.lanes|=m),Oi(d.return,m,w)}function I6(d,m,w,M,P){var I=d.memoizedState;I===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:M,tail:w,tailMode:P}:(I.isBackwards=m,I.rendering=null,I.renderingStartTime=0,I.last=M,I.tail=w,I.tailMode=P)}function Kw(d,m,w){var M=m.pendingProps,P=M.revealOrder,I=M.tail;if(ki(d,m,M.children,w),M=Wn.current,M&2)M=M&1|2,m.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&Yw(d,w,m);else if(d.tag===19)Yw(d,w,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}M&=1}if(Et(Wn,M),!(m.mode&1))m.memoizedState=null;else switch(P){case"forwards":for(w=m.child,P=null;w!==null;)d=w.alternate,d!==null&&e3(d)===null&&(P=w),w=w.sibling;w=P,w===null?(P=m.child,m.child=null):(P=w.sibling,w.sibling=null),I6(m,!1,P,w,I);break;case"backwards":for(w=null,P=m.child,m.child=null;P!==null;){if(d=P.alternate,d!==null&&e3(d)===null){m.child=P;break}d=P.sibling,P.sibling=w,w=P,P=d}I6(m,!0,w,null,I);break;case"together":I6(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function $a(d,m,w){if(d!==null&&(m.dependencies=d.dependencies),sh|=m.lanes,!(w&m.childLanes))return null;if(d!==null&&m.child!==d.child)throw Error(o(153));if(m.child!==null){for(d=m.child,w=nu(d,d.pendingProps),m.child=w,w.return=m;d.sibling!==null;)d=d.sibling,w=w.sibling=nu(d,d.pendingProps),w.return=m;w.sibling=null}return m.child}function uN(d,m,w){switch(m.tag){case 3:Hw(m),$f();break;case 5:cw(m);break;case 1:Tn(m.type)&&ha(m);break;case 4:y6(m,m.stateNode.containerInfo);break;case 10:Y1(m,m.type._context,m.memoizedProps.value);break;case 13:var M=m.memoizedState;if(M!==null)return M.dehydrated!==null?(Et(Wn,Wn.current&1),m.flags|=128,null):w&m.child.childLanes?Ww(d,m,w):(Et(Wn,Wn.current&1),d=$a(d,m,w),d!==null?d.sibling:null);Et(Wn,Wn.current&1);break;case 19:if(M=(w&m.childLanes)!==0,d.flags&128){if(M)return Kw(d,m,w);m.flags|=128}var P=m.memoizedState;if(P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),Et(Wn,Wn.current),M)break;return null;case 22:case 23:return m.lanes=0,Nw(d,m,w)}return $a(d,m,w)}function cN(d,m){switch(p6(m),m.tag){case 1:return Tn(m.type)&&Ii(),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return nh(),tn(Nn),tn(nr),_6(),d=m.flags,d&65536&&!(d&128)?(m.flags=d&-65537|128,m):null;case 5:return x6(m),null;case 13:if(tn(Wn),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(o(340));$f()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return tn(Wn),null;case 4:return nh(),null;case 10:return Wr(m.type._context),null;case 22:case 23:return Q6(),null;case 24:return null;default:return null}}var d3=!1,_c=!1,fN=typeof WeakSet=="function"?WeakSet:Set,nt=null;function p3(d,m){var w=d.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(M){$i(d,m,M)}else w.current=null}function B6(d,m,w){try{w()}catch(M){$i(d,m,M)}}var Jw=!1;function hN(d,m){for(G(d.containerInfo),nt=m;nt!==null;)if(d=nt,m=d.child,(d.subtreeFlags&1028)!==0&&m!==null)m.return=d,nt=m;else for(;nt!==null;){d=nt;try{var w=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var M=w.memoizedProps,P=w.memoizedState,I=d.stateNode,q=I.getSnapshotBeforeUpdate(d.elementType===d.type?M:Ui(d.type,M),P);I.__reactInternalSnapshotBeforeUpdate=q}break;case 3:ge&&We(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ae){$i(d,d.return,ae)}if(m=d.sibling,m!==null){m.return=d.return,nt=m;break}nt=d.return}return w=Jw,Jw=!1,w}function wc(d,m,w){var M=m.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var P=M=M.next;do{if((P.tag&d)===d){var I=P.destroy;P.destroy=void 0,I!==void 0&&B6(m,w,I)}P=P.next}while(P!==M)}}function Vp(d,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var w=m=m.next;do{if((w.tag&d)===d){var M=w.create;w.destroy=M()}w=w.next}while(w!==m)}}function F6(d){var m=d.ref;if(m!==null){var w=d.stateNode;switch(d.tag){case 5:d=J(w);break;default:d=w}typeof m=="function"?m(d):m.current=d}}function Zw(d,m,w){if(_s&&typeof _s.onCommitFiberUnmount=="function")try{_s.onCommitFiberUnmount(pc,m)}catch{}switch(m.tag){case 0:case 11:case 14:case 15:if(d=m.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var M=d=d.next;do{var P=M,I=P.destroy;P=P.tag,I!==void 0&&(P&2||P&4)&&B6(m,w,I),M=M.next}while(M!==d)}break;case 1:if(p3(m,w),d=m.stateNode,typeof d.componentWillUnmount=="function")try{d.props=m.memoizedProps,d.state=m.memoizedState,d.componentWillUnmount()}catch(q){$i(m,w,q)}break;case 5:p3(m,w);break;case 4:ge?nE(d,m,w):Y&&Y&&(m=m.stateNode.containerInfo,w=Mt(m),Xt(m,w))}}function Qw(d,m,w){for(var M=m;;)if(Zw(d,M,w),M.child===null||ge&&M.tag===4){if(M===m)break;for(;M.sibling===null;){if(M.return===null||M.return===m)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function qw(d){var m=d.alternate;m!==null&&(d.alternate=null,qw(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&ze(m)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function $w(d){return d.tag===5||d.tag===3||d.tag===4}function eE(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||$w(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function tE(d){if(ge){e:{for(var m=d.return;m!==null;){if($w(m))break e;m=m.return}throw Error(o(160))}var w=m;switch(w.tag){case 5:m=w.stateNode,w.flags&32&&(Te(m),w.flags&=-33),w=eE(d),O6(d,w,m);break;case 3:case 4:m=w.stateNode.containerInfo,w=eE(d),U6(d,w,m);break;default:throw Error(o(161))}}}function U6(d,m,w){var M=d.tag;if(M===5||M===6)d=d.stateNode,m?Ye(w,d,m):Ge(w,d);else if(M!==4&&(d=d.child,d!==null))for(U6(d,m,w),d=d.sibling;d!==null;)U6(d,m,w),d=d.sibling}function O6(d,m,w){var M=d.tag;if(M===5||M===6)d=d.stateNode,m?Ze(w,d,m):Ee(w,d);else if(M!==4&&(d=d.child,d!==null))for(O6(d,m,w),d=d.sibling;d!==null;)O6(d,m,w),d=d.sibling}function nE(d,m,w){for(var M=m,P=!1,I,q;;){if(!P){P=M.return;e:for(;;){if(P===null)throw Error(o(160));switch(I=P.stateNode,P.tag){case 5:q=!1;break e;case 3:I=I.containerInfo,q=!0;break e;case 4:I=I.containerInfo,q=!0;break e}P=P.return}P=!0}if(M.tag===5||M.tag===6)Qw(d,M,w),q?ee(I,M.stateNode):Ne(I,M.stateNode);else if(M.tag===18)q?mt(I,M.stateNode):st(I,M.stateNode);else if(M.tag===4){if(M.child!==null){I=M.stateNode.containerInfo,q=!0,M.child.return=M,M=M.child;continue}}else if(Zw(d,M,w),M.child!==null){M.child.return=M,M=M.child;continue}if(M===m)break;for(;M.sibling===null;){if(M.return===null||M.return===m)return;M=M.return,M.tag===4&&(P=!1)}M.sibling.return=M.return,M=M.sibling}}function k6(d,m){if(ge){switch(m.tag){case 0:case 11:case 14:case 15:wc(3,m,m.return),Vp(3,m),wc(5,m,m.return);return;case 1:return;case 5:var w=m.stateNode;if(w!=null){var M=m.memoizedProps;d=d!==null?d.memoizedProps:M;var P=m.type,I=m.updateQueue;m.updateQueue=null,I!==null&&je(w,I,P,d,M,m)}return;case 6:if(m.stateNode===null)throw Error(o(162));w=m.memoizedProps,Fe(m.stateNode,d!==null?d.memoizedProps:w,w);return;case 3:Se&&d!==null&&d.memoizedState.isDehydrated&&we(m.stateNode.containerInfo);return;case 12:return;case 13:m3(m);return;case 19:m3(m);return;case 17:return}throw Error(o(163))}switch(m.tag){case 0:case 11:case 14:case 15:wc(3,m,m.return),Vp(3,m),wc(5,m,m.return);return;case 12:return;case 13:m3(m);return;case 19:m3(m);return;case 3:Se&&d!==null&&d.memoizedState.isDehydrated&&we(m.stateNode.containerInfo);break;case 22:case 23:return}e:if(Y){switch(m.tag){case 1:case 5:case 6:break e;case 3:case 4:m=m.stateNode,Xt(m.containerInfo,m.pendingChildren);break e}throw Error(o(163))}}function m3(d){var m=d.updateQueue;if(m!==null){d.updateQueue=null;var w=d.stateNode;w===null&&(w=d.stateNode=new fN),m.forEach(function(M){var P=wN.bind(null,d,M);w.has(M)||(w.add(M),M.then(P,P))})}}function dN(d,m){for(nt=m;nt!==null;){m=nt;var w=m.deletions;if(w!==null)for(var M=0;M<w.length;M++){var P=w[M];try{var I=d;ge?nE(I,P,m):Qw(I,P,m);var q=P.alternate;q!==null&&(q.return=null),P.return=null}catch(dt){$i(P,m,dt)}}if(w=m.child,m.subtreeFlags&12854&&w!==null)w.return=m,nt=w;else for(;nt!==null;){m=nt;try{var ae=m.flags;if(ae&32&&ge&&Te(m.stateNode),ae&512){var Ie=m.alternate;if(Ie!==null){var Qe=Ie.ref;Qe!==null&&(typeof Qe=="function"?Qe(null):Qe.current=null)}}if(ae&8192)switch(m.tag){case 13:if(m.memoizedState!==null){var at=m.alternate;(at===null||at.memoizedState===null)&&(j6=Vn())}break;case 22:var Ft=m.memoizedState!==null,xt=m.alternate,_n=xt!==null&&xt.memoizedState!==null;if(w=m,ge){e:if(M=w,P=Ft,I=null,ge)for(var pt=M;;){if(pt.tag===5){if(I===null){I=pt;var pi=pt.stateNode;P?Ke(pi):Oe(pt.stateNode,pt.memoizedProps)}}else if(pt.tag===6){if(I===null){var io=pt.stateNode;P?Q(io):xe(io,pt.memoizedProps)}}else if((pt.tag!==22&&pt.tag!==23||pt.memoizedState===null||pt===M)&&pt.child!==null){pt.child.return=pt,pt=pt.child;continue}if(pt===M)break;for(;pt.sibling===null;){if(pt.return===null||pt.return===M)break e;I===pt&&(I=null),pt=pt.return}I===pt&&(I=null),pt.sibling.return=pt.return,pt=pt.sibling}}if(Ft&&!_n&&w.mode&1){nt=w;for(var Me=w.child;Me!==null;){for(w=nt=Me;nt!==null;){M=nt;var ce=M.child;switch(M.tag){case 0:case 11:case 14:case 15:wc(4,M,M.return);break;case 1:p3(M,M.return);var Re=M.stateNode;if(typeof Re.componentWillUnmount=="function"){var it=M.return;try{Re.props=M.memoizedProps,Re.state=M.memoizedState,Re.componentWillUnmount()}catch(dt){$i(M,it,dt)}}break;case 5:p3(M,M.return);break;case 22:if(M.memoizedState!==null){sE(w);continue}}ce!==null?(ce.return=M,nt=ce):sE(w)}Me=Me.sibling}}}switch(ae&4102){case 2:tE(m),m.flags&=-3;break;case 6:tE(m),m.flags&=-3,k6(m.alternate,m);break;case 4096:m.flags&=-4097;break;case 4100:m.flags&=-4097,k6(m.alternate,m);break;case 4:k6(m.alternate,m)}}catch(dt){$i(m,m.return,dt)}if(w=m.sibling,w!==null){w.return=m.return,nt=w;break}nt=m.return}}}function pN(d,m,w){nt=d,rE(d)}function rE(d,m,w){for(var M=(d.mode&1)!==0;nt!==null;){var P=nt,I=P.child;if(P.tag===22&&M){var q=P.memoizedState!==null||d3;if(!q){var ae=P.alternate,Ie=ae!==null&&ae.memoizedState!==null||_c;ae=d3;var Qe=_c;if(d3=q,(_c=Ie)&&!Qe)for(nt=P;nt!==null;)q=nt,Ie=q.child,q.tag===22&&q.memoizedState!==null?oE(P):Ie!==null?(Ie.return=q,nt=Ie):oE(P);for(;I!==null;)nt=I,rE(I),I=I.sibling;nt=P,d3=ae,_c=Qe}iE(d)}else P.subtreeFlags&8772&&I!==null?(I.return=P,nt=I):iE(d)}}function iE(d){for(;nt!==null;){var m=nt;if(m.flags&8772){var w=m.alternate;try{if(m.flags&8772)switch(m.tag){case 0:case 11:case 15:_c||Vp(5,m);break;case 1:var M=m.stateNode;if(m.flags&4&&!_c)if(w===null)M.componentDidMount();else{var P=m.elementType===m.type?w.memoizedProps:Ui(m.type,w.memoizedProps);M.componentDidUpdate(P,w.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var I=m.updateQueue;I!==null&&q_(m,I,M);break;case 3:var q=m.updateQueue;if(q!==null){if(w=null,m.child!==null)switch(m.child.tag){case 5:w=J(m.child.stateNode);break;case 1:w=m.child.stateNode}q_(m,q,w)}break;case 5:var ae=m.stateNode;w===null&&m.flags&4&&ve(ae,m.type,m.memoizedProps,m);break;case 6:break;case 4:break;case 12:break;case 13:if(Se&&m.memoizedState===null){var Ie=m.alternate;if(Ie!==null){var Qe=Ie.memoizedState;if(Qe!==null){var at=Qe.dehydrated;at!==null&&De(at)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}_c||m.flags&512&&F6(m)}catch(Ft){$i(m,m.return,Ft)}}if(m===d){nt=null;break}if(w=m.sibling,w!==null){w.return=m.return,nt=w;break}nt=m.return}}function sE(d){for(;nt!==null;){var m=nt;if(m===d){nt=null;break}var w=m.sibling;if(w!==null){w.return=m.return,nt=w;break}nt=m.return}}function oE(d){for(;nt!==null;){var m=nt;try{switch(m.tag){case 0:case 11:case 15:var w=m.return;try{Vp(4,m)}catch(Ie){$i(m,w,Ie)}break;case 1:var M=m.stateNode;if(typeof M.componentDidMount=="function"){var P=m.return;try{M.componentDidMount()}catch(Ie){$i(m,P,Ie)}}var I=m.return;try{F6(m)}catch(Ie){$i(m,I,Ie)}break;case 5:var q=m.return;try{F6(m)}catch(Ie){$i(m,q,Ie)}}}catch(Ie){$i(m,m.return,Ie)}if(m===d){nt=null;break}var ae=m.sibling;if(ae!==null){ae.return=m.return,nt=ae;break}nt=m.return}}var g3=0,v3=1,y3=2,x3=3,S3=4;if(typeof Symbol=="function"&&Symbol.for){var Wp=Symbol.for;g3=Wp("selector.component"),v3=Wp("selector.has_pseudo_class"),y3=Wp("selector.role"),x3=Wp("selector.test_id"),S3=Wp("selector.text")}function N6(d){var m=me(d);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(o(364));return m}if(d=Ce(d),d===null)throw Error(o(362));return d.stateNode.current}function z6(d,m){switch(m.$$typeof){case g3:if(d.type===m.value)return!0;break;case v3:e:{m=m.value,d=[d,0];for(var w=0;w<d.length;){var M=d[w++],P=d[w++],I=m[P];if(M.tag!==5||!O(M)){for(;I!=null&&z6(M,I);)P++,I=m[P];if(P===m.length){m=!0;break e}else for(M=M.child;M!==null;)d.push(M,P),M=M.sibling}}m=!1}return m;case y3:if(d.tag===5&&ne(d.stateNode,m.value))return!0;break;case S3:if((d.tag===5||d.tag===6)&&(d=N(d),d!==null&&0<=d.indexOf(m.value)))return!0;break;case x3:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function G6(d){switch(d.$$typeof){case g3:return"<"+(A(d.value)||"Unknown")+">";case v3:return":has("+(G6(d)||"")+")";case y3:return'[role="'+d.value+'"]';case S3:return'"'+d.value+'"';case x3:return'[data-testname="'+d.value+'"]';default:throw Error(o(365))}}function aE(d,m){var w=[];d=[d,0];for(var M=0;M<d.length;){var P=d[M++],I=d[M++],q=m[I];if(P.tag!==5||!O(P)){for(;q!=null&&z6(P,q);)I++,q=m[I];if(I===m.length)w.push(P);else for(P=P.child;P!==null;)d.push(P,I),P=P.sibling}}return w}function H6(d,m){if(!Ue)throw Error(o(363));d=N6(d),d=aE(d,m),m=[],d=Array.from(d);for(var w=0;w<d.length;){var M=d[w++];if(M.tag===5)O(M)||m.push(M.stateNode);else for(M=M.child;M!==null;)d.push(M),M=M.sibling}return m}var mN=Math.ceil,_3=a.ReactCurrentDispatcher,V6=a.ReactCurrentOwner,pr=a.ReactCurrentBatchConfig,Yt=0,_r=null,wr=null,ni=0,As=0,ih=wt(0),Lr=0,jp=null,sh=0,w3=0,W6=0,Xp=null,Qi=null,j6=0,X6=1/0;function oh(){X6=Vn()+500}var E3=!1,Y6=null,ql=null,b3=!1,$l=null,M3=0,Yp=0,K6=null,T3=-1,A3=0;function Ni(){return Yt&6?Vn():T3!==-1?T3:T3=Vn()}function eu(d){return d.mode&1?Yt&2&&ni!==0?ni&-ni:mc.transition!==null?(A3===0&&(d=Wa,Wa<<=1,!(Wa&4194240)&&(Wa=64),A3=d),A3):(d=Jt,d!==0?d:pe()):1}function no(d,m,w){if(50<Yp)throw Yp=0,K6=null,Error(o(185));var M=C3(d,m);return M===null?null:(da(M,m,w),(!(Yt&2)||M!==_r)&&(M===_r&&(!(Yt&2)&&(w3|=m),Lr===4&&tu(M,ni)),qi(M,w),m===1&&Yt===0&&!(d.mode&1)&&(oh(),ma&&Zi())),M)}function C3(d,m){d.lanes|=m;var w=d.alternate;for(w!==null&&(w.lanes|=m),w=d,d=d.return;d!==null;)d.childLanes|=m,w=d.alternate,w!==null&&(w.childLanes|=m),w=d,d=d.return;return w.tag===3?w.stateNode:null}function qi(d,m){var w=d.callbackNode;bp(d,m);var M=hc(d,d===_r?ni:0);if(M===0)w!==null&&Kf(w),d.callbackNode=null,d.callbackPriority=0;else if(m=M&-M,d.callbackPriority!==m){if(w!=null&&Kf(w),m===1)d.tag===0?Pp(uE.bind(null,d)):Rp(uE.bind(null,d)),ye?Be(function(){Yt===0&&Zi()}):Ka(dc,Zi),w=null;else{switch(Mp(M)){case 1:w=dc;break;case 4:w=j1;break;case 16:w=Bi;break;case 536870912:w=Ap;break;default:w=Bi}w=yE(w,lE.bind(null,d))}d.callbackPriority=m,d.callbackNode=w}}function lE(d,m){if(T3=-1,A3=0,Yt&6)throw Error(o(327));var w=d.callbackNode;if(Mc()&&d.callbackNode!==w)return null;var M=hc(d,d===_r?ni:0);if(M===0)return null;if(M&30||M&d.expiredLanes||m)m=R3(d,M);else{m=M;var P=Yt;Yt|=2;var I=hE();(_r!==d||ni!==m)&&(oh(),Ec(d,m));do try{yN();break}catch(ae){fE(d,ae)}while(1);Zf(),_3.current=I,Yt=P,wr!==null?m=0:(_r=null,ni=0,m=Lr)}if(m!==0){if(m===2&&(P=Ya(d),P!==0&&(M=P,m=J6(d,P))),m===1)throw w=jp,Ec(d,0),tu(d,M),qi(d,Vn()),w;if(m===6)tu(d,M);else{if(P=d.current.alternate,!(M&30)&&!gN(P)&&(m=R3(d,M),m===2&&(I=Ya(d),I!==0&&(M=I,m=J6(d,I))),m===1))throw w=jp,Ec(d,0),tu(d,M),qi(d,Vn()),w;switch(d.finishedWork=P,d.finishedLanes=M,m){case 0:case 1:throw Error(o(345));case 2:bc(d,Qi);break;case 3:if(tu(d,M),(M&130023424)===M&&(m=j6+500-Vn(),10<m)){if(hc(d,0)!==0)break;if(P=d.suspendedLanes,(P&M)!==M){Ni(),d.pingedLanes|=d.suspendedLanes&P;break}d.timeoutHandle=oe(bc.bind(null,d,Qi),m);break}bc(d,Qi);break;case 4:if(tu(d,M),(M&4194240)===M)break;for(m=d.eventTimes,P=-1;0<M;){var q=31-Ss(M);I=1<<q,q=m[q],q>P&&(P=q),M&=~I}if(M=P,M=Vn()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*mN(M/1960))-M,10<M){d.timeoutHandle=oe(bc.bind(null,d,Qi),M);break}bc(d,Qi);break;case 5:bc(d,Qi);break;default:throw Error(o(329))}}}return qi(d,Vn()),d.callbackNode===w?lE.bind(null,d):null}function J6(d,m){var w=Xp;return d.current.memoizedState.isDehydrated&&(Ec(d,m).flags|=256),d=R3(d,m),d!==2&&(m=Qi,Qi=w,m!==null&&Z6(m)),d}function Z6(d){Qi===null?Qi=d:Qi.push.apply(Qi,d)}function gN(d){for(var m=d;;){if(m.flags&16384){var w=m.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var M=0;M<w.length;M++){var P=w[M],I=P.getSnapshot;P=P.value;try{if(!ws(I(),P))return!1}catch{return!1}}}if(w=m.child,m.subtreeFlags&16384&&w!==null)w.return=m,m=w;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function tu(d,m){for(m&=~W6,m&=~w3,d.suspendedLanes|=m,d.pingedLanes&=~m,d=d.expirationTimes;0<m;){var w=31-Ss(m),M=1<<w;d[w]=-1,m&=~M}}function uE(d){if(Yt&6)throw Error(o(327));Mc();var m=hc(d,0);if(!(m&1))return qi(d,Vn()),null;var w=R3(d,m);if(d.tag!==0&&w===2){var M=Ya(d);M!==0&&(m=M,w=J6(d,M))}if(w===1)throw w=jp,Ec(d,0),tu(d,m),qi(d,Vn()),w;if(w===6)throw Error(o(345));return d.finishedWork=d.current.alternate,d.finishedLanes=m,bc(d,Qi),qi(d,Vn()),null}function cE(d){$l!==null&&$l.tag===0&&!(Yt&6)&&Mc();var m=Yt;Yt|=1;var w=pr.transition,M=Jt;try{if(pr.transition=null,Jt=1,d)return d()}finally{Jt=M,pr.transition=w,Yt=m,!(Yt&6)&&Zi()}}function Q6(){As=ih.current,tn(ih)}function Ec(d,m){d.finishedWork=null,d.finishedLanes=0;var w=d.timeoutHandle;if(w!==ke&&(d.timeoutHandle=ke,he(w)),wr!==null)for(w=wr.return;w!==null;){var M=w;switch(p6(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&Ii();break;case 3:nh(),tn(Nn),tn(nr),_6();break;case 5:x6(M);break;case 4:nh();break;case 13:tn(Wn);break;case 19:tn(Wn);break;case 10:Wr(M.type._context);break;case 22:case 23:Q6()}w=w.return}if(_r=d,wr=d=nu(d.current,null),ni=As=m,Lr=0,jp=null,W6=w3=sh=0,Qi=Xp=null,Es!==null){for(m=0;m<Es.length;m++)if(w=Es[m],M=w.interleaved,M!==null){w.interleaved=null;var P=M.next,I=w.pending;if(I!==null){var q=I.next;I.next=P,M.next=q}w.pending=M}Es=null}return d}function fE(d,m){do{var w=wr;try{if(Zf(),t3.current=a3,n3){for(var M=rr.memoizedState;M!==null;){var P=M.queue;P!==null&&(P.pending=null),M=M.next}n3=!1}if(rh=0,jr=fi=rr=null,Up=!1,Op=0,V6.current=null,w===null||w.return===null){Lr=1,jp=m,wr=null;break}e:{var I=d,q=w.return,ae=w,Ie=m;if(m=ni,ae.flags|=32768,Ie!==null&&typeof Ie=="object"&&typeof Ie.then=="function"){var Qe=Ie,at=ae,Ft=at.tag;if(!(at.mode&1)&&(Ft===0||Ft===11||Ft===15)){var xt=at.alternate;xt?(at.updateQueue=xt.updateQueue,at.memoizedState=xt.memoizedState,at.lanes=xt.lanes):(at.updateQueue=null,at.memoizedState=null)}var _n=Lw(q);if(_n!==null){_n.flags&=-257,Iw(_n,q,ae,I,m),_n.mode&1&&Dw(I,Qe,m),m=_n,Ie=Qe;var pt=m.updateQueue;if(pt===null){var pi=new Set;pi.add(Ie),m.updateQueue=pi}else pt.add(Ie);break e}else{if(!(m&1)){Dw(I,Qe,m),q6();break e}Ie=Error(o(426))}}else if(zn&&ae.mode&1){var io=Lw(q);if(io!==null){!(io.flags&65536)&&(io.flags|=256),Iw(io,q,ae,I,m),v6(Ie);break e}}I=Ie,Lr!==4&&(Lr=2),Xp===null?Xp=[I]:Xp.push(I),Ie=C6(Ie,ae),ae=q;do{switch(ae.tag){case 3:ae.flags|=65536,m&=-m,ae.lanes|=m;var Me=Rw(ae,Ie,m);Q_(ae,Me);break e;case 1:I=Ie;var ce=ae.type,Re=ae.stateNode;if(!(ae.flags&128)&&(typeof ce.getDerivedStateFromError=="function"||Re!==null&&typeof Re.componentDidCatch=="function"&&(ql===null||!ql.has(Re)))){ae.flags|=65536,m&=-m,ae.lanes|=m;var it=Pw(ae,I,m);Q_(ae,it);break e}}ae=ae.return}while(ae!==null)}pE(w)}catch(dt){m=dt,wr===w&&w!==null&&(wr=w=w.return);continue}break}while(1)}function hE(){var d=_3.current;return _3.current=a3,d===null?a3:d}function q6(){(Lr===0||Lr===3||Lr===2)&&(Lr=4),_r===null||!(sh&268435455)&&!(w3&268435455)||tu(_r,ni)}function R3(d,m){var w=Yt;Yt|=2;var M=hE();_r===d&&ni===m||Ec(d,m);do try{vN();break}catch(P){fE(d,P)}while(1);if(Zf(),Yt=w,_3.current=M,wr!==null)throw Error(o(261));return _r=null,ni=0,Lr}function vN(){for(;wr!==null;)dE(wr)}function yN(){for(;wr!==null&&!Tp();)dE(wr)}function dE(d){var m=vE(d.alternate,d,As);d.memoizedProps=d.pendingProps,m===null?pE(d):wr=m,V6.current=null}function pE(d){var m=d;do{var w=m.alternate;if(d=m.return,m.flags&32768){if(w=cN(w,m),w!==null){w.flags&=32767,wr=w;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Lr=6,wr=null;return}}else if(w=aN(w,m,As),w!==null){wr=w;return}if(m=m.sibling,m!==null){wr=m;return}wr=m=d}while(m!==null);Lr===0&&(Lr=5)}function bc(d,m){var w=Jt,M=pr.transition;try{pr.transition=null,Jt=1,xN(d,m,w)}finally{pr.transition=M,Jt=w}return null}function xN(d,m,w){do Mc();while($l!==null);if(Yt&6)throw Error(o(327));var M=d.finishedWork,P=d.finishedLanes;if(M===null)return null;if(d.finishedWork=null,d.finishedLanes=0,M===d.current)throw Error(o(177));d.callbackNode=null,d.callbackPriority=0;var I=M.lanes|M.childLanes;if(Kl(d,I),d===_r&&(wr=_r=null,ni=0),!(M.subtreeFlags&2064)&&!(M.flags&2064)||b3||(b3=!0,yE(Bi,function(){return Mc(),null})),I=(M.flags&15990)!==0,M.subtreeFlags&15990||I){I=pr.transition,pr.transition=null;var q=Jt;Jt=1;var ae=Yt;Yt|=4,V6.current=null,hN(d,M),dN(d,M),W(d.containerInfo),d.current=M,pN(M),W1(),Yt=ae,Jt=q,pr.transition=I}else d.current=M;if(b3&&(b3=!1,$l=d,M3=P),I=d.pendingLanes,I===0&&(ql=null),Cp(M.stateNode),qi(d,Vn()),m!==null)for(w=d.onRecoverableError,M=0;M<m.length;M++)w(m[M]);if(E3)throw E3=!1,d=Y6,Y6=null,d;return M3&1&&d.tag!==0&&Mc(),I=d.pendingLanes,I&1?d===K6?Yp++:(Yp=0,K6=d):Yp=0,Zi(),null}function Mc(){if($l!==null){var d=Mp(M3),m=pr.transition,w=Jt;try{if(pr.transition=null,Jt=16>d?16:d,$l===null)var M=!1;else{if(d=$l,$l=null,M3=0,Yt&6)throw Error(o(331));var P=Yt;for(Yt|=4,nt=d.current;nt!==null;){var I=nt,q=I.child;if(nt.flags&16){var ae=I.deletions;if(ae!==null){for(var Ie=0;Ie<ae.length;Ie++){var Qe=ae[Ie];for(nt=Qe;nt!==null;){var at=nt;switch(at.tag){case 0:case 11:case 15:wc(8,at,I)}var Ft=at.child;if(Ft!==null)Ft.return=at,nt=Ft;else for(;nt!==null;){at=nt;var xt=at.sibling,_n=at.return;if(qw(at),at===Qe){nt=null;break}if(xt!==null){xt.return=_n,nt=xt;break}nt=_n}}}var pt=I.alternate;if(pt!==null){var pi=pt.child;if(pi!==null){pt.child=null;do{var io=pi.sibling;pi.sibling=null,pi=io}while(pi!==null)}}nt=I}}if(I.subtreeFlags&2064&&q!==null)q.return=I,nt=q;else e:for(;nt!==null;){if(I=nt,I.flags&2048)switch(I.tag){case 0:case 11:case 15:wc(9,I,I.return)}var Me=I.sibling;if(Me!==null){Me.return=I.return,nt=Me;break e}nt=I.return}}var ce=d.current;for(nt=ce;nt!==null;){q=nt;var Re=q.child;if(q.subtreeFlags&2064&&Re!==null)Re.return=q,nt=Re;else e:for(q=ce;nt!==null;){if(ae=nt,ae.flags&2048)try{switch(ae.tag){case 0:case 11:case 15:Vp(9,ae)}}catch(dt){$i(ae,ae.return,dt)}if(ae===q){nt=null;break e}var it=ae.sibling;if(it!==null){it.return=ae.return,nt=it;break e}nt=ae.return}}if(Yt=P,Zi(),_s&&typeof _s.onPostCommitFiberRoot=="function")try{_s.onPostCommitFiberRoot(pc,d)}catch{}M=!0}return M}finally{Jt=w,pr.transition=m}}return!1}function mE(d,m,w){m=C6(w,m),m=Rw(d,m,1),Ql(d,m),m=Ni(),d=C3(d,1),d!==null&&(da(d,1,m),qi(d,m))}function $i(d,m,w){if(d.tag===3)mE(d,d,w);else for(;m!==null;){if(m.tag===3){mE(m,d,w);break}else if(m.tag===1){var M=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(ql===null||!ql.has(M))){d=C6(w,d),d=Pw(m,d,1),Ql(m,d),d=Ni(),m=C3(m,1),m!==null&&(da(m,1,d),qi(m,d));break}}m=m.return}}function SN(d,m,w){var M=d.pingCache;M!==null&&M.delete(m),m=Ni(),d.pingedLanes|=d.suspendedLanes&w,_r===d&&(ni&w)===w&&(Lr===4||Lr===3&&(ni&130023424)===ni&&500>Vn()-j6?Ec(d,0):W6|=w),qi(d,m)}function gE(d,m){m===0&&(d.mode&1?(m=ja,ja<<=1,!(ja&130023424)&&(ja=4194304)):m=1);var w=Ni();d=C3(d,m),d!==null&&(da(d,m,w),qi(d,w))}function _N(d){var m=d.memoizedState,w=0;m!==null&&(w=m.retryLane),gE(d,w)}function wN(d,m){var w=0;switch(d.tag){case 13:var M=d.stateNode,P=d.memoizedState;P!==null&&(w=P.retryLane);break;case 19:M=d.stateNode;break;default:throw Error(o(314))}M!==null&&M.delete(m),gE(d,w)}var vE;vE=function(d,m,w){if(d!==null)if(d.memoizedProps!==m.pendingProps||Nn.current)Ts=!0;else{if(!(d.lanes&w)&&!(m.flags&128))return Ts=!1,uN(d,m,w);Ts=!!(d.flags&131072)}else Ts=!1,zn&&m.flags&1048576&&rw(m,q1,m.index);switch(m.lanes=0,m.tag){case 2:var M=m.type;d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2),d=m.pendingProps;var P=yn(m,nr.current);hr(m,w),P=E6(null,m,M,d,P,w);var I=b6();return m.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Tn(M)?(I=!0,ha(m)):I=!1,m.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,c6(m),P.updater=Z1,m.stateNode=P,P._reactInternals=m,h6(m,M,d,w),m=D6(null,m,M,!0,I,w)):(m.tag=0,zn&&I&&d6(m),ki(null,m,P,w),m=m.child),m;case 16:M=m.elementType;e:{switch(d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2),d=m.pendingProps,P=M._init,M=P(M._payload),m.type=M,P=m.tag=bN(M),d=Ui(M,d),P){case 0:m=P6(null,m,M,d,w);break e;case 1:m=Gw(null,m,M,d,w);break e;case 11:m=Uw(null,m,M,d,w);break e;case 14:m=Ow(null,m,M,Ui(M.type,d),w);break e}throw Error(o(306,M,""))}return m;case 0:return M=m.type,P=m.pendingProps,P=m.elementType===M?P:Ui(M,P),P6(d,m,M,P,w);case 1:return M=m.type,P=m.pendingProps,P=m.elementType===M?P:Ui(M,P),Gw(d,m,M,P,w);case 3:e:{if(Hw(m),d===null)throw Error(o(387));M=m.pendingProps,I=m.memoizedState,P=I.element,Z_(d,m),J1(m,M,null,w);var q=m.memoizedState;if(M=q.element,Se&&I.isDehydrated)if(I={element:M,isDehydrated:!1,cache:q.cache,transitions:q.transitions},m.updateQueue.baseState=I,m.memoizedState=I,m.flags&256){P=Error(o(423)),m=Vw(d,m,M,w,P);break e}else if(M!==P){P=Error(o(424)),m=Vw(d,m,M,w,P);break e}else for(Se&&(Ms=Pr(m.stateNode.containerInfo),bs=m,zn=!0,Uo=null,Dp=!1),w=uw(m,null,M,w),m.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if($f(),M===P){m=$a(d,m,w);break e}ki(d,m,M,w)}m=m.child}return m;case 5:return cw(m),d===null&&g6(m),M=m.type,P=m.pendingProps,I=d!==null?d.memoizedProps:null,q=P.children,re(M,P)?q=null:I!==null&&re(M,I)&&(m.flags|=32),zw(d,m),ki(d,m,q,w),m.child;case 6:return d===null&&g6(m),null;case 13:return Ww(d,m,w);case 4:return y6(m,m.stateNode.containerInfo),M=m.pendingProps,d===null?m.child=eh(m,null,M,w):ki(d,m,M,w),m.child;case 11:return M=m.type,P=m.pendingProps,P=m.elementType===M?P:Ui(M,P),Uw(d,m,M,P,w);case 7:return ki(d,m,m.pendingProps,w),m.child;case 8:return ki(d,m,m.pendingProps.children,w),m.child;case 12:return ki(d,m,m.pendingProps.children,w),m.child;case 10:e:{if(M=m.type._context,P=m.pendingProps,I=m.memoizedProps,q=P.value,Y1(m,M,q),I!==null)if(ws(I.value,q)){if(I.children===P.children&&!Nn.current){m=$a(d,m,w);break e}}else for(I=m.child,I!==null&&(I.return=m);I!==null;){var ae=I.dependencies;if(ae!==null){q=I.child;for(var Ie=ae.firstContext;Ie!==null;){if(Ie.context===M){if(I.tag===1){Ie=Ja(-1,w&-w),Ie.tag=2;var Qe=I.updateQueue;if(Qe!==null){Qe=Qe.shared;var at=Qe.pending;at===null?Ie.next=Ie:(Ie.next=at.next,at.next=Ie),Qe.pending=Ie}}I.lanes|=w,Ie=I.alternate,Ie!==null&&(Ie.lanes|=w),Oi(I.return,w,m),ae.lanes|=w;break}Ie=Ie.next}}else if(I.tag===10)q=I.type===m.type?null:I.child;else if(I.tag===18){if(q=I.return,q===null)throw Error(o(341));q.lanes|=w,ae=q.alternate,ae!==null&&(ae.lanes|=w),Oi(q,w,m),q=I.sibling}else q=I.child;if(q!==null)q.return=I;else for(q=I;q!==null;){if(q===m){q=null;break}if(I=q.sibling,I!==null){I.return=q.return,q=I;break}q=q.return}I=q}ki(d,m,P.children,w),m=m.child}return m;case 9:return P=m.type,M=m.pendingProps.children,hr(m,w),P=dr(P),M=M(P),m.flags|=1,ki(d,m,M,w),m.child;case 14:return M=m.type,P=Ui(M,m.pendingProps),P=Ui(M.type,P),Ow(d,m,M,P,w);case 15:return kw(d,m,m.type,m.pendingProps,w);case 17:return M=m.type,P=m.pendingProps,P=m.elementType===M?P:Ui(M,P),d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2),m.tag=1,Tn(M)?(d=!0,ha(m)):d=!1,hr(m,w),tw(m,M,P),h6(m,M,P,w),D6(null,m,M,!0,d,w);case 19:return Kw(d,m,w);case 22:return Nw(d,m,w)}throw Error(o(156,m.tag))};function yE(d,m){return Ka(d,m)}function EN(d,m,w,M){this.tag=d,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ro(d,m,w,M){return new EN(d,m,w,M)}function $6(d){return d=d.prototype,!(!d||!d.isReactComponent)}function bN(d){if(typeof d=="function")return $6(d)?1:0;if(d!=null){if(d=d.$$typeof,d===x)return 11;if(d===S)return 14}return 2}function nu(d,m){var w=d.alternate;return w===null?(w=ro(d.tag,m,d.key,d.mode),w.elementType=d.elementType,w.type=d.type,w.stateNode=d.stateNode,w.alternate=d,d.alternate=w):(w.pendingProps=m,w.type=d.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=d.flags&14680064,w.childLanes=d.childLanes,w.lanes=d.lanes,w.child=d.child,w.memoizedProps=d.memoizedProps,w.memoizedState=d.memoizedState,w.updateQueue=d.updateQueue,m=d.dependencies,w.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},w.sibling=d.sibling,w.index=d.index,w.ref=d.ref,w}function P3(d,m,w,M,P,I){var q=2;if(M=d,typeof d=="function")$6(d)&&(q=1);else if(typeof d=="string")q=5;else e:switch(d){case c:return Tc(w.children,P,I,m);case f:q=8,P|=8;break;case h:return d=ro(12,w,m,P|2),d.elementType=h,d.lanes=I,d;case y:return d=ro(13,w,m,P),d.elementType=y,d.lanes=I,d;case v:return d=ro(19,w,m,P),d.elementType=v,d.lanes=I,d;case E:return D3(w,P,I,m);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case p:q=10;break e;case g:q=9;break e;case x:q=11;break e;case S:q=14;break e;case _:q=16,M=null;break e}throw Error(o(130,d==null?d:typeof d,""))}return m=ro(q,w,m,P),m.elementType=d,m.type=M,m.lanes=I,m}function Tc(d,m,w,M){return d=ro(7,d,M,m),d.lanes=w,d}function D3(d,m,w,M){return d=ro(22,d,M,m),d.elementType=E,d.lanes=w,d.stateNode={},d}function ey(d,m,w){return d=ro(6,d,null,m),d.lanes=w,d}function ty(d,m,w){return m=ro(4,d.children!==null?d.children:[],d.key,m),m.lanes=w,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}function MN(d,m,w,M,P){this.tag=m,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ke,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yf(0),this.expirationTimes=Yf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yf(0),this.identifierPrefix=M,this.onRecoverableError=P,Se&&(this.mutableSourceEagerHydrationData=null)}function xE(d,m,w,M,P,I,q,ae,Ie){return d=new MN(d,m,w,ae,Ie),m===1?(m=1,I===!0&&(m|=8)):m=0,I=ro(3,null,null,m),d.current=I,I.stateNode=d,I.memoizedState={element:M,isDehydrated:w,cache:null,transitions:null},c6(I),d}function SE(d){if(!d)return fr;d=d._reactInternals;e:{if(C(d)!==d||d.tag!==1)throw Error(o(170));var m=d;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Tn(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(o(171))}if(d.tag===1){var w=d.type;if(Tn(w))return fa(d,w,m)}return m}function _E(d){var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=z(m),d===null?null:d.stateNode}function wE(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var w=d.retryLane;d.retryLane=w!==0&&w<m?w:m}}function ny(d,m){wE(d,m),(d=d.alternate)&&wE(d,m)}function TN(d){return d=z(d),d===null?null:d.stateNode}function AN(){return null}return n.attemptContinuousHydration=function(d){if(d.tag===13){var m=Ni();no(d,134217728,m),ny(d,134217728)}},n.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var m=Ni(),w=eu(d);no(d,w,m),ny(d,w)}},n.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var m=d.stateNode;if(m.current.memoizedState.isDehydrated){var w=Xa(m.pendingLanes);w!==0&&(pa(m,w|1),qi(m,Vn()),!(Yt&6)&&(oh(),Zi()))}break;case 13:var M=Ni();cE(function(){return no(d,1,M)}),ny(d,1)}},n.batchedUpdates=function(d,m){var w=Yt;Yt|=1;try{return d(m)}finally{Yt=w,Yt===0&&(oh(),ma&&Zi())}},n.createComponentSelector=function(d){return{$$typeof:g3,value:d}},n.createContainer=function(d,m,w,M,P,I,q){return xE(d,m,!1,null,w,M,P,I,q)},n.createHasPseudoClassSelector=function(d){return{$$typeof:v3,value:d}},n.createHydrationContainer=function(d,m,w,M,P,I,q,ae,Ie){return d=xE(w,M,!0,d,P,I,q,ae,Ie),d.context=SE(null),w=d.current,M=Ni(),P=eu(w),I=Ja(M,P),I.callback=m??null,Ql(w,I),d.current.lanes=P,da(d,P,M),qi(d,M),d},n.createPortal=function(d,m,w){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:M==null?null:""+M,children:d,containerInfo:m,implementation:w}},n.createRoleSelector=function(d){return{$$typeof:y3,value:d}},n.createTestNameSelector=function(d){return{$$typeof:x3,value:d}},n.createTextSelector=function(d){return{$$typeof:S3,value:d}},n.deferredUpdates=function(d){var m=Jt,w=pr.transition;try{return pr.transition=null,Jt=16,d()}finally{Jt=m,pr.transition=w}},n.discreteUpdates=function(d,m,w,M,P){var I=Jt,q=pr.transition;try{return pr.transition=null,Jt=1,d(m,w,M,P)}finally{Jt=I,pr.transition=q,Yt===0&&oh()}},n.findAllNodes=H6,n.findBoundingRects=function(d,m){if(!Ue)throw Error(o(363));m=H6(d,m),d=[];for(var w=0;w<m.length;w++)d.push($e(m[w]));for(m=d.length-1;0<m;m--){w=d[m];for(var M=w.x,P=M+w.width,I=w.y,q=I+w.height,ae=m-1;0<=ae;ae--)if(m!==ae){var Ie=d[ae],Qe=Ie.x,at=Qe+Ie.width,Ft=Ie.y,xt=Ft+Ie.height;if(M>=Qe&&I>=Ft&&P<=at&&q<=xt){d.splice(m,1);break}else if(M!==Qe||w.width!==Ie.width||xt<I||Ft>q){if(!(I!==Ft||w.height!==Ie.height||at<M||Qe>P)){Qe>M&&(Ie.width+=Qe-M,Ie.x=M),at<P&&(Ie.width=P-Qe),d.splice(m,1);break}}else{Ft>I&&(Ie.height+=Ft-I,Ie.y=I),xt<q&&(Ie.height=q-Ft),d.splice(m,1);break}}}return d},n.findHostInstance=_E,n.findHostInstanceWithNoPortals=function(d){return d=k(d),d=d!==null?V(d):null,d===null?null:d.stateNode},n.findHostInstanceWithWarning=function(d){return _E(d)},n.flushControlled=function(d){var m=Yt;Yt|=1;var w=pr.transition,M=Jt;try{pr.transition=null,Jt=1,d()}finally{Jt=M,pr.transition=w,Yt=m,Yt===0&&(oh(),Zi())}},n.flushPassiveEffects=Mc,n.flushSync=cE,n.focusWithin=function(d,m){if(!Ue)throw Error(o(363));for(d=N6(d),m=aE(d,m),m=Array.from(m),d=0;d<m.length;){var w=m[d++];if(!O(w)){if(w.tag===5&&Ae(w.stateNode))return!0;for(w=w.child;w!==null;)m.push(w),w=w.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Jt},n.getFindAllNodesFailureDescription=function(d,m){if(!Ue)throw Error(o(363));var w=0,M=[];d=[N6(d),0];for(var P=0;P<d.length;){var I=d[P++],q=d[P++],ae=m[q];if((I.tag!==5||!O(I))&&(z6(I,ae)&&(M.push(G6(ae)),q++,q>w&&(w=q)),q<m.length))for(I=I.child;I!==null;)d.push(I,q),I=I.sibling}if(w<m.length){for(d=[];w<m.length;w++)d.push(G6(m[w]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},n.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return J(d.child.stateNode);default:return d.child.stateNode}},n.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:TN,findFiberByHostInstance:d.findFiberByHostInstance||AN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)d=!0;else{try{pc=m.inject(d),_s=m}catch{}d=!!m.checkDCE}}return d},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(d,m,w,M){if(!Ue)throw Error(o(363));d=H6(d,m);var P=be(d,w,M).disconnect;return{disconnect:function(){P()}}},n.registerMutableSourceForHydration=function(d,m){var w=m._getVersion;w=w(m._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[m,w]:d.mutableSourceEagerHydrationData.push(m,w)},n.runWithPriority=function(d,m){var w=Jt;try{return Jt=d,m()}finally{Jt=w}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(d,m,w,M){var P=m.current,I=Ni(),q=eu(P);return w=SE(w),m.context===null?m.context=w:m.pendingContext=w,m=Ja(I,q),m.payload={element:d},M=M===void 0?null:M,M!==null&&(m.callback=M),Ql(P,m),d=no(P,q,I),d!==null&&K1(d,P,q),q},n};yB.exports=fZ;var hZ=yB.exports;const dZ=tc(hZ);var xB={exports:{}},SB={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,G){var W=U.length;U.push(G);e:for(;0<W;){var F=W-1>>>1,j=U[F];if(0<i(j,G))U[F]=G,U[W]=j,W=F;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var G=U[0],W=U.pop();if(W!==G){U[0]=W;e:for(var F=0,j=U.length,ie=j>>>1;F<ie;){var se=2*(F+1)-1,re=U[se],fe=se+1,oe=U[fe];if(0>i(re,W))fe<j&&0>i(oe,re)?(U[F]=oe,U[fe]=W,F=fe):(U[F]=re,U[se]=W,F=se);else if(fe<j&&0>i(oe,W))U[F]=oe,U[fe]=W,F=fe;else break e}}return G}function i(U,G){var W=U.sortIndex-G.sortIndex;return W!==0?W:U.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,h=3,p=!1,g=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(U){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=U)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function E(U){if(x=!1,_(U),!g)if(n(l)!==null)g=!0,J(b);else{var G=n(u);G!==null&&$(E,G.startTime-U)}}function b(U,G){g=!1,x&&(x=!1,v(D),D=-1),p=!0;var W=h;try{for(_(G),f=n(l);f!==null&&(!(f.expirationTime>G)||U&&!k());){var F=f.callback;if(typeof F=="function"){f.callback=null,h=f.priorityLevel;var j=F(f.expirationTime<=G);G=t.unstable_now(),typeof j=="function"?f.callback=j:f===n(l)&&r(l),_(G)}else r(l);f=n(l)}if(f!==null)var ie=!0;else{var se=n(u);se!==null&&$(E,se.startTime-G),ie=!1}return ie}finally{f=null,h=W,p=!1}}var T=!1,A=null,D=-1,C=5,L=-1;function k(){return!(t.unstable_now()-L<C)}function z(){if(A!==null){var U=t.unstable_now();L=U;var G=!0;try{G=A(!0,U)}finally{G?H():(T=!1,A=null)}}else T=!1}var H;if(typeof S=="function")H=function(){S(z)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,K=V.port2;V.port1.onmessage=z,H=function(){K.postMessage(null)}}else H=function(){y(z,0)};function J(U){A=U,T||(T=!0,H())}function $(U,G){D=y(function(){U(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,J(b))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var W=h;h=G;try{return U()}finally{h=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var W=h;h=U;try{return G()}finally{h=W}},t.unstable_scheduleCallback=function(U,G,W){var F=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?F+W:F):W=F,U){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=W+j,U={id:c++,callback:G,priorityLevel:U,startTime:W,expirationTime:j,sortIndex:-1},W>F?(U.sortIndex=W,e(u,U),n(l)===null&&U===n(u)&&(x?(v(D),D=-1):x=!0,$(E,W-F))):(U.sortIndex=j,e(l,U),g||p||(g=!0,J(b))),U},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(U){var G=h;return function(){var W=h;h=G;try{return U.apply(this,arguments)}finally{h=W}}}})(SB);xB.exports=SB;var lT=xB.exports;const pZ=t=>typeof t=="object"&&typeof t.then=="function",af=[];function _B(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function wB(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of af)if(_B(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=af.indexOf(i);s!==-1&&af.splice(s,1)},promise:(pZ(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(af.push(i),!n)throw i.promise}const EB=(t,e,n)=>wB(t,e,!1,n),mZ=(t,e,n)=>void wB(t,e,!0,n),gZ=t=>{if(t===void 0||t.length===0)af.splice(0,af.length);else{const e=af.find(n=>_B(t,n.keys,n.equal));e&&e.remove()}},HS={},VS=t=>void Object.assign(HS,t);function vZ(t,e){function n(c,{args:f=[],attach:h,...p},g){let x=`${c[0].toUpperCase()}${c.slice(1)}`,y;if(c==="primitive"){if(p.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const v=p.object;y=zh(v,{type:c,root:g,attach:h,primitive:!0})}else{const v=HS[x];if(!v)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");y=zh(new v(...f),{type:c,root:g,attach:h,memoizedProps:{args:f}})}return y.__r3f.attach===void 0&&(y instanceof Lt?y.__r3f.attach="geometry":y instanceof ur&&(y.__r3f.attach="material")),x!=="inject"&&d4(y,p),y}function r(c,f){let h=!1;if(f){var p,g;(p=f.__r3f)!=null&&p.attach?h4(c,f,f.__r3f.attach):f.isObject3D&&c.isObject3D&&(c.add(f),h=!0),h||(g=c.__r3f)==null||g.objects.push(f),f.__r3f||zh(f,{}),f.__r3f.parent=c,Vx(f),Gh(f)}}function i(c,f,h){let p=!1;if(f){var g,x;if((g=f.__r3f)!=null&&g.attach)h4(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){f.parent=c,f.dispatchEvent({type:"added"});const y=c.children.filter(S=>S!==f),v=y.indexOf(h);c.children=[...y.slice(0,v),f,...y.slice(v)],p=!0}p||(x=c.__r3f)==null||x.objects.push(f),f.__r3f||zh(f,{}),f.__r3f.parent=c,Vx(f),Gh(f)}}function s(c,f,h=!1){c&&[...c].forEach(p=>o(f,p,h))}function o(c,f,h){if(f){var p,g,x;if(f.__r3f&&(f.__r3f.parent=null),(p=c.__r3f)!=null&&p.objects&&(c.__r3f.objects=c.__r3f.objects.filter(E=>E!==f)),(g=f.__r3f)!=null&&g.attach)dT(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){var y;c.remove(f),(y=f.__r3f)!=null&&y.root&&bZ(f.__r3f.root,f)}const S=(x=f.__r3f)==null?void 0:x.primitive,_=h===void 0?f.dispose!==null&&!S:h;if(!S){var v;s((v=f.__r3f)==null?void 0:v.objects,f,_),s(f.children,f,_)}delete f.__r3f,_&&f.dispose&&f.type!=="Scene"&&lT.unstable_scheduleCallback(lT.unstable_IdlePriority,()=>{try{f.dispose()}catch{}}),Gh(c)}}function a(c,f,h,p){var g;const x=(g=c.__r3f)==null?void 0:g.parent;if(!x)return;const y=n(f,h,c.__r3f.root);if(c.children){for(const v of c.children)v.__r3f&&r(y,v);c.children=c.children.filter(v=>!v.__r3f)}c.__r3f.objects.forEach(v=>r(y,v)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||o(x,c),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(x,y),y.raycast&&y.__r3f.eventCount&&y.__r3f.root.getState().internal.interaction.push(y),[p,p.alternate].forEach(v=>{v!==null&&(v.stateNode=y,v.ref&&(typeof v.ref=="function"?v.ref(y):v.ref.current=y))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:dZ({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,f)=>{if(!f)return;const h=c.getState().scene;h.__r3f&&(h.__r3f.root=c,r(h,f))},removeChildFromContainer:(c,f)=>{f&&o(c.getState().scene,f)},insertInContainerBefore:(c,f,h)=>{if(!f||!h)return;const p=c.getState().scene;p.__r3f&&i(p,f,h)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var f;return!!((f=c==null?void 0:c.__r3f)!=null?f:{}).handlers},prepareUpdate(c,f,h,p){var g;if(((g=c==null?void 0:c.__r3f)!=null?g:{}).primitive&&p.object&&p.object!==c)return[!0];{const{args:y=[],children:v,...S}=p,{args:_=[],children:E,...b}=h;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((A,D)=>A!==_[D]))return[!0];const T=PB(c,S,b,!0);return T.changes.length?[!1,T]:null}},commitUpdate(c,[f,h],p,g,x,y){f?a(c,p,x,y):d4(c,h)},commitMount(c,f,h,p){var g;const x=(g=c.__r3f)!=null?g:{};c.raycast&&x.handlers&&x.eventCount&&c.__r3f.root.getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>zh(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var f;const{attach:h,parent:p}=(f=c.__r3f)!=null?f:{};h&&p&&dT(p,c,h),c.isObject3D&&(c.visible=!1),Gh(c)},unhideInstance(c,f){var h;const{attach:p,parent:g}=(h=c.__r3f)!=null?h:{};p&&g&&h4(g,c,p),(c.isObject3D&&f.visible==null||f.visible)&&(c.visible=!0),Gh(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():id.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&In.fun(performance.now)?performance.now:In.fun(Date.now)?Date.now:()=>0,scheduleTimeout:In.fun(setTimeout)?setTimeout:void 0,cancelTimeout:In.fun(clearTimeout)?clearTimeout:void 0}),applyProps:d4}}var uT,cT;const f4=t=>"colorSpace"in t||"outputColorSpace"in t,bB=()=>{var t;return(t=HS.ColorManagement)!=null?t:null},MB=t=>t&&t.isOrthographicCamera,yZ=t=>t&&t.hasOwnProperty("current"),cp=typeof window<"u"&&((uT=window.document)!=null&&uT.createElement||((cT=window.navigator)==null?void 0:cT.product)==="ReactNative")?R.useLayoutEffect:R.useEffect;function TB(t){const e=R.useRef(t);return cp(()=>void(e.current=t),[t]),e}function xZ({set:t}){return cp(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class AB extends R.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}AB.getDerivedStateFromError=()=>({error:!0});const CB="__default",fT=new Map,SZ=t=>t&&!!t.memoized&&!!t.changes;function RB(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const h0=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},In={obj:t=>t===Object(t)&&!In.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(In.str(t)||In.num(t))return t===e;const s=In.obj(t);if(s&&r==="reference")return t===e;const o=In.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!In.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(In.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function _Z(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function wZ(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function zh(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function Hx(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const hT=/-\d+$/;function h4(t,e,n){if(In.str(n)){if(hT.test(n)){const s=n.replace(hT,""),{target:o,key:a}=Hx(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=Hx(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function dT(t,e,n){var r,i;if(In.str(n)){const{target:s,key:o}=Hx(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function PB(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){var c;const f=(c=t==null?void 0:t.__r3f)!=null?c:{},h=Object.entries(i),p=[];if(u){const x=Object.keys(l);for(let y=0;y<x.length;y++)i.hasOwnProperty(x[y])||h.unshift([x[y],CB+"remove"])}h.forEach(([x,y])=>{var v;if((v=t.__r3f)!=null&&v.primitive&&x==="object"||In.equ(y,l[x]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(x))return p.push([x,y,!0,[]]);let S=[];x.includes("-")&&(S=x.split("-")),p.push([x,y,!1,S]);for(const _ in i){const E=i[_];_.startsWith(`${x}-`)&&p.push([_,E,!1,_.split("-")])}});const g={...i};return f.memoizedProps&&f.memoizedProps.args&&(g.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(g.attach=f.memoizedProps.attach),{memoized:g,changes:p}}function d4(t,e){var n,r,i;const s=(n=t.__r3f)!=null?n:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:u}=SZ(e)?e:PB(t,e),c=s.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let h=0;h<u.length;h++){let[p,g,x,y]=u[h];if(f4(t)){const E="srgb",b="srgb-linear";p==="encoding"?(p="colorSpace",g=g===3001?E:b):p==="outputEncoding"&&(p="outputColorSpace",g=g===3001?E:b)}let v=t,S=v[p];if(y.length&&(S=y.reduce((_,E)=>_[E],t),!(S&&S.set))){const[_,...E]=y.reverse();v=E.reverse().reduce((b,T)=>b[T],t),p=_}if(g===CB+"remove")if(v.constructor){let _=fT.get(v.constructor);_||(_=new v.constructor,fT.set(v.constructor,_)),g=_[p]}else g=0;if(x)g?s.handlers[p]=g:delete s.handlers[p],s.eventCount=Object.keys(s.handlers).length;else if(S&&S.set&&(S.copy||S instanceof pf)){if(Array.isArray(g))S.fromArray?S.fromArray(g):S.set(...g);else if(S.copy&&g&&g.constructor&&S.constructor===g.constructor)S.copy(g);else if(g!==void 0){const _=S instanceof Xe;!_&&S.setScalar?S.setScalar(g):S instanceof pf&&g instanceof pf?S.mask=g.mask:S.set(g),!bB()&&!a.linear&&_&&S.convertSRGBToLinear()}}else if(v[p]=g,v[p]instanceof gn&&v[p].format===Bn&&v[p].type===bn){const _=v[p];f4(_)&&f4(a.gl)?_.colorSpace=a.gl.outputColorSpace:_.encoding=a.gl.outputEncoding}Gh(t)}if(s.parent&&a.internal&&t.raycast&&c!==s.eventCount){const h=a.internal.interaction.indexOf(t);h>-1&&a.internal.interaction.splice(h,1),s.eventCount&&a.internal.interaction.push(t)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(i=t.__r3f)!=null&&i.parent&&Vx(t),t}function Gh(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function Vx(t){t.onUpdate==null||t.onUpdate(t)}function DB(t,e){t.manual||(MB(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function U2(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function EZ(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return id.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return id.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return id.ContinuousEventPriority;default:return id.DefaultEventPriority}}function LB(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function bZ(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{LB(n.capturedMap,e,r,i)})}function MZ(t){function e(l){const{internal:u}=t.getState(),c=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function r(l,u){const c=t.getState(),f=new Set,h=[],p=u?u(c.internal.interaction):c.internal.interaction;for(let v=0;v<p.length;v++){const S=h0(p[v]);S&&(S.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function g(v){const S=h0(v);if(!S||!S.events.enabled||S.raycaster.camera===null)return[];if(S.raycaster.camera===void 0){var _;S.events.compute==null||S.events.compute(l,S,(_=S.previousRoot)==null?void 0:_.getState()),S.raycaster.camera===void 0&&(S.raycaster.camera=null)}return S.raycaster.camera?S.raycaster.intersectObject(v,!0):[]}let x=p.flatMap(g).sort((v,S)=>{const _=h0(v.object),E=h0(S.object);return!_||!E?v.distance-S.distance:E.events.priority-_.events.priority||v.distance-S.distance}).filter(v=>{const S=U2(v);return f.has(S)?!1:(f.add(S),!0)});c.events.filter&&(x=c.events.filter(x,c));for(const v of x){let S=v.object;for(;S;){var y;(y=S.__r3f)!=null&&y.eventCount&&h.push({...v,eventObject:S}),S=S.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let v of c.internal.capturedMap.get(l.pointerId).values())f.has(U2(v.intersection))||h.push(v.intersection);return h}function i(l,u,c,f){const h=t.getState();if(l.length){const p={stopped:!1};for(const g of l){const x=h0(g.object)||h,{raycaster:y,pointer:v,camera:S,internal:_}=x,E=new X(v.x,v.y,0).unproject(S),b=L=>{var k,z;return(k=(z=_.capturedMap.get(L))==null?void 0:z.has(g.eventObject))!=null?k:!1},T=L=>{const k={intersection:g,target:u.target};_.capturedMap.has(L)?_.capturedMap.get(L).set(g.eventObject,k):_.capturedMap.set(L,new Map([[g.eventObject,k]])),u.target.setPointerCapture(L)},A=L=>{const k=_.capturedMap.get(L);k&&LB(_.capturedMap,g.eventObject,k,L)};let D={};for(let L in u){let k=u[L];typeof k!="function"&&(D[L]=k)}let C={...g,...D,pointer:v,intersections:l,stopped:p.stopped,delta:c,unprojectedPoint:E,ray:y.ray,camera:S,stopPropagation(){const L="pointerId"in u&&_.capturedMap.get(u.pointerId);if((!L||L.has(g.eventObject))&&(C.stopped=p.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(k=>k.eventObject===g.eventObject))){const k=l.slice(0,l.indexOf(g));s([...k,g])}},target:{hasPointerCapture:b,setPointerCapture:T,releasePointerCapture:A},currentTarget:{hasPointerCapture:b,setPointerCapture:T,releasePointerCapture:A},nativeEvent:u};if(f(C),p.stopped===!0)break}}return l}function s(l){const{internal:u}=t.getState();for(const c of u.hovered.values())if(!l.length||!l.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const h=c.eventObject.__r3f,p=h==null?void 0:h.handlers;if(u.hovered.delete(U2(c)),h!=null&&h.eventCount){const g={...c,intersections:l};p.onPointerOut==null||p.onPointerOut(g),p.onPointerLeave==null||p.onPointerLeave(g)}}}function o(l,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:c}=t.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),s([]))})}}return function(c){const{onPointerMissed:f,internal:h}=t.getState();h.lastEvent.current=c;const p=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(c,p?n:void 0),v=g?e(c):0;l==="onPointerDown"&&(h.initialClick=[c.offsetX,c.offsetY],h.initialHits=y.map(_=>_.eventObject)),g&&!y.length&&v<=2&&(o(c,h.interaction),f&&f(c)),p&&s(y);function S(_){const E=_.eventObject,b=E.__r3f,T=b==null?void 0:b.handlers;if(b!=null&&b.eventCount)if(p){if(T.onPointerOver||T.onPointerEnter||T.onPointerOut||T.onPointerLeave){const A=U2(_),D=h.hovered.get(A);D?D.stopped&&_.stopPropagation():(h.hovered.set(A,_),T.onPointerOver==null||T.onPointerOver(_),T.onPointerEnter==null||T.onPointerEnter(_))}T.onPointerMove==null||T.onPointerMove(_)}else{const A=T[l];A?(!g||h.initialHits.includes(E))&&(o(c,h.interaction.filter(D=>!h.initialHits.includes(D))),A(_)):g&&h.initialHits.includes(E)&&o(c,h.interaction.filter(D=>!h.initialHits.includes(D)))}}i(y,c,v,S)}}return{handlePointer:a}}const TZ=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],IB=t=>!!(t!=null&&t.render),WS=R.createContext(null),AZ=(t,e)=>{const n=K5((a,l)=>{const u=new X,c=new X,f=new X;function h(v=l().camera,S=c,_=l().size){const{width:E,height:b,top:T,left:A}=_,D=E/b;S instanceof X?f.copy(S):f.set(...S);const C=v.getWorldPosition(u).distanceTo(f);if(MB(v))return{width:E/v.zoom,height:b/v.zoom,top:T,left:A,factor:1,distance:C,aspect:D};{const L=v.fov*Math.PI/180,k=2*Math.tan(L/2)*C,z=k*(E/b);return{width:z,height:k,top:T,left:A,factor:E/z,distance:C,aspect:D}}}let p;const g=v=>a(S=>({performance:{...S.performance,current:v}})),x=new ue;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(v=1)=>t(l(),v),advance:(v,S)=>e(v,S,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new kS,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=l();p&&clearTimeout(p),v.performance.current!==v.performance.min&&g(v.performance.min),p=setTimeout(()=>g(l().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:v=>a(S=>({...S,events:{...S.events,...v}})),setSize:(v,S,_,E,b)=>{const T=l().camera,A={width:v,height:S,top:E||0,left:b||0,updateStyle:_};a(D=>({size:A,viewport:{...D.viewport,...h(T,c,A)}}))},setDpr:v=>a(S=>{const _=RB(v);return{viewport:{...S.viewport,dpr:_,initialDpr:S.viewport.initialDpr||_}}}),setFrameloop:(v="always")=>{const S=l().clock;S.stop(),S.elapsedTime=0,v!=="never"&&(S.start(),S.elapsedTime=0),a(()=>({frameloop:v}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:R.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(v,S,_)=>{const E=l().internal;return E.priority=E.priority+(S>0?1:0),E.subscribers.push({ref:v,priority:S,store:_}),E.subscribers=E.subscribers.sort((b,T)=>b.priority-T.priority),()=>{const b=l().internal;b!=null&&b.subscribers&&(b.priority=b.priority-(S>0?1:0),b.subscribers=b.subscribers.filter(T=>T.ref!==v))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:c,set:f}=n.getState();if(l!==i||u.dpr!==s){var h;i=l,s=u.dpr,DB(a,l),c.setPixelRatio(u.dpr);const p=(h=l.updateStyle)!=null?h:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,p)}a!==o&&(o=a,f(p=>({viewport:{...p.viewport,...p.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};function jS(t,e){const n={callback:t};return e.add(n),()=>void e.delete(n)}let O2,BB=new Set,FB=new Set,UB=new Set;const CZ=t=>jS(t,BB),RZ=t=>jS(t,FB),PZ=t=>jS(t,UB);function p4(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function d0(t,e){switch(t){case"before":return p4(BB,e);case"after":return p4(FB,e);case"tail":return p4(UB,e)}}let m4,g4;function v4(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),m4=e.internal.subscribers,O2=0;O2<m4.length;O2++)g4=m4[O2],g4.ref.current(g4.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function DZ(t){let e=!1,n,r,i;function s(l){r=requestAnimationFrame(s),e=!0,n=0,d0("before",l);for(const c of t.values()){var u;i=c.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((u=i.gl.xr)!=null&&u.isPresenting)&&(n+=v4(l,i))}if(d0("after",l),n===0)return d0("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,u=1){var c;if(!l)return t.forEach(f=>o(f.store.getState()),u);(c=l.gl.xr)!=null&&c.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,c,f){if(u&&d0("before",l),c)v4(l,c,f);else for(const h of t.values())v4(l,h.store.getState());u&&d0("after",l)}return{loop:s,invalidate:o,advance:a}}function LZ(t){const e=R.useRef(null);return cp(()=>void(e.current=t.current.__r3f),[t]),e}function XS(){const t=R.useContext(WS);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function cn(t=n=>n,e){return XS()(t,e)}function lc(t,e=0){const n=XS(),r=n.getState().internal.subscribe,i=TB(t);return cp(()=>r(i,e,n),[e,r,n]),null}const pT=new WeakMap;function OB(t,e){return function(n,...r){let i=pT.get(n);return i||(i=new n,pT.set(n,i)),t&&t(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,_Z(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`)))))).finally(()=>i.dispose==null?void 0:i.dispose())}}function fp(t,e,n,r){const i=Array.isArray(e)?e:[e],s=EB(OB(n,r),[t,...i],{equal:In.equ});return Array.isArray(e)?s:s[0]}fp.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return mZ(OB(n),[t,...r])};fp.clear=function(t,e){const n=Array.isArray(e)?e:[e];return gZ([t,...n])};const Vd=new Map,{invalidate:mT,advance:gT}=DZ(Vd),{reconciler:Hm,applyProps:Yc}=vZ(Vd,EZ),Ph={objects:"shallow",strict:!1},IZ=(t,e)=>{const n=typeof t=="function"?t(e):t;return IB(n)?n:new pS({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function BZ(t,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:r,top:i,left:s}=t.parentElement.getBoundingClientRect();return{width:n,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function FZ(t){const e=Vd.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||AZ(mT,gT),o=n||Hm.createContainer(s,id.ConcurrentRoot,null,!1,null,"",i,null);e||Vd.set(t,{fiber:o,store:s});let a,l=!1,u;return{configure(c={}){let{gl:f,size:h,scene:p,events:g,onCreated:x,shadows:y=!1,linear:v=!1,flat:S=!1,legacy:_=!1,orthographic:E=!1,frameloop:b="always",dpr:T=[1,2],performance:A,raycaster:D,camera:C,onPointerMissed:L}=c,k=s.getState(),z=k.gl;k.gl||k.set({gl:z=IZ(f,t)});let H=k.raycaster;H||k.set({raycaster:H=new GS});const{params:V,...K}=D||{};if(In.equ(K,H,Ph)||Yc(H,{...K}),In.equ(V,H.params,Ph)||Yc(H,{params:{...H.params,...V}}),!k.camera||k.camera===u&&!In.equ(u,C,Ph)){u=C;const j=C instanceof op,ie=j?C:E?new Us(0,0,0,0,.1,1e3):new hn(75,0,.1,1e3);j||(ie.position.z=5,C&&Yc(ie,C),!k.camera&&!(C!=null&&C.rotation)&&ie.lookAt(0,0,0)),k.set({camera:ie})}if(!k.scene){let j;p instanceof Il?j=p:(j=new Il,p&&Yc(j,p)),k.set({scene:zh(j)})}if(!k.xr){var J;const j=(re,fe)=>{const oe=s.getState();oe.frameloop!=="never"&&gT(re,!0,oe,fe)},ie=()=>{const re=s.getState();re.gl.xr.enabled=re.gl.xr.isPresenting,re.gl.xr.setAnimationLoop(re.gl.xr.isPresenting?j:null),re.gl.xr.isPresenting||mT(re)},se={connect(){const re=s.getState().gl;re.xr.addEventListener("sessionstart",ie),re.xr.addEventListener("sessionend",ie)},disconnect(){const re=s.getState().gl;re.xr.removeEventListener("sessionstart",ie),re.xr.removeEventListener("sessionend",ie)}};typeof((J=z.xr)==null?void 0:J.addEventListener)=="function"&&se.connect(),k.set({xr:se})}if(z.shadowMap){const j=z.shadowMap.enabled,ie=z.shadowMap.type;if(z.shadowMap.enabled=!!y,In.boo(y))z.shadowMap.type=J0;else if(In.str(y)){var $;const se={basic:UL,percentage:u1,soft:J0,variance:Vo};z.shadowMap.type=($=se[y])!=null?$:J0}else In.obj(y)&&Object.assign(z.shadowMap,y);(j!==z.shadowMap.enabled||ie!==z.shadowMap.type)&&(z.shadowMap.needsUpdate=!0)}const U=bB();U&&("enabled"in U?U.enabled=!_:"legacyMode"in U&&(U.legacyMode=_)),Yc(z,{outputEncoding:v?3e3:3001,toneMapping:S?Da:q7}),k.legacy!==_&&k.set(()=>({legacy:_})),k.linear!==v&&k.set(()=>({linear:v})),k.flat!==S&&k.set(()=>({flat:S})),f&&!In.fun(f)&&!IB(f)&&!In.equ(f,z,Ph)&&Yc(z,f),g&&!k.events.handlers&&k.set({events:g(s)});const F=BZ(t,h);return In.equ(F,k.size,Ph)||k.setSize(F.width,F.height,F.updateStyle,F.top,F.left),T&&k.viewport.dpr!==RB(T)&&k.setDpr(T),k.frameloop!==b&&k.setFrameloop(b),k.onPointerMissed||k.set({onPointerMissed:L}),A&&!In.equ(A,k.performance,Ph)&&k.set(j=>({performance:{...j.performance,...A}})),a=x,l=!0,this},render(c){return l||this.configure(),Hm.updateContainer(R.createElement(UZ,{store:s,children:c,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){kB(t)}}}function UZ({store:t,children:e,onCreated:n,rootElement:r}){return cp(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),R.createElement(WS.Provider,{value:t},e)}function kB(t,e){const n=Vd.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),Hm.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),wZ(i),Vd.delete(t),e&&e(t)}catch{}},500)})}}function OZ(t,e,n){return R.createElement(kZ,{key:e.uuid,children:t,container:e,state:n})}function kZ({state:t={},children:e,container:n}){const{events:r,size:i,...s}=t,o=XS(),[a]=R.useState(()=>new GS),[l]=R.useState(()=>new ue),u=R.useCallback((f,h)=>{const p={...f};Object.keys(f).forEach(x=>{(TZ.includes(x)||f[x]!==h[x]&&h[x])&&delete p[x]});let g;if(h&&i){const x=h.camera;g=f.viewport.getCurrentViewport(x,new X,i),x!==f.camera&&DB(x,i)}return{...p,scene:n,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...h==null?void 0:h.events,...r},size:{...f.size,...i},viewport:{...f.viewport,...g},...s}},[t]),[c]=R.useState(()=>{const f=o.getState();return K5((p,g)=>({...f,scene:n,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...r},size:{...f.size,...i},...s,set:p,get:g,setEvents:x=>p(y=>({...y,events:{...y.events,...x}}))}))});return R.useEffect(()=>{const f=o.subscribe(h=>c.setState(p=>u(h,p)));return()=>{f(),c.destroy()}},[]),R.useEffect(()=>{c.setState(f=>u(o.getState(),f))},[u]),R.createElement(R.Fragment,null,Hm.createPortal(R.createElement(WS.Provider,{value:c},e),c,null))}Hm.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:R.version});function kn(){return kn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kn.apply(this,arguments)}function Wx(t,e,n){var r,i,s,o,a;e==null&&(e=100);function l(){var c=Date.now()-o;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,n||(a=t.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var c=n&&!r;return r||(r=setTimeout(l,e)),c&&(a=t.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}Wx.debounce=Wx;var NZ=Wx;const vT=tc(NZ);function zZ(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=R.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=R.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,c=e?typeof e=="number"?e:e.resize:null,f=R.useRef(!1);R.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[h,p,g]=R.useMemo(()=>{const S=()=>{if(!l.current.element)return;const{left:_,top:E,width:b,height:T,bottom:A,right:D,x:C,y:L}=l.current.element.getBoundingClientRect(),k={left:_,top:E,width:b,height:T,bottom:A,right:D,x:C,y:L};l.current.element instanceof HTMLElement&&i&&(k.height=l.current.element.offsetHeight,k.width=l.current.element.offsetWidth),Object.freeze(k),f.current&&!WZ(l.current.lastBounds,k)&&a(l.current.lastBounds=k)};return[S,c?vT(S,c):S,u?vT(S,u):S]},[a,i,u,c]);function x(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function y(){l.current.element&&(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(S=>S.addEventListener("scroll",g,{capture:!0,passive:!0})))}const v=S=>{!S||S===l.current.element||(x(),l.current.element=S,l.current.scrollContainers=NB(S),y())};return HZ(g,!!n),GZ(p),R.useEffect(()=>{x(),y()},[n,g,p]),R.useEffect(()=>x,[]),[v,o,h]}function GZ(t){R.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function HZ(t,e){R.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function NB(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...NB(t.parentElement)]}const VZ=["x","y","top","bottom","left","right","width","height"],WZ=(t,e)=>VZ.every(n=>t[n]===e[n]);var jZ=Object.defineProperty,XZ=Object.defineProperties,YZ=Object.getOwnPropertyDescriptors,yT=Object.getOwnPropertySymbols,KZ=Object.prototype.hasOwnProperty,JZ=Object.prototype.propertyIsEnumerable,xT=(t,e,n)=>e in t?jZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ST=(t,e)=>{for(var n in e||(e={}))KZ.call(e,n)&&xT(t,n,e[n]);if(yT)for(var n of yT(e))JZ.call(e,n)&&xT(t,n,e[n]);return t},ZZ=(t,e)=>XZ(t,YZ(e));function zB(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=zB(r,e,n);if(i)return i;r=e?null:r.sibling}}function GB(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const YS=GB(R.createContext(null));class HB extends R.Component{render(){return R.createElement(YS.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:_T,ReactCurrentDispatcher:wT}=R.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function QZ(){const t=R.useContext(YS);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=R.useId();return R.useMemo(()=>{for(const r of[_T==null?void 0:_T.current,t,t==null?void 0:t.alternate]){if(!r)continue;const i=zB(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function qZ(){var t,e;const n=QZ(),[r]=R.useState(()=>new Map);r.clear();let i=n;for(;i;){const s=(t=i.type)==null?void 0:t._context;s&&s!==YS&&!r.has(s)&&r.set(s,(e=wT==null?void 0:wT.current)==null?void 0:e.readContext(GB(s))),i=i.return}return r}function $Z(){const t=qZ();return R.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>R.createElement(e,null,R.createElement(n.Provider,ZZ(ST({},r),{value:t.get(n)}))),e=>R.createElement(HB,ST({},e))),[t])}const y4={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function eQ(t){const{handlePointer:e}=MZ(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(y4).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=y4[o];n.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=y4[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const tQ=R.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=eQ,eventSource:a,eventPrefix:l,shadows:u,linear:c,flat:f,legacy:h,orthographic:p,frameloop:g,dpr:x,performance:y,raycaster:v,camera:S,scene:_,onPointerMissed:E,onCreated:b,...T},A){R.useMemo(()=>VS(oZ),[]);const D=$Z(),[C,L]=zZ({scroll:!0,debounce:{scroll:50,resize:0},...r}),k=R.useRef(null),z=R.useRef(null);R.useImperativeHandle(A,()=>k.current);const H=TB(E),[V,K]=R.useState(!1),[J,$]=R.useState(!1);if(V)throw V;if(J)throw J;const U=R.useRef(null);cp(()=>{const W=k.current;L.width>0&&L.height>0&&W&&(U.current||(U.current=FZ(W)),U.current.configure({gl:s,events:o,shadows:u,linear:c,flat:f,legacy:h,orthographic:p,frameloop:g,dpr:x,performance:y,raycaster:v,camera:S,scene:_,size:L,onPointerMissed:(...F)=>H.current==null?void 0:H.current(...F),onCreated:F=>{F.events.connect==null||F.events.connect(a?yZ(a)?a.current:a:z.current),l&&F.setEvents({compute:(j,ie)=>{const se=j[l+"X"],re=j[l+"Y"];ie.pointer.set(se/ie.size.width*2-1,-(re/ie.size.height)*2+1),ie.raycaster.setFromCamera(ie.pointer,ie.camera)}}),b==null||b(F)}}),U.current.render(R.createElement(D,null,R.createElement(AB,{set:$},R.createElement(R.Suspense,{fallback:R.createElement(xZ,{set:K})},e)))))}),R.useEffect(()=>{const W=k.current;if(W)return()=>kB(W)},[]);const G=a?"none":"auto";return R.createElement("div",kn({ref:z,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:G,...i}},T),R.createElement("div",{ref:C,style:{width:"100%",height:"100%"}},R.createElement("canvas",{ref:k,style:{display:"block"}},n)))}),VB=R.forwardRef(function(e,n){return R.createElement(HB,null,R.createElement(tQ,kn({},e,{ref:n})))}),uo={value:0,fpsLimit:60,isOverLimit:0},p0=t=>(t==null?void 0:t.reduce((e,n)=>e+n,0))/t.length;class nQ{constructor(e={}){this.names=[""],this.finished=[],this.paused=!1,this.overClock=!1,this.queryHasResult=!1,this.queryCreated=!1,this.isWebGL2=!0,this.memAccums=[],this.gpuAccums=[],this.activeAccums=[],this.logsAccums={mem:[],gpu:[],cpu:[],fps:[],fpsFixed:[]},this.fpsChart=[],this.gpuChart=[],this.cpuChart=[],this.memChart=[],this.paramLogger=()=>{},this.glFinish=()=>{},this.chartLogger=()=>{},this.chartLen=60,this.logsPerSecond=10,this.maxMemory=1500,this.chartHz=10,this.startCpuProfiling=!1,this.lastCalculateFixed=0,this.chartFrame=0,this.gpuTimeProcess=0,this.chartTime=0,this.activeQueries=0,this.circularId=0,this.detected=0,this.frameId=0,this.rafId=0,this.idleCbId=0,this.checkQueryId=0,this.uuid=void 0,this.currentCpu=0,this.currentMem=0,this.paramFrame=0,this.paramTime=0,this.now=()=>{},this.t0=0,window.GLPerf=window.GLPerf||{},Object.assign(this,e),this.fpsChart=new Array(this.chartLen).fill(0),this.gpuChart=new Array(this.chartLen).fill(0),this.cpuChart=new Array(this.chartLen).fill(0),this.memChart=new Array(this.chartLen).fill(0),this.now=()=>window.performance&&window.performance.now?window.performance.now():Date.now(),this.initGpu(),this.is120hz()}initGpu(){this.uuid=d1.generateUUID(),this.gl&&(this.isWebGL2=!0,this.extension||(this.extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")),this.extension===null&&(this.isWebGL2=!1))}is120hz(){let e=0;const n=r=>{++e<20?this.rafId=window.requestAnimationFrame(n):(this.detected=Math.ceil(1e3*e/(r-this.t0)/70),window.cancelAnimationFrame(this.rafId)),this.t0||(this.t0=r)};this.rafId=window.requestAnimationFrame(n)}addUI(e){this.names.indexOf(e)===-1&&(this.names.push(e),this.gpuAccums.push(0),this.activeAccums.push(!1))}nextFps(e){const n=16.666666666666668,r=n-e.timeRemaining(),i=n*uo.fpsLimit/10/r;i<0||(uo.value=i,uo.isOverLimit<25?uo.isOverLimit++:Ps({overclockingFps:!0}))}nextFrame(e){this.frameId++;const n=e||this.now();let r=n-this.paramTime,i=0;if(this.frameId<=1)this.paramFrame=this.frameId,this.paramTime=n;else if(n>=this.paramTime){this.maxMemory=window.performance.memory?window.performance.memory.jsHeapSizeLimit/1048576:0;const s=this.frameId-this.paramFrame,o=s*1e3/r,a=xo().overclockingFps?uo.value:o;if(i=this.isWebGL2?this.gpuAccums[0]:this.gpuAccums[0]/r,this.isWebGL2?this.gpuAccums[0]=0:Promise.all(this.finished).then(()=>{this.gpuAccums[0]=0,this.finished=[]}),this.currentMem=Math.round(window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize/1048576:0),window.performance&&this.startCpuProfiling){window.performance.mark("cpu-finished");const l=performance.measure("cpu-duration","cpu-started","cpu-finished");this.currentCpu=l.duration,this.logsAccums.cpu.push(this.currentCpu),this.startCpuProfiling=!1}this.logsAccums.mem.push(this.currentMem),this.logsAccums.fpsFixed.push(o),this.logsAccums.fps.push(a),this.logsAccums.gpu.push(i),this.overClock&&typeof window.requestIdleCallback<"u"&&(uo.isOverLimit>0&&a>o?uo.isOverLimit--:xo().overclockingFps&&Ps({overclockingFps:!1})),n>=this.paramTime+1e3/this.logsPerSecond&&(this.paramLogger({cpu:p0(this.logsAccums.cpu),gpu:p0(this.logsAccums.gpu),mem:p0(this.logsAccums.mem),fps:p0(this.logsAccums.fps),duration:Math.round(r),maxMemory:this.maxMemory,frameCount:s}),this.logsAccums.mem=[],this.logsAccums.fps=[],this.logsAccums.gpu=[],this.logsAccums.cpu=[],this.paramFrame=this.frameId,this.paramTime=n),this.overClock&&n-this.lastCalculateFixed>=2*1e3&&(this.lastCalculateFixed=e,uo.fpsLimit=Math.round(p0(this.logsAccums.fpsFixed)/10)*100,Ps({fpsLimit:uo.fpsLimit/10}),this.logsAccums.fpsFixed=[],this.paramFrame=this.frameId,this.paramTime=n)}if(!this.detected||!this.chartFrame)this.chartFrame=this.frameId,this.chartTime=n,this.circularId=0;else{const s=n-this.chartTime;let o=this.chartHz*s/1e3;for(;--o>0&&this.detected;){const l=(this.frameId-this.chartFrame)/s*1e3,u=xo().overclockingFps?uo.value:l;this.fpsChart[this.circularId%this.chartLen]=u;const c=1e3/this.currentMem,f=this.currentCpu,h=(this.isWebGL2?this.gpuAccums[1]*2:Math.round(this.gpuAccums[1]/r*100))+4;h>0&&(this.gpuChart[this.circularId%this.chartLen]=h),f>0&&(this.cpuChart[this.circularId%this.chartLen]=f),c>0&&(this.memChart[this.circularId%this.chartLen]=c);for(let p=0;p<this.names.length;p++)this.chartLogger({i:p,data:{fps:this.fpsChart,gpu:this.gpuChart,cpu:this.cpuChart,mem:this.memChart},circularId:this.circularId});this.circularId++,this.chartFrame=this.frameId,this.chartTime=n}}}startGpu(){const e=this.gl,n=this.extension;if(!(!e||!n)&&this.isWebGL2){let r=!1,i,s;if(this.query){this.queryHasResult=!1;let o=this.query;if(r=e.getQueryParameter(o,e.QUERY_RESULT_AVAILABLE),i=e.getParameter(n.GPU_DISJOINT_EXT),r&&!i){s=e.getQueryParameter(this.query,e.QUERY_RESULT);const a=s*1e-6;(r||i)&&(e.deleteQuery(this.query),o=null),r&&a>0&&(i||this.activeAccums.forEach((l,u)=>{this.gpuAccums[u]=a}))}}(r||!this.query)&&(this.queryCreated=!0,this.query=e.createQuery(),e.beginQuery(n.TIME_ELAPSED_EXT,this.query))}}endGpu(){const e=this.extension,n=this.gl;this.isWebGL2&&this.queryCreated&&n.getQuery(e.TIME_ELAPSED_EXT,n.CURRENT_QUERY)&&n.endQuery(e.TIME_ELAPSED_EXT)}begin(e){this.startGpu(),this.updateAccums(e)}end(e){this.endGpu(),this.updateAccums(e)}updateAccums(e){let n=this.names.indexOf(e);n===-1&&(n=this.names.length,this.addUI(e));const r=this.now();this.activeAccums[n]=!this.activeAccums[n],this.t0=r}}const rQ=t=>{t.forEach((e,n)=>{const{meshes:r}=e;if(!r)return;let i={total:0,type:"Triangle",data:[]};Object.keys(r).forEach(s=>{const o=r[s],{geometry:a,material:l}=o;let u=a.index;const c=a.attributes.position;if(!c)return;let f=1;l.wireframe===!0&&(f=0);const h=u!==null?u.count:c.count,p=a.drawRange.start*f,g=a.drawRange.count*f,x=p,y=Math.min(h,p+g)-1;let v=1;const S=o.count||1;let _="Triangle",E=0;o.isMesh?l.wireframe===!0?(_="Line",v=v/2):(_="Triangle",v=v/3):o.isLine?(_="Line",o.isLineSegments?v=v/2:o.isLineLoop?v=v:v=v-1):o.isPoints?(_="Point",v=v):o.isSprite&&(_="Triangle",v=v/3);const b=Math.round(Math.max(0,y-x+1)*(v*S));b>E&&(E=b,i.type=_),i.total+=b,i.data.push({drawCount:b,type:_}),o.userData.drawCount={type:_,count:b}}),e.drawCounts=i})};var WB={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,h),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},a.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,c,f,h,p,g){var x=n?n+u:u;if(!this._events[x])return!1;var y=this._events[x],v=arguments.length,S,_;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,f),!0;case 4:return y.fn.call(y.context,c,f,h),!0;case 5:return y.fn.call(y.context,c,f,h,p),!0;case 6:return y.fn.call(y.context,c,f,h,p,g),!0}for(_=1,S=new Array(v-1);_<v;_++)S[_-1]=arguments[_];y.fn.apply(y.context,S)}else{var E=y.length,b;for(_=0;_<E;_++)switch(y[_].once&&this.removeListener(u,y[_].fn,void 0,!0),v){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,c);break;case 3:y[_].fn.call(y[_].context,c,f);break;case 4:y[_].fn.call(y[_].context,c,f,h);break;default:if(!S)for(b=1,S=new Array(v-1);b<v;b++)S[b-1]=arguments[b];y[_].fn.apply(y[_].context,S)}}return!0},a.prototype.on=function(u,c,f){return s(this,u,c,f,!1)},a.prototype.once=function(u,c,f){return s(this,u,c,f,!0)},a.prototype.removeListener=function(u,c,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===c&&(!h||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var x=0,y=[],v=g.length;x<v;x++)(g[x].fn!==c||h&&!g[x].once||f&&g[x].context!==f)&&y.push(g[x]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(WB);var iQ=WB.exports;const sQ=tc(iQ),yv=new sQ;function oQ(t,e,n){return n!=null&&n.once?yv.once(t,e):yv.on(t,e)}function aQ(t,e,n){var r;yv.removeListener(t,e,(r=n==null?void 0:n.context)!=null?r:null,n==null?void 0:n.once)}function lQ(t,e){yv.emit(t,e)}function uQ(t,e,n=[],r){const i=R.useRef(e);R.useEffect(()=>void(i.current=e),[e]),R.useEffect(()=>{const s=a=>{var l;return(l=i.current)==null?void 0:l.call(i,a)},o=oQ(t,s,r);return()=>aQ(t,s,{...r,context:o})},[t,r==null?void 0:r.once,...n])}const cQ=Vt.prototype.updateMatrixWorld,fQ=Vt.prototype.updateWorldMatrix,ET=Vt.prototype.updateMatrix,bT=["calls","triangles","points","lines"],MT=["gpu","cpu","mem","fps"];let sd={value:0},Os={value:0};const hQ=t=>{let e=""+t;return e=e.match("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"),e!==null},TT=(t,e)=>{t.defines||(t.defines={}),t.defines&&!t.defines.muiPerf&&(t.defines=Object.assign(t.defines||{},{muiPerf:t.uuid}));const n=t.uuid;return e[n]||(e[n]={meshes:{},material:t},t.needsUpdate=!0),t.needsUpdate=!1,n},dQ=t=>t==="muiPerf",pQ=({overClock:t,logsPerSecond:e,chart:n,deepAnalyze:r,matrixUpdate:i})=>{const{gl:s,scene:o}=cn();Ps({gl:s,scene:o});const a=R.useMemo(()=>{const l=new nQ({trackGPU:!0,overClock:t,chartLen:n?n.length:120,chartHz:n?n.hz:60,logsPerSecond:e||10,gl:s.getContext(),chartLogger:y=>{Ps({chart:y})},paramLogger:y=>{const v={maxMemory:y.maxMemory,gpu:y.gpu,cpu:y.cpu,mem:y.mem,fps:y.fps,totalTime:y.duration,frameCount:y.frameCount};Ps({log:v});const{accumulated:S}=xo(),_=s.info.render;S.totalFrames++,S.gl.calls+=_.calls,S.gl.triangles+=_.triangles,S.gl.points+=_.points,S.gl.lines+=_.lines,S.log.gpu+=y.gpu,S.log.cpu+=y.cpu,S.log.mem+=y.mem,S.log.fps+=y.fps;for(let E=0;E<bT.length;E++){const b=bT[E],T=_[b];T>S.max.gl[b]&&(S.max.gl[b]=T)}for(let E=0;E<MT.length;E++){const b=MT[E],T=y[b];T>S.max.log[b]&&(S.max.log[b]=T)}Ps({accumulated:S}),lQ("log",[v,s])}}),u=s.getContext();let c=null,f=null;const h=u.getExtension("WEBGL_debug_renderer_info"),p=u.getParameter(u.VERSION);h!=null&&(c=u.getParameter(h.UNMASKED_RENDERER_WEBGL),f=u.getParameter(h.UNMASKED_VENDOR_WEBGL)),f||(f="Unknown vendor"),c||(c=u.getParameter(u.RENDERER)),Ps({startTime:window.performance.now(),infos:{version:p,renderer:c,vendor:f}});const g=new Map,x=new Map;return Object.defineProperty(Il.prototype,"onBeforeRender",{get(){return(...y)=>{var v;l&&l.begin("profiler"),(v=g.get(this))==null||v(...y)}},set(y){g.set(this,y)},configurable:!0}),Object.defineProperty(Il.prototype,"onAfterRender",{get(){return(...y)=>{var v;l&&l.end("profiler"),(v=x.get(this))==null||v(...y)}},set(y){x.set(this,y)},configurable:!0}),l},[]);return R.useEffect(()=>{a&&(a.overClock=t||!1,t===!1&&(Ps({overclockingFps:!1}),uo.value=0,uo.isOverLimit=0),a.chartHz=(n==null?void 0:n.hz)||60,a.chartLen=(n==null?void 0:n.length)||120)},[t,a,n==null?void 0:n.length,n==null?void 0:n.hz]),R.useEffect(()=>{i&&(Vt.prototype.updateMatrixWorld=function(){(this.matrixWorldNeedsUpdate||arguments[0])&&sd.value++,cQ.apply(this,arguments)},Vt.prototype.updateWorldMatrix=function(){sd.value++,fQ.apply(this,arguments)},Vt.prototype.updateMatrix=function(){Os.value++,ET.apply(this,arguments)}),s.info.autoReset=!1;let l=null,u=null;if(s.info)return l=CZ(function(){xo().paused&&Ps({paused:!1}),window.performance&&(window.performance.mark("cpu-started"),a.startCpuProfiling=!0),Os.value-=1,sd.value=0,Os.value=0,s.info&&s.info.reset()}),u=RZ(function(){var f,h;if(a&&!a.paused&&(a.nextFrame(window.performance.now()),t&&typeof window.requestIdleCallback<"u"&&(a.idleCbId=requestIdleCallback(a.nextFps))),r){const p={},g=new Map;o.traverse(function(y){if((y instanceof Un||y instanceof R5)&&y.material){let v=y.material.uuid;Array.isArray(y.material)&&y.material.length>1?v=TT(y.material[1],p):v=TT(y.material,p),p[v].meshes[y.uuid]=y}}),(h=(f=s==null?void 0:s.info)==null?void 0:f.programs)==null||h.forEach(x=>{const y=x.cacheKey.split(","),v=y[y.findIndex(dQ)+1];if(hQ(v)&&p[v]){const{material:S,meshes:_}=p[v];g.set(v,{program:x,material:S,meshes:_,drawCounts:{total:0,type:"triangle",data:[]},expand:!1,visible:!0})}}),g.size!==xo().programs.size&&(rQ(g),Ps({programs:g,triggerProgramsUpdate:xo().triggerProgramsUpdate++}))}}),()=>{a&&(typeof window.cancelIdleCallback<"u"&&window.cancelIdleCallback(a.idleCbId),window.cancelAnimationFrame(a.rafId),window.cancelAnimationFrame(a.checkQueryId)),i&&(Vt.prototype.updateMatrixWorld=ET),l(),u()}},[a,s,n,i]),R.useEffect(()=>{const l=PZ(function(){return a&&(a.paused=!0,Os.value=0,sd.value=0,Ps({paused:!0,log:{maxMemory:0,gpu:0,mem:0,cpu:0,fps:0,totalTime:0,frameCount:0}})),!1});return()=>{l()}},[]),null};var xn="colors",Gi="sizes",lt="space",mQ={gap:lt,gridGap:lt,columnGap:lt,gridColumnGap:lt,rowGap:lt,gridRowGap:lt,inset:lt,insetBlock:lt,insetBlockEnd:lt,insetBlockStart:lt,insetInline:lt,insetInlineEnd:lt,insetInlineStart:lt,margin:lt,marginTop:lt,marginRight:lt,marginBottom:lt,marginLeft:lt,marginBlock:lt,marginBlockEnd:lt,marginBlockStart:lt,marginInline:lt,marginInlineEnd:lt,marginInlineStart:lt,padding:lt,paddingTop:lt,paddingRight:lt,paddingBottom:lt,paddingLeft:lt,paddingBlock:lt,paddingBlockEnd:lt,paddingBlockStart:lt,paddingInline:lt,paddingInlineEnd:lt,paddingInlineStart:lt,top:lt,right:lt,bottom:lt,left:lt,scrollMargin:lt,scrollMarginTop:lt,scrollMarginRight:lt,scrollMarginBottom:lt,scrollMarginLeft:lt,scrollMarginX:lt,scrollMarginY:lt,scrollMarginBlock:lt,scrollMarginBlockEnd:lt,scrollMarginBlockStart:lt,scrollMarginInline:lt,scrollMarginInlineEnd:lt,scrollMarginInlineStart:lt,scrollPadding:lt,scrollPaddingTop:lt,scrollPaddingRight:lt,scrollPaddingBottom:lt,scrollPaddingLeft:lt,scrollPaddingX:lt,scrollPaddingY:lt,scrollPaddingBlock:lt,scrollPaddingBlockEnd:lt,scrollPaddingBlockStart:lt,scrollPaddingInline:lt,scrollPaddingInlineEnd:lt,scrollPaddingInlineStart:lt,fontSize:"fontSizes",background:xn,backgroundColor:xn,backgroundImage:xn,borderImage:xn,border:xn,borderBlock:xn,borderBlockEnd:xn,borderBlockStart:xn,borderBottom:xn,borderBottomColor:xn,borderColor:xn,borderInline:xn,borderInlineEnd:xn,borderInlineStart:xn,borderLeft:xn,borderLeftColor:xn,borderRight:xn,borderRightColor:xn,borderTop:xn,borderTopColor:xn,caretColor:xn,color:xn,columnRuleColor:xn,fill:xn,outline:xn,outlineColor:xn,stroke:xn,textDecorationColor:xn,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Gi,minBlockSize:Gi,maxBlockSize:Gi,inlineSize:Gi,minInlineSize:Gi,maxInlineSize:Gi,width:Gi,minWidth:Gi,maxWidth:Gi,height:Gi,minHeight:Gi,maxHeight:Gi,flexBasis:Gi,gridTemplateColumns:Gi,gridTemplateRows:Gi,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},gQ=(t,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,hp=()=>{const t=Object.create(null);return(e,n,...r)=>{const i=(s=>JSON.stringify(s,gQ))(e);return i in t?t[i]:t[i]=n(e,...r)}},gf=Symbol.for("sxs.internal"),KS=(t,e)=>Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),AT=t=>{for(const e in t)return!0;return!1},{hasOwnProperty:vQ}=Object.prototype,jx=t=>t.includes("-")?t:t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),yQ=/\s+(?![^()]*\))/,Dh=t=>e=>t(...typeof e=="string"?String(e).split(yQ):[e]),CT={appearance:t=>({WebkitAppearance:t,appearance:t}),backfaceVisibility:t=>({WebkitBackfaceVisibility:t,backfaceVisibility:t}),backdropFilter:t=>({WebkitBackdropFilter:t,backdropFilter:t}),backgroundClip:t=>({WebkitBackgroundClip:t,backgroundClip:t}),boxDecorationBreak:t=>({WebkitBoxDecorationBreak:t,boxDecorationBreak:t}),clipPath:t=>({WebkitClipPath:t,clipPath:t}),content:t=>({content:t.includes('"')||t.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(t)?t:`"${t}"`}),hyphens:t=>({WebkitHyphens:t,hyphens:t}),maskImage:t=>({WebkitMaskImage:t,maskImage:t}),maskSize:t=>({WebkitMaskSize:t,maskSize:t}),tabSize:t=>({MozTabSize:t,tabSize:t}),textSizeAdjust:t=>({WebkitTextSizeAdjust:t,textSizeAdjust:t}),userSelect:t=>({WebkitUserSelect:t,userSelect:t}),marginBlock:Dh((t,e)=>({marginBlockStart:t,marginBlockEnd:e||t})),marginInline:Dh((t,e)=>({marginInlineStart:t,marginInlineEnd:e||t})),maxSize:Dh((t,e)=>({maxBlockSize:t,maxInlineSize:e||t})),minSize:Dh((t,e)=>({minBlockSize:t,minInlineSize:e||t})),paddingBlock:Dh((t,e)=>({paddingBlockStart:t,paddingBlockEnd:e||t})),paddingInline:Dh((t,e)=>({paddingInlineStart:t,paddingInlineEnd:e||t}))},x4=/([\d.]+)([^]*)/,xQ=(t,e)=>t.length?t.reduce((n,r)=>(n.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),n),[]):e,SQ=(t,e)=>t in _Q&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(n,r,i,s)=>r+(i==="stretch"?`-moz-available${s};${jx(t)}:${r}-webkit-fill-available`:`-moz-fit-content${s};${jx(t)}:${r}fit-content`)+s):String(e),_Q={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Fl=t=>t?t+"-":"",jB=(t,e,n)=>t.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,s,o,a)=>o=="$"==!!s?r:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?Fl(e)+(a.includes("$")?"":Fl(n))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),wQ=/\s*,\s*(?![^()]*\))/,EQ=Object.prototype.toString,od=(t,e,n,r,i)=>{let s,o,a;const l=(u,c,f)=>{let h,p;const g=x=>{for(h in x){const S=h.charCodeAt(0)===64,_=S&&Array.isArray(x[h])?x[h]:[x[h]];for(p of _){const E=/[A-Z]/.test(v=h)?v:v.replace(/-[^]/g,T=>T[1].toUpperCase()),b=typeof p=="object"&&p&&p.toString===EQ&&(!r.utils[E]||!c.length);if(E in r.utils&&!b){const T=r.utils[E];if(T!==o){o=T,g(T(p)),o=null;continue}}else if(E in CT){const T=CT[E];if(T!==a){a=T,g(T(p)),a=null;continue}}if(S&&(y=h.slice(1)in r.media?"@media "+r.media[h.slice(1)]:h,h=y.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(T,A,D,C,L,k)=>{const z=x4.test(A),H=.0625*(z?-1:1),[V,K]=z?[C,A]:[A,C];return"("+(D[0]==="="?"":D[0]===">"===z?"max-":"min-")+V+":"+(D[0]!=="="&&D.length===1?K.replace(x4,(J,$,U)=>Number($)+H*(D===">"?1:-1)+U):K)+(L?") and ("+(L[0]===">"?"min-":"max-")+V+":"+(L.length===1?k.replace(x4,(J,$,U)=>Number($)+H*(L===">"?-1:1)+U):k):"")+")"})),b){const T=S?f.concat(h):[...f],A=S?[...c]:xQ(c,h.split(wQ));s!==void 0&&i(RT(...s)),s=void 0,l(p,A,T)}else s===void 0&&(s=[[],c,f]),h=S||h.charCodeAt(0)!==36?h:`--${Fl(r.prefix)}${h.slice(1).replace(/\$/g,"-")}`,p=b?p:typeof p=="number"?p&&E in bQ?String(p)+"px":String(p):jB(SQ(E,p??""),r.prefix,r.themeMap[E]),s[0].push(`${S?`${h} `:`${jx(h)}:`}${p}`)}}var y,v};g(u),s!==void 0&&i(RT(...s)),s=void 0};l(t,e,n)},RT=(t,e,n)=>`${n.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${t.join(";")}${e.length?"}":""}${Array(n.length?n.length+1:0).join("}")}`,bQ={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},PT=t=>String.fromCharCode(t+(t>25?39:97)),vf=t=>(e=>{let n,r="";for(n=Math.abs(e);n>52;n=n/52|0)r=PT(n%52)+r;return PT(n%52)+r})(((e,n)=>{let r=n.length;for(;r;)e=33*e^n.charCodeAt(--r);return e})(5381,JSON.stringify(t))>>>0),U0=["themed","global","styled","onevar","resonevar","allvar","inline"],MQ=t=>{if(t.href&&!t.href.startsWith(location.origin))return!1;try{return!!t.cssRules}catch{return!1}},TQ=t=>{let e;const n=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const u in e.rules)if(e.rules[u].group===s)return`--sxs{--sxs:${[...e.rules[u].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const u in a)delete a[u]}const i=Object(t).styleSheets||[];for(const a of i)if(MQ(a)){for(let l=0,u=a.cssRules;u[l];++l){const c=Object(u[l]);if(c.type!==1)continue;const f=Object(u[l+1]);if(f.type!==4)continue;++l;const{cssText:h}=c;if(!h.startsWith("--sxs"))continue;const p=h.slice(14,-3).trim().split(/\s+/),g=U0[p[0]];g&&(e||(e={sheet:a,reset:r,rules:{},toString:n}),e.rules[g]={group:f,index:l,cache:new Set(p)})}if(e)break}if(!e){const a=(l,u)=>({type:u,cssRules:[],insertRule(c,f){this.cssRules.splice(f,0,a(c,{import:3,undefined:1}[(c.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,c=>c.cssText).join("")}}`:l}});e={sheet:t?(t.head||t).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:n}}const{sheet:s,rules:o}=e;for(let a=U0.length-1;a>=0;--a){const l=U0[a];if(!o[l]){const u=U0[a+1],c=o[u]?o[u].index:s.cssRules.length;s.insertRule("@media{}",c),s.insertRule(`--sxs{--sxs:${a}}`,c),o[l]={group:s.cssRules[c+1],index:c,cache:new Set([a])}}AQ(o[l])}};return r(),e},AQ=t=>{const e=t.group;let n=e.cssRules.length;t.apply=r=>{try{e.insertRule(r,n),++n}catch{}}},m0=Symbol(),CQ=hp(),DT=(t,e)=>CQ(t,()=>(...n)=>{let r={type:null,composers:new Set};for(const i of n)if(i!=null)if(i[gf]){r.type==null&&(r.type=i[gf].type);for(const s of i[gf].composers)r.composers.add(s)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(RQ(i,t));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),PQ(t,r,e)}),RQ=({variants:t,compoundVariants:e,defaultVariants:n,...r},i)=>{const s=`${Fl(i.prefix)}c-${vf(r)}`,o=[],a=[],l=Object.create(null),u=[];for(const h in n)l[h]=String(n[h]);if(typeof t=="object"&&t)for(const h in t){c=l,f=h,vQ.call(c,f)||(l[h]="undefined");const p=t[h];for(const g in p){const x={[h]:String(g)};String(g)==="undefined"&&u.push(h);const y=p[g],v=[x,y,!AT(y)];o.push(v)}}var c,f;if(typeof e=="object"&&e)for(const h of e){let{css:p,...g}=h;p=typeof p=="object"&&p||{};for(const y in g)g[y]=String(g[y]);const x=[g,p,!AT(p)];a.push(x)}return[s,r,o,a,l,u]},PQ=(t,e,n)=>{const[r,i,s,o]=DQ(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(f=>{function h(){for(let p=0;p<h[m0].length;p++){const[g,x]=h[m0][p];f.rules[g].apply(x)}return h[m0]=[],null}return h[m0]=[],h.rules={},U0.forEach(p=>h.rules[p]={apply:g=>h[m0].push([p,g])}),h})(n):null,l=(a||n).rules,u=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,c=f=>{f=typeof f=="object"&&f||LQ;const{css:h,...p}=f,g={};for(const v in s)if(delete p[v],v in f){let S=f[v];typeof S=="object"&&S?g[v]={"@initial":s[v],...S}:(S=String(S),g[v]=S!=="undefined"||o.has(v)?S:s[v])}else g[v]=s[v];const x=new Set([...i]);for(const[v,S,_,E]of e.composers){n.rules.styled.cache.has(v)||(n.rules.styled.cache.add(v),od(S,[`.${v}`],[],t,A=>{l.styled.apply(A)}));const b=LT(_,g,t.media),T=LT(E,g,t.media,!0);for(const A of b)if(A!==void 0)for(const[D,C,L]of A){const k=`${v}-${vf(C)}-${D}`;x.add(k);const z=(L?n.rules.resonevar:n.rules.onevar).cache,H=L?l.resonevar:l.onevar;z.has(k)||(z.add(k),od(C,[`.${k}`],[],t,V=>{H.apply(V)}))}for(const A of T)if(A!==void 0)for(const[D,C]of A){const L=`${v}-${vf(C)}-${D}`;x.add(L),n.rules.allvar.cache.has(L)||(n.rules.allvar.cache.add(L),od(C,[`.${L}`],[],t,k=>{l.allvar.apply(k)}))}}if(typeof h=="object"&&h){const v=`${r}-i${vf(h)}-css`;x.add(v),n.rules.inline.cache.has(v)||(n.rules.inline.cache.add(v),od(h,[`.${v}`],[],t,S=>{l.inline.apply(S)}))}for(const v of String(f.className||"").trim().split(/\s+/))v&&x.add(v);const y=p.className=[...x].join(" ");return{type:e.type,className:y,selector:u,props:p,toString:()=>y,deferredInjector:a}};return KS(c,{className:r,selector:u,[gf]:e,toString:()=>(n.rules.styled.cache.has(r)||c(),r)})},DQ=t=>{let e="";const n=[],r={},i=[];for(const[s,,,,o,a]of t){e===""&&(e=s),n.push(s),i.push(...a);for(const l in o){const u=o[l];(r[l]===void 0||u!=="undefined"||a.includes(u))&&(r[l]=u)}}return[e,n,r,new Set(i)]},LT=(t,e,n,r)=>{const i=[];e:for(let[s,o,a]of t){if(a)continue;let l,u=0,c=!1;for(l in s){const f=s[l];let h=e[l];if(h!==f){if(typeof h!="object"||!h)continue e;{let p,g,x=0;for(const y in h){if(f===String(h[y])){if(y!=="@initial"){const v=y.slice(1);(g=g||[]).push(v in n?n[v]:y.replace(/^@media ?/,"")),c=!0}u+=x,p=!0}++x}if(g&&g.length&&(o={["@media "+g.join(", ")]:o}),!p)continue e}}}(i[u]=i[u]||[]).push([r?"cv":`${l}-${s[l]}`,o,c])}return i},LQ={},IQ=hp(),BQ=(t,e)=>IQ(t,()=>(...n)=>{const r=()=>{for(let i of n){i=typeof i=="object"&&i||{};let s=vf(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}od(i,[],[],t,o=>{e.rules.global.apply(o)})}}return""};return KS(r,{toString:r})}),FQ=hp(),UQ=(t,e)=>FQ(t,()=>n=>{const r=`${Fl(t.prefix)}k-${vf(n)}`,i=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const s=[];od(n,[],[],t,a=>s.push(a));const o=`@keyframes ${r}{${s.join("")}}`;e.rules.global.apply(o)}return r};return KS(i,{get name(){return i()},toString:i})}),OQ=class{constructor(t,e,n,r){this.token=t==null?"":String(t),this.value=e==null?"":String(e),this.scale=n==null?"":String(n),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Fl(this.prefix)+Fl(this.scale)+this.token}toString(){return this.computedValue}},kQ=hp(),NQ=(t,e)=>kQ(t,()=>(n,r)=>{r=typeof n=="object"&&n||Object(r);const i=`.${n=(n=typeof n=="string"?n:"")||`${Fl(t.prefix)}t-${vf(r)}`}`,s={},o=[];for(const l in r){s[l]={};for(const u in r[l]){const c=`--${Fl(t.prefix)}${l}-${u}`,f=jB(String(r[l][u]),t.prefix,l);s[l][u]=new OQ(u,f,l,t.prefix),o.push(`${c}:${f}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(n)){e.rules.themed.cache.add(n);const l=`${r===t.theme?":root,":""}.${n}{${o.join(";")}}`;e.rules.themed.apply(l)}return n};return{...s,get className(){return a()},selector:i,toString:a}}),zQ=hp(),IT,GQ=hp(),XB=t=>{const e=(n=>{let r=!1;const i=zQ(n,s=>{r=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,u=typeof s.theme=="object"&&s.theme||{},c={prefix:o,media:a,theme:u,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...mQ},utils:typeof s.utils=="object"&&s.utils||{}},f=TQ(l),h={css:DT(c,f),globalCss:BQ(c,f),keyframes:UQ(c,f),createTheme:NQ(c,f),reset(){f.reset(),h.theme.toString()},theme:{},sheet:f,config:c,prefix:o,getCssText:f.toString,toString:f.toString};return String(h.theme=h.createTheme(u)),h});return r||i.reset(),i})(t);return e.styled=(({config:n,sheet:r})=>GQ(n,()=>{const i=DT(n,r);return(...s)=>{const o=i(...s),a=o[gf].type,l=te.forwardRef((u,c)=>{const f=u&&u.as||a,{props:h,deferredInjector:p}=o(u);return delete h.as,h.ref=c,p?te.createElement(te.Fragment,null,te.createElement(f,h),te.createElement(p,null)):te.createElement(f,h)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[gf]=o[gf],l}}))(e),e},HQ=()=>IT||(IT=XB()),Gr=(...t)=>HQ().styled(...t);const VQ=Gr("div",{position:"fixed",top:0,right:0,zIndex:9999,fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif`,backgroundColor:"rgba(36, 36, 36, .9)",color:"#fff",margin:0,minHeight:"100px",padding:"4px 0","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",userSelect:"none","&.top-left":{right:"initial",left:0},"&.bottom-left":{right:"initial",top:"initial",bottom:0,left:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.bottom-right":{top:"initial",bottom:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.minimal":{backgroundColor:"rgba(36, 36, 36, .75)"},"*":{margin:"0",padding:"0",border:"0",fontSize:"100%",lineHeight:"1",verticalAlign:"baseline"}}),S4=Gr("small",{position:"absolute",right:0,fontSize:"10px"}),Si=Gr("div",{display:"inline-flex",fontStyle:"normal",padding:0,lineHeight:"13px",fontSize:"14px",width:"62px",position:"relative",pointerEvents:"auto",cursor:"default",fontWeight:500,letterSpacing:"0px",textAlign:"left",height:"29px",whiteSpace:"nowrap",justifyContent:"space-evenly",fontVariantNumeric:"tabular-nums",small:{paddingLeft:"12px"},svg:{padding:0,color:"rgba(145, 145, 145, 0.3)",fontSize:"40px",position:"absolute",zIndex:1,maxHeight:"20px",left:" 50%",marginLeft:"-23px",top:"4px"}}),ss=Gr("span",{verticalAlign:"bottom",position:"absolute",bottom:"5px",color:"rgba(101, 197, 188, 1)",textAlign:"right",letterSpacing:"1px",fontSize:"8px",fontWeight:"500",width:"60px"}),WQ=Gr("div",{display:"flex"}),jQ=Gr("div",{backgroundColor:"#404040",padding:"6px",display:"block",fontSize:"12px",marginBottom:"6px",cursor:"pointer","*":{cursor:"pointer !important"},"> span":{},small:{fontSize:"9px"},"> b":{marginRight:"4px",cursor:"pointer"}}),XQ=Gr("div",{height:"66px",overflow:"hidden",position:"absolute",pointerEvents:"none",display:"flex",top:"0px",justifyContent:"center",width:"100%",minWidth:"310px",margin:"0 auto",canvas:{background:"transparent !important",position:"absolute !important"}}),YQ=Gr("div",{textAlign:"center",fontWeight:700,fontSize:"12px",lineHeight:"12px",display:"flex",justifyContent:"center",alignItems:"center",verticalAlign:"middle",color:"#f1f1f1",padding:"7px",width:"100%",backgroundColor:"rgba(36, 36, 37, 0.8)",zIndex:1,position:"absolute",height:"100%"}),JS=Gr("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),KQ=Gr("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",float:"right",backgroundColor:"rgb(41, 43, 45)",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),JQ=Gr("div",{padding:"4px 6px",fontSize:"12px",pointerEvents:"auto"}),ZQ=Gr("span",{fontWeight:"bold",letterSpacing:"0.08em",maxWidth:"145px",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",verticalAlign:"middle",fontSize:"11px",marginRight:"10px"}),QQ=Gr("div",{maxHeight:"50vh",overflowY:"auto",marginTop:"38px"}),qQ=Gr("div",{marginTop:"0"}),BT=Gr("div",{display:"flex",position:"relative",fontWeight:"bold",color:"#fff",lineHeight:"14px",svg:{marginRight:"4px",display:"inline-block"}}),YB=Gr("ul",{display:"block",position:"relative",paddingLeft:"10px",margin:"6px 6px",img:{maxHeight:"60px",maxWidth:"100%",margin:"6px auto",display:"block"},"&:after":{content:"",position:"absolute",left:"0px",top:"0px",width:"1px",height:"100%",backgroundColor:"grey",transform:"translateX(-50%)",maxHeight:"50vh",overflowY:"auto"},li:{borderBottom:"1px solid #313131",display:"block",padding:"4px",margin:0,lineHeight:1,verticalAlign:"middle",height:"24px"},b:{fontWeight:"bold"},small:{textAlign:"revert",letterSpacing:"1px",fontSize:"10px",fontWeight:"500",marginLeft:"2px",color:"rgb(101, 197, 188)"}}),KB=Gr("button",{fontWeight:"bold",letterSpacing:"0.02em",backgroundColor:"rgb(41, 43, 45)",color:"rgb(211, 211, 211)",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",display:"block",verticalAlign:"middle",fontSize:"11px",padding:"5px",margin:"4px auto"}),$Q=Gr("div",{display:"flex",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0 auto",color:"rgba(145, 145, 145, 1)",textAlign:"center",position:"absolute",right:0,bottom:" -20px",svg:{width:"12px",height:"12px",float:"left"}}),eq=Gr("li",{display:"flex !important",height:"auto !important",span:{height:"40px",display:"block",position:"relative"},b:{paddingLeft:"12px"}});function xr(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var tq=["color"],JB=R.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=xr(t,tq);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),R.createElement("path",{d:"M0 1.5C0 1.22386 0.223858 1 0.5 1H2.5C2.77614 1 3 1.22386 3 1.5C3 1.77614 2.77614 2 2.5 2H0.5C0.223858 2 0 1.77614 0 1.5ZM4 1.5C4 1.22386 4.22386 1 4.5 1H14.5C14.7761 1 15 1.22386 15 1.5C15 1.77614 14.7761 2 14.5 2H4.5C4.22386 2 4 1.77614 4 1.5ZM4 4.5C4 4.22386 4.22386 4 4.5 4H11.5C11.7761 4 12 4.22386 12 4.5C12 4.77614 11.7761 5 11.5 5H4.5C4.22386 5 4 4.77614 4 4.5ZM0 7.5C0 7.22386 0.223858 7 0.5 7H2.5C2.77614 7 3 7.22386 3 7.5C3 7.77614 2.77614 8 2.5 8H0.5C0.223858 8 0 7.77614 0 7.5ZM4 7.5C4 7.22386 4.22386 7 4.5 7H14.5C14.7761 7 15 7.22386 15 7.5C15 7.77614 14.7761 8 14.5 8H4.5C4.22386 8 4 7.77614 4 7.5ZM4 10.5C4 10.2239 4.22386 10 4.5 10H11.5C11.7761 10 12 10.2239 12 10.5C12 10.7761 11.7761 11 11.5 11H4.5C4.22386 11 4 10.7761 4 10.5ZM0 13.5C0 13.2239 0.223858 13 0.5 13H2.5C2.77614 13 3 13.2239 3 13.5C3 13.7761 2.77614 14 2.5 14H0.5C0.223858 14 0 13.7761 0 13.5ZM4 13.5C4 13.2239 4.22386 13 4.5 13H14.5C14.7761 13 15 13.2239 15 13.5C15 13.7761 14.7761 14 14.5 14H4.5C4.22386 14 4 13.7761 4 13.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),nq=["color"],rq=R.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=xr(t,nq);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),R.createElement("path",{d:"M11.5 1C11.7761 1 12 1.22386 12 1.5V13.5C12 13.7761 11.7761 14 11.5 14C11.2239 14 11 13.7761 11 13.5V1.5C11 1.22386 11.2239 1 11.5 1ZM9.5 3C9.77614 3 10 3.22386 10 3.5V13.5C10 13.7761 9.77614 14 9.5 14C9.22386 14 9 13.7761 9 13.5V3.5C9 3.22386 9.22386 3 9.5 3ZM13.5 3C13.7761 3 14 3.22386 14 3.5V13.5C14 13.7761 13.7761 14 13.5 14C13.2239 14 13 13.7761 13 13.5V3.5C13 3.22386 13.2239 3 13.5 3ZM5.5 4C5.77614 4 6 4.22386 6 4.5V13.5C6 13.7761 5.77614 14 5.5 14C5.22386 14 5 13.7761 5 13.5V4.5C5 4.22386 5.22386 4 5.5 4ZM1.5 5C1.77614 5 2 5.22386 2 5.5V13.5C2 13.7761 1.77614 14 1.5 14C1.22386 14 1 13.7761 1 13.5V5.5C1 5.22386 1.22386 5 1.5 5ZM7.5 5C7.77614 5 8 5.22386 8 5.5V13.5C8 13.7761 7.77614 14 7.5 14C7.22386 14 7 13.7761 7 13.5V5.5C7 5.22386 7.22386 5 7.5 5ZM3.5 7C3.77614 7 4 7.22386 4 7.5V13.5C4 13.7761 3.77614 14 3.5 14C3.22386 14 3 13.7761 3 13.5V7.5C3 7.22386 3.22386 7 3.5 7Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),iq=["color"],sq=R.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=xr(t,iq);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),R.createElement("path",{d:"M2 5H13C13.5523 5 14 5.44772 14 6V9C14 9.55228 13.5523 10 13 10H2C1.44772 10 1 9.55228 1 9V6C1 5.44772 1.44772 5 2 5ZM0 6C0 4.89543 0.895431 4 2 4H13C14.1046 4 15 4.89543 15 6V9C15 10.1046 14.1046 11 13 11H2C0.89543 11 0 10.1046 0 9V6ZM4.5 6.75C4.08579 6.75 3.75 7.08579 3.75 7.5C3.75 7.91421 4.08579 8.25 4.5 8.25C4.91421 8.25 5.25 7.91421 5.25 7.5C5.25 7.08579 4.91421 6.75 4.5 6.75ZM6.75 7.5C6.75 7.08579 7.08579 6.75 7.5 6.75C7.91421 6.75 8.25 7.08579 8.25 7.5C8.25 7.91421 7.91421 8.25 7.5 8.25C7.08579 8.25 6.75 7.91421 6.75 7.5ZM10.5 6.75C10.0858 6.75 9.75 7.08579 9.75 7.5C9.75 7.91421 10.0858 8.25 10.5 8.25C10.9142 8.25 11.25 7.91421 11.25 7.5C11.25 7.08579 10.9142 6.75 10.5 6.75Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),oq=["color"],aq=R.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=xr(t,oq);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),R.createElement("path",{d:"M7.28856 0.796908C7.42258 0.734364 7.57742 0.734364 7.71144 0.796908L13.7114 3.59691C13.8875 3.67906 14 3.85574 14 4.05V10.95C14 11.1443 13.8875 11.3209 13.7114 11.4031L7.71144 14.2031C7.57742 14.2656 7.42258 14.2656 7.28856 14.2031L1.28856 11.4031C1.11252 11.3209 1 11.1443 1 10.95V4.05C1 3.85574 1.11252 3.67906 1.28856 3.59691L7.28856 0.796908ZM2 4.80578L7 6.93078V12.9649L2 10.6316V4.80578ZM8 12.9649L13 10.6316V4.80578L8 6.93078V12.9649ZM7.5 6.05672L12.2719 4.02866L7.5 1.80176L2.72809 4.02866L7.5 6.05672Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),lq=["color"],uq=R.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=xr(t,lq);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),R.createElement("path",{d:"M7.5 9.125C8.39746 9.125 9.125 8.39746 9.125 7.5C9.125 6.60254 8.39746 5.875 7.5 5.875C6.60254 5.875 5.875 6.60254 5.875 7.5C5.875 8.39746 6.60254 9.125 7.5 9.125ZM7.5 10.125C8.94975 10.125 10.125 8.94975 10.125 7.5C10.125 6.05025 8.94975 4.875 7.5 4.875C6.05025 4.875 4.875 6.05025 4.875 7.5C4.875 8.94975 6.05025 10.125 7.5 10.125Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),cq=["color"],fq=R.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=xr(t,cq);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),R.createElement("path",{d:"M7.49999 3.09998C7.27907 3.09998 7.09999 3.27906 7.09999 3.49998C7.09999 3.72089 7.27907 3.89998 7.49999 3.89998H14.5C14.7209 3.89998 14.9 3.72089 14.9 3.49998C14.9 3.27906 14.7209 3.09998 14.5 3.09998H7.49999ZM7.49998 5.1C7.27907 5.1 7.09998 5.27908 7.09998 5.5C7.09998 5.72091 7.27907 5.9 7.49998 5.9H14.5C14.7209 5.9 14.9 5.72091 14.9 5.5C14.9 5.27908 14.7209 5.1 14.5 5.1H7.49998ZM7.1 7.5C7.1 7.27908 7.27909 7.1 7.5 7.1H14.5C14.7209 7.1 14.9 7.27908 14.9 7.5C14.9 7.72091 14.7209 7.9 14.5 7.9H7.5C7.27909 7.9 7.1 7.72091 7.1 7.5ZM7.49998 9.1C7.27907 9.1 7.09998 9.27908 7.09998 9.5C7.09998 9.72091 7.27907 9.9 7.49998 9.9H14.5C14.7209 9.9 14.9 9.72091 14.9 9.5C14.9 9.27908 14.7209 9.1 14.5 9.1H7.49998ZM7.09998 11.5C7.09998 11.2791 7.27907 11.1 7.49998 11.1H14.5C14.7209 11.1 14.9 11.2791 14.9 11.5C14.9 11.7209 14.7209 11.9 14.5 11.9H7.49998C7.27907 11.9 7.09998 11.7209 7.09998 11.5ZM2.5 9.25003L5 6.00003H0L2.5 9.25003Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),hq=["color"],dq=R.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=xr(t,hq);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),R.createElement("path",{d:"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),pq=["color"],mq=R.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=xr(t,pq);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),R.createElement("path",{d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),gq=["color"],Xx=R.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=xr(t,gq);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),R.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),vq=["color"],yq=R.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=xr(t,vq);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),R.createElement("path",{d:"M5.49998 0.5C5.49998 0.223858 5.72383 0 5.99998 0H7.49998H8.99998C9.27612 0 9.49998 0.223858 9.49998 0.5C9.49998 0.776142 9.27612 1 8.99998 1H7.99998V2.11922C9.09832 2.20409 10.119 2.56622 10.992 3.13572C11.0116 3.10851 11.0336 3.08252 11.058 3.05806L12.058 2.05806C12.3021 1.81398 12.6978 1.81398 12.9419 2.05806C13.186 2.30214 13.186 2.69786 12.9419 2.94194L11.967 3.91682C13.1595 5.07925 13.9 6.70314 13.9 8.49998C13.9 12.0346 11.0346 14.9 7.49998 14.9C3.96535 14.9 1.09998 12.0346 1.09998 8.49998C1.09998 5.13361 3.69904 2.3743 6.99998 2.11922V1H5.99998C5.72383 1 5.49998 0.776142 5.49998 0.5ZM2.09998 8.49998C2.09998 5.51764 4.51764 3.09998 7.49998 3.09998C10.4823 3.09998 12.9 5.51764 12.9 8.49998C12.9 11.4823 10.4823 13.9 7.49998 13.9C4.51764 13.9 2.09998 11.4823 2.09998 8.49998ZM7.49998 8.49998V4.09998C5.06992 4.09998 3.09998 6.06992 3.09998 8.49998C3.09998 10.93 5.06992 12.9 7.49998 12.9C8.715 12.9 9.815 12.4075 10.6112 11.6112L7.49998 8.49998Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),xq=["color"],Sq=R.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=xr(t,xq);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),R.createElement("path",{d:"M7.75432 0.819537C7.59742 0.726821 7.4025 0.726821 7.24559 0.819537L1.74559 4.06954C1.59336 4.15949 1.49996 4.32317 1.49996 4.5C1.49996 4.67683 1.59336 4.84051 1.74559 4.93046L7.24559 8.18046C7.4025 8.27318 7.59742 8.27318 7.75432 8.18046L13.2543 4.93046C13.4066 4.84051 13.5 4.67683 13.5 4.5C13.5 4.32317 13.4066 4.15949 13.2543 4.06954L7.75432 0.819537ZM7.49996 7.16923L2.9828 4.5L7.49996 1.83077L12.0171 4.5L7.49996 7.16923ZM1.5695 7.49564C1.70998 7.2579 2.01659 7.17906 2.25432 7.31954L7.49996 10.4192L12.7456 7.31954C12.9833 7.17906 13.2899 7.2579 13.4304 7.49564C13.5709 7.73337 13.4921 8.03998 13.2543 8.18046L7.75432 11.4305C7.59742 11.5232 7.4025 11.5232 7.24559 11.4305L1.74559 8.18046C1.50786 8.03998 1.42901 7.73337 1.5695 7.49564ZM1.56949 10.4956C1.70998 10.2579 2.01658 10.1791 2.25432 10.3195L7.49996 13.4192L12.7456 10.3195C12.9833 10.1791 13.2899 10.2579 13.4304 10.4956C13.5709 10.7334 13.4921 11.04 13.2543 11.1805L7.75432 14.4305C7.59742 14.5232 7.4025 14.5232 7.24559 14.4305L1.74559 11.1805C1.50785 11.04 1.42901 10.7334 1.56949 10.4956Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),_q=["color"],wq=R.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=xr(t,_q);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),R.createElement("path",{d:"M8.69667 0.0403541C8.90859 0.131038 9.03106 0.354857 8.99316 0.582235L8.0902 6.00001H12.5C12.6893 6.00001 12.8625 6.10701 12.9472 6.27641C13.0319 6.4458 13.0136 6.6485 12.8999 6.80001L6.89997 14.8C6.76167 14.9844 6.51521 15.0503 6.30328 14.9597C6.09135 14.869 5.96888 14.6452 6.00678 14.4178L6.90974 9H2.49999C2.31061 9 2.13748 8.893 2.05278 8.72361C1.96809 8.55422 1.98636 8.35151 2.09999 8.2L8.09997 0.200038C8.23828 0.0156255 8.48474 -0.0503301 8.69667 0.0403541ZM3.49999 8.00001H7.49997C7.64695 8.00001 7.78648 8.06467 7.88148 8.17682C7.97648 8.28896 8.01733 8.43723 7.99317 8.5822L7.33027 12.5596L11.5 7.00001H7.49997C7.353 7.00001 7.21347 6.93534 7.11846 6.8232C7.02346 6.71105 6.98261 6.56279 7.00678 6.41781L7.66968 2.44042L3.49999 8.00001Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Eq=["color"],bq=R.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=xr(t,Eq);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),R.createElement("path",{d:"M1.49988 2.00012C1.77602 2.00012 1.99988 1.77626 1.99988 1.50012C1.99988 1.22398 1.77602 1.00012 1.49988 1.00012C1.22374 1.00012 0.999878 1.22398 0.999878 1.50012C0.999878 1.77626 1.22374 2.00012 1.49988 2.00012ZM4.49988 2.00012C4.77602 2.00012 4.99988 1.77626 4.99988 1.50012C4.99988 1.22398 4.77602 1.00012 4.49988 1.00012C4.22374 1.00012 3.99988 1.22398 3.99988 1.50012C3.99988 1.77626 4.22374 2.00012 4.49988 2.00012ZM7.99988 1.50012C7.99988 1.77626 7.77602 2.00012 7.49988 2.00012C7.22374 2.00012 6.99988 1.77626 6.99988 1.50012C6.99988 1.22398 7.22374 1.00012 7.49988 1.00012C7.77602 1.00012 7.99988 1.22398 7.99988 1.50012ZM10.4999 2.00012C10.776 2.00012 10.9999 1.77626 10.9999 1.50012C10.9999 1.22398 10.776 1.00012 10.4999 1.00012C10.2237 1.00012 9.99988 1.22398 9.99988 1.50012C9.99988 1.77626 10.2237 2.00012 10.4999 2.00012ZM13.9999 1.50012C13.9999 1.77626 13.776 2.00012 13.4999 2.00012C13.2237 2.00012 12.9999 1.77626 12.9999 1.50012C12.9999 1.22398 13.2237 1.00012 13.4999 1.00012C13.776 1.00012 13.9999 1.22398 13.9999 1.50012ZM1.49988 14.0001C1.77602 14.0001 1.99988 13.7763 1.99988 13.5001C1.99988 13.224 1.77602 13.0001 1.49988 13.0001C1.22374 13.0001 0.999878 13.224 0.999878 13.5001C0.999878 13.7763 1.22374 14.0001 1.49988 14.0001ZM1.99988 10.5001C1.99988 10.7763 1.77602 11.0001 1.49988 11.0001C1.22374 11.0001 0.999878 10.7763 0.999878 10.5001C0.999878 10.224 1.22374 10.0001 1.49988 10.0001C1.77602 10.0001 1.99988 10.224 1.99988 10.5001ZM1.49988 8.00012C1.77602 8.00012 1.99988 7.77626 1.99988 7.50012C1.99988 7.22398 1.77602 7.00012 1.49988 7.00012C1.22374 7.00012 0.999878 7.22398 0.999878 7.50012C0.999878 7.77626 1.22374 8.00012 1.49988 8.00012ZM1.99988 4.50012C1.99988 4.77626 1.77602 5.00012 1.49988 5.00012C1.22374 5.00012 0.999878 4.77626 0.999878 4.50012C0.999878 4.22398 1.22374 4.00012 1.49988 4.00012C1.77602 4.00012 1.99988 4.22398 1.99988 4.50012ZM13.4999 11.0001C13.776 11.0001 13.9999 10.7763 13.9999 10.5001C13.9999 10.224 13.776 10.0001 13.4999 10.0001C13.2237 10.0001 12.9999 10.224 12.9999 10.5001C12.9999 10.7763 13.2237 11.0001 13.4999 11.0001ZM13.9999 7.50012C13.9999 7.77626 13.776 8.00012 13.4999 8.00012C13.2237 8.00012 12.9999 7.77626 12.9999 7.50012C12.9999 7.22398 13.2237 7.00012 13.4999 7.00012C13.776 7.00012 13.9999 7.22398 13.9999 7.50012ZM13.4999 5.00012C13.776 5.00012 13.9999 4.77626 13.9999 4.50012C13.9999 4.22398 13.776 4.00012 13.4999 4.00012C13.2237 4.00012 12.9999 4.22398 12.9999 4.50012C12.9999 4.77626 13.2237 5.00012 13.4999 5.00012ZM4.99988 13.5001C4.99988 13.7763 4.77602 14.0001 4.49988 14.0001C4.22374 14.0001 3.99988 13.7763 3.99988 13.5001C3.99988 13.224 4.22374 13.0001 4.49988 13.0001C4.77602 13.0001 4.99988 13.224 4.99988 13.5001ZM7.49988 14.0001C7.77602 14.0001 7.99988 13.7763 7.99988 13.5001C7.99988 13.224 7.77602 13.0001 7.49988 13.0001C7.22374 13.0001 6.99988 13.224 6.99988 13.5001C6.99988 13.7763 7.22374 14.0001 7.49988 14.0001ZM10.9999 13.5001C10.9999 13.7763 10.776 14.0001 10.4999 14.0001C10.2237 14.0001 9.99988 13.7763 9.99988 13.5001C9.99988 13.224 10.2237 13.0001 10.4999 13.0001C10.776 13.0001 10.9999 13.224 10.9999 13.5001ZM13.4999 14.0001C13.776 14.0001 13.9999 13.7763 13.9999 13.5001C13.9999 13.224 13.776 13.0001 13.4999 13.0001C13.2237 13.0001 12.9999 13.224 12.9999 13.5001C12.9999 13.7763 13.2237 14.0001 13.4999 14.0001ZM3.99988 5.00012C3.99988 4.44784 4.44759 4.00012 4.99988 4.00012H9.99988C10.5522 4.00012 10.9999 4.44784 10.9999 5.00012V10.0001C10.9999 10.5524 10.5522 11.0001 9.99988 11.0001H4.99988C4.44759 11.0001 3.99988 10.5524 3.99988 10.0001V5.00012ZM4.99988 5.00012H9.99988V10.0001H4.99988V5.00012Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Mq=["color"],Tq=R.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=xr(t,Mq);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),R.createElement("path",{d:"M2.25 7.5C2.25 7.22386 2.47386 7 2.75 7H12.25C12.5261 7 12.75 7.22386 12.75 7.5C12.75 7.77614 12.5261 8 12.25 8H2.75C2.47386 8 2.25 7.77614 2.25 7.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Aq=["color"],Cq=R.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=xr(t,Aq);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),R.createElement("path",{d:"M6.04995 2.74998C6.04995 2.44623 5.80371 2.19998 5.49995 2.19998C5.19619 2.19998 4.94995 2.44623 4.94995 2.74998V12.25C4.94995 12.5537 5.19619 12.8 5.49995 12.8C5.80371 12.8 6.04995 12.5537 6.04995 12.25V2.74998ZM10.05 2.74998C10.05 2.44623 9.80371 2.19998 9.49995 2.19998C9.19619 2.19998 8.94995 2.44623 8.94995 2.74998V12.25C8.94995 12.5537 9.19619 12.8 9.49995 12.8C9.80371 12.8 10.05 12.5537 10.05 12.25V2.74998Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Rq=["color"],Pq=R.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=xr(t,Rq);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),R.createElement("path",{d:"M6.85357 3.85355L7.65355 3.05353C8.2981 2.40901 9.42858 1.96172 10.552 1.80125C11.1056 1.72217 11.6291 1.71725 12.0564 1.78124C12.4987 1.84748 12.7698 1.97696 12.8965 2.10357C13.0231 2.23018 13.1526 2.50125 13.2188 2.94357C13.2828 3.37086 13.2779 3.89439 13.1988 4.44801C13.0383 5.57139 12.591 6.70188 11.9464 7.34645L7.49999 11.7929L6.35354 10.6465C6.15827 10.4512 5.84169 10.4512 5.64643 10.6465C5.45117 10.8417 5.45117 11.1583 5.64643 11.3536L7.14644 12.8536C7.34171 13.0488 7.65829 13.0488 7.85355 12.8536L8.40073 12.3064L9.57124 14.2572C9.65046 14.3893 9.78608 14.4774 9.9389 14.4963C10.0917 14.5151 10.2447 14.4624 10.3535 14.3536L12.3535 12.3536C12.4648 12.2423 12.5172 12.0851 12.495 11.9293L12.0303 8.67679L12.6536 8.05355C13.509 7.19808 14.0117 5.82855 14.1887 4.58943C14.2784 3.9618 14.2891 3.33847 14.2078 2.79546C14.1287 2.26748 13.9519 1.74482 13.6035 1.39645C13.2552 1.04809 12.7325 0.871332 12.2045 0.792264C11.6615 0.710945 11.0382 0.721644 10.4105 0.8113C9.17143 0.988306 7.80189 1.491 6.94644 2.34642L6.32322 2.96968L3.07071 2.50504C2.91492 2.48278 2.75773 2.53517 2.64645 2.64646L0.646451 4.64645C0.537579 4.75533 0.484938 4.90829 0.50375 5.0611C0.522563 5.21391 0.61073 5.34954 0.742757 5.42876L2.69364 6.59928L2.14646 7.14645C2.0527 7.24022 2.00002 7.3674 2.00002 7.50001C2.00002 7.63261 2.0527 7.75979 2.14646 7.85356L3.64647 9.35356C3.84173 9.54883 4.15831 9.54883 4.35357 9.35356C4.54884 9.1583 4.54884 8.84172 4.35357 8.64646L3.20712 7.50001L3.85357 6.85356L6.85357 3.85355ZM10.0993 13.1936L9.12959 11.5775L11.1464 9.56067L11.4697 11.8232L10.0993 13.1936ZM3.42251 5.87041L5.43935 3.85356L3.17678 3.53034L1.80638 4.90074L3.42251 5.87041ZM2.35356 10.3535C2.54882 10.1583 2.54882 9.8417 2.35356 9.64644C2.1583 9.45118 1.84171 9.45118 1.64645 9.64644L0.646451 10.6464C0.451188 10.8417 0.451188 11.1583 0.646451 11.3535C0.841713 11.5488 1.1583 11.5488 1.35356 11.3535L2.35356 10.3535ZM3.85358 11.8536C4.04884 11.6583 4.04885 11.3417 3.85359 11.1465C3.65833 10.9512 3.34175 10.9512 3.14648 11.1465L1.14645 13.1464C0.95119 13.3417 0.951187 13.6583 1.14645 13.8535C1.34171 14.0488 1.65829 14.0488 1.85355 13.8536L3.85358 11.8536ZM5.35356 13.3535C5.54882 13.1583 5.54882 12.8417 5.35356 12.6464C5.1583 12.4512 4.84171 12.4512 4.64645 12.6464L3.64645 13.6464C3.45119 13.8417 3.45119 14.1583 3.64645 14.3535C3.84171 14.5488 4.1583 14.5488 4.35356 14.3535L5.35356 13.3535ZM9.49997 6.74881C10.1897 6.74881 10.7488 6.1897 10.7488 5.5C10.7488 4.8103 10.1897 4.25118 9.49997 4.25118C8.81026 4.25118 8.25115 4.8103 8.25115 5.5C8.25115 6.1897 8.81026 6.74881 9.49997 6.74881Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Dq=["color"],Lq=R.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=xr(t,Dq);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),R.createElement("path",{d:"M0.5 4C0.223858 4 0 4.22386 0 4.5V10.5C0 10.7761 0.223858 11 0.5 11H14.5C14.7761 11 15 10.7761 15 10.5V4.5C15 4.22386 14.7761 4 14.5 4H0.5ZM1 10V5H2.075V7.5C2.075 7.73472 2.26528 7.925 2.5 7.925C2.73472 7.925 2.925 7.73472 2.925 7.5V5H4.075V6.5C4.075 6.73472 4.26528 6.925 4.5 6.925C4.73472 6.925 4.925 6.73472 4.925 6.5V5H6.075V6.5C6.075 6.73472 6.26528 6.925 6.5 6.925C6.73472 6.925 6.925 6.73472 6.925 6.5V5H8.075V7.5C8.075 7.73472 8.26528 7.925 8.5 7.925C8.73472 7.925 8.925 7.73472 8.925 7.5V5H10.075V6.5C10.075 6.73472 10.2653 6.925 10.5 6.925C10.7347 6.925 10.925 6.73472 10.925 6.5V5H12.075V6.5C12.075 6.73472 12.2653 6.925 12.5 6.925C12.7347 6.925 12.925 6.73472 12.925 6.5V5H14V10H1Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Iq=["color"],Bq=R.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=xr(t,Iq);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),R.createElement("path",{d:"M2.5 4C2.22386 4 2 4.22386 2 4.5C2 4.77614 2.22386 5 2.5 5H12.5C12.7761 5 13 4.77614 13 4.5C13 4.22386 12.7761 4 12.5 4H2.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Fq=["color"],ZB=R.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=xr(t,Fq);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),R.createElement("path",{d:"M4 6H11L7.5 10.5L4 6Z",fill:r}))}),Uq=["color"],QB=R.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=xr(t,Uq);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),R.createElement("path",{d:"M4 9H11L7.5 4.5L4 9Z",fill:r}))}),Oq=["color"],qB=R.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=xr(t,Oq);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),R.createElement("path",{d:"M7.49998 1L6.92321 2.00307L1.17498 12L0.599976 13H1.7535H13.2464H14.4L13.825 12L8.07674 2.00307L7.49998 1ZM7.49998 3.00613L2.3285 12H12.6714L7.49998 3.00613Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});const b1=new X,ZS=new X,kq=new X;function Nq(t,e,n){const r=b1.setFromMatrixPosition(t.matrixWorld);r.project(e);const i=n.width/2,s=n.height/2;return[r.x*i+i,-(r.y*s)+s]}function zq(t,e){const n=b1.setFromMatrixPosition(t.matrixWorld),r=ZS.setFromMatrixPosition(e.matrixWorld),i=n.sub(r),s=e.getWorldDirection(kq);return i.angleTo(s)>Math.PI/2}function Gq(t,e,n,r){const i=b1.setFromMatrixPosition(t.matrixWorld),s=i.clone();s.project(e),n.setFromCamera(s,e);const o=n.intersectObjects(r,!0);if(o.length){const a=o[0].distance;return i.distanceTo(n.ray.origin)<a}return!0}function Hq(t,e){if(e instanceof Us)return e.zoom;if(e instanceof hn){const n=b1.setFromMatrixPosition(t.matrixWorld),r=ZS.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=n.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function Vq(t,e,n){if(e instanceof hn||e instanceof Us){const r=b1.setFromMatrixPosition(t.matrixWorld),i=ZS.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(n[1]-n[0])/(e.far-e.near),a=n[1]-o*e.far;return Math.round(o*s+a)}}const Yx=t=>Math.abs(t)<1e-10?0:t;function $B(t,e,n=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=Yx(e[i]*t.elements[i])+(i!==15?",":")");return n+r}const Wq=(t=>e=>$B(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),jq=(t=>(e,n)=>$B(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function Xq(t){return t&&typeof t=="object"&&"current"in t}const QS=R.forwardRef(({children:t,eps:e=.001,style:n,className:r,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:u=!1,transform:c=!1,occlude:f,onOcclude:h,castShadow:p,receiveShadow:g,material:x,geometry:y,zIndexRange:v=[16777271,0],calculatePosition:S=Nq,as:_="div",wrapperClass:E,pointerEvents:b="auto",...T},A)=>{const{gl:D,camera:C,scene:L,size:k,raycaster:z,events:H,viewport:V}=cn(),[K]=R.useState(()=>document.createElement(_)),J=R.useRef(),$=R.useRef(null),U=R.useRef(0),G=R.useRef([0,0]),W=R.useRef(null),F=R.useRef(null),j=(a==null?void 0:a.current)||H.connected||D.domElement.parentNode,ie=R.useRef(null),se=R.useRef(!1),re=R.useMemo(()=>f&&f!=="blending"||Array.isArray(f)&&f.length&&Xq(f[0]),[f]);R.useLayoutEffect(()=>{const He=D.domElement;f&&f==="blending"?(He.style.zIndex=`${Math.floor(v[0]/2)}`,He.style.position="absolute",He.style.pointerEvents="none"):(He.style.zIndex=null,He.style.position=null,He.style.pointerEvents=null)},[f]),R.useLayoutEffect(()=>{if($.current){const He=J.current=W7(K);if(L.updateMatrixWorld(),c)K.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const ge=S($.current,C,k);K.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${ge[0]}px,${ge[1]}px,0);transform-origin:0 0;`}return j&&(i?j.prepend(K):j.appendChild(K)),()=>{j&&j.removeChild(K),He.unmount()}}},[j,c]),R.useLayoutEffect(()=>{E&&(K.className=E)},[E]);const fe=R.useMemo(()=>c?{position:"absolute",top:0,left:0,width:k.width,height:k.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-k.height/2,left:-k.width/2,width:k.width,height:k.height},...n},[n,s,o,k,c]),oe=R.useMemo(()=>({position:"absolute",pointerEvents:b}),[b]);R.useLayoutEffect(()=>{if(se.current=!1,c){var He;(He=J.current)==null||He.render(R.createElement("div",{ref:W,style:fe},R.createElement("div",{ref:F,style:oe},R.createElement("div",{ref:A,className:r,style:n,children:t}))))}else{var ge;(ge=J.current)==null||ge.render(R.createElement("div",{ref:A,style:fe,className:r,children:t}))}});const he=R.useRef(!0);lc(He=>{if($.current){C.updateMatrixWorld(),$.current.updateWorldMatrix(!0,!1);const ge=c?G.current:S($.current,C,k);if(c||Math.abs(U.current-C.zoom)>e||Math.abs(G.current[0]-ge[0])>e||Math.abs(G.current[1]-ge[1])>e){const Y=zq($.current,C);let Se=!1;re&&(Array.isArray(f)?Se=f.map(ze=>ze.current):f!=="blending"&&(Se=[L]));const me=he.current;if(Se){const ze=Gq($.current,C,z,Se);he.current=ze&&!Y}else he.current=!Y;me!==he.current&&(h?h(!he.current):K.style.display=he.current?"block":"none");const de=Math.floor(v[0]/2),pe=f?re?[v[0],de]:[de-1,0]:v;if(K.style.zIndex=`${Vq($.current,C,pe)}`,c){const[ze,ye]=[k.width/2,k.height/2],Be=C.projectionMatrix.elements[5]*ye,{isOrthographicCamera:Ue,top:Ce,left:$e,bottom:N,right:O}=C,ne=Wq(C.matrixWorldInverse),Ae=Ue?`scale(${Be})translate(${Yx(-(O+$e)/2)}px,${Yx((Ce+N)/2)}px)`:`translateZ(${Be}px)`;let be=$.current.matrixWorld;u&&(be=C.matrixWorldInverse.clone().transpose().copyPosition(be).scale($.current.scale),be.elements[3]=be.elements[7]=be.elements[11]=0,be.elements[15]=1),K.style.width=k.width+"px",K.style.height=k.height+"px",K.style.perspective=Ue?"":`${Be}px`,W.current&&F.current&&(W.current.style.transform=`${Ae}${ne}translate(${ze}px,${ye}px)`,F.current.style.transform=jq(be,1/((l||10)/400)))}else{const ze=l===void 0?1:Hq($.current,C)*l;K.style.transform=`translate3d(${ge[0]}px,${ge[1]}px,0) scale(${ze})`}G.current=ge,U.current=C.zoom}}if(!re&&ie.current&&!se.current)if(c){if(W.current){const ge=W.current.children[0];if(ge!=null&&ge.clientWidth&&ge!=null&&ge.clientHeight){const{isOrthographicCamera:Y}=C;if(Y||y)T.scale&&(Array.isArray(T.scale)?T.scale instanceof X?ie.current.scale.copy(T.scale.clone().divideScalar(1)):ie.current.scale.set(1/T.scale[0],1/T.scale[1],1/T.scale[2]):ie.current.scale.setScalar(1/T.scale));else{const Se=(l||10)/400,me=ge.clientWidth*Se,de=ge.clientHeight*Se;ie.current.scale.set(me,de,1)}se.current=!0}}}else{const ge=K.children[0];if(ge!=null&&ge.clientWidth&&ge!=null&&ge.clientHeight){const Y=1/V.factor,Se=ge.clientWidth*Y,me=ge.clientHeight*Y;ie.current.scale.set(Se,me,1),se.current=!0}ie.current.lookAt(He.camera.position)}});const ke=R.useMemo(()=>({vertexShader:c?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[c]);return R.createElement("group",kn({},T,{ref:$}),f&&!re&&R.createElement("mesh",{castShadow:p,receiveShadow:g,ref:ie},y||R.createElement("planeGeometry",null),x||R.createElement("shaderMaterial",{side:Zr,vertexShader:ke.vertexShader,fragmentShader:ke.fragmentShader})))});let g0=0;const Yq=K5(t=>(rd.onStart=(e,n,r)=>{t({active:!0,item:e,loaded:n,total:r,progress:(n-g0)/(r-g0)*100})},rd.onLoad=()=>{t({active:!1})},rd.onError=e=>t(n=>({errors:[...n.errors,e]})),rd.onProgress=(e,n,r)=>{n===r&&(g0=r),t({active:!0,item:e,loaded:n,total:r,progress:(n-g0)/(r-g0)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function Kq(t,e,n){return Math.max(e,Math.min(t,n))}const Ei={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function FT(t,e,n){return e===0||Math.abs(e)===1/0?Math.pow(t,n*5):t*e*n/(e+n*t)}function UT(t,e,n,r=.15){return r===0?Kq(t,e,n):t<e?-FT(e-t,n-e,r)+e:t>n?+FT(t-n,n-e,r)+n:t}function Jq(t,[e,n],[r,i]){const[[s,o],[a,l]]=t;return[UT(e,s,o,r),UT(n,a,l,i)]}function Zq(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qq(t){var e=Zq(t,"string");return typeof e=="symbol"?e:String(e)}function ns(t,e,n){return e=Qq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OT(Object(n),!0).forEach(function(r){ns(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const eF={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function kT(t){return t?t[0].toUpperCase()+t.slice(1):""}const qq=["enter","leave"];function $q(t=!1,e){return t&&!qq.includes(e)}function e$(t,e="",n=!1){const r=eF[t],i=r&&r[e]||e;return"on"+kT(t)+kT(i)+($q(n,i)?"Capture":"")}const t$=["gotpointercapture","lostpointercapture"];function n$(t){let e=t.substring(2).toLowerCase();const n=!!~e.indexOf("passive");n&&(e=e.replace("passive",""));const r=t$.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:n}}function r$(t,e=""){const n=eF[t],r=n&&n[e]||e;return t+r}function J5(t){return"touches"in t}function tF(t){return J5(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function i$(t){return Array.from(t.touches).filter(e=>{var n,r;return e.target===t.currentTarget||((n=t.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,e.target))})}function s$(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function nF(t){return J5(t)?s$(t)[0]:t}function o$(t){return i$(t).map(e=>e.identifier)}function _4(t){const e=nF(t);return J5(t)?e.identifier:e.pointerId}function NT(t){const e=nF(t);return[e.clientX,e.clientY]}function a$(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s}=t;Object.assign(e,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s})}return e}function xv(t,...e){return typeof t=="function"?t(...e):t}function l$(){}function u$(...t){return t.length===0?l$:t.length===1?t[0]:function(){let e;for(const n of t)e=n.apply(this,arguments)||e;return e}}function zT(t,e){return Object.assign({},e,t||{})}const c$=32;class f${constructor(e,n,r){this.ctrl=e,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:n,ingKey:r,args:i}=this;n[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=e.target,n.currentTarget=e.currentTarget,n.lastOffset=r.from?xv(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=e.timeStamp)}computeValues(e){const n=this.state;n._values=e,n.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:n,config:r,shared:i}=this;n.args=this.args;let s=0;if(e&&(n.event=e,r.preventDefault&&e.cancelable&&n.event.preventDefault(),n.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,a$(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-n.timeStamp,n.timeStamp=e.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const T=n._delta.map(Math.abs);Ei.addTo(n._distance,T)}this.axisIntent&&this.axisIntent(e);const[o,a]=n._movement,[l,u]=r.threshold,{_step:c,values:f}=n;if(r.hasCustomTransform?(c[0]===!1&&(c[0]=Math.abs(o)>=l&&f[0]),c[1]===!1&&(c[1]=Math.abs(a)>=u&&f[1])):(c[0]===!1&&(c[0]=Math.abs(o)>=l&&Math.sign(o)*l),c[1]===!1&&(c[1]=Math.abs(a)>=u&&Math.sign(a)*u)),n.intentional=c[0]!==!1||c[1]!==!1,!n.intentional)return;const h=[0,0];if(r.hasCustomTransform){const[T,A]=f;h[0]=c[0]!==!1?T-c[0]:0,h[1]=c[1]!==!1?A-c[1]:0}else h[0]=c[0]!==!1?o-c[0]:0,h[1]=c[1]!==!1?a-c[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(h);const p=n.offset,g=n._active&&!n._blocked||n.active;g&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=i[this.ingKey]=n._active,e&&(n.first&&("bounds"in r&&(n._bounds=xv(r.bounds,n)),this.setup&&this.setup()),n.movement=h,this.computeOffset()));const[x,y]=n.offset,[[v,S],[_,E]]=n._bounds;n.overflow=[x<v?-1:x>S?1:0,y<_?-1:y>E?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const b=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=Jq(n._bounds,n.offset,b),n.delta=Ei.sub(n.offset,p),this.computeMovement(),g&&(!n.last||s>c$)){n.delta=Ei.sub(n.offset,p);const T=n.delta.map(Math.abs);Ei.addTo(n.distance,T),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&s>0&&(n.velocity=[T[0]/s,T[1]/s],n.timeDelta=s)}}emit(){const e=this.state,n=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(qn(qn(qn({},n),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function h$([t,e],n){const r=Math.abs(t),i=Math.abs(e);if(r>i&&r>n)return"x";if(i>r&&i>n)return"y"}class d$ extends f${constructor(...e){super(...e),ns(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Ei.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Ei.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const n=this.state,r=this.config;if(!n.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[tF(e)]:r.axisThreshold;n.axis=h$(n._movement,i)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const p$=t=>t,GT=.15,rF={enabled(t=!0){return t},eventOptions(t,e,n){return qn(qn({},n.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[GT,GT];case!1:return[0,0];default:return Ei.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return Ei.toVector(t)},transform(t,e,n){const r=t||n.shared.transform;return this.hasCustomTransform=!!r,r||p$},threshold(t){return Ei.toVector(t,0)}},m$=0,M1=qn(qn({},rF),{},{axis(t,e,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(t=m$){return t},bounds(t={}){if(typeof t=="function")return s=>M1.bounds(t(s));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=t;return[[e,n],[r,i]]}}),HT={ArrowRight:(t,e=1)=>[t*e,0],ArrowLeft:(t,e=1)=>[-1*t*e,0],ArrowUp:(t,e=1)=>[0,-1*t*e],ArrowDown:(t,e=1)=>[0,t*e]};class g$ extends d${constructor(...e){super(...e),ns(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const n=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:n.left-r.left+e.offset[0],right:n.right-r.right+e.offset[0],top:n.top-r.top+e.offset[1],bottom:n.bottom-r.bottom+e.offset[1]};e._bounds=M1.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const n=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(e.buttons):n.pointerButtons!==-1&&n.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);n.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=_4(e),r._pointerActive=!0,this.computeValues(NT(e)),this.computeInitial(),n.preventScrollAxis&&tF(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):n.delay>0?(this.setupDelayTrigger(e),n.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const n=this.state,r=this.config;if(!n._pointerActive)return;const i=_4(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;const s=NT(e);if(document.pointerLockElement===e.target?n._delta=[e.movementX,e.movementY]:(n._delta=Ei.sub(s,n._values),this.computeValues(s)),Ei.addTo(n._movement,n._delta),this.compute(e),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const i=_4(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=n._distance;if(n.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[a,l]=n._delta,[u,c]=n._movement,[f,h]=r.swipe.velocity,[p,g]=r.swipe.distance,x=r.swipe.duration;if(n.elapsedTime<x){const y=Math.abs(a/n.timeDelta),v=Math.abs(l/n.timeDelta);y>f&&Math.abs(u)>p&&(n.swipe[0]=Math.sign(a)),v>h&&Math.abs(c)>g&&(n.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const n=this.config,r=n.device;n.pointerLock&&e.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,v$(e);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const n=HT[e.key];if(n){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=n(this.config.keyboardDisplacement,i),r._keyboardActive=!0,Ei.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in HT&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const n=this.config.device;e(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(n,"change",this.pointerMove.bind(this)),e(n,"end",this.pointerUp.bind(this)),e(n,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function v$(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}const T1=typeof window<"u"&&window.document&&window.document.createElement;function iF(){return T1&&"ontouchstart"in window}function y$(){return iF()||T1&&window.navigator.maxTouchPoints>1}function x$(){return T1&&"onpointerdown"in window}function S$(){return T1&&"exitPointerLock"in window.document}function _$(){try{return"constructor"in GestureEvent}catch{return!1}}const vo={isBrowser:T1,gesture:_$(),touch:iF(),touchscreen:y$(),pointer:x$(),pointerLock:S$()},w$=250,E$=180,b$=.5,M$=50,T$=250,A$=10,VT={mouse:0,touch:0,pen:8},C$=qn(qn({},M1),{},{device(t,e,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&vo.pointerLock,vo.touch&&n?"touch":this.pointerLock?"mouse":vo.pointer&&!i?"pointer":vo.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&t?w$:void 0,!(!vo.touchscreen||n===!1))return t||(n!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:n=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&n},threshold(t,e,{filterTaps:n=!1,tapsThreshold:r=3,axis:i=void 0}){const s=Ei.toVector(t,n?r:i?1:0);return this.filterTaps=n,this.tapsThreshold=r,s},swipe({velocity:t=b$,distance:e=M$,duration:n=T$}={}){return{velocity:this.transform(Ei.toVector(t)),distance:this.transform(Ei.toVector(e)),duration:n}},delay(t=0){switch(t){case!0:return E$;case!1:return 0;default:return t}},axisThreshold(t){return t?qn(qn({},VT),t):VT},keyboardDisplacement(t=A$){return t}});qn(qn({},rF),{},{device(t,e,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!vo.touch&&vo.gesture)return"gesture";if(vo.touch&&r)return"touch";if(vo.touchscreen){if(vo.pointer)return"pointer";if(vo.touch)return"touch"}},bounds(t,e,{scaleBounds:n={},angleBounds:r={}}){const i=o=>{const a=zT(xv(n,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=zT(xv(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof n!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(t,e,n){return this.lockDirection=n.axis==="lock",Ei.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});qn(qn({},M1),{},{mouseOnly:(t=!0)=>t});qn(qn({},M1),{},{mouseOnly:(t=!0)=>t});const sF=new Map,Kx=new Map;function R$(t){sF.set(t.key,t.engine),Kx.set(t.key,t.resolver)}const P$={key:"drag",engine:g$,resolver:C$};function D$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function L$(t,e){if(t==null)return{};var n=D$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}const I$={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=vo.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},B$=["target","eventOptions","window","enabled","transform"];function Dg(t={},e){const n={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":n[r]=i.call(n,t[r],r,t);break;case"object":n[r]=Dg(t[r],i);break;case"boolean":i&&(n[r]=t[r]);break}return n}function F$(t,e,n={}){const r=t,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,u=L$(r,B$);if(n.shared=Dg({target:i,eventOptions:s,window:o,enabled:a,transform:l},I$),e){const c=Kx.get(e);n[e]=Dg(qn({shared:n.shared},u),c)}else for(const c in u){const f=Kx.get(c);f&&(n[c]=Dg(qn({shared:n.shared},u[c]),f))}return n}class oF{constructor(e,n){ns(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=n}add(e,n,r,i,s){const o=this._listeners,a=r$(n,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},u=qn(qn({},l),s);e.addEventListener(a,i,u);const c=()=>{e.removeEventListener(a,i,u),o.delete(c)};return o.add(c),c}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class U${constructor(){ns(this,"_timeouts",new Map)}add(e,n,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(n,r,...i))}remove(e){const n=this._timeouts.get(e);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class O${constructor(e){ns(this,"gestures",new Set),ns(this,"_targetEventStore",new oF(this)),ns(this,"gestureEventStores",{}),ns(this,"gestureTimeoutStores",{}),ns(this,"handlers",{}),ns(this,"config",{}),ns(this,"pointerIds",new Set),ns(this,"touchIds",new Set),ns(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),k$(this,e)}setEventIds(e){if(J5(e))return this.touchIds=new Set(o$(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,n){this.handlers=e,this.nativeHandlers=n}applyConfig(e,n){this.config=F$(e,n,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const n=this.config.shared,r={};let i;if(!(n.target&&(i=n.target(),!i))){if(n.enabled){for(const o of this.gestures){const a=this.config[o],l=WT(r,a.eventOptions,!!i);if(a.enabled){const u=sF.get(o);new u(this,e,o).bind(l)}}const s=WT(r,n.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](qn(qn({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in r)r[s]=u$(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=n$(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}}function Lh(t,e){t.gestures.add(e),t.gestureEventStores[e]=new oF(t,e),t.gestureTimeoutStores[e]=new U$}function k$(t,e){e.drag&&Lh(t,"drag"),e.wheel&&Lh(t,"wheel"),e.scroll&&Lh(t,"scroll"),e.move&&Lh(t,"move"),e.pinch&&Lh(t,"pinch"),e.hover&&Lh(t,"hover")}const WT=(t,e,n)=>(r,i,s,o={},a=!1)=>{var l,u;const c=(l=o.capture)!==null&&l!==void 0?l:e.capture,f=(u=o.passive)!==null&&u!==void 0?u:e.passive;let h=a?r:e$(r,i,c);n&&f&&(h+="Passive"),t[h]=t[h]||[],t[h].push(s)};function N$(t,e={},n,r){const i=te.useMemo(()=>new O$(t),[]);if(i.applyHandlers(t,r),i.applyConfig(e,n),te.useEffect(i.effect.bind(i)),te.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function z$(t,e){return R$(P$),N$({drag:t},e||{},"drag")}const G$=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let u=o;if(a){const c=(l==null?void 0:l.equalityFn)||Object.is;let f=o(r.getState());u=h=>{const p=o(h);if(!c(f,p)){const g=f;a(f=p,g)}},l!=null&&l.fireImmediately&&a(f,f)}return i(u)},t(e,n,r)};function qS(){}qS.prototype.s2u=function(t){for(var e=this.s2uTable,n="",r=0;r<t.length;){var i=t[r++];if(!(i>=0&&i<=126||i>=161&&i<=223)&&r<t.length&&(i=i<<8|t[r++]),e[i]===void 0)return console.error("unknown char code "+i+"."),n;n+=String.fromCharCode(e[i])}return n};qS.prototype.s2uTable={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:126,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:65340,33120:65374,33121:8741,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:65293,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:65504,33170:65505,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:65506,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34624:9312,34625:9313,34626:9314,34627:9315,34628:9316,34629:9317,34630:9318,34631:9319,34632:9320,34633:9321,34634:9322,34635:9323,34636:9324,34637:9325,34638:9326,34639:9327,34640:9328,34641:9329,34642:9330,34643:9331,34644:8544,34645:8545,34646:8546,34647:8547,34648:8548,34649:8549,34650:8550,34651:8551,34652:8552,34653:8553,34655:13129,34656:13076,34657:13090,34658:13133,34659:13080,34660:13095,34661:13059,34662:13110,34663:13137,34664:13143,34665:13069,34666:13094,34667:13091,34668:13099,34669:13130,34670:13115,34671:13212,34672:13213,34673:13214,34674:13198,34675:13199,34676:13252,34677:13217,34686:13179,34688:12317,34689:12319,34690:8470,34691:13261,34692:8481,34693:12964,34694:12965,34695:12966,34696:12967,34697:12968,34698:12849,34699:12850,34700:12857,34701:13182,34702:13181,34703:13180,34704:8786,34705:8801,34706:8747,34707:8750,34708:8721,34709:8730,34710:8869,34711:8736,34712:8735,34713:8895,34714:8757,34715:8745,34716:8746,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081,60736:32394,60737:35100,60738:37704,60739:37512,60740:34012,60741:20425,60742:28859,60743:26161,60744:26824,60745:37625,60746:26363,60747:24389,60748:20008,60749:20193,60750:20220,60751:20224,60752:20227,60753:20281,60754:20310,60755:20370,60756:20362,60757:20378,60758:20372,60759:20429,60760:20544,60761:20514,60762:20479,60763:20510,60764:20550,60765:20592,60766:20546,60767:20628,60768:20724,60769:20696,60770:20810,60771:20836,60772:20893,60773:20926,60774:20972,60775:21013,60776:21148,60777:21158,60778:21184,60779:21211,60780:21248,60781:21255,60782:21284,60783:21362,60784:21395,60785:21426,60786:21469,60787:64014,60788:21660,60789:21642,60790:21673,60791:21759,60792:21894,60793:22361,60794:22373,60795:22444,60796:22472,60797:22471,60798:64015,60800:64016,60801:22686,60802:22706,60803:22795,60804:22867,60805:22875,60806:22877,60807:22883,60808:22948,60809:22970,60810:23382,60811:23488,60812:29999,60813:23512,60814:23532,60815:23582,60816:23718,60817:23738,60818:23797,60819:23847,60820:23891,60821:64017,60822:23874,60823:23917,60824:23992,60825:23993,60826:24016,60827:24353,60828:24372,60829:24423,60830:24503,60831:24542,60832:24669,60833:24709,60834:24714,60835:24798,60836:24789,60837:24864,60838:24818,60839:24849,60840:24887,60841:24880,60842:24984,60843:25107,60844:25254,60845:25589,60846:25696,60847:25757,60848:25806,60849:25934,60850:26112,60851:26133,60852:26171,60853:26121,60854:26158,60855:26142,60856:26148,60857:26213,60858:26199,60859:26201,60860:64018,60861:26227,60862:26265,60863:26272,60864:26290,60865:26303,60866:26362,60867:26382,60868:63785,60869:26470,60870:26555,60871:26706,60872:26560,60873:26625,60874:26692,60875:26831,60876:64019,60877:26984,60878:64020,60879:27032,60880:27106,60881:27184,60882:27243,60883:27206,60884:27251,60885:27262,60886:27362,60887:27364,60888:27606,60889:27711,60890:27740,60891:27782,60892:27759,60893:27866,60894:27908,60895:28039,60896:28015,60897:28054,60898:28076,60899:28111,60900:28152,60901:28146,60902:28156,60903:28217,60904:28252,60905:28199,60906:28220,60907:28351,60908:28552,60909:28597,60910:28661,60911:28677,60912:28679,60913:28712,60914:28805,60915:28843,60916:28943,60917:28932,60918:29020,60919:28998,60920:28999,60921:64021,60922:29121,60923:29182,60924:29361,60992:29374,60993:29476,60994:64022,60995:29559,60996:29629,60997:29641,60998:29654,60999:29667,61e3:29650,61001:29703,61002:29685,61003:29734,61004:29738,61005:29737,61006:29742,61007:29794,61008:29833,61009:29855,61010:29953,61011:30063,61012:30338,61013:30364,61014:30366,61015:30363,61016:30374,61017:64023,61018:30534,61019:21167,61020:30753,61021:30798,61022:30820,61023:30842,61024:31024,61025:64024,61026:64025,61027:64026,61028:31124,61029:64027,61030:31131,61031:31441,61032:31463,61033:64028,61034:31467,61035:31646,61036:64029,61037:32072,61038:32092,61039:32183,61040:32160,61041:32214,61042:32338,61043:32583,61044:32673,61045:64030,61046:33537,61047:33634,61048:33663,61049:33735,61050:33782,61051:33864,61052:33972,61053:34131,61054:34137,61056:34155,61057:64031,61058:34224,61059:64032,61060:64033,61061:34823,61062:35061,61063:35346,61064:35383,61065:35449,61066:35495,61067:35518,61068:35551,61069:64034,61070:35574,61071:35667,61072:35711,61073:36080,61074:36084,61075:36114,61076:36214,61077:64035,61078:36559,61079:64036,61080:64037,61081:36967,61082:37086,61083:64038,61084:37141,61085:37159,61086:37338,61087:37335,61088:37342,61089:37357,61090:37358,61091:37348,61092:37349,61093:37382,61094:37392,61095:37386,61096:37434,61097:37440,61098:37436,61099:37454,61100:37465,61101:37457,61102:37433,61103:37479,61104:37543,61105:37495,61106:37496,61107:37607,61108:37591,61109:37593,61110:37584,61111:64039,61112:37589,61113:37600,61114:37587,61115:37669,61116:37665,61117:37627,61118:64040,61119:37662,61120:37631,61121:37661,61122:37634,61123:37744,61124:37719,61125:37796,61126:37830,61127:37854,61128:37880,61129:37937,61130:37957,61131:37960,61132:38290,61133:63964,61134:64041,61135:38557,61136:38575,61137:38707,61138:38715,61139:38723,61140:38733,61141:38735,61142:38737,61143:38741,61144:38999,61145:39013,61146:64042,61147:64043,61148:39207,61149:64044,61150:39326,61151:39502,61152:39641,61153:39644,61154:39797,61155:39794,61156:39823,61157:39857,61158:39867,61159:39936,61160:40304,61161:40299,61162:64045,61163:40473,61164:40657,61167:8560,61168:8561,61169:8562,61170:8563,61171:8564,61172:8565,61173:8566,61174:8567,61175:8568,61176:8569,61177:65506,61178:65508,61179:65287,61180:65282,61504:57344,61505:57345,61506:57346,61507:57347,61508:57348,61509:57349,61510:57350,61511:57351,61512:57352,61513:57353,61514:57354,61515:57355,61516:57356,61517:57357,61518:57358,61519:57359,61520:57360,61521:57361,61522:57362,61523:57363,61524:57364,61525:57365,61526:57366,61527:57367,61528:57368,61529:57369,61530:57370,61531:57371,61532:57372,61533:57373,61534:57374,61535:57375,61536:57376,61537:57377,61538:57378,61539:57379,61540:57380,61541:57381,61542:57382,61543:57383,61544:57384,61545:57385,61546:57386,61547:57387,61548:57388,61549:57389,61550:57390,61551:57391,61552:57392,61553:57393,61554:57394,61555:57395,61556:57396,61557:57397,61558:57398,61559:57399,61560:57400,61561:57401,61562:57402,61563:57403,61564:57404,61565:57405,61566:57406,61568:57407,61569:57408,61570:57409,61571:57410,61572:57411,61573:57412,61574:57413,61575:57414,61576:57415,61577:57416,61578:57417,61579:57418,61580:57419,61581:57420,61582:57421,61583:57422,61584:57423,61585:57424,61586:57425,61587:57426,61588:57427,61589:57428,61590:57429,61591:57430,61592:57431,61593:57432,61594:57433,61595:57434,61596:57435,61597:57436,61598:57437,61599:57438,61600:57439,61601:57440,61602:57441,61603:57442,61604:57443,61605:57444,61606:57445,61607:57446,61608:57447,61609:57448,61610:57449,61611:57450,61612:57451,61613:57452,61614:57453,61615:57454,61616:57455,61617:57456,61618:57457,61619:57458,61620:57459,61621:57460,61622:57461,61623:57462,61624:57463,61625:57464,61626:57465,61627:57466,61628:57467,61629:57468,61630:57469,61631:57470,61632:57471,61633:57472,61634:57473,61635:57474,61636:57475,61637:57476,61638:57477,61639:57478,61640:57479,61641:57480,61642:57481,61643:57482,61644:57483,61645:57484,61646:57485,61647:57486,61648:57487,61649:57488,61650:57489,61651:57490,61652:57491,61653:57492,61654:57493,61655:57494,61656:57495,61657:57496,61658:57497,61659:57498,61660:57499,61661:57500,61662:57501,61663:57502,61664:57503,61665:57504,61666:57505,61667:57506,61668:57507,61669:57508,61670:57509,61671:57510,61672:57511,61673:57512,61674:57513,61675:57514,61676:57515,61677:57516,61678:57517,61679:57518,61680:57519,61681:57520,61682:57521,61683:57522,61684:57523,61685:57524,61686:57525,61687:57526,61688:57527,61689:57528,61690:57529,61691:57530,61692:57531,61760:57532,61761:57533,61762:57534,61763:57535,61764:57536,61765:57537,61766:57538,61767:57539,61768:57540,61769:57541,61770:57542,61771:57543,61772:57544,61773:57545,61774:57546,61775:57547,61776:57548,61777:57549,61778:57550,61779:57551,61780:57552,61781:57553,61782:57554,61783:57555,61784:57556,61785:57557,61786:57558,61787:57559,61788:57560,61789:57561,61790:57562,61791:57563,61792:57564,61793:57565,61794:57566,61795:57567,61796:57568,61797:57569,61798:57570,61799:57571,61800:57572,61801:57573,61802:57574,61803:57575,61804:57576,61805:57577,61806:57578,61807:57579,61808:57580,61809:57581,61810:57582,61811:57583,61812:57584,61813:57585,61814:57586,61815:57587,61816:57588,61817:57589,61818:57590,61819:57591,61820:57592,61821:57593,61822:57594,61824:57595,61825:57596,61826:57597,61827:57598,61828:57599,61829:57600,61830:57601,61831:57602,61832:57603,61833:57604,61834:57605,61835:57606,61836:57607,61837:57608,61838:57609,61839:57610,61840:57611,61841:57612,61842:57613,61843:57614,61844:57615,61845:57616,61846:57617,61847:57618,61848:57619,61849:57620,61850:57621,61851:57622,61852:57623,61853:57624,61854:57625,61855:57626,61856:57627,61857:57628,61858:57629,61859:57630,61860:57631,61861:57632,61862:57633,61863:57634,61864:57635,61865:57636,61866:57637,61867:57638,61868:57639,61869:57640,61870:57641,61871:57642,61872:57643,61873:57644,61874:57645,61875:57646,61876:57647,61877:57648,61878:57649,61879:57650,61880:57651,61881:57652,61882:57653,61883:57654,61884:57655,61885:57656,61886:57657,61887:57658,61888:57659,61889:57660,61890:57661,61891:57662,61892:57663,61893:57664,61894:57665,61895:57666,61896:57667,61897:57668,61898:57669,61899:57670,61900:57671,61901:57672,61902:57673,61903:57674,61904:57675,61905:57676,61906:57677,61907:57678,61908:57679,61909:57680,61910:57681,61911:57682,61912:57683,61913:57684,61914:57685,61915:57686,61916:57687,61917:57688,61918:57689,61919:57690,61920:57691,61921:57692,61922:57693,61923:57694,61924:57695,61925:57696,61926:57697,61927:57698,61928:57699,61929:57700,61930:57701,61931:57702,61932:57703,61933:57704,61934:57705,61935:57706,61936:57707,61937:57708,61938:57709,61939:57710,61940:57711,61941:57712,61942:57713,61943:57714,61944:57715,61945:57716,61946:57717,61947:57718,61948:57719,62016:57720,62017:57721,62018:57722,62019:57723,62020:57724,62021:57725,62022:57726,62023:57727,62024:57728,62025:57729,62026:57730,62027:57731,62028:57732,62029:57733,62030:57734,62031:57735,62032:57736,62033:57737,62034:57738,62035:57739,62036:57740,62037:57741,62038:57742,62039:57743,62040:57744,62041:57745,62042:57746,62043:57747,62044:57748,62045:57749,62046:57750,62047:57751,62048:57752,62049:57753,62050:57754,62051:57755,62052:57756,62053:57757,62054:57758,62055:57759,62056:57760,62057:57761,62058:57762,62059:57763,62060:57764,62061:57765,62062:57766,62063:57767,62064:57768,62065:57769,62066:57770,62067:57771,62068:57772,62069:57773,62070:57774,62071:57775,62072:57776,62073:57777,62074:57778,62075:57779,62076:57780,62077:57781,62078:57782,62080:57783,62081:57784,62082:57785,62083:57786,62084:57787,62085:57788,62086:57789,62087:57790,62088:57791,62089:57792,62090:57793,62091:57794,62092:57795,62093:57796,62094:57797,62095:57798,62096:57799,62097:57800,62098:57801,62099:57802,62100:57803,62101:57804,62102:57805,62103:57806,62104:57807,62105:57808,62106:57809,62107:57810,62108:57811,62109:57812,62110:57813,62111:57814,62112:57815,62113:57816,62114:57817,62115:57818,62116:57819,62117:57820,62118:57821,62119:57822,62120:57823,62121:57824,62122:57825,62123:57826,62124:57827,62125:57828,62126:57829,62127:57830,62128:57831,62129:57832,62130:57833,62131:57834,62132:57835,62133:57836,62134:57837,62135:57838,62136:57839,62137:57840,62138:57841,62139:57842,62140:57843,62141:57844,62142:57845,62143:57846,62144:57847,62145:57848,62146:57849,62147:57850,62148:57851,62149:57852,62150:57853,62151:57854,62152:57855,62153:57856,62154:57857,62155:57858,62156:57859,62157:57860,62158:57861,62159:57862,62160:57863,62161:57864,62162:57865,62163:57866,62164:57867,62165:57868,62166:57869,62167:57870,62168:57871,62169:57872,62170:57873,62171:57874,62172:57875,62173:57876,62174:57877,62175:57878,62176:57879,62177:57880,62178:57881,62179:57882,62180:57883,62181:57884,62182:57885,62183:57886,62184:57887,62185:57888,62186:57889,62187:57890,62188:57891,62189:57892,62190:57893,62191:57894,62192:57895,62193:57896,62194:57897,62195:57898,62196:57899,62197:57900,62198:57901,62199:57902,62200:57903,62201:57904,62202:57905,62203:57906,62204:57907,62272:57908,62273:57909,62274:57910,62275:57911,62276:57912,62277:57913,62278:57914,62279:57915,62280:57916,62281:57917,62282:57918,62283:57919,62284:57920,62285:57921,62286:57922,62287:57923,62288:57924,62289:57925,62290:57926,62291:57927,62292:57928,62293:57929,62294:57930,62295:57931,62296:57932,62297:57933,62298:57934,62299:57935,62300:57936,62301:57937,62302:57938,62303:57939,62304:57940,62305:57941,62306:57942,62307:57943,62308:57944,62309:57945,62310:57946,62311:57947,62312:57948,62313:57949,62314:57950,62315:57951,62316:57952,62317:57953,62318:57954,62319:57955,62320:57956,62321:57957,62322:57958,62323:57959,62324:57960,62325:57961,62326:57962,62327:57963,62328:57964,62329:57965,62330:57966,62331:57967,62332:57968,62333:57969,62334:57970,62336:57971,62337:57972,62338:57973,62339:57974,62340:57975,62341:57976,62342:57977,62343:57978,62344:57979,62345:57980,62346:57981,62347:57982,62348:57983,62349:57984,62350:57985,62351:57986,62352:57987,62353:57988,62354:57989,62355:57990,62356:57991,62357:57992,62358:57993,62359:57994,62360:57995,62361:57996,62362:57997,62363:57998,62364:57999,62365:58e3,62366:58001,62367:58002,62368:58003,62369:58004,62370:58005,62371:58006,62372:58007,62373:58008,62374:58009,62375:58010,62376:58011,62377:58012,62378:58013,62379:58014,62380:58015,62381:58016,62382:58017,62383:58018,62384:58019,62385:58020,62386:58021,62387:58022,62388:58023,62389:58024,62390:58025,62391:58026,62392:58027,62393:58028,62394:58029,62395:58030,62396:58031,62397:58032,62398:58033,62399:58034,62400:58035,62401:58036,62402:58037,62403:58038,62404:58039,62405:58040,62406:58041,62407:58042,62408:58043,62409:58044,62410:58045,62411:58046,62412:58047,62413:58048,62414:58049,62415:58050,62416:58051,62417:58052,62418:58053,62419:58054,62420:58055,62421:58056,62422:58057,62423:58058,62424:58059,62425:58060,62426:58061,62427:58062,62428:58063,62429:58064,62430:58065,62431:58066,62432:58067,62433:58068,62434:58069,62435:58070,62436:58071,62437:58072,62438:58073,62439:58074,62440:58075,62441:58076,62442:58077,62443:58078,62444:58079,62445:58080,62446:58081,62447:58082,62448:58083,62449:58084,62450:58085,62451:58086,62452:58087,62453:58088,62454:58089,62455:58090,62456:58091,62457:58092,62458:58093,62459:58094,62460:58095,62528:58096,62529:58097,62530:58098,62531:58099,62532:58100,62533:58101,62534:58102,62535:58103,62536:58104,62537:58105,62538:58106,62539:58107,62540:58108,62541:58109,62542:58110,62543:58111,62544:58112,62545:58113,62546:58114,62547:58115,62548:58116,62549:58117,62550:58118,62551:58119,62552:58120,62553:58121,62554:58122,62555:58123,62556:58124,62557:58125,62558:58126,62559:58127,62560:58128,62561:58129,62562:58130,62563:58131,62564:58132,62565:58133,62566:58134,62567:58135,62568:58136,62569:58137,62570:58138,62571:58139,62572:58140,62573:58141,62574:58142,62575:58143,62576:58144,62577:58145,62578:58146,62579:58147,62580:58148,62581:58149,62582:58150,62583:58151,62584:58152,62585:58153,62586:58154,62587:58155,62588:58156,62589:58157,62590:58158,62592:58159,62593:58160,62594:58161,62595:58162,62596:58163,62597:58164,62598:58165,62599:58166,62600:58167,62601:58168,62602:58169,62603:58170,62604:58171,62605:58172,62606:58173,62607:58174,62608:58175,62609:58176,62610:58177,62611:58178,62612:58179,62613:58180,62614:58181,62615:58182,62616:58183,62617:58184,62618:58185,62619:58186,62620:58187,62621:58188,62622:58189,62623:58190,62624:58191,62625:58192,62626:58193,62627:58194,62628:58195,62629:58196,62630:58197,62631:58198,62632:58199,62633:58200,62634:58201,62635:58202,62636:58203,62637:58204,62638:58205,62639:58206,62640:58207,62641:58208,62642:58209,62643:58210,62644:58211,62645:58212,62646:58213,62647:58214,62648:58215,62649:58216,62650:58217,62651:58218,62652:58219,62653:58220,62654:58221,62655:58222,62656:58223,62657:58224,62658:58225,62659:58226,62660:58227,62661:58228,62662:58229,62663:58230,62664:58231,62665:58232,62666:58233,62667:58234,62668:58235,62669:58236,62670:58237,62671:58238,62672:58239,62673:58240,62674:58241,62675:58242,62676:58243,62677:58244,62678:58245,62679:58246,62680:58247,62681:58248,62682:58249,62683:58250,62684:58251,62685:58252,62686:58253,62687:58254,62688:58255,62689:58256,62690:58257,62691:58258,62692:58259,62693:58260,62694:58261,62695:58262,62696:58263,62697:58264,62698:58265,62699:58266,62700:58267,62701:58268,62702:58269,62703:58270,62704:58271,62705:58272,62706:58273,62707:58274,62708:58275,62709:58276,62710:58277,62711:58278,62712:58279,62713:58280,62714:58281,62715:58282,62716:58283,62784:58284,62785:58285,62786:58286,62787:58287,62788:58288,62789:58289,62790:58290,62791:58291,62792:58292,62793:58293,62794:58294,62795:58295,62796:58296,62797:58297,62798:58298,62799:58299,62800:58300,62801:58301,62802:58302,62803:58303,62804:58304,62805:58305,62806:58306,62807:58307,62808:58308,62809:58309,62810:58310,62811:58311,62812:58312,62813:58313,62814:58314,62815:58315,62816:58316,62817:58317,62818:58318,62819:58319,62820:58320,62821:58321,62822:58322,62823:58323,62824:58324,62825:58325,62826:58326,62827:58327,62828:58328,62829:58329,62830:58330,62831:58331,62832:58332,62833:58333,62834:58334,62835:58335,62836:58336,62837:58337,62838:58338,62839:58339,62840:58340,62841:58341,62842:58342,62843:58343,62844:58344,62845:58345,62846:58346,62848:58347,62849:58348,62850:58349,62851:58350,62852:58351,62853:58352,62854:58353,62855:58354,62856:58355,62857:58356,62858:58357,62859:58358,62860:58359,62861:58360,62862:58361,62863:58362,62864:58363,62865:58364,62866:58365,62867:58366,62868:58367,62869:58368,62870:58369,62871:58370,62872:58371,62873:58372,62874:58373,62875:58374,62876:58375,62877:58376,62878:58377,62879:58378,62880:58379,62881:58380,62882:58381,62883:58382,62884:58383,62885:58384,62886:58385,62887:58386,62888:58387,62889:58388,62890:58389,62891:58390,62892:58391,62893:58392,62894:58393,62895:58394,62896:58395,62897:58396,62898:58397,62899:58398,62900:58399,62901:58400,62902:58401,62903:58402,62904:58403,62905:58404,62906:58405,62907:58406,62908:58407,62909:58408,62910:58409,62911:58410,62912:58411,62913:58412,62914:58413,62915:58414,62916:58415,62917:58416,62918:58417,62919:58418,62920:58419,62921:58420,62922:58421,62923:58422,62924:58423,62925:58424,62926:58425,62927:58426,62928:58427,62929:58428,62930:58429,62931:58430,62932:58431,62933:58432,62934:58433,62935:58434,62936:58435,62937:58436,62938:58437,62939:58438,62940:58439,62941:58440,62942:58441,62943:58442,62944:58443,62945:58444,62946:58445,62947:58446,62948:58447,62949:58448,62950:58449,62951:58450,62952:58451,62953:58452,62954:58453,62955:58454,62956:58455,62957:58456,62958:58457,62959:58458,62960:58459,62961:58460,62962:58461,62963:58462,62964:58463,62965:58464,62966:58465,62967:58466,62968:58467,62969:58468,62970:58469,62971:58470,62972:58471,63040:58472,63041:58473,63042:58474,63043:58475,63044:58476,63045:58477,63046:58478,63047:58479,63048:58480,63049:58481,63050:58482,63051:58483,63052:58484,63053:58485,63054:58486,63055:58487,63056:58488,63057:58489,63058:58490,63059:58491,63060:58492,63061:58493,63062:58494,63063:58495,63064:58496,63065:58497,63066:58498,63067:58499,63068:58500,63069:58501,63070:58502,63071:58503,63072:58504,63073:58505,63074:58506,63075:58507,63076:58508,63077:58509,63078:58510,63079:58511,63080:58512,63081:58513,63082:58514,63083:58515,63084:58516,63085:58517,63086:58518,63087:58519,63088:58520,63089:58521,63090:58522,63091:58523,63092:58524,63093:58525,63094:58526,63095:58527,63096:58528,63097:58529,63098:58530,63099:58531,63100:58532,63101:58533,63102:58534,63104:58535,63105:58536,63106:58537,63107:58538,63108:58539,63109:58540,63110:58541,63111:58542,63112:58543,63113:58544,63114:58545,63115:58546,63116:58547,63117:58548,63118:58549,63119:58550,63120:58551,63121:58552,63122:58553,63123:58554,63124:58555,63125:58556,63126:58557,63127:58558,63128:58559,63129:58560,63130:58561,63131:58562,63132:58563,63133:58564,63134:58565,63135:58566,63136:58567,63137:58568,63138:58569,63139:58570,63140:58571,63141:58572,63142:58573,63143:58574,63144:58575,63145:58576,63146:58577,63147:58578,63148:58579,63149:58580,63150:58581,63151:58582,63152:58583,63153:58584,63154:58585,63155:58586,63156:58587,63157:58588,63158:58589,63159:58590,63160:58591,63161:58592,63162:58593,63163:58594,63164:58595,63165:58596,63166:58597,63167:58598,63168:58599,63169:58600,63170:58601,63171:58602,63172:58603,63173:58604,63174:58605,63175:58606,63176:58607,63177:58608,63178:58609,63179:58610,63180:58611,63181:58612,63182:58613,63183:58614,63184:58615,63185:58616,63186:58617,63187:58618,63188:58619,63189:58620,63190:58621,63191:58622,63192:58623,63193:58624,63194:58625,63195:58626,63196:58627,63197:58628,63198:58629,63199:58630,63200:58631,63201:58632,63202:58633,63203:58634,63204:58635,63205:58636,63206:58637,63207:58638,63208:58639,63209:58640,63210:58641,63211:58642,63212:58643,63213:58644,63214:58645,63215:58646,63216:58647,63217:58648,63218:58649,63219:58650,63220:58651,63221:58652,63222:58653,63223:58654,63224:58655,63225:58656,63226:58657,63227:58658,63228:58659,63296:58660,63297:58661,63298:58662,63299:58663,63300:58664,63301:58665,63302:58666,63303:58667,63304:58668,63305:58669,63306:58670,63307:58671,63308:58672,63309:58673,63310:58674,63311:58675,63312:58676,63313:58677,63314:58678,63315:58679,63316:58680,63317:58681,63318:58682,63319:58683,63320:58684,63321:58685,63322:58686,63323:58687,63324:58688,63325:58689,63326:58690,63327:58691,63328:58692,63329:58693,63330:58694,63331:58695,63332:58696,63333:58697,63334:58698,63335:58699,63336:58700,63337:58701,63338:58702,63339:58703,63340:58704,63341:58705,63342:58706,63343:58707,63344:58708,63345:58709,63346:58710,63347:58711,63348:58712,63349:58713,63350:58714,63351:58715,63352:58716,63353:58717,63354:58718,63355:58719,63356:58720,63357:58721,63358:58722,63360:58723,63361:58724,63362:58725,63363:58726,63364:58727,63365:58728,63366:58729,63367:58730,63368:58731,63369:58732,63370:58733,63371:58734,63372:58735,63373:58736,63374:58737,63375:58738,63376:58739,63377:58740,63378:58741,63379:58742,63380:58743,63381:58744,63382:58745,63383:58746,63384:58747,63385:58748,63386:58749,63387:58750,63388:58751,63389:58752,63390:58753,63391:58754,63392:58755,63393:58756,63394:58757,63395:58758,63396:58759,63397:58760,63398:58761,63399:58762,63400:58763,63401:58764,63402:58765,63403:58766,63404:58767,63405:58768,63406:58769,63407:58770,63408:58771,63409:58772,63410:58773,63411:58774,63412:58775,63413:58776,63414:58777,63415:58778,63416:58779,63417:58780,63418:58781,63419:58782,63420:58783,63421:58784,63422:58785,63423:58786,63424:58787,63425:58788,63426:58789,63427:58790,63428:58791,63429:58792,63430:58793,63431:58794,63432:58795,63433:58796,63434:58797,63435:58798,63436:58799,63437:58800,63438:58801,63439:58802,63440:58803,63441:58804,63442:58805,63443:58806,63444:58807,63445:58808,63446:58809,63447:58810,63448:58811,63449:58812,63450:58813,63451:58814,63452:58815,63453:58816,63454:58817,63455:58818,63456:58819,63457:58820,63458:58821,63459:58822,63460:58823,63461:58824,63462:58825,63463:58826,63464:58827,63465:58828,63466:58829,63467:58830,63468:58831,63469:58832,63470:58833,63471:58834,63472:58835,63473:58836,63474:58837,63475:58838,63476:58839,63477:58840,63478:58841,63479:58842,63480:58843,63481:58844,63482:58845,63483:58846,63484:58847,63552:58848,63553:58849,63554:58850,63555:58851,63556:58852,63557:58853,63558:58854,63559:58855,63560:58856,63561:58857,63562:58858,63563:58859,63564:58860,63565:58861,63566:58862,63567:58863,63568:58864,63569:58865,63570:58866,63571:58867,63572:58868,63573:58869,63574:58870,63575:58871,63576:58872,63577:58873,63578:58874,63579:58875,63580:58876,63581:58877,63582:58878,63583:58879,63584:58880,63585:58881,63586:58882,63587:58883,63588:58884,63589:58885,63590:58886,63591:58887,63592:58888,63593:58889,63594:58890,63595:58891,63596:58892,63597:58893,63598:58894,63599:58895,63600:58896,63601:58897,63602:58898,63603:58899,63604:58900,63605:58901,63606:58902,63607:58903,63608:58904,63609:58905,63610:58906,63611:58907,63612:58908,63613:58909,63614:58910,63616:58911,63617:58912,63618:58913,63619:58914,63620:58915,63621:58916,63622:58917,63623:58918,63624:58919,63625:58920,63626:58921,63627:58922,63628:58923,63629:58924,63630:58925,63631:58926,63632:58927,63633:58928,63634:58929,63635:58930,63636:58931,63637:58932,63638:58933,63639:58934,63640:58935,63641:58936,63642:58937,63643:58938,63644:58939,63645:58940,63646:58941,63647:58942,63648:58943,63649:58944,63650:58945,63651:58946,63652:58947,63653:58948,63654:58949,63655:58950,63656:58951,63657:58952,63658:58953,63659:58954,63660:58955,63661:58956,63662:58957,63663:58958,63664:58959,63665:58960,63666:58961,63667:58962,63668:58963,63669:58964,63670:58965,63671:58966,63672:58967,63673:58968,63674:58969,63675:58970,63676:58971,63677:58972,63678:58973,63679:58974,63680:58975,63681:58976,63682:58977,63683:58978,63684:58979,63685:58980,63686:58981,63687:58982,63688:58983,63689:58984,63690:58985,63691:58986,63692:58987,63693:58988,63694:58989,63695:58990,63696:58991,63697:58992,63698:58993,63699:58994,63700:58995,63701:58996,63702:58997,63703:58998,63704:58999,63705:59e3,63706:59001,63707:59002,63708:59003,63709:59004,63710:59005,63711:59006,63712:59007,63713:59008,63714:59009,63715:59010,63716:59011,63717:59012,63718:59013,63719:59014,63720:59015,63721:59016,63722:59017,63723:59018,63724:59019,63725:59020,63726:59021,63727:59022,63728:59023,63729:59024,63730:59025,63731:59026,63732:59027,63733:59028,63734:59029,63735:59030,63736:59031,63737:59032,63738:59033,63739:59034,63740:59035,64064:8560,64065:8561,64066:8562,64067:8563,64068:8564,64069:8565,64070:8566,64071:8567,64072:8568,64073:8569,64074:8544,64075:8545,64076:8546,64077:8547,64078:8548,64079:8549,64080:8550,64081:8551,64082:8552,64083:8553,64084:65506,64085:65508,64086:65287,64087:65282,64088:12849,64089:8470,64090:8481,64091:8757,64092:32394,64093:35100,64094:37704,64095:37512,64096:34012,64097:20425,64098:28859,64099:26161,64100:26824,64101:37625,64102:26363,64103:24389,64104:20008,64105:20193,64106:20220,64107:20224,64108:20227,64109:20281,64110:20310,64111:20370,64112:20362,64113:20378,64114:20372,64115:20429,64116:20544,64117:20514,64118:20479,64119:20510,64120:20550,64121:20592,64122:20546,64123:20628,64124:20724,64125:20696,64126:20810,64128:20836,64129:20893,64130:20926,64131:20972,64132:21013,64133:21148,64134:21158,64135:21184,64136:21211,64137:21248,64138:21255,64139:21284,64140:21362,64141:21395,64142:21426,64143:21469,64144:64014,64145:21660,64146:21642,64147:21673,64148:21759,64149:21894,64150:22361,64151:22373,64152:22444,64153:22472,64154:22471,64155:64015,64156:64016,64157:22686,64158:22706,64159:22795,64160:22867,64161:22875,64162:22877,64163:22883,64164:22948,64165:22970,64166:23382,64167:23488,64168:29999,64169:23512,64170:23532,64171:23582,64172:23718,64173:23738,64174:23797,64175:23847,64176:23891,64177:64017,64178:23874,64179:23917,64180:23992,64181:23993,64182:24016,64183:24353,64184:24372,64185:24423,64186:24503,64187:24542,64188:24669,64189:24709,64190:24714,64191:24798,64192:24789,64193:24864,64194:24818,64195:24849,64196:24887,64197:24880,64198:24984,64199:25107,64200:25254,64201:25589,64202:25696,64203:25757,64204:25806,64205:25934,64206:26112,64207:26133,64208:26171,64209:26121,64210:26158,64211:26142,64212:26148,64213:26213,64214:26199,64215:26201,64216:64018,64217:26227,64218:26265,64219:26272,64220:26290,64221:26303,64222:26362,64223:26382,64224:63785,64225:26470,64226:26555,64227:26706,64228:26560,64229:26625,64230:26692,64231:26831,64232:64019,64233:26984,64234:64020,64235:27032,64236:27106,64237:27184,64238:27243,64239:27206,64240:27251,64241:27262,64242:27362,64243:27364,64244:27606,64245:27711,64246:27740,64247:27782,64248:27759,64249:27866,64250:27908,64251:28039,64252:28015,64320:28054,64321:28076,64322:28111,64323:28152,64324:28146,64325:28156,64326:28217,64327:28252,64328:28199,64329:28220,64330:28351,64331:28552,64332:28597,64333:28661,64334:28677,64335:28679,64336:28712,64337:28805,64338:28843,64339:28943,64340:28932,64341:29020,64342:28998,64343:28999,64344:64021,64345:29121,64346:29182,64347:29361,64348:29374,64349:29476,64350:64022,64351:29559,64352:29629,64353:29641,64354:29654,64355:29667,64356:29650,64357:29703,64358:29685,64359:29734,64360:29738,64361:29737,64362:29742,64363:29794,64364:29833,64365:29855,64366:29953,64367:30063,64368:30338,64369:30364,64370:30366,64371:30363,64372:30374,64373:64023,64374:30534,64375:21167,64376:30753,64377:30798,64378:30820,64379:30842,64380:31024,64381:64024,64382:64025,64384:64026,64385:31124,64386:64027,64387:31131,64388:31441,64389:31463,64390:64028,64391:31467,64392:31646,64393:64029,64394:32072,64395:32092,64396:32183,64397:32160,64398:32214,64399:32338,64400:32583,64401:32673,64402:64030,64403:33537,64404:33634,64405:33663,64406:33735,64407:33782,64408:33864,64409:33972,64410:34131,64411:34137,64412:34155,64413:64031,64414:34224,64415:64032,64416:64033,64417:34823,64418:35061,64419:35346,64420:35383,64421:35449,64422:35495,64423:35518,64424:35551,64425:64034,64426:35574,64427:35667,64428:35711,64429:36080,64430:36084,64431:36114,64432:36214,64433:64035,64434:36559,64435:64036,64436:64037,64437:36967,64438:37086,64439:64038,64440:37141,64441:37159,64442:37338,64443:37335,64444:37342,64445:37357,64446:37358,64447:37348,64448:37349,64449:37382,64450:37392,64451:37386,64452:37434,64453:37440,64454:37436,64455:37454,64456:37465,64457:37457,64458:37433,64459:37479,64460:37543,64461:37495,64462:37496,64463:37607,64464:37591,64465:37593,64466:37584,64467:64039,64468:37589,64469:37600,64470:37587,64471:37669,64472:37665,64473:37627,64474:64040,64475:37662,64476:37631,64477:37661,64478:37634,64479:37744,64480:37719,64481:37796,64482:37830,64483:37854,64484:37880,64485:37937,64486:37957,64487:37960,64488:38290,64489:63964,64490:64041,64491:38557,64492:38575,64493:38707,64494:38715,64495:38723,64496:38733,64497:38735,64498:38737,64499:38741,64500:38999,64501:39013,64502:64042,64503:64043,64504:39207,64505:64044,64506:39326,64507:39502,64508:39641,64576:39644,64577:39797,64578:39794,64579:39823,64580:39857,64581:39867,64582:39936,64583:40304,64584:40299,64585:64045,64586:40473,64587:40657};function jT(t,e){this.dv=new DataView(t),this.offset=0,this.littleEndian=e!==void 0?e:!0,this.encoder=new qS}jT.prototype={constructor:jT,getInt8:function(){var t=this.dv.getInt8(this.offset);return this.offset+=1,t},getInt8Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt8());return e},getUint8:function(){var t=this.dv.getUint8(this.offset);return this.offset+=1,t},getUint8Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint8());return e},getInt16:function(){var t=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,t},getInt16Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt16());return e},getUint16:function(){var t=this.dv.getUint16(this.offset,this.littleEndian);return this.offset+=2,t},getUint16Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint16());return e},getInt32:function(){var t=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,t},getInt32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt32());return e},getUint32:function(){var t=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,t},getUint32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint32());return e},getFloat32:function(){var t=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t},getFloat32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat32());return e},getFloat64:function(){var t=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t},getFloat64Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat64());return e},getIndex:function(t,e){switch(t){case 1:return e===!0?this.getUint8():this.getInt8();case 2:return e===!0?this.getUint16():this.getInt16();case 4:return this.getInt32();default:throw"unknown number type "+t+" exception."}},getIndexArray:function(t,e,n){for(var r=[],i=0;i<e;i++)r.push(this.getIndex(t,n));return r},getChars:function(t){for(var e="";t>0;){var n=this.getUint8();if(t--,n===0)break;e+=String.fromCharCode(n)}for(;t>0;)this.getUint8(),t--;return e},getSjisStringsAsUnicode:function(t){for(var e=[];t>0;){var n=this.getUint8();if(t--,n===0)break;e.push(n)}for(;t>0;)this.getUint8(),t--;return this.encoder.s2u(new Uint8Array(e))},getUnicodeStrings:function(t){for(var e="";t>0;){var n=this.getUint16();if(t-=2,n===0)break;e+=String.fromCharCode(n)}for(;t>0;)this.getUint8(),t--;return e},getTextBuffer:function(){var t=this.getUint32();return this.getUnicodeStrings(t)}};function XT(){}XT.prototype={constructor:XT,leftToRightVector3:function(t){t[2]=-t[2]},leftToRightQuaternion:function(t){t[0]=-t[0],t[1]=-t[1]},leftToRightEuler:function(t){t[0]=-t[0],t[1]=-t[1]},leftToRightIndexOrder:function(t){var e=t[2];t[2]=t[0],t[0]=e},leftToRightVector3Range:function(t,e){var n=-e[2];e[2]=-t[2],t[2]=n},leftToRightEulerRange:function(t,e){var n=-e[0],r=-e[1];e[0]=-t[0],e[1]=-t[1],t[0]=n,t[1]=r}};/*! https://mths.be/codepointat v0.2.0 by @mathias */String.prototype.codePointAt||function(){var t=function(){try{var n={},r=Object.defineProperty,i=r(n,n,n)&&r}catch{}return i}(),e=function(n){if(this==null)throw TypeError();var r=String(this),i=r.length,s=n?Number(n):0;if(s!=s&&(s=0),!(s<0||s>=i)){var o=r.charCodeAt(s),a;return o>=55296&&o<=56319&&i>s+1&&(a=r.charCodeAt(s+1),a>=56320&&a<=57343)?(o-55296)*1024+a-56320+65536:o}};t?t(String.prototype,"codePointAt",{value:e,configurable:!0,writable:!0}):String.prototype.codePointAt=e}();function aF(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}var H$=new aF,V$=new aF,lF=new Uint8Array(30),uF=new Uint16Array(30),W$=new Uint8Array(30),j$=new Uint16Array(30);function cF(t,e,n,r){var i,s;for(i=0;i<n;++i)t[i]=0;for(i=0;i<30-n;++i)t[i+n]=i/n|0;for(s=r,i=0;i<30;++i)e[i]=s,s+=1<<t[i]}function X$(t,e){var n;for(n=0;n<7;++n)t.table[n]=0;for(t.table[7]=24,t.table[8]=152,t.table[9]=112,n=0;n<24;++n)t.trans[n]=256+n;for(n=0;n<144;++n)t.trans[24+n]=n;for(n=0;n<8;++n)t.trans[24+144+n]=280+n;for(n=0;n<112;++n)t.trans[24+144+8+n]=144+n;for(n=0;n<5;++n)e.table[n]=0;for(e.table[5]=32,n=0;n<32;++n)e.trans[n]=n}X$(H$,V$);cF(lF,uF,4,3);cF(W$,j$,2,1);lF[28]=0;uF[28]=258;function Ih(t,e,n,r,i){return Math.pow(1-i,3)*t+3*Math.pow(1-i,2)*i*e+3*(1-i)*Math.pow(i,2)*n+Math.pow(i,3)*r}function uc(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}uc.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};uc.prototype.addPoint=function(t,e){typeof t=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),typeof e=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))};uc.prototype.addX=function(t){this.addPoint(t,null)};uc.prototype.addY=function(t){this.addPoint(null,t)};uc.prototype.addBezier=function(t,e,n,r,i,s,o,a){var l=[t,e],u=[n,r],c=[i,s],f=[o,a];this.addPoint(t,e),this.addPoint(o,a);for(var h=0;h<=1;h++){var p=6*l[h]-12*u[h]+6*c[h],g=-3*l[h]+9*u[h]-9*c[h]+3*f[h],x=3*u[h]-3*l[h];if(g===0){if(p===0)continue;var y=-x/p;0<y&&y<1&&(h===0&&this.addX(Ih(l[h],u[h],c[h],f[h],y)),h===1&&this.addY(Ih(l[h],u[h],c[h],f[h],y)));continue}var v=Math.pow(p,2)-4*x*g;if(!(v<0)){var S=(-p+Math.sqrt(v))/(2*g);0<S&&S<1&&(h===0&&this.addX(Ih(l[h],u[h],c[h],f[h],S)),h===1&&this.addY(Ih(l[h],u[h],c[h],f[h],S)));var _=(-p-Math.sqrt(v))/(2*g);0<_&&_<1&&(h===0&&this.addX(Ih(l[h],u[h],c[h],f[h],_)),h===1&&this.addY(Ih(l[h],u[h],c[h],f[h],_)))}}};uc.prototype.addQuad=function(t,e,n,r,i,s){var o=t+.6666666666666666*(n-t),a=e+2/3*(r-e),l=o+1/3*(i-t),u=a+1/3*(s-e);this.addBezier(t,e,o,a,l,u,i,s)};function zr(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}zr.prototype.moveTo=function(t,e){this.commands.push({type:"M",x:t,y:e})};zr.prototype.lineTo=function(t,e){this.commands.push({type:"L",x:t,y:e})};zr.prototype.curveTo=zr.prototype.bezierCurveTo=function(t,e,n,r,i,s){this.commands.push({type:"C",x1:t,y1:e,x2:n,y2:r,x:i,y:s})};zr.prototype.quadTo=zr.prototype.quadraticCurveTo=function(t,e,n,r){this.commands.push({type:"Q",x1:t,y1:e,x:n,y:r})};zr.prototype.close=zr.prototype.closePath=function(){this.commands.push({type:"Z"})};zr.prototype.extend=function(t){if(t.commands)t=t.commands;else if(t instanceof uc){var e=t;this.moveTo(e.x1,e.y1),this.lineTo(e.x2,e.y1),this.lineTo(e.x2,e.y2),this.lineTo(e.x1,e.y2),this.close();return}Array.prototype.push.apply(this.commands,t)};zr.prototype.getBoundingBox=function(){for(var t=new uc,e=0,n=0,r=0,i=0,s=0;s<this.commands.length;s++){var o=this.commands[s];switch(o.type){case"M":t.addPoint(o.x,o.y),e=r=o.x,n=i=o.y;break;case"L":t.addPoint(o.x,o.y),r=o.x,i=o.y;break;case"Q":t.addQuad(r,i,o.x1,o.y1,o.x,o.y),r=o.x,i=o.y;break;case"C":t.addBezier(r,i,o.x1,o.y1,o.x2,o.y2,o.x,o.y),r=o.x,i=o.y;break;case"Z":r=e,i=n;break;default:throw new Error("Unexpected path command "+o.type)}}return t.isEmpty()&&t.addPoint(0,0),t};zr.prototype.draw=function(t){t.beginPath();for(var e=0;e<this.commands.length;e+=1){var n=this.commands[e];n.type==="M"?t.moveTo(n.x,n.y):n.type==="L"?t.lineTo(n.x,n.y):n.type==="C"?t.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):n.type==="Q"?t.quadraticCurveTo(n.x1,n.y1,n.x,n.y):n.type==="Z"&&t.closePath()}this.fill&&(t.fillStyle=this.fill,t.fill()),this.stroke&&(t.strokeStyle=this.stroke,t.lineWidth=this.strokeWidth,t.stroke())};zr.prototype.toPathData=function(t){t=t!==void 0?t:2;function e(o){return Math.round(o)===o?""+Math.round(o):o.toFixed(t)}function n(){for(var o=arguments,a="",l=0;l<arguments.length;l+=1){var u=o[l];u>=0&&l>0&&(a+=" "),a+=e(u)}return a}for(var r="",i=0;i<this.commands.length;i+=1){var s=this.commands[i];s.type==="M"?r+="M"+n(s.x,s.y):s.type==="L"?r+="L"+n(s.x,s.y):s.type==="C"?r+="C"+n(s.x1,s.y1,s.x2,s.y2,s.x,s.y):s.type==="Q"?r+="Q"+n(s.x1,s.y1,s.x,s.y):s.type==="Z"&&(r+="Z")}return r};zr.prototype.toSVG=function(t){var e='<path d="';return e+=this.toPathData(t),e+='"',this.fill&&this.fill!=="black"&&(this.fill===null?e+=' fill="none"':e+=' fill="'+this.fill+'"'),this.stroke&&(e+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),e+="/>",e};zr.prototype.toDOMElement=function(t){var e=this.toPathData(t),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n};function fF(t){throw new Error(t)}function YT(t,e){t||fF(e)}var It={fail:fF,argument:YT,assert:YT},KT=32768,JT=2147483648,Wd={},tt={},Ct={};function aa(t){return function(){return t}}tt.BYTE=function(t){return It.argument(t>=0&&t<=255,"Byte value should be between 0 and 255."),[t]};Ct.BYTE=aa(1);tt.CHAR=function(t){return[t.charCodeAt(0)]};Ct.CHAR=aa(1);tt.CHARARRAY=function(t){typeof t>"u"&&(t="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var e=[],n=0;n<t.length;n+=1)e[n]=t.charCodeAt(n);return e};Ct.CHARARRAY=function(t){return typeof t>"u"?0:t.length};tt.USHORT=function(t){return[t>>8&255,t&255]};Ct.USHORT=aa(2);tt.SHORT=function(t){return t>=KT&&(t=-(2*KT-t)),[t>>8&255,t&255]};Ct.SHORT=aa(2);tt.UINT24=function(t){return[t>>16&255,t>>8&255,t&255]};Ct.UINT24=aa(3);tt.ULONG=function(t){return[t>>24&255,t>>16&255,t>>8&255,t&255]};Ct.ULONG=aa(4);tt.LONG=function(t){return t>=JT&&(t=-(2*JT-t)),[t>>24&255,t>>16&255,t>>8&255,t&255]};Ct.LONG=aa(4);tt.FIXED=tt.ULONG;Ct.FIXED=Ct.ULONG;tt.FWORD=tt.SHORT;Ct.FWORD=Ct.SHORT;tt.UFWORD=tt.USHORT;Ct.UFWORD=Ct.USHORT;tt.LONGDATETIME=function(t){return[0,0,0,0,t>>24&255,t>>16&255,t>>8&255,t&255]};Ct.LONGDATETIME=aa(8);tt.TAG=function(t){return It.argument(t.length===4,"Tag should be exactly 4 ASCII characters."),[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]};Ct.TAG=aa(4);tt.Card8=tt.BYTE;Ct.Card8=Ct.BYTE;tt.Card16=tt.USHORT;Ct.Card16=Ct.USHORT;tt.OffSize=tt.BYTE;Ct.OffSize=Ct.BYTE;tt.SID=tt.USHORT;Ct.SID=Ct.USHORT;tt.NUMBER=function(t){return t>=-107&&t<=107?[t+139]:t>=108&&t<=1131?(t=t-108,[(t>>8)+247,t&255]):t>=-1131&&t<=-108?(t=-t-108,[(t>>8)+251,t&255]):t>=-32768&&t<=32767?tt.NUMBER16(t):tt.NUMBER32(t)};Ct.NUMBER=function(t){return tt.NUMBER(t).length};tt.NUMBER16=function(t){return[28,t>>8&255,t&255]};Ct.NUMBER16=aa(3);tt.NUMBER32=function(t){return[29,t>>24&255,t>>16&255,t>>8&255,t&255]};Ct.NUMBER32=aa(5);tt.REAL=function(t){var e=t.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(e);if(n){var r=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));e=(Math.round(t*r)/r).toString()}for(var i="",s=0,o=e.length;s<o;s+=1){var a=e[s];a==="e"?i+=e[++s]==="-"?"c":"b":a==="."?i+="a":a==="-"?i+="e":i+=a}i+=i.length&1?"f":"ff";for(var l=[30],u=0,c=i.length;u<c;u+=2)l.push(parseInt(i.substr(u,2),16));return l};Ct.REAL=function(t){return tt.REAL(t).length};tt.NAME=tt.CHARARRAY;Ct.NAME=Ct.CHARARRAY;tt.STRING=tt.CHARARRAY;Ct.STRING=Ct.CHARARRAY;Wd.UTF8=function(t,e,n){for(var r=[],i=n,s=0;s<i;s++,e+=1)r[s]=t.getUint8(e);return String.fromCharCode.apply(null,r)};Wd.UTF16=function(t,e,n){for(var r=[],i=n/2,s=0;s<i;s++,e+=2)r[s]=t.getUint16(e);return String.fromCharCode.apply(null,r)};tt.UTF16=function(t){for(var e=[],n=0;n<t.length;n+=1){var r=t.charCodeAt(n);e[e.length]=r>>8&255,e[e.length]=r&255}return e};Ct.UTF16=function(t){return t.length*2};var Jx={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"};Wd.MACSTRING=function(t,e,n,r){var i=Jx[r];if(i!==void 0){for(var s="",o=0;o<n;o++){var a=t.getUint8(e+o);a<=127?s+=String.fromCharCode(a):s+=i[a&127]}return s}};var k2=typeof WeakMap=="function"&&new WeakMap,N2,Y$=function(t){if(!N2){N2={};for(var e in Jx)N2[e]=new String(e)}var n=N2[t];if(n!==void 0){if(k2){var r=k2.get(n);if(r!==void 0)return r}var i=Jx[t];if(i!==void 0){for(var s={},o=0;o<i.length;o++)s[i.charCodeAt(o)]=o+128;return k2&&k2.set(n,s),s}}};tt.MACSTRING=function(t,e){var n=Y$(e);if(n!==void 0){for(var r=[],i=0;i<t.length;i++){var s=t.charCodeAt(i);if(s>=128&&(s=n[s],s===void 0))return;r[i]=s}return r}};Ct.MACSTRING=function(t,e){var n=tt.MACSTRING(t,e);return n!==void 0?n.length:0};function Zx(t){return t>=-128&&t<=127}function K$(t,e,n){for(var r=0,i=t.length;e<i&&r<64&&t[e]===0;)++e,++r;return n.push(128|r-1),e}function J$(t,e,n){for(var r=0,i=t.length,s=e;s<i&&r<64;){var o=t[s];if(!Zx(o)||o===0&&s+1<i&&t[s+1]===0)break;++s,++r}n.push(r-1);for(var a=e;a<s;++a)n.push(t[a]+256&255);return s}function Z$(t,e,n){for(var r=0,i=t.length,s=e;s<i&&r<64;){var o=t[s];if(o===0||Zx(o)&&s+1<i&&Zx(t[s+1]))break;++s,++r}n.push(64|r-1);for(var a=e;a<s;++a){var l=t[a];n.push(l+65536>>8&255,l+256&255)}return s}tt.VARDELTAS=function(t){for(var e=0,n=[];e<t.length;){var r=t[e];r===0?e=K$(t,e,n):r>=-128&&r<=127?e=J$(t,e,n):e=Z$(t,e,n)}return n};tt.INDEX=function(t){for(var e=1,n=[e],r=[],i=0;i<t.length;i+=1){var s=tt.OBJECT(t[i]);Array.prototype.push.apply(r,s),e+=s.length,n.push(e)}if(r.length===0)return[0,0];for(var o=[],a=1+Math.floor(Math.log(e)/Math.log(2))/8|0,l=[void 0,tt.BYTE,tt.USHORT,tt.UINT24,tt.ULONG][a],u=0;u<n.length;u+=1){var c=l(n[u]);Array.prototype.push.apply(o,c)}return Array.prototype.concat(tt.Card16(t.length),tt.OffSize(a),o,r)};Ct.INDEX=function(t){return tt.INDEX(t).length};tt.DICT=function(t){for(var e=[],n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var s=parseInt(n[i],0),o=t[s];e=e.concat(tt.OPERAND(o.value,o.type)),e=e.concat(tt.OPERATOR(s))}return e};Ct.DICT=function(t){return tt.DICT(t).length};tt.OPERATOR=function(t){return t<1200?[t]:[12,t-1200]};tt.OPERAND=function(t,e){var n=[];if(Array.isArray(e))for(var r=0;r<e.length;r+=1)It.argument(t.length===e.length,"Not enough arguments given for type"+e),n=n.concat(tt.OPERAND(t[r],e[r]));else if(e==="SID")n=n.concat(tt.NUMBER(t));else if(e==="offset")n=n.concat(tt.NUMBER32(t));else if(e==="number")n=n.concat(tt.NUMBER(t));else if(e==="real")n=n.concat(tt.REAL(t));else throw new Error("Unknown operand type "+e);return n};tt.OP=tt.BYTE;Ct.OP=Ct.BYTE;var z2=typeof WeakMap=="function"&&new WeakMap;tt.CHARSTRING=function(t){if(z2){var e=z2.get(t);if(e!==void 0)return e}for(var n=[],r=t.length,i=0;i<r;i+=1){var s=t[i];n=n.concat(tt[s.type](s.value))}return z2&&z2.set(t,n),n};Ct.CHARSTRING=function(t){return tt.CHARSTRING(t).length};tt.OBJECT=function(t){var e=tt[t.type];return It.argument(e!==void 0,"No encoding function for type "+t.type),e(t.value)};Ct.OBJECT=function(t){var e=Ct[t.type];return It.argument(e!==void 0,"No sizeOf function for type "+t.type),e(t.value)};tt.TABLE=function(t){for(var e=[],n=t.fields.length,r=[],i=[],s=0;s<n;s+=1){var o=t.fields[s],a=tt[o.type];It.argument(a!==void 0,"No encoding function for field type "+o.type+" ("+o.name+")");var l=t[o.name];l===void 0&&(l=o.value);var u=a(l);o.type==="TABLE"?(i.push(e.length),e=e.concat([0,0]),r.push(u)):e=e.concat(u)}for(var c=0;c<r.length;c+=1){var f=i[c],h=e.length;It.argument(h<65536,"Table "+t.tableName+" too big."),e[f]=h>>8,e[f+1]=h&255,e=e.concat(r[c])}return e};Ct.TABLE=function(t){for(var e=0,n=t.fields.length,r=0;r<n;r+=1){var i=t.fields[r],s=Ct[i.type];It.argument(s!==void 0,"No sizeOf function for field type "+i.type+" ("+i.name+")");var o=t[i.name];o===void 0&&(o=i.value),e+=s(o),i.type==="TABLE"&&(e+=2)}return e};tt.RECORD=tt.TABLE;Ct.RECORD=Ct.TABLE;tt.LITERAL=function(t){return t};Ct.LITERAL=function(t){return t.length};function Qr(t,e,n){if(e.length&&(e[0].name!=="coverageFormat"||e[0].value===1))for(var r=0;r<e.length;r+=1){var i=e[r];this[i.name]=i.value}if(this.tableName=t,this.fields=e,n)for(var s=Object.keys(n),o=0;o<s.length;o+=1){var a=s[o],l=n[a];this[a]!==void 0&&(this[a]=l)}}Qr.prototype.encode=function(){return tt.TABLE(this)};Qr.prototype.sizeOf=function(){return Ct.TABLE(this)};function Vm(t,e,n){n===void 0&&(n=e.length);var r=new Array(e.length+1);r[0]={name:t+"Count",type:"USHORT",value:n};for(var i=0;i<e.length;i++)r[i+1]={name:t+i,type:"USHORT",value:e[i]};return r}function Qx(t,e,n){var r=e.length,i=new Array(r+1);i[0]={name:t+"Count",type:"USHORT",value:r};for(var s=0;s<r;s++)i[s+1]={name:t+s,type:"TABLE",value:n(e[s],s)};return i}function Wm(t,e,n){var r=e.length,i=[];i[0]={name:t+"Count",type:"USHORT",value:r};for(var s=0;s<r;s++)i=i.concat(n(e[s],s));return i}function Sv(t){t.format===1?Qr.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Vm("glyph",t.glyphs))):t.format===2?Qr.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(Wm("rangeRecord",t.ranges,function(e){return[{name:"startGlyphID",type:"USHORT",value:e.start},{name:"endGlyphID",type:"USHORT",value:e.end},{name:"startCoverageIndex",type:"USHORT",value:e.index}]}))):It.assert(!1,"Coverage format must be 1 or 2.")}Sv.prototype=Object.create(Qr.prototype);Sv.prototype.constructor=Sv;function _v(t){Qr.call(this,"scriptListTable",Wm("scriptRecord",t,function(e,n){var r=e.script,i=r.defaultLangSys;return It.assert(!!i,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+n,type:"TAG",value:e.tag},{name:"script"+n,type:"TABLE",value:new Qr("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Qr("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:i.reqFeatureIndex}].concat(Vm("featureIndex",i.featureIndexes)))}].concat(Wm("langSys",r.langSysRecords,function(s,o){var a=s.langSys;return[{name:"langSysTag"+o,type:"TAG",value:s.tag},{name:"langSys"+o,type:"TABLE",value:new Qr("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:a.reqFeatureIndex}].concat(Vm("featureIndex",a.featureIndexes)))}]})))}]}))}_v.prototype=Object.create(Qr.prototype);_v.prototype.constructor=_v;function wv(t){Qr.call(this,"featureListTable",Wm("featureRecord",t,function(e,n){var r=e.feature;return[{name:"featureTag"+n,type:"TAG",value:e.tag},{name:"feature"+n,type:"TABLE",value:new Qr("featureTable",[{name:"featureParams",type:"USHORT",value:r.featureParams}].concat(Vm("lookupListIndex",r.lookupListIndexes)))}]}))}wv.prototype=Object.create(Qr.prototype);wv.prototype.constructor=wv;function Ev(t,e){Qr.call(this,"lookupListTable",Qx("lookup",t,function(n){var r=e[n.lookupType];return It.assert(!!r,"Unable to write GSUB lookup type "+n.lookupType+" tables."),new Qr("lookupTable",[{name:"lookupType",type:"USHORT",value:n.lookupType},{name:"lookupFlag",type:"USHORT",value:n.lookupFlag}].concat(Qx("subtable",n.subtables,r)))}))}Ev.prototype=Object.create(Qr.prototype);Ev.prototype.constructor=Ev;var ct={Table:Qr,Record:Qr,Coverage:Sv,ScriptList:_v,FeatureList:wv,LookupList:Ev,ushortList:Vm,tableList:Qx,recordList:Wm};function ZT(t,e){return t.getUint8(e)}function bv(t,e){return t.getUint16(e,!1)}function Q$(t,e){return t.getInt16(e,!1)}function $S(t,e){return t.getUint32(e,!1)}function hF(t,e){var n=t.getInt16(e,!1),r=t.getUint16(e+2,!1);return n+r/65535}function q$(t,e){for(var n="",r=e;r<e+4;r+=1)n+=String.fromCharCode(t.getInt8(r));return n}function $$(t,e,n){for(var r=0,i=0;i<n;i+=1)r<<=8,r+=t.getUint8(e+i);return r}function eee(t,e,n){for(var r=[],i=e;i<n;i+=1)r.push(t.getUint8(i));return r}function tee(t){for(var e="",n=0;n<t.length;n+=1)e+=String.fromCharCode(t[n]);return e}var nee={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Pe(t,e){this.data=t,this.offset=e,this.relativeOffset=0}Pe.prototype.parseByte=function(){var t=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};Pe.prototype.parseChar=function(){var t=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};Pe.prototype.parseCard8=Pe.prototype.parseByte;Pe.prototype.parseUShort=function(){var t=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};Pe.prototype.parseCard16=Pe.prototype.parseUShort;Pe.prototype.parseSID=Pe.prototype.parseUShort;Pe.prototype.parseOffset16=Pe.prototype.parseUShort;Pe.prototype.parseShort=function(){var t=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};Pe.prototype.parseF2Dot14=function(){var t=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,t};Pe.prototype.parseULong=function(){var t=$S(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};Pe.prototype.parseOffset32=Pe.prototype.parseULong;Pe.prototype.parseFixed=function(){var t=hF(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};Pe.prototype.parseString=function(t){var e=this.data,n=this.offset+this.relativeOffset,r="";this.relativeOffset+=t;for(var i=0;i<t;i++)r+=String.fromCharCode(e.getUint8(n+i));return r};Pe.prototype.parseTag=function(){return this.parseString(4)};Pe.prototype.parseLongDateTime=function(){var t=$S(this.data,this.offset+this.relativeOffset+4);return t-=2082844800,this.relativeOffset+=8,t};Pe.prototype.parseVersion=function(t){var e=bv(this.data,this.offset+this.relativeOffset),n=bv(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,t===void 0&&(t=4096),e+n/t/10};Pe.prototype.skip=function(t,e){e===void 0&&(e=1),this.relativeOffset+=nee[t]*e};Pe.prototype.parseULongList=function(t){t===void 0&&(t=this.parseULong());for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint32(r),r+=4;return this.relativeOffset+=t*4,e};Pe.prototype.parseOffset16List=Pe.prototype.parseUShortList=function(t){t===void 0&&(t=this.parseUShort());for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint16(r),r+=2;return this.relativeOffset+=t*2,e};Pe.prototype.parseShortList=function(t){for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getInt16(r),r+=2;return this.relativeOffset+=t*2,e};Pe.prototype.parseByteList=function(t){for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint8(r++);return this.relativeOffset+=t,e};Pe.prototype.parseList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),r=0;r<t;r++)n[r]=e.call(this);return n};Pe.prototype.parseList32=function(t,e){e||(e=t,t=this.parseULong());for(var n=new Array(t),r=0;r<t;r++)n[r]=e.call(this);return n};Pe.prototype.parseRecordList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),r=Object.keys(e),i=0;i<t;i++){for(var s={},o=0;o<r.length;o++){var a=r[o],l=e[a];s[a]=l.call(this)}n[i]=s}return n};Pe.prototype.parseRecordList32=function(t,e){e||(e=t,t=this.parseULong());for(var n=new Array(t),r=Object.keys(e),i=0;i<t;i++){for(var s={},o=0;o<r.length;o++){var a=r[o],l=e[a];s[a]=l.call(this)}n[i]=s}return n};Pe.prototype.parseStruct=function(t){if(typeof t=="function")return t.call(this);for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r],s=t[i];n[i]=s.call(this)}return n};Pe.prototype.parseValueRecord=function(t){if(t===void 0&&(t=this.parseUShort()),t!==0){var e={};return t&1&&(e.xPlacement=this.parseShort()),t&2&&(e.yPlacement=this.parseShort()),t&4&&(e.xAdvance=this.parseShort()),t&8&&(e.yAdvance=this.parseShort()),t&16&&(e.xPlaDevice=void 0,this.parseShort()),t&32&&(e.yPlaDevice=void 0,this.parseShort()),t&64&&(e.xAdvDevice=void 0,this.parseShort()),t&128&&(e.yAdvDevice=void 0,this.parseShort()),e}};Pe.prototype.parseValueRecordList=function(){for(var t=this.parseUShort(),e=this.parseUShort(),n=new Array(e),r=0;r<e;r++)n[r]=this.parseValueRecord(t);return n};Pe.prototype.parsePointer=function(t){var e=this.parseOffset16();if(e>0)return new Pe(this.data,this.offset+e).parseStruct(t)};Pe.prototype.parsePointer32=function(t){var e=this.parseOffset32();if(e>0)return new Pe(this.data,this.offset+e).parseStruct(t)};Pe.prototype.parseListOfLists=function(t){for(var e=this.parseOffset16List(),n=e.length,r=this.relativeOffset,i=new Array(n),s=0;s<n;s++){var o=e[s];if(o===0){i[s]=void 0;continue}if(this.relativeOffset=o,t){for(var a=this.parseOffset16List(),l=new Array(a.length),u=0;u<a.length;u++)this.relativeOffset=o+a[u],l[u]=t.call(this);i[s]=l}else i[s]=this.parseUShortList()}return this.relativeOffset=r,i};Pe.prototype.parseCoverage=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort(),n=this.parseUShort();if(e===1)return{format:1,glyphs:this.parseUShortList(n)};if(e===2){for(var r=new Array(n),i=0;i<n;i++)r[i]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:r}}throw new Error("0x"+t.toString(16)+": Coverage format must be 1 or 2.")};Pe.prototype.parseClassDef=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();if(e===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(e===2)return{format:2,ranges:this.parseRecordList({start:Pe.uShort,end:Pe.uShort,classId:Pe.uShort})};throw new Error("0x"+t.toString(16)+": ClassDef format must be 1 or 2.")};Pe.list=function(t,e){return function(){return this.parseList(t,e)}};Pe.list32=function(t,e){return function(){return this.parseList32(t,e)}};Pe.recordList=function(t,e){return function(){return this.parseRecordList(t,e)}};Pe.recordList32=function(t,e){return function(){return this.parseRecordList32(t,e)}};Pe.pointer=function(t){return function(){return this.parsePointer(t)}};Pe.pointer32=function(t){return function(){return this.parsePointer32(t)}};Pe.tag=Pe.prototype.parseTag;Pe.byte=Pe.prototype.parseByte;Pe.uShort=Pe.offset16=Pe.prototype.parseUShort;Pe.uShortList=Pe.prototype.parseUShortList;Pe.uLong=Pe.offset32=Pe.prototype.parseULong;Pe.uLongList=Pe.prototype.parseULongList;Pe.struct=Pe.prototype.parseStruct;Pe.coverage=Pe.prototype.parseCoverage;Pe.classDef=Pe.prototype.parseClassDef;var QT={reserved:Pe.uShort,reqFeatureIndex:Pe.uShort,featureIndexes:Pe.uShortList};Pe.prototype.parseScriptList=function(){return this.parsePointer(Pe.recordList({tag:Pe.tag,script:Pe.pointer({defaultLangSys:Pe.pointer(QT),langSysRecords:Pe.recordList({tag:Pe.tag,langSys:Pe.pointer(QT)})})}))||[]};Pe.prototype.parseFeatureList=function(){return this.parsePointer(Pe.recordList({tag:Pe.tag,feature:Pe.pointer({featureParams:Pe.offset16,lookupListIndexes:Pe.uShortList})}))||[]};Pe.prototype.parseLookupList=function(t){return this.parsePointer(Pe.list(Pe.pointer(function(){var e=this.parseUShort();It.argument(1<=e&&e<=9,"GPOS/GSUB lookup type "+e+" unknown.");var n=this.parseUShort(),r=n&16;return{lookupType:e,lookupFlag:n,subtables:this.parseList(Pe.pointer(t[e])),markFilteringSet:r?this.parseUShort():void 0}})))||[]};Pe.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var t=this.parseUShort(),e=this.parseUShort();It.argument(t===1&&e<1,"GPOS/GSUB feature variations table unknown.");var n=this.parseRecordList32({conditionSetOffset:Pe.offset32,featureTableSubstitutionOffset:Pe.offset32});return n})||[]};var Nt={getByte:ZT,getCard8:ZT,getUShort:bv,getCard16:bv,getShort:Q$,getULong:$S,getFixed:hF,getTag:q$,getOffset:$$,getBytes:eee,bytesToString:tee,Parser:Pe};function ree(t,e){e.parseUShort(),t.length=e.parseULong(),t.language=e.parseULong();var n;t.groupCount=n=e.parseULong(),t.glyphIndexMap={};for(var r=0;r<n;r+=1)for(var i=e.parseULong(),s=e.parseULong(),o=e.parseULong(),a=i;a<=s;a+=1)t.glyphIndexMap[a]=o,o++}function iee(t,e,n,r,i){t.length=e.parseUShort(),t.language=e.parseUShort();var s;t.segCount=s=e.parseUShort()>>1,e.skip("uShort",3),t.glyphIndexMap={};for(var o=new Nt.Parser(n,r+i+14),a=new Nt.Parser(n,r+i+16+s*2),l=new Nt.Parser(n,r+i+16+s*4),u=new Nt.Parser(n,r+i+16+s*6),c=r+i+16+s*8,f=0;f<s-1;f+=1)for(var h=void 0,p=o.parseUShort(),g=a.parseUShort(),x=l.parseShort(),y=u.parseUShort(),v=g;v<=p;v+=1)y!==0?(c=u.offset+u.relativeOffset-2,c+=y,c+=(v-g)*2,h=Nt.getUShort(n,c),h!==0&&(h=h+x&65535)):h=v+x&65535,t.glyphIndexMap[v]=h}function see(t,e){var n={};n.version=Nt.getUShort(t,e),It.argument(n.version===0,"cmap table version should be 0."),n.numTables=Nt.getUShort(t,e+2);for(var r=-1,i=n.numTables-1;i>=0;i-=1){var s=Nt.getUShort(t,e+4+i*8),o=Nt.getUShort(t,e+4+i*8+2);if(s===3&&(o===0||o===1||o===10)||s===0&&(o===0||o===1||o===2||o===3||o===4)){r=Nt.getULong(t,e+4+i*8+4);break}}if(r===-1)throw new Error("No valid cmap sub-tables found.");var a=new Nt.Parser(t,e+r);if(n.format=a.parseUShort(),n.format===12)ree(n,a);else if(n.format===4)iee(n,a,t,e,r);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");return n}function oee(t,e,n){t.segments.push({end:e,start:e,delta:-(e-n),offset:0,glyphIndex:n})}function aee(t){t.segments.push({end:65535,start:65535,delta:1,offset:0})}function lee(t){var e=!0,n;for(n=t.length-1;n>0;n-=1){var r=t.get(n);if(r.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),e=!1;break}}var i=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:e?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:e?12:12+8}];e||(i=i.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),i=i.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var s=new ct.Table("cmap",i);for(s.segments=[],n=0;n<t.length;n+=1){for(var o=t.get(n),a=0;a<o.unicodes.length;a+=1)oee(s,o.unicodes[a],n);s.segments=s.segments.sort(function(S,_){return S.start-_.start})}aee(s);var l=s.segments.length,u=0,c=[],f=[],h=[],p=[],g=[],x=[];for(n=0;n<l;n+=1){var y=s.segments[n];y.end<=65535&&y.start<=65535?(c=c.concat({name:"end_"+n,type:"USHORT",value:y.end}),f=f.concat({name:"start_"+n,type:"USHORT",value:y.start}),h=h.concat({name:"idDelta_"+n,type:"SHORT",value:y.delta}),p=p.concat({name:"idRangeOffset_"+n,type:"USHORT",value:y.offset}),y.glyphId!==void 0&&(g=g.concat({name:"glyph_"+n,type:"USHORT",value:y.glyphId}))):u+=1,!e&&y.glyphIndex!==void 0&&(x=x.concat({name:"cmap12Start_"+n,type:"ULONG",value:y.start}),x=x.concat({name:"cmap12End_"+n,type:"ULONG",value:y.end}),x=x.concat({name:"cmap12Glyph_"+n,type:"ULONG",value:y.glyphIndex}))}if(s.segCountX2=(l-u)*2,s.searchRange=Math.pow(2,Math.floor(Math.log(l-u)/Math.log(2)))*2,s.entrySelector=Math.log(s.searchRange/2)/Math.log(2),s.rangeShift=s.segCountX2-s.searchRange,s.fields=s.fields.concat(c),s.fields.push({name:"reservedPad",type:"USHORT",value:0}),s.fields=s.fields.concat(f),s.fields=s.fields.concat(h),s.fields=s.fields.concat(p),s.fields=s.fields.concat(g),s.cmap4Length=14+c.length*2+2+f.length*2+h.length*2+p.length*2+g.length*2,!e){var v=16+x.length*4;s.cmap12Offset=12+2*2+4+s.cmap4Length,s.fields=s.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:v},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:x.length/3}]),s.fields=s.fields.concat(x)}return s}var uee={parse:see,make:lee},Lg=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],cee=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],fee=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],qT=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function dF(t){this.font=t}dF.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),n=this.font.glyphs;if(n){for(var r=0;r<n.length;r+=1)for(var i=n.get(r),s=0;s<i.unicodes.length;s+=1)if(i.unicodes[s]===e)return r}return null};function Mv(t,e){this.encoding=t,this.charset=e}Mv.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),n=this.encoding[e];return this.charset.indexOf(n)};function hee(t,e,n,r,i){t.beginPath(),t.moveTo(e,n),t.lineTo(r,i),t.stroke()}var Uc={line:hee};function dee(t,e){var n=e||new zr;return{configurable:!0,get:function(){return typeof n=="function"&&(n=n()),n},set:function(r){n=r}}}function Io(t){this.bindConstructorValues(t)}Io.prototype.bindConstructorValues=function(t){this.index=t.index||0,this.name=t.name||null,this.unicode=t.unicode||void 0,this.unicodes=t.unicodes||t.unicode!==void 0?[t.unicode]:[],"xMin"in t&&(this.xMin=t.xMin),"yMin"in t&&(this.yMin=t.yMin),"xMax"in t&&(this.xMax=t.xMax),"yMax"in t&&(this.yMax=t.yMax),"advanceWidth"in t&&(this.advanceWidth=t.advanceWidth),Object.defineProperty(this,"path",dee(this,t.path))};Io.prototype.addUnicode=function(t){this.unicodes.length===0&&(this.unicode=t),this.unicodes.push(t)};Io.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};Io.prototype.getPath=function(t,e,n,r,i){t=t!==void 0?t:0,e=e!==void 0?e:0,n=n!==void 0?n:72;var s,o;r||(r={});var a=r.xScale,l=r.yScale;if(r.hinting&&i&&i.hinting&&(o=this.path&&i.hinting.exec(this,n)),o)s=i.hinting.getCommands(o),t=Math.round(t),e=Math.round(e),a=l=1;else{s=this.path.commands;var u=1/(this.path.unitsPerEm||1e3)*n;a===void 0&&(a=u),l===void 0&&(l=u)}for(var c=new zr,f=0;f<s.length;f+=1){var h=s[f];h.type==="M"?c.moveTo(t+h.x*a,e+-h.y*l):h.type==="L"?c.lineTo(t+h.x*a,e+-h.y*l):h.type==="Q"?c.quadraticCurveTo(t+h.x1*a,e+-h.y1*l,t+h.x*a,e+-h.y*l):h.type==="C"?c.curveTo(t+h.x1*a,e+-h.y1*l,t+h.x2*a,e+-h.y2*l,t+h.x*a,e+-h.y*l):h.type==="Z"&&c.closePath()}return c};Io.prototype.getContours=function(){if(this.points===void 0)return[];for(var t=[],e=[],n=0;n<this.points.length;n+=1){var r=this.points[n];e.push(r),r.lastPointOfContour&&(t.push(e),e=[])}return It.argument(e.length===0,"There are still points left in the current contour."),t};Io.prototype.getMetrics=function(){for(var t=this.path.commands,e=[],n=[],r=0;r<t.length;r+=1){var i=t[r];i.type!=="Z"&&(e.push(i.x),n.push(i.y)),(i.type==="Q"||i.type==="C")&&(e.push(i.x1),n.push(i.y1)),i.type==="C"&&(e.push(i.x2),n.push(i.y2))}var s={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,e),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(s.xMin)||(s.xMin=0),isFinite(s.xMax)||(s.xMax=this.advanceWidth),isFinite(s.yMin)||(s.yMin=0),isFinite(s.yMax)||(s.yMax=0),s.rightSideBearing=this.advanceWidth-s.leftSideBearing-(s.xMax-s.xMin),s};Io.prototype.draw=function(t,e,n,r,i){this.getPath(e,n,r,i).draw(t)};Io.prototype.drawPoints=function(t,e,n,r){function i(f,h,p,g){t.beginPath();for(var x=0;x<f.length;x+=1)t.moveTo(h+f[x].x*g,p+f[x].y*g),t.arc(h+f[x].x*g,p+f[x].y*g,2,0,Math.PI*2,!1);t.closePath(),t.fill()}e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:24;for(var s=1/this.path.unitsPerEm*r,o=[],a=[],l=this.path,u=0;u<l.commands.length;u+=1){var c=l.commands[u];c.x!==void 0&&o.push({x:c.x,y:-c.y}),c.x1!==void 0&&a.push({x:c.x1,y:-c.y1}),c.x2!==void 0&&a.push({x:c.x2,y:-c.y2})}t.fillStyle="blue",i(o,e,n,s),t.fillStyle="red",i(a,e,n,s)};Io.prototype.drawMetrics=function(t,e,n,r){var i;e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:24,i=1/this.path.unitsPerEm*r,t.lineWidth=1,t.strokeStyle="black",Uc.line(t,e,-1e4,e,1e4),Uc.line(t,-1e4,n,1e4,n);var s=this.xMin||0,o=this.yMin||0,a=this.xMax||0,l=this.yMax||0,u=this.advanceWidth||0;t.strokeStyle="blue",Uc.line(t,e+s*i,-1e4,e+s*i,1e4),Uc.line(t,e+a*i,-1e4,e+a*i,1e4),Uc.line(t,-1e4,n+-o*i,1e4,n+-o*i),Uc.line(t,-1e4,n+-l*i,1e4,n+-l*i),t.strokeStyle="green",Uc.line(t,e+u*i,-1e4,e+u*i,1e4)};function G2(t,e,n){Object.defineProperty(t,e,{get:function(){return t.path,t[n]},set:function(r){t[n]=r},enumerable:!0,configurable:!0})}function e_(t,e){if(this.font=t,this.glyphs={},Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];r.path.unitsPerEm=t.unitsPerEm,this.glyphs[n]=r}this.length=e&&e.length||0}e_.prototype.get=function(t){if(this.glyphs[t]===void 0){this.font._push(t),typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());var e=this.glyphs[t],n=this.font._IndexToUnicodeMap[t];if(n)for(var r=0;r<n.unicodes.length;r++)e.addUnicode(n.unicodes[r]);this.font.cffEncoding?this.font.isCIDFont?e.name="gid"+t:e.name=this.font.cffEncoding.charset[t]:this.font.glyphNames.names&&(e.name=this.font.glyphNames.glyphIndexToName(t)),this.glyphs[t].advanceWidth=this.font._hmtxTableData[t].advanceWidth,this.glyphs[t].leftSideBearing=this.font._hmtxTableData[t].leftSideBearing}else typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());return this.glyphs[t]};e_.prototype.push=function(t,e){this.glyphs[t]=e,this.length++};function pee(t,e){return new Io({index:e,font:t})}function mee(t,e,n,r,i,s){return function(){var o=new Io({index:e,font:t});return o.path=function(){n(o,r,i);var a=s(t.glyphs,o);return a.unitsPerEm=t.unitsPerEm,a},G2(o,"xMin","_xMin"),G2(o,"xMax","_xMax"),G2(o,"yMin","_yMin"),G2(o,"yMax","_yMax"),o}}function gee(t,e,n,r){return function(){var i=new Io({index:e,font:t});return i.path=function(){var s=n(t,i,r);return s.unitsPerEm=t.unitsPerEm,s},i}}var Fa={GlyphSet:e_,glyphLoader:pee,ttfGlyphLoader:mee,cffGlyphLoader:gee};function pF(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n+=1)if(!pF(t[n],e[n]))return!1;return!0}else return!1}function qx(t){var e;return t.length<1240?e=107:t.length<33900?e=1131:e=32768,e}function gu(t,e,n){var r=[],i=[],s=Nt.getCard16(t,e),o,a;if(s!==0){var l=Nt.getByte(t,e+2);o=e+(s+1)*l+2;for(var u=e+3,c=0;c<s+1;c+=1)r.push(Nt.getOffset(t,u,l)),u+=l;a=o+r[s]}else a=e+2;for(var f=0;f<r.length-1;f+=1){var h=Nt.getBytes(t,o+r[f],o+r[f+1]);n&&(h=n(h)),i.push(h)}return{objects:i,startOffset:e,endOffset:a}}function vee(t,e){var n=[],r=Nt.getCard16(t,e),i,s;if(r!==0){var o=Nt.getByte(t,e+2);i=e+(r+1)*o+2;for(var a=e+3,l=0;l<r+1;l+=1)n.push(Nt.getOffset(t,a,o)),a+=o;s=i+n[r]}else s=e+2;return{offsets:n,startOffset:e,endOffset:s}}function yee(t,e,n,r,i){var s=Nt.getCard16(n,r),o=0;if(s!==0){var a=Nt.getByte(n,r+2);o=r+(s+1)*a+2}var l=Nt.getBytes(n,o+e[t],o+e[t+1]);return i&&(l=i(l)),l}function xee(t){for(var e="",n=15,r=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var i=t.parseByte(),s=i>>4,o=i&15;if(s===n||(e+=r[s],o===n))break;e+=r[o]}return parseFloat(e)}function See(t,e){var n,r,i,s;if(e===28)return n=t.parseByte(),r=t.parseByte(),n<<8|r;if(e===29)return n=t.parseByte(),r=t.parseByte(),i=t.parseByte(),s=t.parseByte(),n<<24|r<<16|i<<8|s;if(e===30)return xee(t);if(e>=32&&e<=246)return e-139;if(e>=247&&e<=250)return n=t.parseByte(),(e-247)*256+n+108;if(e>=251&&e<=254)return n=t.parseByte(),-(e-251)*256-n-108;throw new Error("Invalid b0 "+e)}function _ee(t){for(var e={},n=0;n<t.length;n+=1){var r=t[n][0],i=t[n][1],s=void 0;if(i.length===1?s=i[0]:s=i,e.hasOwnProperty(r)&&!isNaN(e[r]))throw new Error("Object "+e+" already has key "+r);e[r]=s}return e}function mF(t,e,n){e=e!==void 0?e:0;var r=new Nt.Parser(t,e),i=[],s=[];for(n=n!==void 0?n:t.length;r.relativeOffset<n;){var o=r.parseByte();o<=21?(o===12&&(o=1200+r.parseByte()),i.push([o,s]),s=[]):s.push(See(r,o))}return _ee(i)}function em(t,e){return e<=390?e=Lg[e]:e=t[e-391],e}function gF(t,e,n){for(var r={},i,s=0;s<e.length;s+=1){var o=e[s];if(Array.isArray(o.type)){var a=[];a.length=o.type.length;for(var l=0;l<o.type.length;l++)i=t[o.op]!==void 0?t[o.op][l]:void 0,i===void 0&&(i=o.value!==void 0&&o.value[l]!==void 0?o.value[l]:null),o.type[l]==="SID"&&(i=em(n,i)),a[l]=i;r[o.name]=a}else i=t[o.op],i===void 0&&(i=o.value!==void 0?o.value:null),o.type==="SID"&&(i=em(n,i)),r[o.name]=i}return r}function wee(t,e){var n={};return n.formatMajor=Nt.getCard8(t,e),n.formatMinor=Nt.getCard8(t,e+1),n.size=Nt.getCard8(t,e+2),n.offsetSize=Nt.getCard8(t,e+3),n.startOffset=e,n.endOffset=e+4,n}var vF=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],yF=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Eee(t,e){var n=mF(t,0,t.byteLength);return gF(n,vF,e)}function xF(t,e,n,r){var i=mF(t,e,n);return gF(i,yF,r)}function $T(t,e,n,r){for(var i=[],s=0;s<n.length;s+=1){var o=new DataView(new Uint8Array(n[s]).buffer),a=Eee(o,r);a._subrs=[],a._subrsBias=0,a._defaultWidthX=0,a._nominalWidthX=0;var l=a.private[0],u=a.private[1];if(l!==0&&u!==0){var c=xF(t,u+e,l,r);if(a._defaultWidthX=c.defaultWidthX,a._nominalWidthX=c.nominalWidthX,c.subrs!==0){var f=u+c.subrs,h=gu(t,f+e);a._subrs=h.objects,a._subrsBias=qx(a._subrs)}a._privateDict=c}i.push(a)}return i}function bee(t,e,n,r){var i,s,o=new Nt.Parser(t,e);n-=1;var a=[".notdef"],l=o.parseCard8();if(l===0)for(var u=0;u<n;u+=1)i=o.parseSID(),a.push(em(r,i));else if(l===1)for(;a.length<=n;){i=o.parseSID(),s=o.parseCard8();for(var c=0;c<=s;c+=1)a.push(em(r,i)),i+=1}else if(l===2)for(;a.length<=n;){i=o.parseSID(),s=o.parseCard16();for(var f=0;f<=s;f+=1)a.push(em(r,i)),i+=1}else throw new Error("Unknown charset format "+l);return a}function Mee(t,e,n){var r,i={},s=new Nt.Parser(t,e),o=s.parseCard8();if(o===0)for(var a=s.parseCard8(),l=0;l<a;l+=1)r=s.parseCard8(),i[r]=l;else if(o===1){var u=s.parseCard8();r=1;for(var c=0;c<u;c+=1)for(var f=s.parseCard8(),h=s.parseCard8(),p=f;p<=f+h;p+=1)i[p]=r,r+=1}else throw new Error("Unknown encoding format "+o);return new Mv(i,n)}function eA(t,e,n){var r,i,s,o,a=new zr,l=[],u=0,c=!1,f=!1,h=0,p=0,g,x,y,v;if(t.isCIDFont){var S=t.tables.cff.topDict._fdSelect[e.index],_=t.tables.cff.topDict._fdArray[S];g=_._subrs,x=_._subrsBias,y=_._defaultWidthX,v=_._nominalWidthX}else g=t.tables.cff.topDict._subrs,x=t.tables.cff.topDict._subrsBias,y=t.tables.cff.topDict._defaultWidthX,v=t.tables.cff.topDict._nominalWidthX;var E=y;function b(D,C){f&&a.closePath(),a.moveTo(D,C),f=!0}function T(){var D;D=l.length%2!==0,D&&!c&&(E=l.shift()+v),u+=l.length>>1,l.length=0,c=!0}function A(D){for(var C,L,k,z,H,V,K,J,$,U,G,W,F=0;F<D.length;){var j=D[F];switch(F+=1,j){case 1:T();break;case 3:T();break;case 4:l.length>1&&!c&&(E=l.shift()+v,c=!0),p+=l.pop(),b(h,p);break;case 5:for(;l.length>0;)h+=l.shift(),p+=l.shift(),a.lineTo(h,p);break;case 6:for(;l.length>0&&(h+=l.shift(),a.lineTo(h,p),l.length!==0);)p+=l.shift(),a.lineTo(h,p);break;case 7:for(;l.length>0&&(p+=l.shift(),a.lineTo(h,p),l.length!==0);)h+=l.shift(),a.lineTo(h,p);break;case 8:for(;l.length>0;)r=h+l.shift(),i=p+l.shift(),s=r+l.shift(),o=i+l.shift(),h=s+l.shift(),p=o+l.shift(),a.curveTo(r,i,s,o,h,p);break;case 10:H=l.pop()+x,V=g[H],V&&A(V);break;case 11:return;case 12:switch(j=D[F],F+=1,j){case 35:r=h+l.shift(),i=p+l.shift(),s=r+l.shift(),o=i+l.shift(),K=s+l.shift(),J=o+l.shift(),$=K+l.shift(),U=J+l.shift(),G=$+l.shift(),W=U+l.shift(),h=G+l.shift(),p=W+l.shift(),l.shift(),a.curveTo(r,i,s,o,K,J),a.curveTo($,U,G,W,h,p);break;case 34:r=h+l.shift(),i=p,s=r+l.shift(),o=i+l.shift(),K=s+l.shift(),J=o,$=K+l.shift(),U=o,G=$+l.shift(),W=p,h=G+l.shift(),a.curveTo(r,i,s,o,K,J),a.curveTo($,U,G,W,h,p);break;case 36:r=h+l.shift(),i=p+l.shift(),s=r+l.shift(),o=i+l.shift(),K=s+l.shift(),J=o,$=K+l.shift(),U=o,G=$+l.shift(),W=U+l.shift(),h=G+l.shift(),a.curveTo(r,i,s,o,K,J),a.curveTo($,U,G,W,h,p);break;case 37:r=h+l.shift(),i=p+l.shift(),s=r+l.shift(),o=i+l.shift(),K=s+l.shift(),J=o+l.shift(),$=K+l.shift(),U=J+l.shift(),G=$+l.shift(),W=U+l.shift(),Math.abs(G-h)>Math.abs(W-p)?h=G+l.shift():p=W+l.shift(),a.curveTo(r,i,s,o,K,J),a.curveTo($,U,G,W,h,p);break;default:console.log("Glyph "+e.index+": unknown operator 1200"+j),l.length=0}break;case 14:l.length>0&&!c&&(E=l.shift()+v,c=!0),f&&(a.closePath(),f=!1);break;case 18:T();break;case 19:case 20:T(),F+=u+7>>3;break;case 21:l.length>2&&!c&&(E=l.shift()+v,c=!0),p+=l.pop(),h+=l.pop(),b(h,p);break;case 22:l.length>1&&!c&&(E=l.shift()+v,c=!0),h+=l.pop(),b(h,p);break;case 23:T();break;case 24:for(;l.length>2;)r=h+l.shift(),i=p+l.shift(),s=r+l.shift(),o=i+l.shift(),h=s+l.shift(),p=o+l.shift(),a.curveTo(r,i,s,o,h,p);h+=l.shift(),p+=l.shift(),a.lineTo(h,p);break;case 25:for(;l.length>6;)h+=l.shift(),p+=l.shift(),a.lineTo(h,p);r=h+l.shift(),i=p+l.shift(),s=r+l.shift(),o=i+l.shift(),h=s+l.shift(),p=o+l.shift(),a.curveTo(r,i,s,o,h,p);break;case 26:for(l.length%2&&(h+=l.shift());l.length>0;)r=h,i=p+l.shift(),s=r+l.shift(),o=i+l.shift(),h=s,p=o+l.shift(),a.curveTo(r,i,s,o,h,p);break;case 27:for(l.length%2&&(p+=l.shift());l.length>0;)r=h+l.shift(),i=p,s=r+l.shift(),o=i+l.shift(),h=s+l.shift(),p=o,a.curveTo(r,i,s,o,h,p);break;case 28:C=D[F],L=D[F+1],l.push((C<<24|L<<16)>>16),F+=2;break;case 29:H=l.pop()+t.gsubrsBias,V=t.gsubrs[H],V&&A(V);break;case 30:for(;l.length>0&&(r=h,i=p+l.shift(),s=r+l.shift(),o=i+l.shift(),h=s+l.shift(),p=o+(l.length===1?l.shift():0),a.curveTo(r,i,s,o,h,p),l.length!==0);)r=h+l.shift(),i=p,s=r+l.shift(),o=i+l.shift(),p=o+l.shift(),h=s+(l.length===1?l.shift():0),a.curveTo(r,i,s,o,h,p);break;case 31:for(;l.length>0&&(r=h+l.shift(),i=p,s=r+l.shift(),o=i+l.shift(),p=o+l.shift(),h=s+(l.length===1?l.shift():0),a.curveTo(r,i,s,o,h,p),l.length!==0);)r=h,i=p+l.shift(),s=r+l.shift(),o=i+l.shift(),h=s+l.shift(),p=o+(l.length===1?l.shift():0),a.curveTo(r,i,s,o,h,p);break;default:j<32?console.log("Glyph "+e.index+": unknown operator "+j):j<247?l.push(j-139):j<251?(C=D[F],F+=1,l.push((j-247)*256+C+108)):j<255?(C=D[F],F+=1,l.push(-(j-251)*256-C-108)):(C=D[F],L=D[F+1],k=D[F+2],z=D[F+3],F+=4,l.push((C<<24|L<<16|k<<8|z)/65536))}}}return A(n),e.advanceWidth=E,a}function Tee(t,e,n,r){var i=[],s,o=new Nt.Parser(t,e),a=o.parseCard8();if(a===0)for(var l=0;l<n;l++){if(s=o.parseCard8(),s>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+s+" (FD count "+r+")");i.push(s)}else if(a===3){var u=o.parseCard16(),c=o.parseCard16();if(c!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+c);for(var f,h=0;h<u;h++){if(s=o.parseCard8(),f=o.parseCard16(),s>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+s+" (FD count "+r+")");if(f>n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+f);for(;c<f;c++)i.push(s);c=f}if(f!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+f)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+a);return i}function Aee(t,e,n,r){n.tables.cff={};var i=wee(t,e),s=gu(t,i.endOffset,Nt.bytesToString),o=gu(t,s.endOffset),a=gu(t,o.endOffset,Nt.bytesToString),l=gu(t,a.endOffset);n.gsubrs=l.objects,n.gsubrsBias=qx(n.gsubrs);var u=$T(t,e,o.objects,a.objects);if(u.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+u.length);var c=u[0];if(n.tables.cff.topDict=c,c._privateDict&&(n.defaultWidthX=c._privateDict.defaultWidthX,n.nominalWidthX=c._privateDict.nominalWidthX),c.ros[0]!==void 0&&c.ros[1]!==void 0&&(n.isCIDFont=!0),n.isCIDFont){var f=c.fdArray,h=c.fdSelect;if(f===0||h===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");f+=e;var p=gu(t,f),g=$T(t,e,p.objects,a.objects);c._fdArray=g,h+=e,c._fdSelect=Tee(t,h,n.numGlyphs,g.length)}var x=e+c.private[1],y=xF(t,x,c.private[0],a.objects);if(n.defaultWidthX=y.defaultWidthX,n.nominalWidthX=y.nominalWidthX,y.subrs!==0){var v=x+y.subrs,S=gu(t,v);n.subrs=S.objects,n.subrsBias=qx(n.subrs)}else n.subrs=[],n.subrsBias=0;var _;r.lowMemory?(_=vee(t,e+c.charStrings),n.nGlyphs=_.offsets.length):(_=gu(t,e+c.charStrings),n.nGlyphs=_.objects.length);var E=bee(t,e+c.charset,n.nGlyphs,a.objects);if(c.encoding===0?n.cffEncoding=new Mv(cee,E):c.encoding===1?n.cffEncoding=new Mv(fee,E):n.cffEncoding=Mee(t,e+c.encoding,E),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new Fa.GlyphSet(n),r.lowMemory)n._push=function(A){var D=yee(A,_.offsets,t,e+c.charStrings);n.glyphs.push(A,Fa.cffGlyphLoader(n,A,eA,D))};else for(var b=0;b<n.nGlyphs;b+=1){var T=_.objects[b];n.glyphs.push(b,Fa.cffGlyphLoader(n,b,eA,T))}}function SF(t,e){var n,r=Lg.indexOf(t);return r>=0&&(n=r),r=e.indexOf(t),r>=0?n=r+Lg.length:(n=Lg.length+e.length,e.push(t)),n}function Cee(){return new ct.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function Ree(t){var e=new ct.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);e.names=[];for(var n=0;n<t.length;n+=1)e.names.push({name:"name_"+n,type:"NAME",value:t[n]});return e}function _F(t,e,n){for(var r={},i=0;i<t.length;i+=1){var s=t[i],o=e[s.name];o!==void 0&&!pF(o,s.value)&&(s.type==="SID"&&(o=SF(o,n)),r[s.op]={name:s.name,type:s.type,value:o})}return r}function tA(t,e){var n=new ct.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=_F(vF,t,e),n}function nA(t){var e=new ct.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return e.topDicts=[{name:"topDict_0",type:"TABLE",value:t}],e}function Pee(t){var e=new ct.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);e.strings=[];for(var n=0;n<t.length;n+=1)e.strings.push({name:"string_"+n,type:"STRING",value:t[n]});return e}function Dee(){return new ct.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function Lee(t,e){for(var n=new ct.Record("Charsets",[{name:"format",type:"Card8",value:0}]),r=0;r<t.length;r+=1){var i=t[r],s=SF(i,e);n.fields.push({name:"glyph_"+r,type:"SID",value:s})}return n}function Iee(t){var e=[],n=t.path;e.push({name:"width",type:"NUMBER",value:t.advanceWidth});for(var r=0,i=0,s=0;s<n.commands.length;s+=1){var o=void 0,a=void 0,l=n.commands[s];if(l.type==="Q"){var u=.3333333333333333,c=2/3;l={type:"C",x:l.x,y:l.y,x1:Math.round(u*r+c*l.x1),y1:Math.round(u*i+c*l.y1),x2:Math.round(u*l.x+c*l.x1),y2:Math.round(u*l.y+c*l.y1)}}if(l.type==="M")o=Math.round(l.x-r),a=Math.round(l.y-i),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(l.x),i=Math.round(l.y);else if(l.type==="L")o=Math.round(l.x-r),a=Math.round(l.y-i),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rlineto",type:"OP",value:5}),r=Math.round(l.x),i=Math.round(l.y);else if(l.type==="C"){var f=Math.round(l.x1-r),h=Math.round(l.y1-i),p=Math.round(l.x2-l.x1),g=Math.round(l.y2-l.y1);o=Math.round(l.x-l.x2),a=Math.round(l.y-l.y2),e.push({name:"dx1",type:"NUMBER",value:f}),e.push({name:"dy1",type:"NUMBER",value:h}),e.push({name:"dx2",type:"NUMBER",value:p}),e.push({name:"dy2",type:"NUMBER",value:g}),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rrcurveto",type:"OP",value:8}),r=Math.round(l.x),i=Math.round(l.y)}}return e.push({name:"endchar",type:"OP",value:14}),e}function Bee(t){for(var e=new ct.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<t.length;n+=1){var r=t.get(n),i=Iee(r);e.charStrings.push({name:r.name,type:"CHARSTRING",value:i})}return e}function Fee(t,e){var n=new ct.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=_F(yF,t,e),n}function Uee(t,e){for(var n=new ct.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),r=1/e.unitsPerEm,i={version:e.version,fullName:e.fullName,familyName:e.familyName,weight:e.weightName,fontBBox:e.fontBBox||[0,0,0,0],fontMatrix:[r,0,0,r,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},s={},o=[],a,l=1;l<t.length;l+=1)a=t.get(l),o.push(a.name);var u=[];n.header=Cee(),n.nameIndex=Ree([e.postScriptName]);var c=tA(i,u);n.topDictIndex=nA(c),n.globalSubrIndex=Dee(),n.charsets=Lee(o,u),n.charStringsIndex=Bee(t),n.privateDict=Fee(s,u),n.stringIndex=Pee(u);var f=n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf();return i.charset=f,i.encoding=0,i.charStrings=i.charset+n.charsets.sizeOf(),i.private[1]=i.charStrings+n.charStringsIndex.sizeOf(),c=tA(i,u),n.topDictIndex=nA(c),n}var Oee={parse:Aee,make:Uee};function kee(t,e){var n={},r=new Nt.Parser(t,e);return n.version=r.parseVersion(),n.fontRevision=Math.round(r.parseFixed()*1e3)/1e3,n.checkSumAdjustment=r.parseULong(),n.magicNumber=r.parseULong(),It.argument(n.magicNumber===1594834165,"Font header has wrong magic number."),n.flags=r.parseUShort(),n.unitsPerEm=r.parseUShort(),n.created=r.parseLongDateTime(),n.modified=r.parseLongDateTime(),n.xMin=r.parseShort(),n.yMin=r.parseShort(),n.xMax=r.parseShort(),n.yMax=r.parseShort(),n.macStyle=r.parseUShort(),n.lowestRecPPEM=r.parseUShort(),n.fontDirectionHint=r.parseShort(),n.indexToLocFormat=r.parseShort(),n.glyphDataFormat=r.parseShort(),n}function Nee(t){var e=Math.round(new Date().getTime()/1e3)+2082844800,n=e;return t.createdTimestamp&&(n=t.createdTimestamp+2082844800),new ct.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:e},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],t)}var zee={parse:kee,make:Nee};function Gee(t,e){var n={},r=new Nt.Parser(t,e);return n.version=r.parseVersion(),n.ascender=r.parseShort(),n.descender=r.parseShort(),n.lineGap=r.parseShort(),n.advanceWidthMax=r.parseUShort(),n.minLeftSideBearing=r.parseShort(),n.minRightSideBearing=r.parseShort(),n.xMaxExtent=r.parseShort(),n.caretSlopeRise=r.parseShort(),n.caretSlopeRun=r.parseShort(),n.caretOffset=r.parseShort(),r.relativeOffset+=8,n.metricDataFormat=r.parseShort(),n.numberOfHMetrics=r.parseUShort(),n}function Hee(t){return new ct.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],t)}var Vee={parse:Gee,make:Hee};function Wee(t,e,n,r,i){for(var s,o,a=new Nt.Parser(t,e),l=0;l<r;l+=1){l<n&&(s=a.parseUShort(),o=a.parseShort());var u=i.get(l);u.advanceWidth=s,u.leftSideBearing=o}}function jee(t,e,n,r,i){t._hmtxTableData={};for(var s,o,a=new Nt.Parser(e,n),l=0;l<i;l+=1)l<r&&(s=a.parseUShort(),o=a.parseShort()),t._hmtxTableData[l]={advanceWidth:s,leftSideBearing:o}}function Xee(t,e,n,r,i,s,o){o.lowMemory?jee(t,e,n,r,i):Wee(e,n,r,i,s)}function Yee(t){for(var e=new ct.Table("hmtx",[]),n=0;n<t.length;n+=1){var r=t.get(n),i=r.advanceWidth||0,s=r.leftSideBearing||0;e.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:i}),e.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:s})}return e}var Kee={parse:Xee,make:Yee};function Jee(t){for(var e=new ct.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:t.length}]),n="",r=12+t.length*4,i=0;i<t.length;++i){var s=n.indexOf(t[i]);s<0&&(s=n.length,n+=t[i]),e.fields.push({name:"offset "+i,type:"USHORT",value:r+s}),e.fields.push({name:"length "+i,type:"USHORT",value:t[i].length})}return e.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),e}function Zee(t,e){var n=new Nt.Parser(t,e),r=n.parseULong();It.argument(r===1,"Unsupported ltag table version."),n.skip("uLong",1);for(var i=n.parseULong(),s=[],o=0;o<i;o++){for(var a="",l=e+n.parseUShort(),u=n.parseUShort(),c=l;c<l+u;++c)a+=String.fromCharCode(t.getInt8(c));s.push(a)}return s}var Qee={make:Jee,parse:Zee};function qee(t,e){var n={},r=new Nt.Parser(t,e);return n.version=r.parseVersion(),n.numGlyphs=r.parseUShort(),n.version===1&&(n.maxPoints=r.parseUShort(),n.maxContours=r.parseUShort(),n.maxCompositePoints=r.parseUShort(),n.maxCompositeContours=r.parseUShort(),n.maxZones=r.parseUShort(),n.maxTwilightPoints=r.parseUShort(),n.maxStorage=r.parseUShort(),n.maxFunctionDefs=r.parseUShort(),n.maxInstructionDefs=r.parseUShort(),n.maxStackElements=r.parseUShort(),n.maxSizeOfInstructions=r.parseUShort(),n.maxComponentElements=r.parseUShort(),n.maxComponentDepth=r.parseUShort()),n}function $ee(t){return new ct.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:t}])}var ete={parse:qee,make:$ee},wF=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],EF={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},tte={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},bF={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function nte(t,e,n){switch(t){case 0:if(e===65535)return"und";if(n)return n[e];break;case 1:return EF[e];case 3:return bF[e]}}var $x="utf-16",rte={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},ite={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function MF(t,e,n){switch(t){case 0:return $x;case 1:return ite[n]||rte[e];case 3:if(e===1||e===10)return $x;break}}function ste(t,e,n){for(var r={},i=new Nt.Parser(t,e),s=i.parseUShort(),o=i.parseUShort(),a=i.offset+i.parseUShort(),l=0;l<o;l++){var u=i.parseUShort(),c=i.parseUShort(),f=i.parseUShort(),h=i.parseUShort(),p=wF[h]||h,g=i.parseUShort(),x=i.parseUShort(),y=nte(u,f,n),v=MF(u,c,f);if(v!==void 0&&y!==void 0){var S=void 0;if(v===$x?S=Wd.UTF16(t,a+x,g):S=Wd.MACSTRING(t,a+x,g,v),S){var _=r[p];_===void 0&&(_=r[p]={}),_[y]=S}}}return s===1&&i.parseUShort(),r}function w4(t){var e={};for(var n in t)e[t[n]]=parseInt(n);return e}function rA(t,e,n,r,i,s){return new ct.Record("NameRecord",[{name:"platformID",type:"USHORT",value:t},{name:"encodingID",type:"USHORT",value:e},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:r},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:s}])}function ote(t,e){var n=t.length,r=e.length-n+1;e:for(var i=0;i<r;i++)for(;i<r;i++){for(var s=0;s<n;s++)if(e[i+s]!==t[s])continue e;return i}return-1}function iA(t,e){var n=ote(t,e);if(n<0){n=e.length;for(var r=0,i=t.length;r<i;++r)e.push(t[r])}return n}function ate(t,e){var n,r=[],i={},s=w4(wF);for(var o in t){var a=s[o];if(a===void 0&&(a=o),n=parseInt(a),isNaN(n))throw new Error('Name table entry "'+o+'" does not exist, see nameTableNames for complete list.');i[n]=t[o],r.push(n)}for(var l=w4(EF),u=w4(bF),c=[],f=[],h=0;h<r.length;h++){n=r[h];var p=i[n];for(var g in p){var x=p[g],y=1,v=l[g],S=tte[v],_=MF(y,S,v),E=tt.MACSTRING(x,_);E===void 0&&(y=0,v=e.indexOf(g),v<0&&(v=e.length,e.push(g)),S=4,E=tt.UTF16(x));var b=iA(E,f);c.push(rA(y,S,v,n,E.length,b));var T=u[g];if(T!==void 0){var A=tt.UTF16(x),D=iA(A,f);c.push(rA(3,1,T,n,A.length,D))}}}c.sort(function(k,z){return k.platformID-z.platformID||k.encodingID-z.encodingID||k.languageID-z.languageID||k.nameID-z.nameID});for(var C=new ct.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:c.length},{name:"stringOffset",type:"USHORT",value:6+c.length*12}]),L=0;L<c.length;L++)C.fields.push({name:"record_"+L,type:"RECORD",value:c[L]});return C.fields.push({name:"strings",type:"LITERAL",value:f}),C}var lte={parse:ste,make:ate},e9=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function ute(t){for(var e=0;e<e9.length;e+=1){var n=e9[e];if(t>=n.begin&&t<n.end)return e}return-1}function cte(t,e){var n={},r=new Nt.Parser(t,e);n.version=r.parseUShort(),n.xAvgCharWidth=r.parseShort(),n.usWeightClass=r.parseUShort(),n.usWidthClass=r.parseUShort(),n.fsType=r.parseUShort(),n.ySubscriptXSize=r.parseShort(),n.ySubscriptYSize=r.parseShort(),n.ySubscriptXOffset=r.parseShort(),n.ySubscriptYOffset=r.parseShort(),n.ySuperscriptXSize=r.parseShort(),n.ySuperscriptYSize=r.parseShort(),n.ySuperscriptXOffset=r.parseShort(),n.ySuperscriptYOffset=r.parseShort(),n.yStrikeoutSize=r.parseShort(),n.yStrikeoutPosition=r.parseShort(),n.sFamilyClass=r.parseShort(),n.panose=[];for(var i=0;i<10;i++)n.panose[i]=r.parseByte();return n.ulUnicodeRange1=r.parseULong(),n.ulUnicodeRange2=r.parseULong(),n.ulUnicodeRange3=r.parseULong(),n.ulUnicodeRange4=r.parseULong(),n.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),n.fsSelection=r.parseUShort(),n.usFirstCharIndex=r.parseUShort(),n.usLastCharIndex=r.parseUShort(),n.sTypoAscender=r.parseShort(),n.sTypoDescender=r.parseShort(),n.sTypoLineGap=r.parseShort(),n.usWinAscent=r.parseUShort(),n.usWinDescent=r.parseUShort(),n.version>=1&&(n.ulCodePageRange1=r.parseULong(),n.ulCodePageRange2=r.parseULong()),n.version>=2&&(n.sxHeight=r.parseShort(),n.sCapHeight=r.parseShort(),n.usDefaultChar=r.parseUShort(),n.usBreakChar=r.parseUShort(),n.usMaxContent=r.parseUShort()),n}function fte(t){return new ct.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],t)}var sA={parse:cte,make:fte,unicodeRanges:e9,getUnicodeRange:ute};function hte(t,e){var n={},r=new Nt.Parser(t,e);switch(n.version=r.parseVersion(),n.italicAngle=r.parseFixed(),n.underlinePosition=r.parseShort(),n.underlineThickness=r.parseShort(),n.isFixedPitch=r.parseULong(),n.minMemType42=r.parseULong(),n.maxMemType42=r.parseULong(),n.minMemType1=r.parseULong(),n.maxMemType1=r.parseULong(),n.version){case 1:n.names=qT.slice();break;case 2:n.numberOfGlyphs=r.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(var i=0;i<n.numberOfGlyphs;i++)n.glyphNameIndex[i]=r.parseUShort();n.names=[];for(var s=0;s<n.numberOfGlyphs;s++)if(n.glyphNameIndex[s]>=qT.length){var o=r.parseChar();n.names.push(r.parseString(o))}break;case 2.5:n.numberOfGlyphs=r.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(var a=0;a<n.numberOfGlyphs;a++)n.offset[a]=r.parseChar();break}return n}function dte(){return new ct.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var pte={parse:hte,make:dte},ta=new Array(9);ta[1]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(Pe.coverage),deltaGlyphId:this.parseUShort()};if(n===2)return{substFormat:2,coverage:this.parsePointer(Pe.coverage),substitute:this.parseOffset16List()};It.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")};ta[2]=function(){var e=this.parseUShort();return It.argument(e===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Pe.coverage),sequences:this.parseListOfLists()}};ta[3]=function(){var e=this.parseUShort();return It.argument(e===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Pe.coverage),alternateSets:this.parseListOfLists()}};ta[4]=function(){var e=this.parseUShort();return It.argument(e===1,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Pe.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var Sd={sequenceIndex:Pe.uShort,lookupListIndex:Pe.uShort};ta[5]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:n,coverage:this.parsePointer(Pe.coverage),ruleSets:this.parseListOfLists(function(){var s=this.parseUShort(),o=this.parseUShort();return{input:this.parseUShortList(s-1),lookupRecords:this.parseRecordList(o,Sd)}})};if(n===2)return{substFormat:n,coverage:this.parsePointer(Pe.coverage),classDef:this.parsePointer(Pe.classDef),classSets:this.parseListOfLists(function(){var s=this.parseUShort(),o=this.parseUShort();return{classes:this.parseUShortList(s-1),lookupRecords:this.parseRecordList(o,Sd)}})};if(n===3){var r=this.parseUShort(),i=this.parseUShort();return{substFormat:n,coverages:this.parseList(r,Pe.pointer(Pe.coverage)),lookupRecords:this.parseRecordList(i,Sd)}}It.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};ta[6]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(Pe.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Sd)}})};if(n===2)return{substFormat:2,coverage:this.parsePointer(Pe.coverage),backtrackClassDef:this.parsePointer(Pe.classDef),inputClassDef:this.parsePointer(Pe.classDef),lookaheadClassDef:this.parsePointer(Pe.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Sd)}})};if(n===3)return{substFormat:3,backtrackCoverage:this.parseList(Pe.pointer(Pe.coverage)),inputCoverage:this.parseList(Pe.pointer(Pe.coverage)),lookaheadCoverage:this.parseList(Pe.pointer(Pe.coverage)),lookupRecords:this.parseRecordList(Sd)};It.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};ta[7]=function(){var e=this.parseUShort();It.argument(e===1,"GSUB Extension Substitution subtable identifier-format must be 1");var n=this.parseUShort(),r=new Pe(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:n,extension:ta[n].call(r)}};ta[8]=function(){var e=this.parseUShort();return It.argument(e===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Pe.coverage),backtrackCoverage:this.parseList(Pe.pointer(Pe.coverage)),lookaheadCoverage:this.parseList(Pe.pointer(Pe.coverage)),substitutes:this.parseUShortList()}};function mte(t,e){e=e||0;var n=new Pe(t,e),r=n.parseVersion(1);return It.argument(r===1||r===1.1,"Unsupported GSUB table version."),r===1?{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(ta)}:{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(ta),variations:n.parseFeatureVariationsList()}}var dp=new Array(9);dp[1]=function(e){return e.substFormat===1?new ct.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new ct.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new ct.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new ct.Coverage(e.coverage)}].concat(ct.ushortList("substitute",e.substitute)))};dp[2]=function(e){return It.assert(e.substFormat===1,"Lookup type 2 substFormat must be 1."),new ct.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new ct.Coverage(e.coverage)}].concat(ct.tableList("seqSet",e.sequences,function(n){return new ct.Table("sequenceSetTable",ct.ushortList("sequence",n))})))};dp[3]=function(e){return It.assert(e.substFormat===1,"Lookup type 3 substFormat must be 1."),new ct.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new ct.Coverage(e.coverage)}].concat(ct.tableList("altSet",e.alternateSets,function(n){return new ct.Table("alternateSetTable",ct.ushortList("alternate",n))})))};dp[4]=function(e){return It.assert(e.substFormat===1,"Lookup type 4 substFormat must be 1."),new ct.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new ct.Coverage(e.coverage)}].concat(ct.tableList("ligSet",e.ligatureSets,function(n){return new ct.Table("ligatureSetTable",ct.tableList("ligature",n,function(r){return new ct.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:r.ligGlyph}].concat(ct.ushortList("component",r.components,r.components.length+1)))}))})))};dp[6]=function(e){if(e.substFormat===1){var n=new ct.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:e.substFormat},{name:"coverage",type:"TABLE",value:new ct.Coverage(e.coverage)}].concat(ct.tableList("chainRuleSet",e.chainRuleSets,function(s){return new ct.Table("chainRuleSetTable",ct.tableList("chainRule",s,function(o){var a=ct.ushortList("backtrackGlyph",o.backtrack,o.backtrack.length).concat(ct.ushortList("inputGlyph",o.input,o.input.length+1)).concat(ct.ushortList("lookaheadGlyph",o.lookahead,o.lookahead.length)).concat(ct.ushortList("substitution",[],o.lookupRecords.length));return o.lookupRecords.forEach(function(l,u){a=a.concat({name:"sequenceIndex"+u,type:"USHORT",value:l.sequenceIndex}).concat({name:"lookupListIndex"+u,type:"USHORT",value:l.lookupListIndex})}),new ct.Table("chainRuleTable",a)}))})));return n}else if(e.substFormat===2)It.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(e.substFormat===3){var r=[{name:"substFormat",type:"USHORT",value:e.substFormat}];r.push({name:"backtrackGlyphCount",type:"USHORT",value:e.backtrackCoverage.length}),e.backtrackCoverage.forEach(function(s,o){r.push({name:"backtrackCoverage"+o,type:"TABLE",value:new ct.Coverage(s)})}),r.push({name:"inputGlyphCount",type:"USHORT",value:e.inputCoverage.length}),e.inputCoverage.forEach(function(s,o){r.push({name:"inputCoverage"+o,type:"TABLE",value:new ct.Coverage(s)})}),r.push({name:"lookaheadGlyphCount",type:"USHORT",value:e.lookaheadCoverage.length}),e.lookaheadCoverage.forEach(function(s,o){r.push({name:"lookaheadCoverage"+o,type:"TABLE",value:new ct.Coverage(s)})}),r.push({name:"substitutionCount",type:"USHORT",value:e.lookupRecords.length}),e.lookupRecords.forEach(function(s,o){r=r.concat({name:"sequenceIndex"+o,type:"USHORT",value:s.sequenceIndex}).concat({name:"lookupListIndex"+o,type:"USHORT",value:s.lookupListIndex})});var i=new ct.Table("chainContextTable",r);return i}It.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function gte(t){return new ct.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new ct.ScriptList(t.scripts)},{name:"features",type:"TABLE",value:new ct.FeatureList(t.features)},{name:"lookups",type:"TABLE",value:new ct.LookupList(t.lookups,dp)}])}var vte={parse:mte,make:gte};function yte(t,e){var n=new Nt.Parser(t,e),r=n.parseULong();It.argument(r===1,"Unsupported META table version."),n.parseULong(),n.parseULong();for(var i=n.parseULong(),s={},o=0;o<i;o++){var a=n.parseTag(),l=n.parseULong(),u=n.parseULong(),c=Wd.UTF8(t,e+l,u);s[a]=c}return s}function xte(t){var e=Object.keys(t).length,n="",r=16+e*12,i=new ct.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:r},{name:"numTags",type:"ULONG",value:e}]);for(var s in t){var o=n.length;n+=t[s],i.fields.push({name:"tag "+s,type:"TAG",value:s}),i.fields.push({name:"offset "+s,type:"ULONG",value:r+o}),i.fields.push({name:"length "+s,type:"ULONG",value:t[s].length})}return i.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),i}var Ste={parse:yte,make:xte};function oA(t){return Math.log(t)/Math.log(2)|0}function t_(t){for(;t.length%4!==0;)t.push(0);for(var e=0,n=0;n<t.length;n+=4)e+=(t[n]<<24)+(t[n+1]<<16)+(t[n+2]<<8)+t[n+3];return e%=Math.pow(2,32),e}function aA(t,e,n,r){return new ct.Record("Table Record",[{name:"tag",type:"TAG",value:t!==void 0?t:""},{name:"checkSum",type:"ULONG",value:e!==void 0?e:0},{name:"offset",type:"ULONG",value:n!==void 0?n:0},{name:"length",type:"ULONG",value:r!==void 0?r:0}])}function TF(t){var e=new ct.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);e.tables=t,e.numTables=t.length;var n=Math.pow(2,oA(e.numTables));e.searchRange=16*n,e.entrySelector=oA(n),e.rangeShift=e.numTables*16-e.searchRange;for(var r=[],i=[],s=e.sizeOf()+aA().sizeOf()*e.numTables;s%4!==0;)s+=1,i.push({name:"padding",type:"BYTE",value:0});for(var o=0;o<t.length;o+=1){var a=t[o];It.argument(a.tableName.length===4,"Table name"+a.tableName+" is invalid.");var l=a.sizeOf(),u=aA(a.tableName,t_(a.encode()),s,l);for(r.push({name:u.tag+" Table Record",type:"RECORD",value:u}),i.push({name:a.tableName+" table",type:"RECORD",value:a}),s+=l,It.argument(!isNaN(s),"Something went wrong calculating the offset.");s%4!==0;)s+=1,i.push({name:"padding",type:"BYTE",value:0})}return r.sort(function(c,f){return c.value.tag>f.value.tag?1:-1}),e.fields=e.fields.concat(r),e.fields=e.fields.concat(i),e}function lA(t,e,n){for(var r=0;r<e.length;r+=1){var i=t.charToGlyphIndex(e[r]);if(i>0){var s=t.glyphs.get(i);return s.getMetrics()}}return n}function _te(t){for(var e=0,n=0;n<t.length;n+=1)e+=t[n];return e/t.length}function wte(t){for(var e=[],n=[],r=[],i=[],s=[],o=[],a=[],l,u=0,c=0,f=0,h=0,p=0,g=0;g<t.glyphs.length;g+=1){var x=t.glyphs.get(g),y=x.unicode|0;if(isNaN(x.advanceWidth))throw new Error("Glyph "+x.name+" ("+g+"): advanceWidth is not a number.");(l>y||l===void 0)&&y>0&&(l=y),u<y&&(u=y);var v=sA.getUnicodeRange(y);if(v<32)c|=1<<v;else if(v<64)f|=1<<v-32;else if(v<96)h|=1<<v-64;else if(v<123)p|=1<<v-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(x.name!==".notdef"){var S=x.getMetrics();e.push(S.xMin),n.push(S.yMin),r.push(S.xMax),i.push(S.yMax),o.push(S.leftSideBearing),a.push(S.rightSideBearing),s.push(x.advanceWidth)}}var _={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,r),yMax:Math.max.apply(null,i),advanceWidthMax:Math.max.apply(null,s),advanceWidthAvg:_te(s),minLeftSideBearing:Math.min.apply(null,o),maxLeftSideBearing:Math.max.apply(null,o),minRightSideBearing:Math.min.apply(null,a)};_.ascender=t.ascender,_.descender=t.descender;var E=zee.make({flags:3,unitsPerEm:t.unitsPerEm,xMin:_.xMin,yMin:_.yMin,xMax:_.xMax,yMax:_.yMax,lowestRecPPEM:3,createdTimestamp:t.createdTimestamp}),b=Vee.make({ascender:_.ascender,descender:_.descender,advanceWidthMax:_.advanceWidthMax,minLeftSideBearing:_.minLeftSideBearing,minRightSideBearing:_.minRightSideBearing,xMaxExtent:_.maxLeftSideBearing+(_.xMax-_.xMin),numberOfHMetrics:t.glyphs.length}),T=ete.make(t.glyphs.length),A=sA.make(Object.assign({xAvgCharWidth:Math.round(_.advanceWidthAvg),usFirstCharIndex:l,usLastCharIndex:u,ulUnicodeRange1:c,ulUnicodeRange2:f,ulUnicodeRange3:h,ulUnicodeRange4:p,sTypoAscender:_.ascender,sTypoDescender:_.descender,sTypoLineGap:0,usWinAscent:_.yMax,usWinDescent:Math.abs(_.yMin),ulCodePageRange1:1,sxHeight:lA(t,"xyvw",{yMax:Math.round(_.ascender/2)}).yMax,sCapHeight:lA(t,"HIKLEFJMNTZBDPRAGOQSUVWXY",_).yMax,usDefaultChar:t.hasChar(" ")?32:0,usBreakChar:t.hasChar(" ")?32:0},t.tables.os2)),D=Kee.make(t.glyphs),C=uee.make(t.glyphs),L=t.getEnglishName("fontFamily"),k=t.getEnglishName("fontSubfamily"),z=L+" "+k,H=t.getEnglishName("postScriptName");H||(H=L.replace(/\s/g,"")+"-"+k);var V={};for(var K in t.names)V[K]=t.names[K];V.uniqueID||(V.uniqueID={en:t.getEnglishName("manufacturer")+":"+z}),V.postScriptName||(V.postScriptName={en:H}),V.preferredFamily||(V.preferredFamily=t.names.fontFamily),V.preferredSubfamily||(V.preferredSubfamily=t.names.fontSubfamily);var J=[],$=lte.make(V,J),U=J.length>0?Qee.make(J):void 0,G=pte.make(),W=Oee.make(t.glyphs,{version:t.getEnglishName("version"),fullName:z,familyName:L,weightName:k,postScriptName:H,unitsPerEm:t.unitsPerEm,fontBBox:[0,_.yMin,_.ascender,_.advanceWidthMax]}),F=t.metas&&Object.keys(t.metas).length>0?Ste.make(t.metas):void 0,j=[E,b,T,A,$,C,G,W,D];U&&j.push(U),t.tables.gsub&&j.push(vte.make(t.tables.gsub)),F&&j.push(F);for(var ie=TF(j),se=ie.encode(),re=t_(se),fe=ie.fields,oe=!1,he=0;he<fe.length;he+=1)if(fe[he].name==="head table"){fe[he].value.checkSumAdjustment=2981146554-re,oe=!0;break}if(!oe)throw new Error("Could not find head table with checkSum to adjust.");return ie}var Ete={make:TF,fontToTable:wte,computeCheckSum:t_};function E4(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+r>>>1,s=t[i].tag;if(s===e)return i;s<e?n=i+1:r=i-1}return-n-1}function uA(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+r>>>1,s=t[i];if(s===e)return i;s<e?n=i+1:r=i-1}return-n-1}function cA(t,e){for(var n,r=0,i=t.length-1;r<=i;){var s=r+i>>>1;n=t[s];var o=n.start;if(o===e)return n;o<e?r=s+1:i=s-1}if(r>0)return n=t[r-1],e>n.end?0:n}function A1(t,e){this.font=t,this.tableName=e}A1.prototype={searchTag:E4,binSearch:uA,getTable:function(t){var e=this.font.tables[this.tableName];return!e&&t&&(e=this.font.tables[this.tableName]=this.createDefaultTable()),e},getScriptNames:function(){var t=this.getTable();return t?t.scripts.map(function(e){return e.tag}):[]},getDefaultScriptName:function(){var t=this.getTable();if(t){for(var e=!1,n=0;n<t.scripts.length;n++){var r=t.scripts[n].tag;if(r==="DFLT")return r;r==="latn"&&(e=!0)}if(e)return"latn"}},getScriptTable:function(t,e){var n=this.getTable(e);if(n){t=t||"DFLT";var r=n.scripts,i=E4(n.scripts,t);if(i>=0)return r[i].script;if(e){var s={tag:t,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return r.splice(-1-i,0,s),s.script}}},getLangSysTable:function(t,e,n){var r=this.getScriptTable(t,n);if(r){if(!e||e==="dflt"||e==="DFLT")return r.defaultLangSys;var i=E4(r.langSysRecords,e);if(i>=0)return r.langSysRecords[i].langSys;if(n){var s={tag:e,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return r.langSysRecords.splice(-1-i,0,s),s.langSys}}},getFeatureTable:function(t,e,n,r){var i=this.getLangSysTable(t,e,r);if(i){for(var s,o=i.featureIndexes,a=this.font.tables[this.tableName].features,l=0;l<o.length;l++)if(s=a[o[l]],s.tag===n)return s.feature;if(r){var u=a.length;return It.assert(u===0||n>=a[u-1].tag,"Features must be added in alphabetical order."),s={tag:n,feature:{params:0,lookupListIndexes:[]}},a.push(s),o.push(u),s.feature}}},getLookupTables:function(t,e,n,r,i){var s=this.getFeatureTable(t,e,n,i),o=[];if(s){for(var a,l=s.lookupListIndexes,u=this.font.tables[this.tableName].lookups,c=0;c<l.length;c++)a=u[l[c]],a.lookupType===r&&o.push(a);if(o.length===0&&i){a={lookupType:r,lookupFlag:0,subtables:[],markFilteringSet:void 0};var f=u.length;return u.push(a),l.push(f),[a]}}return o},getGlyphClass:function(t,e){switch(t.format){case 1:return t.startGlyph<=e&&e<t.startGlyph+t.classes.length?t.classes[e-t.startGlyph]:0;case 2:var n=cA(t.ranges,e);return n?n.classId:0}},getCoverageIndex:function(t,e){switch(t.format){case 1:var n=uA(t.glyphs,e);return n>=0?n:-1;case 2:var r=cA(t.ranges,e);return r?r.index+e-r.start:-1}},expandCoverage:function(t){if(t.format===1)return t.glyphs;for(var e=[],n=t.ranges,r=0;r<n.length;r++)for(var i=n[r],s=i.start,o=i.end,a=s;a<=o;a++)e.push(a);return e}};function C1(t){A1.call(this,t,"gpos")}C1.prototype=A1.prototype;C1.prototype.init=function(){var t=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(t)};C1.prototype.getKerningValue=function(t,e,n){for(var r=0;r<t.length;r++)for(var i=t[r].subtables,s=0;s<i.length;s++){var o=i[s],a=this.getCoverageIndex(o.coverage,e);if(!(a<0))switch(o.posFormat){case 1:for(var l=o.pairSets[a],u=0;u<l.length;u++){var c=l[u];if(c.secondGlyph===n)return c.value1&&c.value1.xAdvance||0}break;case 2:var f=this.getGlyphClass(o.classDef1,e),h=this.getGlyphClass(o.classDef2,n),p=o.classRecords[f][h];return p.value1&&p.value1.xAdvance||0}}return 0};C1.prototype.getKerningTables=function(t,e){if(this.font.tables.gpos)return this.getLookupTables(t,e,"kern",2)};function Ks(t){A1.call(this,t,"gsub")}function bte(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function n_(t,e,n){for(var r=t.subtables,i=0;i<r.length;i++){var s=r[i];if(s.substFormat===e)return s}if(n)return r.push(n),n}Ks.prototype=A1.prototype;Ks.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};Ks.prototype.getSingle=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,1),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++){var l=o[a],u=this.expandCoverage(l.coverage),c=void 0;if(l.substFormat===1){var f=l.deltaGlyphId;for(c=0;c<u.length;c++){var h=u[c];r.push({sub:h,by:h+f})}}else{var p=l.substitute;for(c=0;c<u.length;c++)r.push({sub:u[c],by:p[c]})}}return r};Ks.prototype.getMultiple=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,2),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++){var l=o[a],u=this.expandCoverage(l.coverage),c=void 0;for(c=0;c<u.length;c++){var f=u[c],h=l.sequences[c];r.push({sub:f,by:h})}}return r};Ks.prototype.getAlternates=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,3),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++)for(var l=o[a],u=this.expandCoverage(l.coverage),c=l.alternateSets,f=0;f<u.length;f++)r.push({sub:u[f],by:c[f]});return r};Ks.prototype.getLigatures=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,4),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++)for(var l=o[a],u=this.expandCoverage(l.coverage),c=l.ligatureSets,f=0;f<u.length;f++)for(var h=u[f],p=c[f],g=0;g<p.length;g++){var x=p[g];r.push({sub:[h].concat(x.components),by:x.ligGlyph})}return r};Ks.prototype.addSingle=function(t,e,n,r){var i=this.getLookupTables(n,r,t,1,!0)[0],s=n_(i,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});It.assert(s.coverage.format===1,"Single: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.substitute.splice(a,0,0)),s.substitute[a]=e.by};Ks.prototype.addMultiple=function(t,e,n,r){It.assert(e.by instanceof Array&&e.by.length>1,'Multiple: "by" must be an array of two or more ids');var i=this.getLookupTables(n,r,t,2,!0)[0],s=n_(i,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});It.assert(s.coverage.format===1,"Multiple: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.sequences.splice(a,0,0)),s.sequences[a]=e.by};Ks.prototype.addAlternate=function(t,e,n,r){var i=this.getLookupTables(n,r,t,3,!0)[0],s=n_(i,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});It.assert(s.coverage.format===1,"Alternate: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.alternateSets.splice(a,0,0)),s.alternateSets[a]=e.by};Ks.prototype.addLigature=function(t,e,n,r){var i=this.getLookupTables(n,r,t,4,!0)[0],s=i.subtables[0];s||(s={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},i.subtables[0]=s),It.assert(s.coverage.format===1,"Ligature: unable to modify coverage table format "+s.coverage.format);var o=e.sub[0],a=e.sub.slice(1),l={ligGlyph:e.by,components:a},u=this.binSearch(s.coverage.glyphs,o);if(u>=0){for(var c=s.ligatureSets[u],f=0;f<c.length;f++)if(bte(c[f].components,a))return;c.push(l)}else u=-1-u,s.coverage.glyphs.splice(u,0,o),s.ligatureSets.splice(u,0,[l])};Ks.prototype.getFeature=function(t,e,n){if(/ss\d\d/.test(t))return this.getSingle(t,e,n);switch(t){case"aalt":case"salt":return this.getSingle(t,e,n).concat(this.getAlternates(t,e,n));case"dlig":case"liga":case"rlig":return this.getLigatures(t,e,n);case"ccmp":return this.getMultiple(t,e,n).concat(this.getLigatures(t,e,n));case"stch":return this.getMultiple(t,e,n)}};Ks.prototype.add=function(t,e,n,r){if(/ss\d\d/.test(t))return this.addSingle(t,e,n,r);switch(t){case"aalt":case"salt":return typeof e.by=="number"?this.addSingle(t,e,n,r):this.addAlternate(t,e,n,r);case"dlig":case"liga":case"rlig":return this.addLigature(t,e,n,r);case"ccmp":return e.by instanceof Array?this.addMultiple(t,e,n,r):this.addLigature(t,e,n,r)}};function Mte(){return typeof window<"u"}function Tte(t){for(var e=new Buffer(t.byteLength),n=new Uint8Array(t),r=0;r<e.length;++r)e[r]=n[r];return e}function v0(t,e){if(!t)throw e}function fA(t,e,n,r,i){var s;return(e&r)>0?(s=t.parseByte(),e&i||(s=-s),s=n+s):(e&i)>0?s=n:s=n+t.parseShort(),s}function AF(t,e,n){var r=new Nt.Parser(e,n);t.numberOfContours=r.parseShort(),t._xMin=r.parseShort(),t._yMin=r.parseShort(),t._xMax=r.parseShort(),t._yMax=r.parseShort();var i,s;if(t.numberOfContours>0){for(var o=t.endPointIndices=[],a=0;a<t.numberOfContours;a+=1)o.push(r.parseUShort());t.instructionLength=r.parseUShort(),t.instructions=[];for(var l=0;l<t.instructionLength;l+=1)t.instructions.push(r.parseByte());var u=o[o.length-1]+1;i=[];for(var c=0;c<u;c+=1)if(s=r.parseByte(),i.push(s),(s&8)>0)for(var f=r.parseByte(),h=0;h<f;h+=1)i.push(s),c+=1;if(It.argument(i.length===u,"Bad flags."),o.length>0){var p=[],g;if(u>0){for(var x=0;x<u;x+=1)s=i[x],g={},g.onCurve=!!(s&1),g.lastPointOfContour=o.indexOf(x)>=0,p.push(g);for(var y=0,v=0;v<u;v+=1)s=i[v],g=p[v],g.x=fA(r,s,y,2,16),y=g.x;for(var S=0,_=0;_<u;_+=1)s=i[_],g=p[_],g.y=fA(r,s,S,4,32),S=g.y}t.points=p}else t.points=[]}else if(t.numberOfContours===0)t.points=[];else{t.isComposite=!0,t.points=[],t.components=[];for(var E=!0;E;){i=r.parseUShort();var b={glyphIndex:r.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(i&1)>0?(i&2)>0?(b.dx=r.parseShort(),b.dy=r.parseShort()):b.matchedPoints=[r.parseUShort(),r.parseUShort()]:(i&2)>0?(b.dx=r.parseChar(),b.dy=r.parseChar()):b.matchedPoints=[r.parseByte(),r.parseByte()],(i&8)>0?b.xScale=b.yScale=r.parseF2Dot14():(i&64)>0?(b.xScale=r.parseF2Dot14(),b.yScale=r.parseF2Dot14()):(i&128)>0&&(b.xScale=r.parseF2Dot14(),b.scale01=r.parseF2Dot14(),b.scale10=r.parseF2Dot14(),b.yScale=r.parseF2Dot14()),t.components.push(b),E=!!(i&32)}if(i&256){t.instructionLength=r.parseUShort(),t.instructions=[];for(var T=0;T<t.instructionLength;T+=1)t.instructions.push(r.parseByte())}}}function b4(t,e){for(var n=[],r=0;r<t.length;r+=1){var i=t[r],s={x:e.xScale*i.x+e.scale01*i.y+e.dx,y:e.scale10*i.x+e.yScale*i.y+e.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour};n.push(s)}return n}function Ate(t){for(var e=[],n=[],r=0;r<t.length;r+=1){var i=t[r];n.push(i),i.lastPointOfContour&&(e.push(n),n=[])}return It.argument(n.length===0,"There are still points left in the current contour."),e}function CF(t){var e=new zr;if(!t)return e;for(var n=Ate(t),r=0;r<n.length;++r){var i=n[r],s=null,o=i[i.length-1],a=i[0];if(o.onCurve)e.moveTo(o.x,o.y);else if(a.onCurve)e.moveTo(a.x,a.y);else{var l={x:(o.x+a.x)*.5,y:(o.y+a.y)*.5};e.moveTo(l.x,l.y)}for(var u=0;u<i.length;++u)if(s=o,o=a,a=i[(u+1)%i.length],o.onCurve)e.lineTo(o.x,o.y);else{var c=a;s.onCurve||((o.x+s.x)*.5,(o.y+s.y)*.5),a.onCurve||(c={x:(o.x+a.x)*.5,y:(o.y+a.y)*.5}),e.quadraticCurveTo(o.x,o.y,c.x,c.y)}e.closePath()}return e}function RF(t,e){if(e.isComposite)for(var n=0;n<e.components.length;n+=1){var r=e.components[n],i=t.get(r.glyphIndex);if(i.getPath(),i.points){var s=void 0;if(r.matchedPoints===void 0)s=b4(i.points,r);else{if(r.matchedPoints[0]>e.points.length-1||r.matchedPoints[1]>i.points.length-1)throw Error("Matched points out of range in "+e.name);var o=e.points[r.matchedPoints[0]],a=i.points[r.matchedPoints[1]],l={xScale:r.xScale,scale01:r.scale01,scale10:r.scale10,yScale:r.yScale,dx:0,dy:0};a=b4([a],l)[0],l.dx=o.x-a.x,l.dy=o.y-a.y,s=b4(i.points,l)}e.points=e.points.concat(s)}}return CF(e.points)}function Cte(t,e,n,r){for(var i=new Fa.GlyphSet(r),s=0;s<n.length-1;s+=1){var o=n[s],a=n[s+1];o!==a?i.push(s,Fa.ttfGlyphLoader(r,s,AF,t,e+o,RF)):i.push(s,Fa.glyphLoader(r,s))}return i}function Rte(t,e,n,r){var i=new Fa.GlyphSet(r);return r._push=function(s){var o=n[s],a=n[s+1];o!==a?i.push(s,Fa.ttfGlyphLoader(r,s,AF,t,e+o,RF)):i.push(s,Fa.glyphLoader(r,s))},i}function Pte(t,e,n,r,i){return i.lowMemory?Rte(t,e,n,r):Cte(t,e,n,r)}var Dte={getPath:CF,parse:Pte},PF,Lf,DF,t9;function LF(t){this.font=t,this.getCommands=function(e){return Dte.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Lte(t){return t}function IF(t){return Math.sign(t)*Math.round(Math.abs(t))}function Ite(t){return Math.sign(t)*Math.round(Math.abs(t*2))/2}function Bte(t){return Math.sign(t)*(Math.round(Math.abs(t)+.5)-.5)}function Fte(t){return Math.sign(t)*Math.ceil(Math.abs(t))}function Ute(t){return Math.sign(t)*Math.floor(Math.abs(t))}var BF=function(t){var e=this.srPeriod,n=this.srPhase,r=this.srThreshold,i=1;return t<0&&(t=-t,i=-1),t+=r-n,t=Math.trunc(t/e)*e,t+=n,t<0?n*i:t*i},Ta={x:1,y:0,axis:"x",distance:function(t,e,n,r){return(n?t.xo:t.x)-(r?e.xo:e.x)},interpolate:function(t,e,n,r){var i,s,o,a,l,u,c;if(!r||r===this){if(i=t.xo-e.xo,s=t.xo-n.xo,l=e.x-e.xo,u=n.x-n.xo,o=Math.abs(i),a=Math.abs(s),c=o+a,c===0){t.x=t.xo+(l+u)/2;return}t.x=t.xo+(l*a+u*o)/c;return}if(i=r.distance(t,e,!0,!0),s=r.distance(t,n,!0,!0),l=r.distance(e,e,!1,!0),u=r.distance(n,n,!1,!0),o=Math.abs(i),a=Math.abs(s),c=o+a,c===0){Ta.setRelative(t,t,(l+u)/2,r,!0);return}Ta.setRelative(t,t,(l*a+u*o)/c,r,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(t,e,n,r,i){if(!r||r===this){t.x=(i?e.xo:e.x)+n;return}var s=i?e.xo:e.x,o=i?e.yo:e.y,a=s+n*r.x,l=o+n*r.y;t.x=a+(t.y-l)/r.normalSlope},slope:0,touch:function(t){t.xTouched=!0},touched:function(t){return t.xTouched},untouch:function(t){t.xTouched=!1}},_l={x:0,y:1,axis:"y",distance:function(t,e,n,r){return(n?t.yo:t.y)-(r?e.yo:e.y)},interpolate:function(t,e,n,r){var i,s,o,a,l,u,c;if(!r||r===this){if(i=t.yo-e.yo,s=t.yo-n.yo,l=e.y-e.yo,u=n.y-n.yo,o=Math.abs(i),a=Math.abs(s),c=o+a,c===0){t.y=t.yo+(l+u)/2;return}t.y=t.yo+(l*a+u*o)/c;return}if(i=r.distance(t,e,!0,!0),s=r.distance(t,n,!0,!0),l=r.distance(e,e,!1,!0),u=r.distance(n,n,!1,!0),o=Math.abs(i),a=Math.abs(s),c=o+a,c===0){_l.setRelative(t,t,(l+u)/2,r,!0);return}_l.setRelative(t,t,(l*a+u*o)/c,r,!0)},normalSlope:0,setRelative:function(t,e,n,r,i){if(!r||r===this){t.y=(i?e.yo:e.y)+n;return}var s=i?e.xo:e.x,o=i?e.yo:e.y,a=s+n*r.x,l=o+n*r.y;t.y=l+r.normalSlope*(t.x-a)},slope:Number.POSITIVE_INFINITY,touch:function(t){t.yTouched=!0},touched:function(t){return t.yTouched},untouch:function(t){t.yTouched=!1}};Object.freeze(Ta);Object.freeze(_l);function R1(t,e){this.x=t,this.y=e,this.axis=void 0,this.slope=e/t,this.normalSlope=-t/e,Object.freeze(this)}R1.prototype.distance=function(t,e,n,r){return this.x*Ta.distance(t,e,n,r)+this.y*_l.distance(t,e,n,r)};R1.prototype.interpolate=function(t,e,n,r){var i,s,o,a,l,u,c;if(o=r.distance(t,e,!0,!0),a=r.distance(t,n,!0,!0),i=r.distance(e,e,!1,!0),s=r.distance(n,n,!1,!0),l=Math.abs(o),u=Math.abs(a),c=l+u,c===0){this.setRelative(t,t,(i+s)/2,r,!0);return}this.setRelative(t,t,(i*u+s*l)/c,r,!0)};R1.prototype.setRelative=function(t,e,n,r,i){r=r||this;var s=i?e.xo:e.x,o=i?e.yo:e.y,a=s+n*r.x,l=o+n*r.y,u=r.normalSlope,c=this.slope,f=t.x,h=t.y;t.x=(c*f-u*a+l-h)/(c-u),t.y=c*(t.x-f)+h};R1.prototype.touch=function(t){t.xTouched=!0,t.yTouched=!0};function P1(t,e){var n=Math.sqrt(t*t+e*e);return t/=n,e/=n,t===1&&e===0?Ta:t===0&&e===1?_l:new R1(t,e)}function Tl(t,e,n,r){this.x=this.xo=Math.round(t*64)/64,this.y=this.yo=Math.round(e*64)/64,this.lastPointOfContour=n,this.onCurve=r,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Tl.prototype.nextTouched=function(t){for(var e=this.nextPointOnContour;!t.touched(e)&&e!==this;)e=e.nextPointOnContour;return e};Tl.prototype.prevTouched=function(t){for(var e=this.prevPointOnContour;!t.touched(e)&&e!==this;)e=e.prevPointOnContour;return e};var jm=Object.freeze(new Tl(0,0)),Ote={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Mu(t,e){switch(this.env=t,this.stack=[],this.prog=e,t){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Ta,this.round=IF}}LF.prototype.exec=function(t,e){if(typeof e!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var n=this.font,r=this._prepState;if(!r||r.ppem!==e){var i=this._fpgmState;if(!i){Mu.prototype=Ote,i=this._fpgmState=new Mu("fpgm",n.tables.fpgm),i.funcs=[],i.font=n,exports.DEBUG&&(console.log("---EXEC FPGM---"),i.step=-1);try{Lf(i)}catch(u){console.log("Hinting error in FPGM:"+u),this._errorState=3;return}}Mu.prototype=i,r=this._prepState=new Mu("prep",n.tables.prep),r.ppem=e;var s=n.tables.cvt;if(s)for(var o=r.cvt=new Array(s.length),a=e/n.unitsPerEm,l=0;l<s.length;l++)o[l]=s[l]*a;else r.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),r.step=-1);try{Lf(r)}catch(u){this._errorState<2&&console.log("Hinting error in PREP:"+u),this._errorState=2}}if(!(this._errorState>1))try{return DF(t,r)}catch(u){this._errorState<1&&(console.log("Hinting error:"+u),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};DF=function(t,e){var n=e.ppem/e.font.unitsPerEm,r=n,i=t.components,s,o,a;if(Mu.prototype=e,!i)a=new Mu("glyf",t.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),a.step=-1),t9(t,a,n,r),o=a.gZone;else{var l=e.font;o=[],s=[];for(var u=0;u<i.length;u++){var c=i[u],f=l.glyphs.get(c.glyphIndex);a=new Mu("glyf",f.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+u+"---"),a.step=-1),t9(f,a,n,r);for(var h=Math.round(c.dx*n),p=Math.round(c.dy*r),g=a.gZone,x=a.contours,y=0;y<g.length;y++){var v=g[y];v.xTouched=v.yTouched=!1,v.xo=v.x=v.x+h,v.yo=v.y=v.y+p}var S=o.length;o.push.apply(o,g);for(var _=0;_<x.length;_++)s.push(x[_]+S)}t.instructions&&!a.inhibitGridFit&&(a=new Mu("glyf",t.instructions),a.gZone=a.z0=a.z1=a.z2=o,a.contours=s,o.push(new Tl(0,0),new Tl(Math.round(t.advanceWidth*n),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),a.step=-1),Lf(a),o.length-=2)}return o};t9=function(t,e,n,r){for(var i=t.points||[],s=i.length,o=e.gZone=e.z0=e.z1=e.z2=[],a=e.contours=[],l,u=0;u<s;u++)l=i[u],o[u]=new Tl(l.x*n,l.y*r,l.lastPointOfContour,l.onCurve);for(var c,f,h=0;h<s;h++)l=o[h],c||(c=l,a.push(h)),l.lastPointOfContour?(l.nextPointOnContour=c,c.prevPointOnContour=l,c=void 0):(f=o[h+1],l.nextPointOnContour=f,f.prevPointOnContour=l);if(!e.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",e.stack);for(var p=0;p<s;p++)console.log(p,o[p].x,o[p].y)}if(o.push(new Tl(0,0),new Tl(Math.round(t.advanceWidth*n),0)),Lf(e),o.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",e.stack);for(var g=0;g<s;g++)console.log(g,o[g].x,o[g].y)}}};Lf=function(t){var e=t.prog;if(e){var n=e.length,r;for(t.ip=0;t.ip<n;t.ip++){if(exports.DEBUG&&t.step++,r=PF[e[t.ip]],!r)throw new Error("unknown instruction: 0x"+Number(e[t.ip]).toString(16));r(t)}}};function Z5(t){for(var e=t.tZone=new Array(t.gZone.length),n=0;n<e.length;n++)e[n]=new Tl(0,0)}function FF(t,e){var n=t.prog,r=t.ip,i=1,s;do if(s=n[++r],s===88)i++;else if(s===89)i--;else if(s===64)r+=n[r+1]+1;else if(s===65)r+=2*n[r+1]+1;else if(s>=176&&s<=183)r+=s-176+1;else if(s>=184&&s<=191)r+=(s-184+1)*2;else if(e&&i===1&&s===27)break;while(i>0);t.ip=r}function hA(t,e){exports.DEBUG&&console.log(e.step,"SVTCA["+t.axis+"]"),e.fv=e.pv=e.dpv=t}function dA(t,e){exports.DEBUG&&console.log(e.step,"SPVTCA["+t.axis+"]"),e.pv=e.dpv=t}function pA(t,e){exports.DEBUG&&console.log(e.step,"SFVTCA["+t.axis+"]"),e.fv=t}function mA(t,e){var n=e.stack,r=n.pop(),i=n.pop(),s=e.z2[r],o=e.z1[i];exports.DEBUG&&console.log("SPVTL["+t+"]",r,i);var a,l;t?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.pv=e.dpv=P1(a,l)}function gA(t,e){var n=e.stack,r=n.pop(),i=n.pop(),s=e.z2[r],o=e.z1[i];exports.DEBUG&&console.log("SFVTL["+t+"]",r,i);var a,l;t?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.fv=P1(a,l)}function kte(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SPVFS[]",n,r),t.pv=t.dpv=P1(r,n)}function Nte(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SPVFS[]",n,r),t.fv=P1(r,n)}function zte(t){var e=t.stack,n=t.pv;exports.DEBUG&&console.log(t.step,"GPV[]"),e.push(n.x*16384),e.push(n.y*16384)}function Gte(t){var e=t.stack,n=t.fv;exports.DEBUG&&console.log(t.step,"GFV[]"),e.push(n.x*16384),e.push(n.y*16384)}function Hte(t){t.fv=t.pv,exports.DEBUG&&console.log(t.step,"SFVTPV[]")}function Vte(t){var e=t.stack,n=e.pop(),r=e.pop(),i=e.pop(),s=e.pop(),o=e.pop(),a=t.z0,l=t.z1,u=a[n],c=a[r],f=l[i],h=l[s],p=t.z2[o];exports.DEBUG&&console.log("ISECT[], ",n,r,i,s,o);var g=u.x,x=u.y,y=c.x,v=c.y,S=f.x,_=f.y,E=h.x,b=h.y,T=(g-y)*(_-b)-(x-v)*(S-E),A=g*v-x*y,D=S*b-_*E;p.x=(A*(S-E)-D*(g-y))/T,p.y=(A*(_-b)-D*(x-v))/T}function Wte(t){t.rp0=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP0[]",t.rp0)}function jte(t){t.rp1=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP1[]",t.rp1)}function Xte(t){t.rp2=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP2[]",t.rp2)}function Yte(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP0[]",e),t.zp0=e,e){case 0:t.tZone||Z5(t),t.z0=t.tZone;break;case 1:t.z0=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function Kte(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP1[]",e),t.zp1=e,e){case 0:t.tZone||Z5(t),t.z1=t.tZone;break;case 1:t.z1=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function Jte(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP2[]",e),t.zp2=e,e){case 0:t.tZone||Z5(t),t.z2=t.tZone;break;case 1:t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function Zte(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZPS[]",e),t.zp0=t.zp1=t.zp2=e,e){case 0:t.tZone||Z5(t),t.z0=t.z1=t.z2=t.tZone;break;case 1:t.z0=t.z1=t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function Qte(t){t.loop=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SLOOP[]",t.loop)}function qte(t){exports.DEBUG&&console.log(t.step,"RTG[]"),t.round=IF}function $te(t){exports.DEBUG&&console.log(t.step,"RTHG[]"),t.round=Bte}function ene(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SMD[]",e),t.minDis=e/64}function tne(t){exports.DEBUG&&console.log(t.step,"ELSE[]"),FF(t,!1)}function nne(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"JMPR[]",e),t.ip+=e-1}function rne(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCVTCI[]",e),t.cvCutIn=e/64}function ine(t){var e=t.stack;exports.DEBUG&&console.log(t.step,"DUP[]"),e.push(e[e.length-1])}function M4(t){exports.DEBUG&&console.log(t.step,"POP[]"),t.stack.pop()}function sne(t){exports.DEBUG&&console.log(t.step,"CLEAR[]"),t.stack.length=0}function one(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SWAP[]"),e.push(n),e.push(r)}function ane(t){var e=t.stack;exports.DEBUG&&console.log(t.step,"DEPTH[]"),e.push(e.length)}function lne(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"LOOPCALL[]",n,r);var i=t.ip,s=t.prog;t.prog=t.funcs[n];for(var o=0;o<r;o++)Lf(t),exports.DEBUG&&console.log(++t.step,o+1<r?"next loopcall":"done loopcall",o);t.ip=i,t.prog=s}function une(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"CALL[]",e);var n=t.ip,r=t.prog;t.prog=t.funcs[e],Lf(t),t.ip=n,t.prog=r,exports.DEBUG&&console.log(++t.step,"returning from",e)}function cne(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"CINDEX[]",n),e.push(e[e.length-n])}function fne(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"MINDEX[]",n),e.push(e.splice(e.length-n,1)[0])}function hne(t){if(t.env!=="fpgm")throw new Error("FDEF not allowed here");var e=t.stack,n=t.prog,r=t.ip,i=e.pop(),s=r;for(exports.DEBUG&&console.log(t.step,"FDEF[]",i);n[++r]!==45;);t.ip=r,t.funcs[i]=n.slice(s+1,r)}function vA(t,e){var n=e.stack.pop(),r=e.z0[n],i=e.fv,s=e.pv;exports.DEBUG&&console.log(e.step,"MDAP["+t+"]",n);var o=s.distance(r,jm);t&&(o=e.round(o)),i.setRelative(r,jm,o,s),i.touch(r),e.rp0=e.rp1=n}function yA(t,e){var n=e.z2,r=n.length-2,i,s,o;exports.DEBUG&&console.log(e.step,"IUP["+t.axis+"]");for(var a=0;a<r;a++)i=n[a],!t.touched(i)&&(s=i.prevTouched(t),s!==i&&(o=i.nextTouched(t),s===o&&t.setRelative(i,i,t.distance(s,s,!1,!0),t,!0),t.interpolate(i,s,o,t)))}function xA(t,e){for(var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],s=e.fv,o=e.pv,a=e.loop,l=e.z2;a--;){var u=n.pop(),c=l[u],f=o.distance(i,i,!1,!0);s.setRelative(c,c,f,o),s.touch(c),exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-a)+": ":"")+"SHP["+(t?"rp1":"rp2")+"]",u)}e.loop=1}function SA(t,e){var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],s=e.fv,o=e.pv,a=n.pop(),l=e.z2[e.contours[a]],u=l;exports.DEBUG&&console.log(e.step,"SHC["+t+"]",a);var c=o.distance(i,i,!1,!0);do u!==i&&s.setRelative(u,u,c,o),u=u.nextPointOnContour;while(u!==l)}function _A(t,e){var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],s=e.fv,o=e.pv,a=n.pop();exports.DEBUG&&console.log(e.step,"SHZ["+t+"]",a);var l;switch(a){case 0:l=e.tZone;break;case 1:l=e.gZone;break;default:throw new Error("Invalid zone")}for(var u,c=o.distance(i,i,!1,!0),f=l.length-2,h=0;h<f;h++)u=l[h],s.setRelative(u,u,c,o)}function dne(t){for(var e=t.stack,n=t.loop,r=t.fv,i=e.pop()/64,s=t.z2;n--;){var o=e.pop(),a=s[o];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-n)+": ":"")+"SHPIX[]",o,i),r.setRelative(a,a,i),r.touch(a)}t.loop=1}function pne(t){for(var e=t.stack,n=t.rp1,r=t.rp2,i=t.loop,s=t.z0[n],o=t.z1[r],a=t.fv,l=t.dpv,u=t.z2;i--;){var c=e.pop(),f=u[c];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-i)+": ":"")+"IP[]",c,n,"<->",r),a.interpolate(f,s,o,l),a.touch(f)}t.loop=1}function wA(t,e){var n=e.stack,r=n.pop()/64,i=n.pop(),s=e.z1[i],o=e.z0[e.rp0],a=e.fv,l=e.pv;a.setRelative(s,o,r,l),a.touch(s),exports.DEBUG&&console.log(e.step,"MSIRP["+t+"]",r,i),e.rp1=e.rp0,e.rp2=i,t&&(e.rp0=i)}function mne(t){for(var e=t.stack,n=t.rp0,r=t.z0[n],i=t.loop,s=t.fv,o=t.pv,a=t.z1;i--;){var l=e.pop(),u=a[l];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-i)+": ":"")+"ALIGNRP[]",l),s.setRelative(u,r,0,o),s.touch(u)}t.loop=1}function gne(t){exports.DEBUG&&console.log(t.step,"RTDG[]"),t.round=Ite}function EA(t,e){var n=e.stack,r=n.pop(),i=n.pop(),s=e.z0[i],o=e.fv,a=e.pv,l=e.cvt[r];exports.DEBUG&&console.log(e.step,"MIAP["+t+"]",r,"(",l,")",i);var u=a.distance(s,jm);t&&(Math.abs(u-l)<e.cvCutIn&&(u=l),u=e.round(u)),o.setRelative(s,jm,u,a),e.zp0===0&&(s.xo=s.x,s.yo=s.y),o.touch(s),e.rp0=e.rp1=i}function vne(t){var e=t.prog,n=t.ip,r=t.stack,i=e[++n];exports.DEBUG&&console.log(t.step,"NPUSHB[]",i);for(var s=0;s<i;s++)r.push(e[++n]);t.ip=n}function yne(t){var e=t.ip,n=t.prog,r=t.stack,i=n[++e];exports.DEBUG&&console.log(t.step,"NPUSHW[]",i);for(var s=0;s<i;s++){var o=n[++e]<<8|n[++e];o&32768&&(o=-((o^65535)+1)),r.push(o)}t.ip=e}function xne(t){var e=t.stack,n=t.store;n||(n=t.store=[]);var r=e.pop(),i=e.pop();exports.DEBUG&&console.log(t.step,"WS",r,i),n[i]=r}function Sne(t){var e=t.stack,n=t.store,r=e.pop();exports.DEBUG&&console.log(t.step,"RS",r);var i=n&&n[r]||0;e.push(i)}function _ne(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"WCVTP",n,r),t.cvt[r]=n/64}function wne(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"RCVT",n),e.push(t.cvt[n]*64)}function bA(t,e){var n=e.stack,r=n.pop(),i=e.z2[r];exports.DEBUG&&console.log(e.step,"GC["+t+"]",r),n.push(e.dpv.distance(i,jm,t,!1)*64)}function MA(t,e){var n=e.stack,r=n.pop(),i=n.pop(),s=e.z1[r],o=e.z0[i],a=e.dpv.distance(o,s,t,t);exports.DEBUG&&console.log(e.step,"MD["+t+"]",r,i,"->",a),e.stack.push(Math.round(a*64))}function Ene(t){exports.DEBUG&&console.log(t.step,"MPPEM[]"),t.stack.push(t.ppem)}function bne(t){exports.DEBUG&&console.log(t.step,"FLIPON[]"),t.autoFlip=!0}function Mne(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"LT[]",n,r),e.push(r<n?1:0)}function Tne(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"LTEQ[]",n,r),e.push(r<=n?1:0)}function Ane(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"GT[]",n,r),e.push(r>n?1:0)}function Cne(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"GTEQ[]",n,r),e.push(r>=n?1:0)}function Rne(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"EQ[]",n,r),e.push(n===r?1:0)}function Pne(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"NEQ[]",n,r),e.push(n!==r?1:0)}function Dne(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"ODD[]",n),e.push(Math.trunc(n)%2?1:0)}function Lne(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"EVEN[]",n),e.push(Math.trunc(n)%2?0:1)}function Ine(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"IF[]",e),e||(FF(t,!0),exports.DEBUG&&console.log(t.step,"EIF[]"))}function Bne(t){exports.DEBUG&&console.log(t.step,"EIF[]")}function Fne(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"AND[]",n,r),e.push(n&&r?1:0)}function Une(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"OR[]",n,r),e.push(n||r?1:0)}function One(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"NOT[]",n),e.push(n?0:1)}function T4(t,e){var n=e.stack,r=n.pop(),i=e.fv,s=e.pv,o=e.ppem,a=e.deltaBase+(t-1)*16,l=e.deltaShift,u=e.z0;exports.DEBUG&&console.log(e.step,"DELTAP["+t+"]",r,n);for(var c=0;c<r;c++){var f=n.pop(),h=n.pop(),p=a+((h&240)>>4);if(p===o){var g=(h&15)-8;g>=0&&g++,exports.DEBUG&&console.log(e.step,"DELTAPFIX",f,"by",g*l);var x=u[f];i.setRelative(x,x,g*l,s)}}}function kne(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"SDB[]",n),t.deltaBase=n}function Nne(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"SDS[]",n),t.deltaShift=Math.pow(.5,n)}function zne(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"ADD[]",n,r),e.push(r+n)}function Gne(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SUB[]",n,r),e.push(r-n)}function Hne(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"DIV[]",n,r),e.push(r*64/n)}function Vne(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"MUL[]",n,r),e.push(r*n/64)}function Wne(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"ABS[]",n),e.push(Math.abs(n))}function jne(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"NEG[]",n),e.push(-n)}function Xne(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"FLOOR[]",n),e.push(Math.floor(n/64)*64)}function Yne(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"CEILING[]",n),e.push(Math.ceil(n/64)*64)}function H2(t,e){var n=e.stack,r=n.pop();exports.DEBUG&&console.log(e.step,"ROUND[]"),n.push(e.round(r/64)*64)}function Kne(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"WCVTF[]",n,r),t.cvt[r]=n*t.ppem/t.font.unitsPerEm}function A4(t,e){var n=e.stack,r=n.pop(),i=e.ppem,s=e.deltaBase+(t-1)*16,o=e.deltaShift;exports.DEBUG&&console.log(e.step,"DELTAC["+t+"]",r,n);for(var a=0;a<r;a++){var l=n.pop(),u=n.pop(),c=s+((u&240)>>4);if(c===i){var f=(u&15)-8;f>=0&&f++;var h=f*o;exports.DEBUG&&console.log(e.step,"DELTACFIX",l,"by",h),e.cvt[l]+=h}}}function Jne(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SROUND[]",e),t.round=BF;var n;switch(e&192){case 0:n=.5;break;case 64:n=1;break;case 128:n=2;break;default:throw new Error("invalid SROUND value")}switch(t.srPeriod=n,e&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid SROUND value")}e&=15,e===0?t.srThreshold=0:t.srThreshold=(e/8-.5)*n}function Zne(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"S45ROUND[]",e),t.round=BF;var n;switch(e&192){case 0:n=Math.sqrt(2)/2;break;case 64:n=Math.sqrt(2);break;case 128:n=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(t.srPeriod=n,e&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid S45ROUND value")}e&=15,e===0?t.srThreshold=0:t.srThreshold=(e/8-.5)*n}function Qne(t){exports.DEBUG&&console.log(t.step,"ROFF[]"),t.round=Lte}function qne(t){exports.DEBUG&&console.log(t.step,"RUTG[]"),t.round=Fte}function $ne(t){exports.DEBUG&&console.log(t.step,"RDTG[]"),t.round=Ute}function ere(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCANCTRL[]",e)}function TA(t,e){var n=e.stack,r=n.pop(),i=n.pop(),s=e.z2[r],o=e.z1[i];exports.DEBUG&&console.log(e.step,"SDPVTL["+t+"]",r,i);var a,l;t?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.dpv=P1(a,l)}function tre(t){var e=t.stack,n=e.pop(),r=0;exports.DEBUG&&console.log(t.step,"GETINFO[]",n),n&1&&(r=35),n&32&&(r|=4096),e.push(r)}function nre(t){var e=t.stack,n=e.pop(),r=e.pop(),i=e.pop();exports.DEBUG&&console.log(t.step,"ROLL[]"),e.push(r),e.push(n),e.push(i)}function rre(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"MAX[]",n,r),e.push(Math.max(r,n))}function ire(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"MIN[]",n,r),e.push(Math.min(r,n))}function sre(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCANTYPE[]",e)}function ore(t){var e=t.stack.pop(),n=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"INSTCTRL[]",e,n),e){case 1:t.inhibitGridFit=!!n;return;case 2:t.ignoreCvt=!!n;return;default:throw new Error("invalid INSTCTRL[] selector")}}function cu(t,e){var n=e.stack,r=e.prog,i=e.ip;exports.DEBUG&&console.log(e.step,"PUSHB["+t+"]");for(var s=0;s<t;s++)n.push(r[++i]);e.ip=i}function fu(t,e){var n=e.ip,r=e.prog,i=e.stack;exports.DEBUG&&console.log(e.ip,"PUSHW["+t+"]");for(var s=0;s<t;s++){var o=r[++n]<<8|r[++n];o&32768&&(o=-((o^65535)+1)),i.push(o)}e.ip=n}function ut(t,e,n,r,i,s){var o=s.stack,a=t&&o.pop(),l=o.pop(),u=s.rp0,c=s.z0[u],f=s.z1[l],h=s.minDis,p=s.fv,g=s.dpv,x,y,v,S;y=x=g.distance(f,c,!0,!0),v=y>=0?1:-1,y=Math.abs(y),t&&(S=s.cvt[a],r&&Math.abs(y-S)<s.cvCutIn&&(y=S)),n&&y<h&&(y=h),r&&(y=s.round(y)),p.setRelative(f,c,v*y,g),p.touch(f),exports.DEBUG&&console.log(s.step,(t?"MIRP[":"MDRP[")+(e?"M":"m")+(n?">":"_")+(r?"R":"_")+(i===0?"Gr":i===1?"Bl":i===2?"Wh":"")+"]",t?a+"("+s.cvt[a]+","+S+")":"",l,"(d =",x,"->",v*y,")"),s.rp1=s.rp0,s.rp2=l,e&&(s.rp0=l)}PF=[hA.bind(void 0,_l),hA.bind(void 0,Ta),dA.bind(void 0,_l),dA.bind(void 0,Ta),pA.bind(void 0,_l),pA.bind(void 0,Ta),mA.bind(void 0,0),mA.bind(void 0,1),gA.bind(void 0,0),gA.bind(void 0,1),kte,Nte,zte,Gte,Hte,Vte,Wte,jte,Xte,Yte,Kte,Jte,Zte,Qte,qte,$te,ene,tne,nne,rne,void 0,void 0,ine,M4,sne,one,ane,cne,fne,void 0,void 0,void 0,lne,une,hne,void 0,vA.bind(void 0,0),vA.bind(void 0,1),yA.bind(void 0,_l),yA.bind(void 0,Ta),xA.bind(void 0,0),xA.bind(void 0,1),SA.bind(void 0,0),SA.bind(void 0,1),_A.bind(void 0,0),_A.bind(void 0,1),dne,pne,wA.bind(void 0,0),wA.bind(void 0,1),mne,gne,EA.bind(void 0,0),EA.bind(void 0,1),vne,yne,xne,Sne,_ne,wne,bA.bind(void 0,0),bA.bind(void 0,1),void 0,MA.bind(void 0,0),MA.bind(void 0,1),Ene,void 0,bne,void 0,void 0,Mne,Tne,Ane,Cne,Rne,Pne,Dne,Lne,Ine,Bne,Fne,Une,One,T4.bind(void 0,1),kne,Nne,zne,Gne,Hne,Vne,Wne,jne,Xne,Yne,H2.bind(void 0,0),H2.bind(void 0,1),H2.bind(void 0,2),H2.bind(void 0,3),void 0,void 0,void 0,void 0,Kne,T4.bind(void 0,2),T4.bind(void 0,3),A4.bind(void 0,1),A4.bind(void 0,2),A4.bind(void 0,3),Jne,Zne,void 0,void 0,Qne,void 0,qne,$ne,M4,M4,void 0,void 0,void 0,void 0,void 0,ere,TA.bind(void 0,0),TA.bind(void 0,1),tre,void 0,nre,rre,ire,sre,ore,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,cu.bind(void 0,1),cu.bind(void 0,2),cu.bind(void 0,3),cu.bind(void 0,4),cu.bind(void 0,5),cu.bind(void 0,6),cu.bind(void 0,7),cu.bind(void 0,8),fu.bind(void 0,1),fu.bind(void 0,2),fu.bind(void 0,3),fu.bind(void 0,4),fu.bind(void 0,5),fu.bind(void 0,6),fu.bind(void 0,7),fu.bind(void 0,8),ut.bind(void 0,0,0,0,0,0),ut.bind(void 0,0,0,0,0,1),ut.bind(void 0,0,0,0,0,2),ut.bind(void 0,0,0,0,0,3),ut.bind(void 0,0,0,0,1,0),ut.bind(void 0,0,0,0,1,1),ut.bind(void 0,0,0,0,1,2),ut.bind(void 0,0,0,0,1,3),ut.bind(void 0,0,0,1,0,0),ut.bind(void 0,0,0,1,0,1),ut.bind(void 0,0,0,1,0,2),ut.bind(void 0,0,0,1,0,3),ut.bind(void 0,0,0,1,1,0),ut.bind(void 0,0,0,1,1,1),ut.bind(void 0,0,0,1,1,2),ut.bind(void 0,0,0,1,1,3),ut.bind(void 0,0,1,0,0,0),ut.bind(void 0,0,1,0,0,1),ut.bind(void 0,0,1,0,0,2),ut.bind(void 0,0,1,0,0,3),ut.bind(void 0,0,1,0,1,0),ut.bind(void 0,0,1,0,1,1),ut.bind(void 0,0,1,0,1,2),ut.bind(void 0,0,1,0,1,3),ut.bind(void 0,0,1,1,0,0),ut.bind(void 0,0,1,1,0,1),ut.bind(void 0,0,1,1,0,2),ut.bind(void 0,0,1,1,0,3),ut.bind(void 0,0,1,1,1,0),ut.bind(void 0,0,1,1,1,1),ut.bind(void 0,0,1,1,1,2),ut.bind(void 0,0,1,1,1,3),ut.bind(void 0,1,0,0,0,0),ut.bind(void 0,1,0,0,0,1),ut.bind(void 0,1,0,0,0,2),ut.bind(void 0,1,0,0,0,3),ut.bind(void 0,1,0,0,1,0),ut.bind(void 0,1,0,0,1,1),ut.bind(void 0,1,0,0,1,2),ut.bind(void 0,1,0,0,1,3),ut.bind(void 0,1,0,1,0,0),ut.bind(void 0,1,0,1,0,1),ut.bind(void 0,1,0,1,0,2),ut.bind(void 0,1,0,1,0,3),ut.bind(void 0,1,0,1,1,0),ut.bind(void 0,1,0,1,1,1),ut.bind(void 0,1,0,1,1,2),ut.bind(void 0,1,0,1,1,3),ut.bind(void 0,1,1,0,0,0),ut.bind(void 0,1,1,0,0,1),ut.bind(void 0,1,1,0,0,2),ut.bind(void 0,1,1,0,0,3),ut.bind(void 0,1,1,0,1,0),ut.bind(void 0,1,1,0,1,1),ut.bind(void 0,1,1,0,1,2),ut.bind(void 0,1,1,0,1,3),ut.bind(void 0,1,1,1,0,0),ut.bind(void 0,1,1,1,0,1),ut.bind(void 0,1,1,1,0,2),ut.bind(void 0,1,1,1,0,3),ut.bind(void 0,1,1,1,1,0),ut.bind(void 0,1,1,1,1,1),ut.bind(void 0,1,1,1,1,2),ut.bind(void 0,1,1,1,1,3)];function pp(t){this.char=t,this.state={},this.activeState=null}function r_(t,e,n){this.contextName=n,this.startIndex=t,this.endOffset=e}function are(t,e,n){this.contextName=t,this.openRange=null,this.ranges=[],this.checkStart=e,this.checkEnd=n}function na(t,e){this.context=t,this.index=e,this.length=t.length,this.current=t[e],this.backtrack=t.slice(0,e),this.lookahead=t.slice(e+1)}function Q5(t){this.eventId=t,this.subscribers=[]}function lre(t){var e=this,n=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];n.forEach(function(i){Object.defineProperty(e.events,i,{value:new Q5(i)})}),t&&n.forEach(function(i){var s=t[i];typeof s=="function"&&e.events[i].subscribe(s)});var r=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];r.forEach(function(i){e.events[i].subscribe(e.updateContextsRanges)})}function cr(t){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],lre.call(this,t)}pp.prototype.setState=function(t,e){return this.state[t]=e,this.activeState={key:t,value:this.state[t]},this.activeState};pp.prototype.getState=function(t){return this.state[t]||null};cr.prototype.inboundIndex=function(t){return t>=0&&t<this.tokens.length};cr.prototype.composeRUD=function(t){var e=this,n=!0,r=t.map(function(s){return e[s[0]].apply(e,s.slice(1).concat(n))}),i=function(s){return typeof s=="object"&&s.hasOwnProperty("FAIL")};if(r.every(i))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:r.filter(i)};this.dispatch("composeRUD",[r.filter(function(s){return!i(s)})])};cr.prototype.replaceRange=function(t,e,n,r){e=e!==null?e:this.tokens.length;var i=n.every(function(o){return o instanceof pp});if(!isNaN(t)&&this.inboundIndex(t)&&i){var s=this.tokens.splice.apply(this.tokens,[t,e].concat(n));return r||this.dispatch("replaceToken",[t,e,n]),[s,n]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};cr.prototype.replaceToken=function(t,e,n){if(!isNaN(t)&&this.inboundIndex(t)&&e instanceof pp){var r=this.tokens.splice(t,1,e);return n||this.dispatch("replaceToken",[t,e]),[r[0],e]}else return{FAIL:"replaceToken: invalid token or index."}};cr.prototype.removeRange=function(t,e,n){e=isNaN(e)?this.tokens.length:e;var r=this.tokens.splice(t,e);return n||this.dispatch("removeRange",[r,t,e]),r};cr.prototype.removeToken=function(t,e){if(!isNaN(t)&&this.inboundIndex(t)){var n=this.tokens.splice(t,1);return e||this.dispatch("removeToken",[n,t]),n}else return{FAIL:"removeToken: invalid token index."}};cr.prototype.insertToken=function(t,e,n){var r=t.every(function(i){return i instanceof pp});return r?(this.tokens.splice.apply(this.tokens,[e,0].concat(t)),n||this.dispatch("insertToken",[t,e]),t):{FAIL:"insertToken: invalid token(s)."}};cr.prototype.registerModifier=function(t,e,n){this.events.newToken.subscribe(function(r,i){var s=[r,i],o=e===null||e.apply(this,s)===!0,a=[r,i];if(o){var l=n.apply(this,a);r.setState(t,l)}}),this.registeredModifiers.push(t)};Q5.prototype.subscribe=function(t){return typeof t=="function"?this.subscribers.push(t)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};Q5.prototype.unsubscribe=function(t){this.subscribers.splice(t,1)};na.prototype.setCurrentIndex=function(t){this.index=t,this.current=this.context[t],this.backtrack=this.context.slice(0,t),this.lookahead=this.context.slice(t+1)};na.prototype.get=function(t){switch(!0){case t===0:return this.current;case(t<0&&Math.abs(t)<=this.backtrack.length):return this.backtrack.slice(t)[0];case(t>0&&t<=this.lookahead.length):return this.lookahead[t-1];default:return null}};cr.prototype.rangeToText=function(t){if(t instanceof r_)return this.getRangeTokens(t).map(function(e){return e.char}).join("")};cr.prototype.getText=function(){return this.tokens.map(function(t){return t.char}).join("")};cr.prototype.getContext=function(t){var e=this.registeredContexts[t];return e||null};cr.prototype.on=function(t,e){var n=this.events[t];return n?n.subscribe(e):null};cr.prototype.dispatch=function(t,e){var n=this,r=this.events[t];r instanceof Q5&&r.subscribers.forEach(function(i){i.apply(n,e||[])})};cr.prototype.registerContextChecker=function(t,e,n){if(this.getContext(t))return{FAIL:"context name '"+t+"' is already registered."};if(typeof e!="function")return{FAIL:"missing context start check."};if(typeof n!="function")return{FAIL:"missing context end check."};var r=new are(t,e,n);return this.registeredContexts[t]=r,this.contextCheckers.push(r),r};cr.prototype.getRangeTokens=function(t){var e=t.startIndex+t.endOffset;return[].concat(this.tokens.slice(t.startIndex,e))};cr.prototype.getContextRanges=function(t){var e=this.getContext(t);return e?e.ranges:{FAIL:"context checker '"+t+"' is not registered."}};cr.prototype.resetContextsRanges=function(){var t=this.registeredContexts;for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];n.ranges=[]}};cr.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var t=this.tokens.map(function(r){return r.char}),e=0;e<t.length;e++){var n=new na(t,e);this.runContextCheck(n)}this.dispatch("updateContextsRanges",[this.registeredContexts])};cr.prototype.setEndOffset=function(t,e){var n=this.getContext(e).openRange.startIndex,r=new r_(n,t,e),i=this.getContext(e).ranges;return r.rangeId=e+"."+i.length,i.push(r),this.getContext(e).openRange=null,r};cr.prototype.runContextCheck=function(t){var e=this,n=t.index;this.contextCheckers.forEach(function(r){var i=r.contextName,s=e.getContext(i).openRange;if(!s&&r.checkStart(t)&&(s=new r_(n,null,i),e.getContext(i).openRange=s,e.dispatch("contextStart",[i,n])),s&&r.checkEnd(t)){var o=n-s.startIndex+1,a=e.setEndOffset(o,i);e.dispatch("contextEnd",[i,a])}})};cr.prototype.tokenize=function(t){this.tokens=[],this.resetContextsRanges();var e=Array.from(t);this.dispatch("start");for(var n=0;n<e.length;n++){var r=e[n],i=new na(e,n);this.dispatch("next",[i]),this.runContextCheck(i);var s=new pp(r);this.tokens.push(s),this.dispatch("newToken",[s,i])}return this.dispatch("end",[this.tokens]),this.tokens};function Nu(t){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(t)}function UF(t){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(t)}function Ku(t){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(t)}function Ig(t){return/[A-z]/.test(t)}function ure(t){return/\s/.test(t)}function Js(t){this.font=t,this.features={}}function Qc(t){this.id=t.id,this.tag=t.tag,this.substitution=t.substitution}function D1(t,e){if(!t)return-1;switch(e.format){case 1:return e.glyphs.indexOf(t);case 2:for(var n=e.ranges,r=0;r<n.length;r++){var i=n[r];if(t>=i.start&&t<=i.end){var s=t-i.start;return i.index+s}}break;default:return-1}return-1}function cre(t,e){var n=D1(t,e.coverage);return n===-1?null:t+e.deltaGlyphId}function fre(t,e){var n=D1(t,e.coverage);return n===-1?null:e.substitute[n]}function C4(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r],s=e.current;s=Array.isArray(s)?s[0]:s;var o=D1(s,i);o!==-1&&n.push(o)}return n.length!==t.length?-1:n}function hre(t,e){var n=e.inputCoverage.length+e.lookaheadCoverage.length+e.backtrackCoverage.length;if(t.context.length<n)return[];var r=C4(e.inputCoverage,t);if(r===-1)return[];var i=e.inputCoverage.length-1;if(t.lookahead.length<e.lookaheadCoverage.length)return[];for(var s=t.lookahead.slice(i);s.length&&Ku(s[0].char);)s.shift();var o=new na(s,0),a=C4(e.lookaheadCoverage,o),l=[].concat(t.backtrack);for(l.reverse();l.length&&Ku(l[0].char);)l.shift();if(l.length<e.backtrackCoverage.length)return[];var u=new na(l,0),c=C4(e.backtrackCoverage,u),f=r.length===e.inputCoverage.length&&a.length===e.lookaheadCoverage.length&&c.length===e.backtrackCoverage.length,h=[];if(f)for(var p=0;p<e.lookupRecords.length;p++)for(var g=e.lookupRecords[p],x=g.lookupListIndex,y=this.getLookupByIndex(x),v=0;v<y.subtables.length;v++){var S=y.subtables[v],_=this.getLookupMethod(y,S),E=this.getSubstitutionType(y,S);if(E==="12")for(var b=0;b<r.length;b++){var T=t.get(b),A=_(T);A&&h.push(A)}}return h}function dre(t,e){var n=t.current,r=D1(n,e.coverage);if(r===-1)return null;for(var i,s=e.ligatureSets[r],o=0;o<s.length;o++){i=s[o];for(var a=0;a<i.components.length;a++){var l=t.lookahead[a],u=i.components[a];if(l!==u)break;if(a===i.components.length-1)return i}}return null}function pre(t,e){var n=D1(t,e.coverage);return n===-1?null:e.sequences[n]}Js.prototype.getDefaultScriptFeaturesIndexes=function(){for(var t=this.font.tables.gsub.scripts,e=0;e<t.length;e++){var n=t[e];if(n.tag==="DFLT")return n.script.defaultLangSys.featureIndexes}return[]};Js.prototype.getScriptFeaturesIndexes=function(t){var e=this.font.tables;if(!e.gsub)return[];if(!t)return this.getDefaultScriptFeaturesIndexes();for(var n=this.font.tables.gsub.scripts,r=0;r<n.length;r++){var i=n[r];if(i.tag===t&&i.script.defaultLangSys)return i.script.defaultLangSys.featureIndexes;var s=i.langSysRecords;if(s)for(var o=0;o<s.length;o++){var a=s[o];if(a.tag===t){var l=a.langSys;return l.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};Js.prototype.mapTagsToFeatures=function(t,e){for(var n={},r=0;r<t.length;r++){var i=t[r].tag,s=t[r].feature;n[i]=s}this.features[e].tags=n};Js.prototype.getScriptFeatures=function(t){var e=this.features[t];if(this.features.hasOwnProperty(t))return e;var n=this.getScriptFeaturesIndexes(t);if(!n)return null;var r=this.font.tables.gsub;return e=n.map(function(i){return r.features[i]}),this.features[t]=e,this.mapTagsToFeatures(e,t),e};Js.prototype.getSubstitutionType=function(t,e){var n=t.lookupType.toString(),r=e.substFormat.toString();return n+r};Js.prototype.getLookupMethod=function(t,e){var n=this,r=this.getSubstitutionType(t,e);switch(r){case"11":return function(i){return cre.apply(n,[i,e])};case"12":return function(i){return fre.apply(n,[i,e])};case"63":return function(i){return hre.apply(n,[i,e])};case"41":return function(i){return dre.apply(n,[i,e])};case"21":return function(i){return pre.apply(n,[i,e])};default:throw new Error("lookupType: "+t.lookupType+" - substFormat: "+e.substFormat+" is not yet supported")}};Js.prototype.lookupFeature=function(t){var e=t.contextParams,n=e.index,r=this.getFeature({tag:t.tag,script:t.script});if(!r)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+t.tag+"' for script '"+t.script+"'.");for(var i=this.getFeatureLookups(r),s=[].concat(e.context),o=0;o<i.length;o++)for(var a=i[o],l=this.getLookupSubtables(a),u=0;u<l.length;u++){var c=l[u],f=this.getSubstitutionType(a,c),h=this.getLookupMethod(a,c),p=void 0;switch(f){case"11":p=h(e.current),p&&s.splice(n,1,new Qc({id:11,tag:t.tag,substitution:p}));break;case"12":p=h(e.current),p&&s.splice(n,1,new Qc({id:12,tag:t.tag,substitution:p}));break;case"63":p=h(e),Array.isArray(p)&&p.length&&s.splice(n,1,new Qc({id:63,tag:t.tag,substitution:p}));break;case"41":p=h(e),p&&s.splice(n,1,new Qc({id:41,tag:t.tag,substitution:p}));break;case"21":p=h(e.current),p&&s.splice(n,1,new Qc({id:21,tag:t.tag,substitution:p}));break}e=new na(s,n),!(Array.isArray(p)&&!p.length)&&(p=null)}return s.length?s:null};Js.prototype.supports=function(t){if(!t.script)return!1;this.getScriptFeatures(t.script);var e=this.features.hasOwnProperty(t.script);if(!t.tag)return e;var n=this.features[t.script].some(function(r){return r.tag===t.tag});return e&&n};Js.prototype.getLookupSubtables=function(t){return t.subtables||null};Js.prototype.getLookupByIndex=function(t){var e=this.font.tables.gsub.lookups;return e[t]||null};Js.prototype.getFeatureLookups=function(t){return t.lookupListIndexes.map(this.getLookupByIndex.bind(this))};Js.prototype.getFeature=function(e){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script);var n=this.features[e.script];return n?n.tags[e.tag]?this.features[e.script].tags[e.tag]:null:{FAIL:"No feature for script "+e.script}};function mre(t){var e=t.current,n=t.get(-1);return n===null&&Nu(e)||!Nu(n)&&Nu(e)}function gre(t){var e=t.get(1);return e===null||!Nu(e)}var vre={startCheck:mre,endCheck:gre};function yre(t){var e=t.current,n=t.get(-1);return(Nu(e)||Ku(e))&&!Nu(n)}function xre(t){var e=t.get(1);switch(!0){case e===null:return!0;case(!Nu(e)&&!Ku(e)):var n=ure(e);if(!n)return!0;if(n){var r=!1;if(r=t.lookahead.some(function(i){return Nu(i)||Ku(i)}),!r)return!0}break;default:return!1}}var Sre={startCheck:yre,endCheck:xre};function _re(t,e,n){e[n].setState(t.tag,t.substitution)}function wre(t,e,n){e[n].setState(t.tag,t.substitution)}function Ere(t,e,n){t.substitution.forEach(function(r,i){var s=e[n+i];s.setState(t.tag,r)})}function bre(t,e,n){var r=e[n];r.setState(t.tag,t.substitution.ligGlyph);for(var i=t.substitution.components.length,s=0;s<i;s++)r=e[n+s+1],r.setState("deleted",!0)}var AA={11:_re,12:wre,63:Ere,41:bre};function i_(t,e,n){t instanceof Qc&&AA[t.id]&&AA[t.id](t,e,n)}function Mre(t){for(var e=[].concat(t.backtrack),n=e.length-1;n>=0;n--){var r=e[n],i=UF(r),s=Ku(r);if(!i&&!s)return!0;if(i)return!1}return!1}function Tre(t){if(UF(t.current))return!1;for(var e=0;e<t.lookahead.length;e++){var n=t.lookahead[e],r=Ku(n);if(!r)return!0}return!1}function Are(t){var e=this,n="arab",r=this.featuresTags[n],i=this.tokenizer.getRangeTokens(t);if(i.length!==1){var s=new na(i.map(function(a){return a.getState("glyphIndex")}),0),o=new na(i.map(function(a){return a.char}),0);i.forEach(function(a,l){if(!Ku(a.char)){s.setCurrentIndex(l),o.setCurrentIndex(l);var u=0;Mre(o)&&(u|=1),Tre(o)&&(u|=2);var c;switch(u){case 1:c="fina";break;case 2:c="init";break;case 3:c="medi";break}if(r.indexOf(c)!==-1){var f=e.query.lookupFeature({tag:c,script:n,contextParams:s});if(f instanceof Error)return console.info(f.message);f.forEach(function(h,p){h instanceof Qc&&(i_(h,i,p),s.context[p]=h.substitution)})}}})}}function CA(t,e){var n=t.map(function(r){return r.activeState.value});return new na(n,e||0)}function Cre(t){var e=this,n="arab",r=this.tokenizer.getRangeTokens(t),i=CA(r);i.context.forEach(function(s,o){i.setCurrentIndex(o);var a=e.query.lookupFeature({tag:"rlig",script:n,contextParams:i});a.length&&(a.forEach(function(l){return i_(l,r,o)}),i=CA(r))})}function Rre(t){var e=t.current,n=t.get(-1);return n===null&&Ig(e)||!Ig(n)&&Ig(e)}function Pre(t){var e=t.get(1);return e===null||!Ig(e)}var Dre={startCheck:Rre,endCheck:Pre};function RA(t,e){var n=t.map(function(r){return r.activeState.value});return new na(n,e||0)}function Lre(t){var e=this,n="latn",r=this.tokenizer.getRangeTokens(t),i=RA(r);i.context.forEach(function(s,o){i.setCurrentIndex(o);var a=e.query.lookupFeature({tag:"liga",script:n,contextParams:i});a.length&&(a.forEach(function(l){return i_(l,r,o)}),i=RA(r))})}function la(t){this.baseDir=t||"ltr",this.tokenizer=new cr,this.featuresTags={}}la.prototype.setText=function(t){this.text=t};la.prototype.contextChecks={latinWordCheck:Dre,arabicWordCheck:vre,arabicSentenceCheck:Sre};function R4(t){var e=this.contextChecks[t+"Check"];return this.tokenizer.registerContextChecker(t,e.startCheck,e.endCheck)}function Ire(){return R4.call(this,"latinWord"),R4.call(this,"arabicWord"),R4.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function Bre(){var t=this,e=this.tokenizer.getContextRanges("arabicSentence");e.forEach(function(n){var r=t.tokenizer.getRangeTokens(n);t.tokenizer.replaceRange(n.startIndex,n.endOffset,r.reverse())})}la.prototype.registerFeatures=function(t,e){var n=this,r=e.filter(function(i){return n.query.supports({script:t,tag:i})});this.featuresTags.hasOwnProperty(t)?this.featuresTags[t]=this.featuresTags[t].concat(r):this.featuresTags[t]=r};la.prototype.applyFeatures=function(t,e){if(!t)throw new Error("No valid font was provided to apply features");this.query||(this.query=new Js(t));for(var n=0;n<e.length;n++){var r=e[n];this.query.supports({script:r.script})&&this.registerFeatures(r.script,r.tags)}};la.prototype.registerModifier=function(t,e,n){this.tokenizer.registerModifier(t,e,n)};function s_(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function Fre(){var t=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){s_.call(this);var n=this.tokenizer.getContextRanges("arabicWord");n.forEach(function(r){Are.call(t,r)})}}function Ure(){var t=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){var n=this.featuresTags[e];if(n.indexOf("rlig")!==-1){s_.call(this);var r=this.tokenizer.getContextRanges("arabicWord");r.forEach(function(i){Cre.call(t,i)})}}}function Ore(){var t=this,e="latn";if(this.featuresTags.hasOwnProperty(e)){var n=this.featuresTags[e];if(n.indexOf("liga")!==-1){s_.call(this);var r=this.tokenizer.getContextRanges("latinWord");r.forEach(function(i){Lre.call(t,i)})}}}la.prototype.checkContextReady=function(t){return!!this.tokenizer.getContext(t)};la.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(Fre.call(this),Ure.call(this)),this.checkContextReady("latinWord")&&Ore.call(this),this.checkContextReady("arabicSentence")&&Bre.call(this)};la.prototype.processText=function(t){(!this.text||this.text!==t)&&(this.setText(t),Ire.call(this),this.applyFeaturesToContexts())};la.prototype.getBidiText=function(t){return this.processText(t),this.tokenizer.getText()};la.prototype.getTextGlyphs=function(t){this.processText(t);for(var e=[],n=0;n<this.tokenizer.tokens.length;n++){var r=this.tokenizer.tokens[n];if(!r.state.deleted){var i=r.activeState.value;e.push(Array.isArray(i)?i[0]:i)}}return e};function Dn(t){t=t||{},t.tables=t.tables||{},t.empty||(v0(t.familyName,"When creating a new Font object, familyName is required."),v0(t.styleName,"When creating a new Font object, styleName is required."),v0(t.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),v0(t.ascender,"When creating a new Font object, ascender is required."),v0(t.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:t.familyName||" "},fontSubfamily:{en:t.styleName||" "},fullName:{en:t.fullName||t.familyName+" "+t.styleName},postScriptName:{en:t.postScriptName||(t.familyName+t.styleName).replace(/\s/g,"")},designer:{en:t.designer||" "},designerURL:{en:t.designerURL||" "},manufacturer:{en:t.manufacturer||" "},manufacturerURL:{en:t.manufacturerURL||" "},license:{en:t.license||" "},licenseURL:{en:t.licenseURL||" "},version:{en:t.version||"Version 0.1"},description:{en:t.description||" "},copyright:{en:t.copyright||" "},trademark:{en:t.trademark||" "}},this.unitsPerEm=t.unitsPerEm||1e3,this.ascender=t.ascender,this.descender=t.descender,this.createdTimestamp=t.createdTimestamp,this.tables=Object.assign(t.tables,{os2:Object.assign({usWeightClass:t.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:t.widthClass||this.usWidthClasses.MEDIUM,fsSelection:t.fsSelection||this.fsSelectionValues.REGULAR},t.tables.os2)})),this.supported=!0,this.glyphs=new Fa.GlyphSet(this,t.glyphs||[]),this.encoding=new dF(this),this.position=new C1(this),this.substitution=new Ks(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new LF(this)}})}Dn.prototype.hasChar=function(t){return this.encoding.charToGlyphIndex(t)!==null};Dn.prototype.charToGlyphIndex=function(t){return this.encoding.charToGlyphIndex(t)};Dn.prototype.charToGlyph=function(t){var e=this.charToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n};Dn.prototype.updateFeatures=function(t){return this.defaultRenderOptions.features.map(function(e){return e.script==="latn"?{script:"latn",tags:e.tags.filter(function(n){return t[n]})}:e})};Dn.prototype.stringToGlyphs=function(t,e){var n=this,r=new la,i=function(f){return n.charToGlyphIndex(f.char)};r.registerModifier("glyphIndex",null,i);var s=e?this.updateFeatures(e.features):this.defaultRenderOptions.features;r.applyFeatures(this,s);for(var o=r.getTextGlyphs(t),a=o.length,l=new Array(a),u=this.glyphs.get(0),c=0;c<a;c+=1)l[c]=this.glyphs.get(o[c])||u;return l};Dn.prototype.nameToGlyphIndex=function(t){return this.glyphNames.nameToGlyphIndex(t)};Dn.prototype.nameToGlyph=function(t){var e=this.nameToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n};Dn.prototype.glyphIndexToName=function(t){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(t):""};Dn.prototype.getKerningValue=function(t,e){t=t.index||t,e=e.index||e;var n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,t,e):this.kerningPairs[t+","+e]||0};Dn.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};Dn.prototype.forEachGlyph=function(t,e,n,r,i,s){e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:72,i=Object.assign({},this.defaultRenderOptions,i);var o=1/this.unitsPerEm*r,a=this.stringToGlyphs(t,i),l;if(i.kerning){var u=i.script||this.position.getDefaultScriptName();l=this.position.getKerningTables(u,i.language)}for(var c=0;c<a.length;c+=1){var f=a[c];if(s.call(this,f,e,n,r,i),f.advanceWidth&&(e+=f.advanceWidth*o),i.kerning&&c<a.length-1){var h=l?this.position.getKerningValue(l,f.index,a[c+1].index):this.getKerningValue(f,a[c+1]);e+=h*o}i.letterSpacing?e+=i.letterSpacing*r:i.tracking&&(e+=i.tracking/1e3*r)}return e};Dn.prototype.getPath=function(t,e,n,r,i){var s=new zr;return this.forEachGlyph(t,e,n,r,i,function(o,a,l,u){var c=o.getPath(a,l,u,i,this);s.extend(c)}),s};Dn.prototype.getPaths=function(t,e,n,r,i){var s=[];return this.forEachGlyph(t,e,n,r,i,function(o,a,l,u){var c=o.getPath(a,l,u,i,this);s.push(c)}),s};Dn.prototype.getAdvanceWidth=function(t,e,n){return this.forEachGlyph(t,0,0,e,n,function(){})};Dn.prototype.draw=function(t,e,n,r,i,s){this.getPath(e,n,r,i,s).draw(t)};Dn.prototype.drawPoints=function(t,e,n,r,i,s){this.forEachGlyph(e,n,r,i,s,function(o,a,l,u){o.drawPoints(t,a,l,u)})};Dn.prototype.drawMetrics=function(t,e,n,r,i,s){this.forEachGlyph(e,n,r,i,s,function(o,a,l,u){o.drawMetrics(t,a,l,u)})};Dn.prototype.getEnglishName=function(t){var e=this.names[t];if(e)return e.en};Dn.prototype.validate=function(){var t=this;function e(r,i){}function n(r){var i=t.getEnglishName(r);i&&i.trim().length>0}n("fontFamily"),n("weightName"),n("manufacturer"),n("copyright"),n("version"),this.unitsPerEm>0};Dn.prototype.toTables=function(){return Ete.fontToTable(this)};Dn.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};Dn.prototype.toArrayBuffer=function(){for(var t=this.toTables(),e=t.encode(),n=new ArrayBuffer(e.length),r=new Uint8Array(n),i=0;i<e.length;i++)r[i]=e[i];return n};Dn.prototype.download=function(t){var e=this.getEnglishName("fontFamily"),n=this.getEnglishName("fontSubfamily");t=t||e.replace(/\s/g,"")+"-"+n+".otf";var r=this.toArrayBuffer();if(Mte())if(window.URL=window.URL||window.webkitURL,window.URL){var i=new DataView(r),s=new Blob([i],{type:"font/opentype"}),o=document.createElement("a");o.href=window.URL.createObjectURL(s),o.download=t;var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!1),o.dispatchEvent(a)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var l=require("fs"),u=Tte(r);l.writeFileSync(t,u)}};Dn.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};Dn.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};Dn.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Wl=new Array(10);Wl[1]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{posFormat:1,coverage:this.parsePointer(Pe.coverage),value:this.parseValueRecord()};if(n===2)return{posFormat:2,coverage:this.parsePointer(Pe.coverage),values:this.parseValueRecordList()};It.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};Wl[2]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();It.assert(n===1||n===2,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var r=this.parsePointer(Pe.coverage),i=this.parseUShort(),s=this.parseUShort();if(n===1)return{posFormat:n,coverage:r,valueFormat1:i,valueFormat2:s,pairSets:this.parseList(Pe.pointer(Pe.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(i),value2:this.parseValueRecord(s)}})))};if(n===2){var o=this.parsePointer(Pe.classDef),a=this.parsePointer(Pe.classDef),l=this.parseUShort(),u=this.parseUShort();return{posFormat:n,coverage:r,valueFormat1:i,valueFormat2:s,classDef1:o,classDef2:a,class1Count:l,class2Count:u,classRecords:this.parseList(l,Pe.list(u,function(){return{value1:this.parseValueRecord(i),value2:this.parseValueRecord(s)}}))}}};Wl[3]=function(){return{error:"GPOS Lookup 3 not supported"}};Wl[4]=function(){return{error:"GPOS Lookup 4 not supported"}};Wl[5]=function(){return{error:"GPOS Lookup 5 not supported"}};Wl[6]=function(){return{error:"GPOS Lookup 6 not supported"}};Wl[7]=function(){return{error:"GPOS Lookup 7 not supported"}};Wl[8]=function(){return{error:"GPOS Lookup 8 not supported"}};Wl[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var kre=Object.defineProperty,Nre=(t,e,n)=>e in t?kre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tt=(t,e,n)=>(Nre(t,typeof e!="symbol"?e+"":e,n),n);let y0;function zre(){var t;if(y0!==void 0)return y0;try{let e;const n=document.createElement("canvas");return y0=!!(window.WebGL2RenderingContext&&(e=n.getContext("webgl2"))),e&&((t=e.getExtension("WEBGL_lose_context"))==null||t.loseContext()),y0}catch{return y0=!1}}function PA(t,e){if(e===cI)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===hv||e===aS){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(n)if(e===hv)for(let o=1;o<=r;o++)i.push(n.getX(0)),i.push(n.getX(o)),i.push(n.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(n.getX(o)),i.push(n.getX(o+1)),i.push(n.getX(o+2))):(i.push(n.getX(o+2)),i.push(n.getX(o+1)),i.push(n.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}let n9=Ha.replace(/\D+/g,"");n9=parseInt(n9);const OF=n9,P4={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new X},up:{value:new X(0,1,0)}},vertexShader:`
      uniform vec3 sunPosition;
      uniform float rayleigh;
      uniform float turbidity;
      uniform float mieCoefficient;
      uniform vec3 up;

      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      // constants for atmospheric scattering
      const float e = 2.71828182845904523536028747135266249775724709369995957;
      const float pi = 3.141592653589793238462643383279502884197169;

      // wavelength of used primaries, according to preetham
      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

      // mie stuff
      // K coefficient for the primaries
      const float v = 4.0;
      const vec3 K = vec3( 0.686, 0.678, 0.666 );
      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

      // earth shadow hack
      // cutoffAngle = pi / 1.95;
      const float cutoffAngle = 1.6110731556870734;
      const float steepness = 1.5;
      const float EE = 1000.0;

      float sunIntensity( float zenithAngleCos ) {
        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
      }

      vec3 totalMie( float T ) {
        float c = ( 0.2 * T ) * 10E-18;
        return 0.434 * c * MieConst;
      }

      void main() {

        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
        vWorldPosition = worldPosition.xyz;

        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        gl_Position.z = gl_Position.w; // set z to camera.far

        vSunDirection = normalize( sunPosition );

        vSunE = sunIntensity( dot( vSunDirection, up ) );

        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

      // extinction (absorbtion + out scattering)
      // rayleigh coefficients
        vBetaR = totalRayleigh * rayleighCoefficient;

      // mie coefficients
        vBetaM = totalMie( turbidity ) * mieCoefficient;

      }
    `,fragmentShader:`
      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      uniform float mieDirectionalG;
      uniform vec3 up;

      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );

      // constants for atmospheric scattering
      const float pi = 3.141592653589793238462643383279502884197169;

      const float n = 1.0003; // refractive index of air
      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

      // optical length at zenith for molecules
      const float rayleighZenithLength = 8.4E3;
      const float mieZenithLength = 1.25E3;
      // 66 arc seconds -> degrees, and the cosine of that
      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

      // 3.0 / ( 16.0 * pi )
      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
      // 1.0 / ( 4.0 * pi )
      const float ONE_OVER_FOURPI = 0.07957747154594767;

      float rayleighPhase( float cosTheta ) {
        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
      }

      float hgPhase( float cosTheta, float g ) {
        float g2 = pow( g, 2.0 );
        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
      }

      void main() {

        vec3 direction = normalize( vWorldPosition - cameraPos );

      // optical length
      // cutoff angle at 90 to avoid singularity in next formula.
        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
        float sR = rayleighZenithLength * inverse;
        float sM = mieZenithLength * inverse;

      // combined extinction factor
        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

      // in scattering
        float cosTheta = dot( direction, vSunDirection );

        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
        vec3 betaRTheta = vBetaR * rPhase;

        float mPhase = hgPhase( cosTheta, mieDirectionalG );
        vec3 betaMTheta = vBetaM * mPhase;

        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

      // nightsky
        float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
        float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
        vec3 L0 = vec3( 0.1 ) * Fex;

      // composition + solar disc
        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

        gl_FragColor = vec4( retColor, 1.0 );

      #include <tonemapping_fragment>
      #include <${OF>=154?"colorspace_fragment":"encodings_fragment"}>

      }
    `};P4.fragmentShader,P4.vertexShader,P4.uniforms;const V2=new kf,DA=new dl,Gre=Math.cos(70*(Math.PI/180)),LA=(t,e)=>(t%e+e)%e;let Hre=class extends Ys{constructor(e,n){super(),Tt(this,"object"),Tt(this,"domElement"),Tt(this,"enabled",!0),Tt(this,"target",new X),Tt(this,"minDistance",0),Tt(this,"maxDistance",1/0),Tt(this,"minZoom",0),Tt(this,"maxZoom",1/0),Tt(this,"minPolarAngle",0),Tt(this,"maxPolarAngle",Math.PI),Tt(this,"minAzimuthAngle",-1/0),Tt(this,"maxAzimuthAngle",1/0),Tt(this,"enableDamping",!1),Tt(this,"dampingFactor",.05),Tt(this,"enableZoom",!0),Tt(this,"zoomSpeed",1),Tt(this,"enableRotate",!0),Tt(this,"rotateSpeed",1),Tt(this,"enablePan",!0),Tt(this,"panSpeed",1),Tt(this,"screenSpacePanning",!0),Tt(this,"keyPanSpeed",7),Tt(this,"zoomToCursor",!1),Tt(this,"autoRotate",!1),Tt(this,"autoRotateSpeed",2),Tt(this,"reverseOrbit",!1),Tt(this,"reverseHorizontalOrbit",!1),Tt(this,"reverseVerticalOrbit",!1),Tt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Tt(this,"mouseButtons",{LEFT:Wc.ROTATE,MIDDLE:Wc.DOLLY,RIGHT:Wc.PAN}),Tt(this,"touches",{ONE:jc.ROTATE,TWO:jc.DOLLY_PAN}),Tt(this,"target0"),Tt(this,"position0"),Tt(this,"zoom0"),Tt(this,"_domElementKeyEvents",null),Tt(this,"getPolarAngle"),Tt(this,"getAzimuthalAngle"),Tt(this,"setPolarAngle"),Tt(this,"setAzimuthalAngle"),Tt(this,"getDistance"),Tt(this,"listenToKeyEvents"),Tt(this,"stopListenToKeyEvents"),Tt(this,"saveState"),Tt(this,"reset"),Tt(this,"update"),Tt(this,"connect"),Tt(this,"dispose"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=ee=>{let Te=LA(ee,2*Math.PI),Ke=c.phi;Ke<0&&(Ke+=2*Math.PI),Te<0&&(Te+=2*Math.PI);let Q=Math.abs(Te-Ke);2*Math.PI-Q<Q&&(Te<Ke?Te+=2*Math.PI:Ke+=2*Math.PI),f.phi=Te-Ke,r.update()},this.setAzimuthalAngle=ee=>{let Te=LA(ee,2*Math.PI),Ke=c.theta;Ke<0&&(Ke+=2*Math.PI),Te<0&&(Te+=2*Math.PI);let Q=Math.abs(Te-Ke);2*Math.PI-Q<Q&&(Te<Ke?Te+=2*Math.PI:Ke+=2*Math.PI),f.theta=Te-Ke,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=ee=>{ee.addEventListener("keydown",Ee),this._domElementKeyEvents=ee},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ee),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const ee=new X,Te=new X(0,1,0),Ke=new er().setFromUnitVectors(e.up,Te),Q=Ke.clone().invert(),Oe=new X,xe=new er,We=2*Math.PI;return function(){const Mt=r.object.position;Ke.setFromUnitVectors(e.up,Te),Q.copy(Ke).invert(),ee.copy(Mt).sub(r.target),ee.applyQuaternion(Ke),c.setFromVector3(ee),r.autoRotate&&l===a.NONE&&V(z()),r.enableDamping?(c.theta+=f.theta*r.dampingFactor,c.phi+=f.phi*r.dampingFactor):(c.theta+=f.theta,c.phi+=f.phi);let bt=r.minAzimuthAngle,Rt=r.maxAzimuthAngle;isFinite(bt)&&isFinite(Rt)&&(bt<-Math.PI?bt+=We:bt>Math.PI&&(bt-=We),Rt<-Math.PI?Rt+=We:Rt>Math.PI&&(Rt-=We),bt<=Rt?c.theta=Math.max(bt,Math.min(Rt,c.theta)):c.theta=c.theta>(bt+Rt)/2?Math.max(bt,c.theta):Math.min(Rt,c.theta)),c.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,c.phi)),c.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(p,r.dampingFactor):r.target.add(p),r.zoomToCursor&&C||r.object.isOrthographicCamera?c.radius=j(c.radius):c.radius=j(c.radius*h),ee.setFromSpherical(c),ee.applyQuaternion(Q),Mt.copy(r.target).add(ee),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,p.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),p.set(0,0,0));let Xt=!1;if(r.zoomToCursor&&C){let Wt=null;if(r.object instanceof hn&&r.object.isPerspectiveCamera){const zt=ee.length();Wt=j(zt*h);const Pt=zt-Wt;r.object.position.addScaledVector(A,Pt),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const zt=new X(D.x,D.y,0);zt.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix(),Xt=!0;const Pt=new X(D.x,D.y,0);Pt.unproject(r.object),r.object.position.sub(Pt).add(zt),r.object.updateMatrixWorld(),Wt=ee.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Wt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Wt).add(r.object.position):(V2.origin.copy(r.object.position),V2.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(V2.direction))<Gre?e.lookAt(r.target):(DA.setFromNormalAndCoplanarPoint(r.object.up,r.target),V2.intersectPlane(DA,r.target))))}else r.object instanceof Us&&r.object.isOrthographicCamera&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix(),Xt=!0);return h=1,C=!1,Xt||Oe.distanceToSquared(r.object.position)>u||8*(1-xe.dot(r.object.quaternion))>u?(r.dispatchEvent(i),Oe.copy(r.object.position),xe.copy(r.object.quaternion),Xt=!1,!0):!1}})(),this.connect=ee=>{ee===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=ee,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",ve),r.domElement.addEventListener("pointerdown",Ce),r.domElement.addEventListener("pointercancel",O),r.domElement.addEventListener("wheel",be)},this.dispose=()=>{var ee,Te,Ke,Q,Oe,xe;(ee=r.domElement)==null||ee.removeEventListener("contextmenu",ve),(Te=r.domElement)==null||Te.removeEventListener("pointerdown",Ce),(Ke=r.domElement)==null||Ke.removeEventListener("pointercancel",O),(Q=r.domElement)==null||Q.removeEventListener("wheel",be),(Oe=r.domElement)==null||Oe.ownerDocument.removeEventListener("pointermove",$e),(xe=r.domElement)==null||xe.ownerDocument.removeEventListener("pointerup",N),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Ee)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,c=new vv,f=new vv;let h=1;const p=new X,g=new ue,x=new ue,y=new ue,v=new ue,S=new ue,_=new ue,E=new ue,b=new ue,T=new ue,A=new X,D=new ue;let C=!1;const L=[],k={};function z(){return 2*Math.PI/60/60*r.autoRotateSpeed}function H(){return Math.pow(.95,r.zoomSpeed)}function V(ee){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=ee:f.theta-=ee}function K(ee){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=ee:f.phi-=ee}const J=(()=>{const ee=new X;return function(Ke,Q){ee.setFromMatrixColumn(Q,0),ee.multiplyScalar(-Ke),p.add(ee)}})(),$=(()=>{const ee=new X;return function(Ke,Q){r.screenSpacePanning===!0?ee.setFromMatrixColumn(Q,1):(ee.setFromMatrixColumn(Q,0),ee.crossVectors(r.object.up,ee)),ee.multiplyScalar(Ke),p.add(ee)}})(),U=(()=>{const ee=new X;return function(Ke,Q){const Oe=r.domElement;if(Oe&&r.object instanceof hn&&r.object.isPerspectiveCamera){const xe=r.object.position;ee.copy(xe).sub(r.target);let We=ee.length();We*=Math.tan(r.object.fov/2*Math.PI/180),J(2*Ke*We/Oe.clientHeight,r.object.matrix),$(2*Q*We/Oe.clientHeight,r.object.matrix)}else Oe&&r.object instanceof Us&&r.object.isOrthographicCamera?(J(Ke*(r.object.right-r.object.left)/r.object.zoom/Oe.clientWidth,r.object.matrix),$(Q*(r.object.top-r.object.bottom)/r.object.zoom/Oe.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function G(ee){r.object instanceof hn&&r.object.isPerspectiveCamera||r.object instanceof Us&&r.object.isOrthographicCamera?h/=ee:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function W(ee){r.object instanceof hn&&r.object.isPerspectiveCamera||r.object instanceof Us&&r.object.isOrthographicCamera?h*=ee:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function F(ee){if(!r.zoomToCursor||!r.domElement)return;C=!0;const Te=r.domElement.getBoundingClientRect(),Ke=ee.clientX-Te.left,Q=ee.clientY-Te.top,Oe=Te.width,xe=Te.height;D.x=Ke/Oe*2-1,D.y=-(Q/xe)*2+1,A.set(D.x,D.y,1).unproject(r.object).sub(r.object.position).normalize()}function j(ee){return Math.max(r.minDistance,Math.min(r.maxDistance,ee))}function ie(ee){g.set(ee.clientX,ee.clientY)}function se(ee){F(ee),E.set(ee.clientX,ee.clientY)}function re(ee){v.set(ee.clientX,ee.clientY)}function fe(ee){x.set(ee.clientX,ee.clientY),y.subVectors(x,g).multiplyScalar(r.rotateSpeed);const Te=r.domElement;Te&&(V(2*Math.PI*y.x/Te.clientHeight),K(2*Math.PI*y.y/Te.clientHeight)),g.copy(x),r.update()}function oe(ee){b.set(ee.clientX,ee.clientY),T.subVectors(b,E),T.y>0?G(H()):T.y<0&&W(H()),E.copy(b),r.update()}function he(ee){S.set(ee.clientX,ee.clientY),_.subVectors(S,v).multiplyScalar(r.panSpeed),U(_.x,_.y),v.copy(S),r.update()}function ke(ee){F(ee),ee.deltaY<0?W(H()):ee.deltaY>0&&G(H()),r.update()}function He(ee){let Te=!1;switch(ee.code){case r.keys.UP:U(0,r.keyPanSpeed),Te=!0;break;case r.keys.BOTTOM:U(0,-r.keyPanSpeed),Te=!0;break;case r.keys.LEFT:U(r.keyPanSpeed,0),Te=!0;break;case r.keys.RIGHT:U(-r.keyPanSpeed,0),Te=!0;break}Te&&(ee.preventDefault(),r.update())}function ge(){if(L.length==1)g.set(L[0].pageX,L[0].pageY);else{const ee=.5*(L[0].pageX+L[1].pageX),Te=.5*(L[0].pageY+L[1].pageY);g.set(ee,Te)}}function Y(){if(L.length==1)v.set(L[0].pageX,L[0].pageY);else{const ee=.5*(L[0].pageX+L[1].pageX),Te=.5*(L[0].pageY+L[1].pageY);v.set(ee,Te)}}function Se(){const ee=L[0].pageX-L[1].pageX,Te=L[0].pageY-L[1].pageY,Ke=Math.sqrt(ee*ee+Te*Te);E.set(0,Ke)}function me(){r.enableZoom&&Se(),r.enablePan&&Y()}function de(){r.enableZoom&&Se(),r.enableRotate&&ge()}function pe(ee){if(L.length==1)x.set(ee.pageX,ee.pageY);else{const Ke=Ne(ee),Q=.5*(ee.pageX+Ke.x),Oe=.5*(ee.pageY+Ke.y);x.set(Q,Oe)}y.subVectors(x,g).multiplyScalar(r.rotateSpeed);const Te=r.domElement;Te&&(V(2*Math.PI*y.x/Te.clientHeight),K(2*Math.PI*y.y/Te.clientHeight)),g.copy(x)}function ze(ee){if(L.length==1)S.set(ee.pageX,ee.pageY);else{const Te=Ne(ee),Ke=.5*(ee.pageX+Te.x),Q=.5*(ee.pageY+Te.y);S.set(Ke,Q)}_.subVectors(S,v).multiplyScalar(r.panSpeed),U(_.x,_.y),v.copy(S)}function ye(ee){const Te=Ne(ee),Ke=ee.pageX-Te.x,Q=ee.pageY-Te.y,Oe=Math.sqrt(Ke*Ke+Q*Q);b.set(0,Oe),T.set(0,Math.pow(b.y/E.y,r.zoomSpeed)),G(T.y),E.copy(b)}function Be(ee){r.enableZoom&&ye(ee),r.enablePan&&ze(ee)}function Ue(ee){r.enableZoom&&ye(ee),r.enableRotate&&pe(ee)}function Ce(ee){var Te,Ke;r.enabled!==!1&&(L.length===0&&((Te=r.domElement)==null||Te.ownerDocument.addEventListener("pointermove",$e),(Ke=r.domElement)==null||Ke.ownerDocument.addEventListener("pointerup",N)),je(ee),ee.pointerType==="touch"?Ge(ee):ne(ee))}function $e(ee){r.enabled!==!1&&(ee.pointerType==="touch"?Fe(ee):Ae(ee))}function N(ee){var Te,Ke,Q;Ze(ee),L.length===0&&((Te=r.domElement)==null||Te.releasePointerCapture(ee.pointerId),(Ke=r.domElement)==null||Ke.ownerDocument.removeEventListener("pointermove",$e),(Q=r.domElement)==null||Q.ownerDocument.removeEventListener("pointerup",N)),r.dispatchEvent(o),l=a.NONE}function O(ee){Ze(ee)}function ne(ee){let Te;switch(ee.button){case 0:Te=r.mouseButtons.LEFT;break;case 1:Te=r.mouseButtons.MIDDLE;break;case 2:Te=r.mouseButtons.RIGHT;break;default:Te=-1}switch(Te){case Wc.DOLLY:if(r.enableZoom===!1)return;se(ee),l=a.DOLLY;break;case Wc.ROTATE:if(ee.ctrlKey||ee.metaKey||ee.shiftKey){if(r.enablePan===!1)return;re(ee),l=a.PAN}else{if(r.enableRotate===!1)return;ie(ee),l=a.ROTATE}break;case Wc.PAN:if(ee.ctrlKey||ee.metaKey||ee.shiftKey){if(r.enableRotate===!1)return;ie(ee),l=a.ROTATE}else{if(r.enablePan===!1)return;re(ee),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Ae(ee){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;fe(ee);break;case a.DOLLY:if(r.enableZoom===!1)return;oe(ee);break;case a.PAN:if(r.enablePan===!1)return;he(ee);break}}function be(ee){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(ee.preventDefault(),r.dispatchEvent(s),ke(ee),r.dispatchEvent(o))}function Ee(ee){r.enabled===!1||r.enablePan===!1||He(ee)}function Ge(ee){switch(Ye(ee),L.length){case 1:switch(r.touches.ONE){case jc.ROTATE:if(r.enableRotate===!1)return;ge(),l=a.TOUCH_ROTATE;break;case jc.PAN:if(r.enablePan===!1)return;Y(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case jc.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;me(),l=a.TOUCH_DOLLY_PAN;break;case jc.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;de(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Fe(ee){switch(Ye(ee),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;pe(ee),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;ze(ee),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Be(ee),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ue(ee),r.update();break;default:l=a.NONE}}function ve(ee){r.enabled!==!1&&ee.preventDefault()}function je(ee){L.push(ee)}function Ze(ee){delete k[ee.pointerId];for(let Te=0;Te<L.length;Te++)if(L[Te].pointerId==ee.pointerId){L.splice(Te,1);return}}function Ye(ee){let Te=k[ee.pointerId];Te===void 0&&(Te=new ue,k[ee.pointerId]=Te),Te.set(ee.pageX,ee.pageY)}function Ne(ee){const Te=ee.pointerId===L[0].pointerId?L[1]:L[0];return k[Te.pointerId]}n!==void 0&&this.connect(n),this.update()}};class o_ extends Pi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new Yre(n)}),this.register(function(n){return new tie(n)}),this.register(function(n){return new nie(n)}),this.register(function(n){return new rie(n)}),this.register(function(n){return new Jre(n)}),this.register(function(n){return new Zre(n)}),this.register(function(n){return new Qre(n)}),this.register(function(n){return new qre(n)}),this.register(function(n){return new Xre(n)}),this.register(function(n){return new $re(n)}),this.register(function(n){return new Kre(n)}),this.register(function(n){return new eie(n)}),this.register(function(n){return new Wre(n)}),this.register(function(n){return new iie(n)}),this.register(function(n){return new sie(n)})}load(e,n,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Ba.extractUrlBase(e),this.manager.itemStart(e);const a=function(u){i?i(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Vs(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(c){n(c),s.manager.itemEnd(e)},a)}catch(c){a(c)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Ba.decodeText(new Uint8Array(e.slice(0,4)))===kF){try{o[$t.KHR_BINARY_GLTF]=new oie(e)}catch(c){i&&i(c);return}s=JSON.parse(o[$t.KHR_BINARY_GLTF].content)}else s=JSON.parse(Ba.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new xie(s,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const c=this.pluginCallbacks[u](l);a[c.name]=c,o[c.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const c=s.extensionsUsed[u],f=s.extensionsRequired||[];switch(c){case $t.KHR_MATERIALS_UNLIT:o[c]=new jre;break;case $t.KHR_DRACO_MESH_COMPRESSION:o[c]=new aie(s,this.dracoLoader);break;case $t.KHR_TEXTURE_TRANSFORM:o[c]=new lie;break;case $t.KHR_MESH_QUANTIZATION:o[c]=new uie;break;default:f.indexOf(c)>=0&&a[c]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+c+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,s){r.parse(e,n,i,s)})}}function Vre(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const $t={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Wre{constructor(e){this.parser=e,this.name=$t.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const s=n[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const s=n.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const c=new Xe(16777215);l.color!==void 0&&c.fromArray(l.color);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new FS(c),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new BS(c),u.distance=f;break;case"spot":u=new IS(c),u.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,Su(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=n.createUniqueName(l.name||"light_"+e),i=Promise.resolve(u),n.cache.add(r,i),i}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(n.cache,a,l)})}}class jre{constructor(){this.name=$t.KHR_MATERIALS_UNLIT}getMaterialType(){return us}extendParams(e,n,r){const i=[];e.color=new Xe(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(i)}}class Xre{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class Yre{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Va}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new ue(a,a)}return Promise.all(s)}}class Kre{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Va}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Jre{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Va}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new Xe(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&n.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(n,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Zre{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Va}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Qre{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Va}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new Xe(a[0],a[1],a[2]),Promise.all(s)}}class qre{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Va}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class $re{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Va}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new Xe(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(n,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class eie{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Va}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(n.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(n.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(n,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class tie{constructor(e){this.parser=e,this.name=$t.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,s.source,o)}}class nie{constructor(e){this.parser=e,this.name=$t.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class rie{constructor(e){this.parser=e,this.name=$t.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class iie{constructor(e){this.name=$t.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,u=i.byteLength||0,c=i.count,f=i.byteStride,h=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(c,f,h,i.mode,i.filter).then(function(p){return p.buffer}):o.ready.then(function(){const p=new ArrayBuffer(c*f);return o.decodeGltfBuffer(new Uint8Array(p),c,f,h,i.mode,i.filter),p})})}else return null}}class sie{constructor(e){this.name=$t.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=n.meshes[r.mesh];for(const u of i.primitives)if(u.mode!==fo.TRIANGLES&&u.mode!==fo.TRIANGLE_STRIP&&u.mode!==fo.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const u in o)a.push(this.parser.getDependency("accessor",o[u]).then(c=>(l[u]=c,l[u])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(u=>{const c=u.pop(),f=c.isGroup?c.children:[c],h=u[0].count,p=[];for(const g of f){const x=new rt,y=new X,v=new er,S=new X(1,1,1),_=new vS(g.geometry,g.material,h);for(let E=0;E<h;E++)l.TRANSLATION&&y.fromBufferAttribute(l.TRANSLATION,E),l.ROTATION&&v.fromBufferAttribute(l.ROTATION,E),l.SCALE&&S.fromBufferAttribute(l.SCALE,E),_.setMatrixAt(E,x.compose(y,v,S));for(const E in l)E!=="TRANSLATION"&&E!=="ROTATION"&&E!=="SCALE"&&g.geometry.setAttribute(E,l[E]);Vt.prototype.copy.call(_,g),this.parser.assignFinalMaterial(_),p.push(_)}return c.isGroup?(c.clear(),c.add(...p),c):p[0]}))}}const kF="glTF",x0=12,IA={JSON:1313821514,BIN:5130562};class oie{constructor(e){this.name=$t.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,x0);if(this.header={magic:Ba.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==kF)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-x0,i=new DataView(e,x0);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===IA.JSON){const l=new Uint8Array(e,x0+s,o);this.content=Ba.decodeText(l)}else if(a===IA.BIN){const l=x0+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class aie{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=$t.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const c in o){const f=r9[c]||c.toLowerCase();a[f]=o[c]}for(const c in e.attributes){const f=r9[c]||c.toLowerCase();if(o[c]!==void 0){const h=r.accessors[e.attributes[c]],p=_d[h.componentType];u[f]=p.name,l[f]=h.normalized===!0}}return n.getDependency("bufferView",s).then(function(c){return new Promise(function(f){i.decodeDracoFile(c,function(h){for(const p in h.attributes){const g=h.attributes[p],x=l[p];x!==void 0&&(g.normalized=x)}f(h)},a,u)})})}}class lie{constructor(){this.name=$t.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class uie{constructor(){this.name=$t.KHR_MESH_QUANTIZATION}}class NF extends up{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)n[o]=r[s+o];return n}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,c=i-n,f=(r-n)/c,h=f*f,p=h*f,g=e*u,x=g-u,y=-2*p+3*h,v=p-h,S=1-y,_=v-h+f;for(let E=0;E!==a;E++){const b=o[x+E+a],T=o[x+E+l]*c,A=o[g+E+a],D=o[g+E]*c;s[E]=S*b+_*T+y*A+v*D}return s}}const cie=new er;class fie extends NF{interpolate_(e,n,r,i){const s=super.interpolate_(e,n,r,i);return cie.fromArray(s).normalize().toArray(s),s}}const fo={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},_d={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},BA={9728:Dt,9729:ht,9984:Lm,9985:p5,9986:yd,9987:ka},FA={33071:Ar,33648:Ud,10497:Ai},D4={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},r9={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...OF>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},hu={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},hie={CUBICSPLINE:void 0,LINEAR:Cf,STEP:Od},L4={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function die(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new E1({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Ro})),t.DefaultMaterial}function Oc(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function Su(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function pie(t,e,n){let r=!1,i=!1,s=!1;for(let u=0,c=e.length;u<c;u++){const f=e[u];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(t);const o=[],a=[],l=[];for(let u=0,c=e.length;u<c;u++){const f=e[u];if(r){const h=f.POSITION!==void 0?n.getDependency("accessor",f.POSITION):t.attributes.position;o.push(h)}if(i){const h=f.NORMAL!==void 0?n.getDependency("accessor",f.NORMAL):t.attributes.normal;a.push(h)}if(s){const h=f.COLOR_0!==void 0?n.getDependency("accessor",f.COLOR_0):t.attributes.color;l.push(h)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const c=u[0],f=u[1],h=u[2];return r&&(t.morphAttributes.position=c),i&&(t.morphAttributes.normal=f),s&&(t.morphAttributes.color=h),t.morphTargetsRelative=!0,t})}function mie(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function gie(t){let e;const n=t.extensions&&t.extensions[$t.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+I4(n.attributes):e=t.indices+":"+I4(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,i=t.targets.length;r<i;r++)e+=":"+I4(t.targets[r]);return e}function I4(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function i9(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function vie(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const yie=new rt;class xie{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new Vre,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new DS(this.options.manager):this.textureLoader=new hB(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Vs(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};Oc(s,a,i),Su(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=n.length;i<s;i++){const o=n[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,c]of o.children.entries())s(c,a.children[u])};return s(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const s=e(n[i]);s&&r.push(s)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(n)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,n)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[$t.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Ba.resolveURL(n.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,s=n.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=D4[i.type],a=_d[i.componentType],l=i.normalized===!0,u=new a(i.count*o);return Promise.resolve(new Zt(u,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=D4[i.type],u=_d[i.componentType],c=u.BYTES_PER_ELEMENT,f=c*l,h=i.byteOffset||0,p=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,g=i.normalized===!0;let x,y;if(p&&p!==f){const v=Math.floor(h/p),S="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+v+":"+i.count;let _=n.cache.get(S);_||(x=new u(a,v*p,i.count*p/c),_=new y1(x,p/c),n.cache.add(S,_)),y=new Xu(_,l,h%p/c,g)}else a===null?x=new u(i.count*l):x=new u(a,h,i.count*l),y=new Zt(x,l,g);if(i.sparse!==void 0){const v=D4.SCALAR,S=_d[i.sparse.indices.componentType],_=i.sparse.indices.byteOffset||0,E=i.sparse.values.byteOffset||0,b=new S(o[1],_,i.sparse.count*v),T=new u(o[2],E,i.sparse.count*l);a!==null&&(y=new Zt(y.array.slice(),y.itemSize,y.normalized));for(let A=0,D=b.length;A<D;A++){const C=b[A];if(y.setX(C,T[A*l]),l>=2&&y.setY(C,T[A*l+1]),l>=3&&y.setZ(C,T[A*l+2]),l>=4&&y.setW(C,T[A*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const n=this.json,r=this.options,s=n.textures[e].source,o=n.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,n,r){const i=this,s=this.json,o=s.textures[e],a=s.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(n,r).then(function(c){c.flipY=!1,c.name=o.name||a.name||"",c.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(c.name=a.uri);const h=(s.samplers||{})[o.sampler]||{};return c.magFilter=BA[h.magFilter]||ht,c.minFilter=BA[h.minFilter]||ka,c.wrapS=FA[h.wrapS]||Ai,c.wrapT=FA[h.wrapT]||Ai,i.associations.set(c,{textures:e}),c}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,n){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(f){u=!0;const h=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(h),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const c=Promise.resolve(l).then(function(f){return new Promise(function(h,p){let g=h;n.isImageBitmapLoader===!0&&(g=function(x){const y=new gn(x);y.needsUpdate=!0,h(y)}),n.load(Ba.resolveURL(f,s.path),g,void 0,p)})}).then(function(f){return u===!0&&a.revokeObjectURL(l),f.userData.mimeType=o.mimeType||vie(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=c,c}assignTexture(e,n,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[$t.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[$t.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[$t.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&("colorSpace"in o?o.colorSpace=i===3001?"srgb":"srgb-linear":o.encoding=i),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new C5,ur.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Ri,ur.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return E1}loadMaterial(e){const n=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[$t.KHR_MATERIALS_UNLIT]){const f=i[$t.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),u.push(f.extendParams(a,s,n))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new Xe(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const h=f.baseColorFactor;a.color.fromArray(h),a.opacity=h[3]}f.baseColorTexture!==void 0&&u.push(n.assignTexture(a,"map",f.baseColorTexture,3001)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(u.push(n.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),u.push(n.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Zr);const c=s.alphaMode||L4.OPAQUE;if(c===L4.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,c===L4.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==us&&(u.push(n.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new ue(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}return s.occlusionTexture!==void 0&&o!==us&&(u.push(n.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==us&&(a.emissive=new Xe().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==us&&u.push(n.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(u).then(function(){const f=new o(a);return s.name&&(f.name=s.name),Su(f,s),n.associations.set(f,{materials:e}),s.extensions&&Oc(i,f,s),f})}createUniqueName(e){const n=nn.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[$t.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return UA(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],c=gie(u),f=i[c];if(f)o.push(f.promise);else{let h;u.extensions&&u.extensions[$t.KHR_DRACO_MESH_COMPRESSION]?h=s(u):h=UA(new Lt,u,n),i[c]={primitive:u,promise:h},o.push(h)}}return Promise.all(o)}loadMesh(e){const n=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const c=o[l].material===void 0?die(this.cache):this.getDependency("material",o[l].material);a.push(c)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),c=l[l.length-1],f=[];for(let p=0,g=c.length;p<g;p++){const x=c[p],y=o[p];let v;const S=u[p];if(y.mode===fo.TRIANGLES||y.mode===fo.TRIANGLE_STRIP||y.mode===fo.TRIANGLE_FAN||y.mode===void 0)v=s.isSkinnedMesh===!0?new gS(x,S):new Un(x,S),v.isSkinnedMesh===!0&&v.normalizeSkinWeights(),y.mode===fo.TRIANGLE_STRIP?v.geometry=PA(v.geometry,aS):y.mode===fo.TRIANGLE_FAN&&(v.geometry=PA(v.geometry,hv));else if(y.mode===fo.LINES)v=new ia(x,S);else if(y.mode===fo.LINE_STRIP)v=new Bl(x,S);else if(y.mode===fo.LINE_LOOP)v=new yS(x,S);else if(y.mode===fo.POINTS)v=new R5(x,S);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(v.geometry.morphAttributes).length>0&&mie(v,s),v.name=n.createUniqueName(s.name||"mesh_"+e),Su(v,s),y.extensions&&Oc(i,v,y),n.assignFinalMaterial(v),f.push(v)}for(let p=0,g=f.length;p<g;p++)n.associations.set(f[p],{meshes:e,primitives:p});if(f.length===1)return s.extensions&&Oc(i,f[0],s),f[0];const h=new Sl;s.extensions&&Oc(i,h,s),n.associations.set(h,{meshes:e});for(let p=0,g=f.length;p<g;p++)h.add(f[p]);return h})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new hn(d1.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new Us(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),Su(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let i=0,s=n.joints.length;i<s;i++)r.push(this._loadNodeShallow(n.joints[i]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let u=0,c=o.length;u<c;u++){const f=o[u];if(f){a.push(f);const h=new rt;s!==null&&h.fromArray(s.array,u*16),l.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[u])}return new x1(a,l)})}loadAnimation(e){const r=this.json.animations[e],i=r.name?r.name:"animation_"+e,s=[],o=[],a=[],l=[],u=[];for(let c=0,f=r.channels.length;c<f;c++){const h=r.channels[c],p=r.samplers[h.sampler],g=h.target,x=g.node,y=r.parameters!==void 0?r.parameters[p.input]:p.input,v=r.parameters!==void 0?r.parameters[p.output]:p.output;g.node!==void 0&&(s.push(this.getDependency("node",x)),o.push(this.getDependency("accessor",y)),a.push(this.getDependency("accessor",v)),l.push(p),u.push(g))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(u)]).then(function(c){const f=c[0],h=c[1],p=c[2],g=c[3],x=c[4],y=[];for(let v=0,S=f.length;v<S;v++){const _=f[v],E=h[v],b=p[v],T=g[v],A=x[v];if(_===void 0)continue;_.updateMatrix();let D;switch(hu[A.path]){case hu.weights:D=zd;break;case hu.rotation:D=Yu;break;case hu.position:case hu.scale:default:D=Gd;break}const C=_.name?_.name:_.uuid,L=T.interpolation!==void 0?hie[T.interpolation]:Cf,k=[];hu[A.path]===hu.weights?_.traverse(function(H){H.morphTargetInfluences&&k.push(H.name?H.name:H.uuid)}):k.push(C);let z=b.array;if(b.normalized){const H=i9(z.constructor),V=new Float32Array(z.length);for(let K=0,J=z.length;K<J;K++)V[K]=z[K]*H;z=V}for(let H=0,V=k.length;H<V;H++){const K=new D(k[H]+"."+hu[A.path],E.array,z,L);T.interpolation==="CUBICSPLINE"&&(K.createInterpolant=function($){const U=this instanceof Yu?fie:NF;return new U(this.times,this.values,this.getValueSize()/3,$)},K.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),y.push(K)}}return new Hd(i,void 0,y)})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,u=i.weights.length;l<u;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const n=this.json,r=this,i=n.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let u=0,c=a.length;u<c;u++)o.push(r.getDependency("node",a[u]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(u){const c=u[0],f=u[1],h=u[2];h!==null&&c.traverse(function(p){p.isSkinnedMesh&&p.bind(h,yie)});for(let p=0,g=f.length;p<g;p++)c.add(f[p]);return c})}_loadNodeShallow(e){const n=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=n.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(u){return i._getNodeRef(i.cameraCache,s.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),this.nodeCache[e]=Promise.all(a).then(function(u){let c;if(s.isBone===!0?c=new A5:u.length>1?c=new Sl:u.length===1?c=u[0]:c=new Vt,c!==u[0])for(let f=0,h=u.length;f<h;f++)c.add(u[f]);if(s.name&&(c.userData.name=s.name,c.name=o),Su(c,s),s.extensions&&Oc(r,c,s),s.matrix!==void 0){const f=new rt;f.fromArray(s.matrix),c.applyMatrix4(f)}else s.translation!==void 0&&c.position.fromArray(s.translation),s.rotation!==void 0&&c.quaternion.fromArray(s.rotation),s.scale!==void 0&&c.scale.fromArray(s.scale);return i.associations.has(c)||i.associations.set(c,{}),i.associations.get(c).nodes=e,c}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],i=this,s=new Sl;r.name&&(s.name=i.createUniqueName(r.name)),Su(s,r),r.extensions&&Oc(n,s,r);const o=r.nodes||[],a=[];for(let l=0,u=o.length;l<u;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let c=0,f=l.length;c<f;c++)s.add(l[c]);const u=c=>{const f=new Map;for(const[h,p]of i.associations)(h instanceof ur||h instanceof gn)&&f.set(h,p);return c.traverse(h=>{const p=i.associations.get(h);p!=null&&f.set(h,p)}),f};return i.associations=u(s),s})}}function Sie(t,e,n){const r=e.attributes,i=new Lo;if(r.POSITION!==void 0){const a=n.json.accessors[r.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(i.set(new X(l[0],l[1],l[2]),new X(u[0],u[1],u[2])),a.normalized){const c=i9(_d[a.componentType]);i.min.multiplyScalar(c),i.max.multiplyScalar(c)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new X,l=new X;for(let u=0,c=s.length;u<c;u++){const f=s[u];if(f.POSITION!==void 0){const h=n.json.accessors[f.POSITION],p=h.min,g=h.max;if(p!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(p[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(p[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(p[2]),Math.abs(g[2]))),h.normalized){const x=i9(_d[h.componentType]);l.multiplyScalar(x)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}t.boundingBox=i;const o=new xs;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=o}function UA(t,e,n){const r=e.attributes,i=[];function s(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in r){const a=r9[o]||o.toLowerCase();a in t.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});i.push(o)}return Su(t,e),Sie(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?pie(t,e.targets,n):t})}const B4=new WeakMap;class _ie extends Pi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,i){const s=new Vs(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(n).catch(i)},r,i)}decodeDracoFile(e,n,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const u=n.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=u.name)}const r=JSON.stringify(n);if(B4.has(e)){const l=B4.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((u,c)=>{i._callbacks[s]={resolve:u,reject:c},i.postMessage({type:"decode",id:s,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),B4.set(e,{key:r,promise:a}),a}_createGeometry(e){const n=new Lt;e.index&&n.setIndex(new Zt(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;n.setAttribute(s,new Zt(o,a))}return n}_loadLibrary(e,n){const r=new Vs(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=wie.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function wie(){let t,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":t=a.decoderConfig,e=new Promise(function(c){t.onModuleLoaded=function(f){c({draco:f})},DracoDecoderModule(t)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(c=>{const f=c.draco,h=new f.Decoder,p=new f.DecoderBuffer;p.Init(new Int8Array(l),l.byteLength);try{const g=n(f,h,p,u),x=g.attributes.map(y=>y.array.buffer);g.index&&x.push(g.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:g},x)}catch(g){console.error(g),self.postMessage({type:"error",id:a.id,error:g.message})}finally{f.destroy(p),f.destroy(h)}});break}};function n(o,a,l,u){const c=u.attributeIDs,f=u.attributeTypes;let h,p;const g=a.GetEncodedGeometryType(l);if(g===o.TRIANGULAR_MESH)h=new o.Mesh,p=a.DecodeBufferToMesh(l,h);else if(g===o.POINT_CLOUD)h=new o.PointCloud,p=a.DecodeBufferToPointCloud(l,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!p.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+p.error_msg());const x={index:null,attributes:[]};for(const y in c){const v=self[f[y]];let S,_;if(u.useUniqueIDs)_=c[y],S=a.GetAttributeByUniqueId(h,_);else{if(_=a.GetAttributeId(h,o[c[y]]),_===-1)continue;S=a.GetAttribute(h,_)}x.attributes.push(i(o,a,h,y,v,S))}return g===o.TRIANGULAR_MESH&&(x.index=r(o,a,h)),o.destroy(h),x}function r(o,a,l){const c=l.num_faces()*3,f=c*4,h=o._malloc(f);a.GetTrianglesUInt32Array(l,f,h);const p=new Uint32Array(o.HEAPF32.buffer,h,c).slice();return o._free(h),{array:p,itemSize:1}}function i(o,a,l,u,c,f){const h=f.num_components(),g=l.num_points()*h,x=g*c.BYTES_PER_ELEMENT,y=s(o,c),v=o._malloc(x);a.GetAttributeDataArrayForAllPoints(l,f,y,x,v);const S=new c(o.HEAPF32.buffer,v,g).slice();return o._free(v),{name:u,array:S,itemSize:h}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let W2;const F4=()=>{if(W2)return W2;const t="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",e="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",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=t;WebAssembly.validate(n)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const h=new Uint8Array(f.length);for(let g=0;g<f.length;++g){const x=f.charCodeAt(g);h[g]=x>96?x-71:x>64?x-65:x>47?x+4:x>46?63:62}let p=0;for(let g=0;g<f.length;++g)h[p++]=h[g]<60?r[h[g]]:(h[g]-60)*64+h[++g];return h.buffer.slice(0,p)}function l(f,h,p,g,x,y){const v=s.exports.sbrk,S=p+3&-4,_=v(S*g),E=v(x.length),b=new Uint8Array(s.exports.memory.buffer);b.set(x,E);const T=f(_,p,g,E,x.length);if(T===0&&y&&y(_,S,g),h.set(b.subarray(_,_+p*g)),v(_-v(0)),T!==0)throw new Error(`Malformed buffer data: ${T}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},c={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return W2={ready:o,supported:!0,decodeVertexBuffer(f,h,p,g,x){l(s.exports.meshopt_decodeVertexBuffer,f,h,p,g,s.exports[u[x]])},decodeIndexBuffer(f,h,p,g){l(s.exports.meshopt_decodeIndexBuffer,f,h,p,g)},decodeIndexSequence(f,h,p,g){l(s.exports.meshopt_decodeIndexSequence,f,h,p,g)},decodeGltfBuffer(f,h,p,g,x,y){l(s.exports[c[x]],f,h,p,g,s.exports[u[y]])}},W2};function zF(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}function Eie(){var t=Object.create(null);function e(i,s){var o=i.id,a=i.name,l=i.dependencies;l===void 0&&(l=[]);var u=i.init;u===void 0&&(u=function(){});var c=i.getTransferables;if(c===void 0&&(c=null),!t[o])try{l=l.map(function(h){return h&&h.isWorkerModule&&(e(h,function(p){if(p instanceof Error)throw p}),h=t[h.id].value),h}),u=r("<"+a+">.init",u),c&&(c=r("<"+a+">.getTransferables",c));var f=null;typeof u=="function"?f=u.apply(void 0,l):console.error("worker module init function failed to rehydrate"),t[o]={id:o,value:f,getTransferables:c},s(f)}catch(h){h&&h.noLog||console.error(h),s(h)}}function n(i,s){var o,a=i.id,l=i.args;(!t[a]||typeof t[a].value!="function")&&s(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var u=(o=t[a]).value.apply(o,l);u&&typeof u.then=="function"?u.then(c,function(f){return s(f instanceof Error?f:new Error(""+f))}):c(u)}catch(f){s(f)}function c(f){try{var h=t[a].getTransferables&&t[a].getTransferables(f);(!h||!Array.isArray(h)||!h.length)&&(h=void 0),s(f,h)}catch(p){console.error(p),s(p)}}}function r(i,s){var o=void 0;self.troikaDefine=function(l){return o=l};var a=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(a)}catch(l){console.error(l)}return URL.revokeObjectURL(a),delete self.troikaDefine,o}self.addEventListener("message",function(i){var s=i.data,o=s.messageId,a=s.action,l=s.data;try{a==="registerModule"&&e(l,function(u){u instanceof Error?postMessage({messageId:o,success:!1,error:u.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof u=="function"}})}),a==="callModule"&&n(l,function(u,c){u instanceof Error?postMessage({messageId:o,success:!1,error:u.message}):postMessage({messageId:o,success:!0,result:u},c||void 0)})}catch(u){postMessage({messageId:o,success:!1,error:u.stack})}})}function bie(t){var e=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=t.dependencies,r=t.init;n=Array.isArray(n)?n.map(function(s){return s&&s._getInitResult?s._getInitResult():s}):[];var i=Promise.all(n).then(function(s){return r.apply(null,s)});return e._getInitResult=function(){return i},i},e}var GF=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(n){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return GF=function(){return t},t},Mie=0,Tie=0,U4=!1,tm=Object.create(null),nm=Object.create(null),s9=Object.create(null);function L1(t){if((!t||typeof t.init!="function")&&!U4)throw new Error("requires `options.init` function");var e=t.dependencies,n=t.init,r=t.getTransferables,i=t.workerId;if(!GF())return bie(t);i==null&&(i="#default");var s="workerModule"+ ++Mie,o=t.name||s,a=null;e=e&&e.map(function(u){return typeof u=="function"&&!u.workerModuleData&&(U4=!0,u=L1({workerId:i,name:"<"+o+"> function dependency: "+u.name,init:`function(){return (
`+Bg(u)+`
)}`}),U4=!1),u&&u.workerModuleData&&(u=u.workerModuleData),u});function l(){for(var u=[],c=arguments.length;c--;)u[c]=arguments[c];if(!a){a=OA(i,"registerModule",l.workerModuleData);var f=function(){a=null,nm[i].delete(f)};(nm[i]||(nm[i]=new Set)).add(f)}return a.then(function(h){var p=h.isCallable;if(p)return OA(i,"callModule",{id:s,args:u});throw new Error("Worker module function was called but `init` did not return a callable function")})}return l.workerModuleData={isWorkerModule:!0,id:s,name:o,dependencies:e,init:Bg(n),getTransferables:r&&Bg(r)},l}function Aie(t){nm[t]&&nm[t].forEach(function(e){e()}),tm[t]&&(tm[t].terminate(),delete tm[t])}function Bg(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function Cie(t){var e=tm[t];if(!e){var n=Bg(Eie);e=tm[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,s=i.messageId,o=s9[s];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete s9[s],o(i)}}return e}function OA(t,e,n){return new Promise(function(r,i){var s=++Tie;s9[s]=function(o){o.success?r(o.result):i(new Error("Error in worker "+e+" call: "+o.error))},Cie(t).postMessage({messageId:s,action:e,data:n})})}function HF(){var t=function(e){function n(G,W,F,j,ie,se,re,fe){var oe=1-re;fe.x=oe*oe*G+2*oe*re*F+re*re*ie,fe.y=oe*oe*W+2*oe*re*j+re*re*se}function r(G,W,F,j,ie,se,re,fe,oe,he){var ke=1-oe;he.x=ke*ke*ke*G+3*ke*ke*oe*F+3*ke*oe*oe*ie+oe*oe*oe*re,he.y=ke*ke*ke*W+3*ke*ke*oe*j+3*ke*oe*oe*se+oe*oe*oe*fe}function i(G,W){for(var F=/([MLQCZ])([^MLQCZ]*)/g,j,ie,se,re,fe;j=F.exec(G);){var oe=j[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(he){return parseFloat(he)});switch(j[1]){case"M":re=ie=oe[0],fe=se=oe[1];break;case"L":(oe[0]!==re||oe[1]!==fe)&&W("L",re,fe,re=oe[0],fe=oe[1]);break;case"Q":{W("Q",re,fe,re=oe[2],fe=oe[3],oe[0],oe[1]);break}case"C":{W("C",re,fe,re=oe[4],fe=oe[5],oe[0],oe[1],oe[2],oe[3]);break}case"Z":(re!==ie||fe!==se)&&W("L",re,fe,ie,se);break}}}function s(G,W,F){F===void 0&&(F=16);var j={x:0,y:0};i(G,function(ie,se,re,fe,oe,he,ke,He,ge){switch(ie){case"L":W(se,re,fe,oe);break;case"Q":{for(var Y=se,Se=re,me=1;me<F;me++)n(se,re,he,ke,fe,oe,me/(F-1),j),W(Y,Se,j.x,j.y),Y=j.x,Se=j.y;break}case"C":{for(var de=se,pe=re,ze=1;ze<F;ze++)r(se,re,he,ke,He,ge,fe,oe,ze/(F-1),j),W(de,pe,j.x,j.y),de=j.x,pe=j.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,u={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function c(G,W){var F=G.getContext?G.getContext("webgl",u):G,j=l.get(F);if(!j){let ke=function(de){var pe=se[de];if(!pe&&(pe=se[de]=F.getExtension(de),!pe))throw new Error(de+" not supported");return pe},He=function(de,pe){var ze=F.createShader(pe);return F.shaderSource(ze,de),F.compileShader(ze),ze},ge=function(de,pe,ze,ye){if(!re[de]){var Be={},Ue={},Ce=F.createProgram();F.attachShader(Ce,He(pe,F.VERTEX_SHADER)),F.attachShader(Ce,He(ze,F.FRAGMENT_SHADER)),F.linkProgram(Ce),re[de]={program:Ce,transaction:function(N){F.useProgram(Ce),N({setUniform:function(ne,Ae){for(var be=[],Ee=arguments.length-2;Ee-- >0;)be[Ee]=arguments[Ee+2];var Ge=Ue[Ae]||(Ue[Ae]=F.getUniformLocation(Ce,Ae));F["uniform"+ne].apply(F,[Ge].concat(be))},setAttribute:function(ne,Ae,be,Ee,Ge){var Fe=Be[ne];Fe||(Fe=Be[ne]={buf:F.createBuffer(),loc:F.getAttribLocation(Ce,ne),data:null}),F.bindBuffer(F.ARRAY_BUFFER,Fe.buf),F.vertexAttribPointer(Fe.loc,Ae,F.FLOAT,!1,0,0),F.enableVertexAttribArray(Fe.loc),ie?F.vertexAttribDivisor(Fe.loc,Ee):ke("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Fe.loc,Ee),Ge!==Fe.data&&(F.bufferData(F.ARRAY_BUFFER,Ge,be),Fe.data=Ge)}})}}}re[de].transaction(ye)},Y=function(de,pe){oe++;try{F.activeTexture(F.TEXTURE0+oe);var ze=fe[de];ze||(ze=fe[de]=F.createTexture(),F.bindTexture(F.TEXTURE_2D,ze),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,F.NEAREST),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,F.NEAREST)),F.bindTexture(F.TEXTURE_2D,ze),pe(ze,oe)}finally{oe--}},Se=function(de,pe,ze){var ye=F.createFramebuffer();he.push(ye),F.bindFramebuffer(F.FRAMEBUFFER,ye),F.activeTexture(F.TEXTURE0+pe),F.bindTexture(F.TEXTURE_2D,de),F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_2D,de,0);try{ze(ye)}finally{F.deleteFramebuffer(ye),F.bindFramebuffer(F.FRAMEBUFFER,he[--he.length-1]||null)}},me=function(){se={},re={},fe={},oe=-1,he.length=0};var ie=typeof WebGL2RenderingContext<"u"&&F instanceof WebGL2RenderingContext,se={},re={},fe={},oe=-1,he=[];F.canvas.addEventListener("webglcontextlost",function(de){me(),de.preventDefault()},!1),l.set(F,j={gl:F,isWebGL2:ie,getExtension:ke,withProgram:ge,withTexture:Y,withTextureFramebuffer:Se,handleContextLoss:me})}W(j)}function f(G,W,F,j,ie,se,re,fe){re===void 0&&(re=15),fe===void 0&&(fe=null),c(G,function(oe){var he=oe.gl,ke=oe.withProgram,He=oe.withTexture;He("copy",function(ge,Y){he.texImage2D(he.TEXTURE_2D,0,he.RGBA,ie,se,0,he.RGBA,he.UNSIGNED_BYTE,W),ke("copy",o,a,function(Se){var me=Se.setUniform,de=Se.setAttribute;de("aUV",2,he.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),me("1i","image",Y),he.bindFramebuffer(he.FRAMEBUFFER,fe||null),he.disable(he.BLEND),he.colorMask(re&8,re&4,re&2,re&1),he.viewport(F,j,ie,se),he.scissor(F,j,ie,se),he.drawArrays(he.TRIANGLES,0,3)})})})}function h(G,W,F){var j=G.width,ie=G.height;c(G,function(se){var re=se.gl,fe=new Uint8Array(j*ie*4);re.readPixels(0,0,j,ie,re.RGBA,re.UNSIGNED_BYTE,fe),G.width=W,G.height=F,f(re,fe,0,0,j,ie)})}var p=Object.freeze({__proto__:null,withWebGLContext:c,renderImageData:f,resizeWebGLCanvasWithoutClearing:h});function g(G,W,F,j,ie,se){se===void 0&&(se=1);var re=new Uint8Array(G*W),fe=j[2]-j[0],oe=j[3]-j[1],he=[];s(F,function(de,pe,ze,ye){he.push({x1:de,y1:pe,x2:ze,y2:ye,minX:Math.min(de,ze),minY:Math.min(pe,ye),maxX:Math.max(de,ze),maxY:Math.max(pe,ye)})}),he.sort(function(de,pe){return de.maxX-pe.maxX});for(var ke=0;ke<G;ke++)for(var He=0;He<W;He++){var ge=Se(j[0]+fe*(ke+.5)/G,j[1]+oe*(He+.5)/W),Y=Math.pow(1-Math.abs(ge)/ie,se)/2;ge<0&&(Y=1-Y),Y=Math.max(0,Math.min(255,Math.round(Y*255))),re[He*G+ke]=Y}return re;function Se(de,pe){for(var ze=1/0,ye=1/0,Be=he.length;Be--;){var Ue=he[Be];if(Ue.maxX+ye<=de)break;if(de+ye>Ue.minX&&pe-ye<Ue.maxY&&pe+ye>Ue.minY){var Ce=v(de,pe,Ue.x1,Ue.y1,Ue.x2,Ue.y2);Ce<ze&&(ze=Ce,ye=Math.sqrt(ze))}}return me(de,pe)&&(ye=-ye),ye}function me(de,pe){for(var ze=0,ye=he.length;ye--;){var Be=he[ye];if(Be.maxX<=de)break;var Ue=Be.y1>pe!=Be.y2>pe&&de<(Be.x2-Be.x1)*(pe-Be.y1)/(Be.y2-Be.y1)+Be.x1;Ue&&(ze+=Be.y1<Be.y2?1:-1)}return ze!==0}}function x(G,W,F,j,ie,se,re,fe,oe,he){se===void 0&&(se=1),fe===void 0&&(fe=0),oe===void 0&&(oe=0),he===void 0&&(he=0),y(G,W,F,j,ie,se,re,null,fe,oe,he)}function y(G,W,F,j,ie,se,re,fe,oe,he,ke){se===void 0&&(se=1),oe===void 0&&(oe=0),he===void 0&&(he=0),ke===void 0&&(ke=0);for(var He=g(G,W,F,j,ie,se),ge=new Uint8Array(He.length*4),Y=0;Y<He.length;Y++)ge[Y*4+ke]=He[Y];f(re,ge,oe,he,G,W,1<<3-ke,fe)}function v(G,W,F,j,ie,se){var re=ie-F,fe=se-j,oe=re*re+fe*fe,he=oe?Math.max(0,Math.min(1,((G-F)*re+(W-j)*fe)/oe)):0,ke=G-(F+he*re),He=W-(j+he*fe);return ke*ke+He*He}var S=Object.freeze({__proto__:null,generate:g,generateIntoCanvas:x,generateIntoFramebuffer:y}),_="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",E="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",b="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",T=new Float32Array([0,0,2,0,0,2]),A=null,D=!1,C={},L=new WeakMap;function k(G){if(!D&&!K(G))throw new Error("WebGL generation not supported")}function z(G,W,F,j,ie,se,re){if(se===void 0&&(se=1),re===void 0&&(re=null),!re&&(re=A,!re)){var fe=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!fe)throw new Error("OffscreenCanvas or DOM canvas not supported");re=A=fe.getContext("webgl",{depth:!1})}k(re);var oe=new Uint8Array(G*W*4);c(re,function(ge){var Y=ge.gl,Se=ge.withTexture,me=ge.withTextureFramebuffer;Se("readable",function(de,pe){Y.texImage2D(Y.TEXTURE_2D,0,Y.RGBA,G,W,0,Y.RGBA,Y.UNSIGNED_BYTE,null),me(de,pe,function(ze){V(G,W,F,j,ie,se,Y,ze,0,0,0),Y.readPixels(0,0,G,W,Y.RGBA,Y.UNSIGNED_BYTE,oe)})})});for(var he=new Uint8Array(G*W),ke=0,He=0;ke<oe.length;ke+=4)he[He++]=oe[ke];return he}function H(G,W,F,j,ie,se,re,fe,oe,he){se===void 0&&(se=1),fe===void 0&&(fe=0),oe===void 0&&(oe=0),he===void 0&&(he=0),V(G,W,F,j,ie,se,re,null,fe,oe,he)}function V(G,W,F,j,ie,se,re,fe,oe,he,ke){se===void 0&&(se=1),oe===void 0&&(oe=0),he===void 0&&(he=0),ke===void 0&&(ke=0),k(re);var He=[];s(F,function(ge,Y,Se,me){He.push(ge,Y,Se,me)}),He=new Float32Array(He),c(re,function(ge){var Y=ge.gl,Se=ge.isWebGL2,me=ge.getExtension,de=ge.withProgram,pe=ge.withTexture,ze=ge.withTextureFramebuffer,ye=ge.handleContextLoss;if(pe("rawDistances",function(Be,Ue){(G!==Be._lastWidth||W!==Be._lastHeight)&&Y.texImage2D(Y.TEXTURE_2D,0,Y.RGBA,Be._lastWidth=G,Be._lastHeight=W,0,Y.RGBA,Y.UNSIGNED_BYTE,null),de("main",_,E,function(Ce){var $e=Ce.setAttribute,N=Ce.setUniform,O=!Se&&me("ANGLE_instanced_arrays"),ne=!Se&&me("EXT_blend_minmax");$e("aUV",2,Y.STATIC_DRAW,0,T),$e("aLineSegment",4,Y.DYNAMIC_DRAW,1,He),N.apply(void 0,["4f","uGlyphBounds"].concat(j)),N("1f","uMaxDistance",ie),N("1f","uExponent",se),ze(Be,Ue,function(Ae){Y.enable(Y.BLEND),Y.colorMask(!0,!0,!0,!0),Y.viewport(0,0,G,W),Y.scissor(0,0,G,W),Y.blendFunc(Y.ONE,Y.ONE),Y.blendEquationSeparate(Y.FUNC_ADD,Se?Y.MAX:ne.MAX_EXT),Y.clear(Y.COLOR_BUFFER_BIT),Se?Y.drawArraysInstanced(Y.TRIANGLES,0,3,He.length/4):O.drawArraysInstancedANGLE(Y.TRIANGLES,0,3,He.length/4)})}),de("post",o,b,function(Ce){Ce.setAttribute("aUV",2,Y.STATIC_DRAW,0,T),Ce.setUniform("1i","tex",Ue),Y.bindFramebuffer(Y.FRAMEBUFFER,fe),Y.disable(Y.BLEND),Y.colorMask(ke===0,ke===1,ke===2,ke===3),Y.viewport(oe,he,G,W),Y.scissor(oe,he,G,W),Y.drawArrays(Y.TRIANGLES,0,3)})}),Y.isContextLost())throw ye(),new Error("webgl context lost")})}function K(G){var W=!G||G===A?C:G.canvas||G,F=L.get(W);if(F===void 0){D=!0;var j=null;try{var ie=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],se=z(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,G);F=se&&ie.length===se.length&&se.every(function(re,fe){return re===ie[fe]}),F||(j="bad trial run results",console.info(ie,se))}catch(re){F=!1,j=re.message}j&&console.warn("WebGL SDF generation not supported:",j),D=!1,L.set(W,F)}return F}var J=Object.freeze({__proto__:null,generate:z,generateIntoCanvas:H,generateIntoFramebuffer:V,isSupported:K});function $(G,W,F,j,ie,se){ie===void 0&&(ie=Math.max(j[2]-j[0],j[3]-j[1])/2),se===void 0&&(se=1);try{return z.apply(J,arguments)}catch(re){return console.info("WebGL SDF generation failed, falling back to JS",re),g.apply(S,arguments)}}function U(G,W,F,j,ie,se,re,fe,oe,he){ie===void 0&&(ie=Math.max(j[2]-j[0],j[3]-j[1])/2),se===void 0&&(se=1),fe===void 0&&(fe=0),oe===void 0&&(oe=0),he===void 0&&(he=0);try{return H.apply(J,arguments)}catch(ke){return console.info("WebGL SDF generation failed, falling back to JS",ke),x.apply(S,arguments)}}return e.forEachPathCommand=i,e.generate=$,e.generateIntoCanvas=U,e.javascript=S,e.pathToLineSegments=s,e.webgl=J,e.webglUtils=p,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}function Rie(){var t=function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(n).forEach(function(ye,Be){r[ye]=1<<Be+1,i[r[ye]]=ye}),Object.freeze(r);var s=r.LRI|r.RLI|r.FSI,o=r.L|r.R|r.AL,a=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,u=r.S|r.WS|r.B|s|r.PDI|l,c=null;function f(){if(!c){c=new Map;var ye=function(Ue){if(n.hasOwnProperty(Ue)){var Ce=0;n[Ue].split(",").forEach(function($e){var N=$e.split("+"),O=N[0],ne=N[1];O=parseInt(O,36),ne=ne?parseInt(ne,36):0,c.set(Ce+=O,r[Ue]);for(var Ae=0;Ae<ne;Ae++)c.set(++Ce,r[Ue])})}};for(var Be in n)ye(Be)}}function h(ye){return f(),c.get(ye.codePointAt(0))||r.L}function p(ye){return i[h(ye)]}var g={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function x(ye,Be){var Ue=36,Ce=0,$e=new Map,N=Be&&new Map,O;return ye.split(",").forEach(function ne(Ae){if(Ae.indexOf("+")!==-1)for(var be=+Ae;be--;)ne(O);else{O=Ae;var Ee=Ae.split(">"),Ge=Ee[0],Fe=Ee[1];Ge=String.fromCodePoint(Ce+=parseInt(Ge,Ue)),Fe=String.fromCodePoint(Ce+=parseInt(Fe,Ue)),$e.set(Ge,Fe),Be&&N.set(Fe,Ge)}}),{map:$e,reverseMap:N}}var y,v,S;function _(){if(!y){var ye=x(g.pairs,!0),Be=ye.map,Ue=ye.reverseMap;y=Be,v=Ue,S=x(g.canonical,!1).map}}function E(ye){return _(),y.get(ye)||null}function b(ye){return _(),v.get(ye)||null}function T(ye){return _(),S.get(ye)||null}var A=r.L,D=r.R,C=r.EN,L=r.ES,k=r.ET,z=r.AN,H=r.CS,V=r.B,K=r.S,J=r.ON,$=r.BN,U=r.NSM,G=r.AL,W=r.LRO,F=r.RLO,j=r.LRE,ie=r.RLE,se=r.PDF,re=r.LRI,fe=r.RLI,oe=r.FSI,he=r.PDI;function ke(ye,Be){for(var Ue=125,Ce=new Uint32Array(ye.length),$e=0;$e<ye.length;$e++)Ce[$e]=h(ye[$e]);var N=new Map;function O(Wr,Oi){var hr=Ce[Wr];Ce[Wr]=Oi,N.set(hr,N.get(hr)-1),hr&a&&N.set(a,N.get(a)-1),N.set(Oi,(N.get(Oi)||0)+1),Oi&a&&N.set(a,(N.get(a)||0)+1)}for(var ne=new Uint8Array(ye.length),Ae=new Map,be=[],Ee=null,Ge=0;Ge<ye.length;Ge++)Ee||be.push(Ee={start:Ge,end:ye.length-1,level:Be==="rtl"?1:Be==="ltr"?0:Zf(Ge,!1)}),Ce[Ge]&V&&(Ee.end=Ge,Ee=null);for(var Fe=ie|j|F|W|s|he|se|V,ve=function(Wr){return Wr+(Wr&1?1:2)},je=function(Wr){return Wr+(Wr&1?2:1)},Ze=0;Ze<be.length;Ze++){Ee=be[Ze];var Ye=[{_level:Ee.level,_override:0,_isolate:0}],Ne=void 0,ee=0,Te=0,Ke=0;N.clear();for(var Q=Ee.start;Q<=Ee.end;Q++){var Oe=Ce[Q];if(Ne=Ye[Ye.length-1],N.set(Oe,(N.get(Oe)||0)+1),Oe&a&&N.set(a,(N.get(a)||0)+1),Oe&Fe)if(Oe&(ie|j)){ne[Q]=Ne._level;var xe=(Oe===ie?je:ve)(Ne._level);xe<=Ue&&!ee&&!Te?Ye.push({_level:xe,_override:0,_isolate:0}):ee||Te++}else if(Oe&(F|W)){ne[Q]=Ne._level;var We=(Oe===F?je:ve)(Ne._level);We<=Ue&&!ee&&!Te?Ye.push({_level:We,_override:Oe&F?D:A,_isolate:0}):ee||Te++}else if(Oe&s){Oe&oe&&(Oe=Zf(Q+1,!0)===1?fe:re),ne[Q]=Ne._level,Ne._override&&O(Q,Ne._override);var qe=(Oe===fe?je:ve)(Ne._level);qe<=Ue&&ee===0&&Te===0?(Ke++,Ye.push({_level:qe,_override:0,_isolate:1,_isolInitIndex:Q})):ee++}else if(Oe&he){if(ee>0)ee--;else if(Ke>0){for(Te=0;!Ye[Ye.length-1]._isolate;)Ye.pop();var Mt=Ye[Ye.length-1]._isolInitIndex;Mt!=null&&(Ae.set(Mt,Q),Ae.set(Q,Mt)),Ye.pop(),Ke--}Ne=Ye[Ye.length-1],ne[Q]=Ne._level,Ne._override&&O(Q,Ne._override)}else Oe&se?(ee===0&&(Te>0?Te--:!Ne._isolate&&Ye.length>1&&(Ye.pop(),Ne=Ye[Ye.length-1])),ne[Q]=Ne._level):Oe&V&&(ne[Q]=Ee.level);else ne[Q]=Ne._level,Ne._override&&Oe!==$&&O(Q,Ne._override)}for(var bt=[],Rt=null,Xt=Ee.start;Xt<=Ee.end;Xt++){var Wt=Ce[Xt];if(!(Wt&l)){var zt=ne[Xt],Pt=Wt&s,li=Wt===he;Rt&&zt===Rt._level?(Rt._end=Xt,Rt._endsWithIsolInit=Pt):bt.push(Rt={_start:Xt,_end:Xt,_level:zt,_startsWithPDI:li,_endsWithIsolInit:Pt})}}for(var Hr=[],sn=0;sn<bt.length;sn++){var Mn=bt[sn];if(!Mn._startsWithPDI||Mn._startsWithPDI&&!Ae.has(Mn._start)){for(var ti=[Rt=Mn],Sn=void 0;Rt&&Rt._endsWithIsolInit&&(Sn=Ae.get(Rt._end))!=null;)for(var Hn=sn+1;Hn<bt.length;Hn++)if(bt[Hn]._start===Sn){ti.push(Rt=bt[Hn]);break}for(var Pr=[],Zs=0;Zs<ti.length;Zs++)for(var Li=ti[Zs],Z=Li._start;Z<=Li._end;Z++)Pr.push(Z);for(var _e=ne[Pr[0]],Le=Ee.level,we=Pr[0]-1;we>=0;we--)if(!(Ce[we]&l)){Le=ne[we];break}var De=Pr[Pr.length-1],st=ne[De],mt=Ee.level;if(!(Ce[De]&s)){for(var vt=De+1;vt<=Ee.end;vt++)if(!(Ce[vt]&l)){mt=ne[vt];break}}Hr.push({_seqIndices:Pr,_sosType:Math.max(Le,_e)%2?D:A,_eosType:Math.max(mt,st)%2?D:A})}}for(var _t=0;_t<Hr.length;_t++){var Bt=Hr[_t],Ve=Bt._seqIndices,yt=Bt._sosType,vn=Bt._eosType,on=ne[Ve[0]]&1?D:A;if(N.get(U))for(var Dr=0;Dr<Ve.length;Dr++){var ui=Ve[Dr];if(Ce[ui]&U){for(var fn=yt,wt=Dr-1;wt>=0;wt--)if(!(Ce[Ve[wt]]&l)){fn=Ce[Ve[wt]];break}O(ui,fn&(s|he)?J:fn)}}if(N.get(C))for(var tn=0;tn<Ve.length;tn++){var Et=Ve[tn];if(Ce[Et]&C)for(var fr=tn-1;fr>=-1;fr--){var nr=fr===-1?yt:Ce[Ve[fr]];if(nr&o){nr===G&&O(Et,z);break}}}if(N.get(G))for(var Nn=0;Nn<Ve.length;Nn++){var Ji=Ve[Nn];Ce[Ji]&G&&O(Ji,D)}if(N.get(L)||N.get(H))for(var yn=1;yn<Ve.length-1;yn++){var Tn=Ve[yn];if(Ce[Tn]&(L|H)){for(var Ii=0,Sr=0,fa=yn-1;fa>=0&&(Ii=Ce[Ve[fa]],!!(Ii&l));fa--);for(var ha=yn+1;ha<Ve.length&&(Sr=Ce[Ve[ha]],!!(Sr&l));ha++);Ii===Sr&&(Ce[Tn]===L?Ii===C:Ii&(C|z))&&O(Tn,Ii)}}if(N.get(C))for(var ci=0;ci<Ve.length;ci++){var Ss=Ve[ci];if(Ce[Ss]&C){for(var Xf=ci-1;Xf>=0&&Ce[Ve[Xf]]&(k|l);Xf--)O(Ve[Xf],C);for(ci++;ci<Ve.length&&Ce[Ve[ci]]&(k|l|C);ci++)Ce[Ve[ci]]!==C&&O(Ve[ci],C)}}if(N.get(k)||N.get(L)||N.get(H))for(var fc=0;fc<Ve.length;fc++){var H1=Ve[fc];if(Ce[H1]&(k|L|H)){O(H1,J);for(var Wa=fc-1;Wa>=0&&Ce[Ve[Wa]]&l;Wa--)O(Ve[Wa],J);for(var ja=fc+1;ja<Ve.length&&Ce[Ve[ja]]&l;ja++)O(Ve[ja],J)}}if(N.get(C))for(var Xa=0,hc=yt;Xa<Ve.length;Xa++){var V1=Ve[Xa],bp=Ce[V1];bp&C?hc===A&&O(V1,A):bp&o&&(hc=bp)}if(N.get(a)){var Ya=D|C|z,Yf=Ya|A,da=[];{for(var Kl=[],pa=0;pa<Ve.length;pa++)if(Ce[Ve[pa]]&a){var Jt=ye[Ve[pa]],Mp=void 0;if(E(Jt)!==null)if(Kl.length<63)Kl.push({char:Jt,seqIndex:pa});else break;else if((Mp=b(Jt))!==null)for(var Ka=Kl.length-1;Ka>=0;Ka--){var Kf=Kl[Ka].char;if(Kf===Mp||Kf===b(T(Jt))||E(T(Kf))===Jt){da.push([Kl[Ka].seqIndex,pa]),Kl.length=Ka;break}}}da.sort(function(Wr,Oi){return Wr[0]-Oi[0]})}for(var Tp=0;Tp<da.length;Tp++){for(var W1=da[Tp],Vn=W1[0],dc=W1[1],j1=!1,Bi=0,Ap=Vn+1;Ap<dc;Ap++){var pc=Ve[Ap];if(Ce[pc]&Yf){j1=!0;var _s=Ce[pc]&Ya?D:A;if(_s===on){Bi=_s;break}}}if(j1&&!Bi){Bi=yt;for(var Cp=Vn-1;Cp>=0;Cp--){var X1=Ve[Cp];if(Ce[X1]&Yf){var ws=Ce[X1]&Ya?D:A;ws!==on?Bi=ws:Bi=on;break}}}if(Bi){if(Ce[Ve[Vn]]=Ce[Ve[dc]]=Bi,Bi!==on){for(var Fi=Vn+1;Fi<Ve.length;Fi++)if(!(Ce[Ve[Fi]]&l)){h(ye[Ve[Fi]])&U&&(Ce[Ve[Fi]]=Bi);break}}if(Bi!==on){for(var ma=dc+1;ma<Ve.length;ma++)if(!(Ce[Ve[ma]]&l)){h(ye[Ve[ma]])&U&&(Ce[Ve[ma]]=Bi);break}}}}for(var Qs=0;Qs<Ve.length;Qs++)if(Ce[Ve[Qs]]&a){for(var Rp=Qs,Pp=Qs,Zi=yt,mc=Qs-1;mc>=0;mc--)if(Ce[Ve[mc]]&l)Rp=mc;else{Zi=Ce[Ve[mc]]&Ya?D:A;break}for(var gc=vn,vc=Qs+1;vc<Ve.length;vc++)if(Ce[Ve[vc]]&(a|l))Pp=vc;else{gc=Ce[Ve[vc]]&Ya?D:A;break}for(var Ui=Rp;Ui<=Pp;Ui++)Ce[Ve[Ui]]=Zi===gc?Zi:on;Qs=Pp}}}for(var Vr=Ee.start;Vr<=Ee.end;Vr++){var Jf=ne[Vr],Fo=Ce[Vr];if(Jf&1?Fo&(A|C|z)&&ne[Vr]++:Fo&D?ne[Vr]++:Fo&(z|C)&&(ne[Vr]+=2),Fo&l&&(ne[Vr]=Vr===0?Ee.level:ne[Vr-1]),Vr===Ee.end||h(ye[Vr])&(K|V))for(var Jl=Vr;Jl>=0&&h(ye[Jl])&u;Jl--)ne[Jl]=Ee.level}}return{levels:ne,paragraphs:be};function Zf(Wr,Oi){for(var hr=Wr;hr<ye.length;hr++){var dr=Ce[hr];if(dr&(D|G))return 1;if(dr&(V|A)||Oi&&dr===he)return 0;if(dr&s){var Es=Y1(hr);hr=Es===-1?ye.length:Es}}return 0}function Y1(Wr){for(var Oi=1,hr=Wr+1;hr<ye.length;hr++){var dr=Ce[hr];if(dr&V)break;if(dr&he){if(--Oi===0)return hr}else dr&s&&Oi++}return-1}}var He="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",ge;function Y(){if(!ge){var ye=x(He,!0),Be=ye.map,Ue=ye.reverseMap;Ue.forEach(function(Ce,$e){Be.set($e,Ce)}),ge=Be}}function Se(ye){return Y(),ge.get(ye)||null}function me(ye,Be,Ue,Ce){var $e=ye.length;Ue=Math.max(0,Ue==null?0:+Ue),Ce=Math.min($e-1,Ce==null?$e-1:+Ce);for(var N=new Map,O=Ue;O<=Ce;O++)if(Be[O]&1){var ne=Se(ye[O]);ne!==null&&N.set(O,ne)}return N}function de(ye,Be,Ue,Ce){var $e=ye.length;Ue=Math.max(0,Ue==null?0:+Ue),Ce=Math.min($e-1,Ce==null?$e-1:+Ce);var N=[];return Be.paragraphs.forEach(function(O){var ne=Math.max(Ue,O.start),Ae=Math.min(Ce,O.end);if(ne<Ae){for(var be=Be.levels.slice(ne,Ae+1),Ee=Ae;Ee>=ne&&h(ye[Ee])&u;Ee--)be[Ee]=O.level;for(var Ge=O.level,Fe=1/0,ve=0;ve<be.length;ve++){var je=be[ve];je>Ge&&(Ge=je),je<Fe&&(Fe=je|1)}for(var Ze=Ge;Ze>=Fe;Ze--)for(var Ye=0;Ye<be.length;Ye++)if(be[Ye]>=Ze){for(var Ne=Ye;Ye+1<be.length&&be[Ye+1]>=Ze;)Ye++;Ye>Ne&&N.push([Ne+ne,Ye+ne])}}}),N}function pe(ye,Be,Ue,Ce){var $e=ze(ye,Be,Ue,Ce),N=[].concat(ye);return $e.forEach(function(O,ne){N[ne]=(Be.levels[O]&1?Se(ye[O]):null)||ye[O]}),N.join("")}function ze(ye,Be,Ue,Ce){for(var $e=de(ye,Be,Ue,Ce),N=[],O=0;O<ye.length;O++)N[O]=O;return $e.forEach(function(ne){for(var Ae=ne[0],be=ne[1],Ee=N.slice(Ae,be+1),Ge=Ee.length;Ge--;)N[be-Ge]=Ee[Ge]}),N}return e.closingToOpeningBracket=b,e.getBidiCharType=h,e.getBidiCharTypeName=p,e.getCanonicalBracket=T,e.getEmbeddingLevels=ke,e.getMirroredCharacter=Se,e.getMirroredCharactersMap=me,e.getReorderSegments=de,e.getReorderedIndices=ze,e.getReorderedString=pe,e.openingToClosingBracket=E,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}const VF=/\bvoid\s+main\s*\(\s*\)\s*{/g;function o9(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(r,i){let s=gt[i];return s?o9(s):r}return t.replace(e,n)}const ri=[];for(let t=0;t<256;t++)ri[t]=(t<16?"0":"")+t.toString(16);function Pie(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ri[t&255]+ri[t>>8&255]+ri[t>>16&255]+ri[t>>24&255]+"-"+ri[e&255]+ri[e>>8&255]+"-"+ri[e>>16&15|64]+ri[e>>24&255]+"-"+ri[n&63|128]+ri[n>>8&255]+"-"+ri[n>>16&255]+ri[n>>24&255]+ri[r&255]+ri[r>>8&255]+ri[r>>16&255]+ri[r>>24&255]).toUpperCase()}const kc=Object.assign||function(){let t=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Die=Date.now(),kA=new WeakMap,NA=new Map;let Lie=1e10;function a9(t,e){const n=Uie(e);let r=kA.get(t);if(r||kA.set(t,r=Object.create(null)),r[n])return new r[n];const i=`_onBeforeCompile${n}`,s=function(u,c){t.onBeforeCompile.call(this,u,c);const f=this.customProgramCacheKey()+"|"+u.vertexShader+"|"+u.fragmentShader;let h=NA[f];if(!h){const p=Iie(this,u,e,n);h=NA[f]=p}u.vertexShader=h.vertexShader,u.fragmentShader=h.fragmentShader,kc(u.uniforms,this.uniforms),e.timeUniform&&(u.uniforms[e.timeUniform]={get value(){return Date.now()-Die}}),this[i]&&this[i](u)},o=function(){return a(e.chained?t:t.clone())},a=function(u){const c=Object.create(u,l);return Object.defineProperty(c,"baseMaterial",{value:t}),Object.defineProperty(c,"id",{value:Lie++}),c.uuid=Pie(),c.uniforms=kc({},u.uniforms,e.uniforms),c.defines=kc({},u.defines,e.defines),c.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",c.extensions=kc({},u.extensions,e.extensions),c._listeners=void 0,c},l={constructor:{value:o},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return s},set(u){this[i]=u}},copy:{writable:!0,configurable:!0,value:function(u){return t.copy.call(this,u),!t.isShaderMaterial&&!t.isDerivedMaterial&&(kc(this.extensions,u.extensions),kc(this.defines,u.defines),kc(this.uniforms,p1.clone(u.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const u=new t.constructor;return a(u).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let u=this._depthMaterial;return u||(u=this._depthMaterial=a9(t.isDerivedMaterial?t.getDepthMaterial():new v1({depthPacking:$o}),e),u.defines.IS_DEPTH_MATERIAL="",u.uniforms=this.uniforms),u}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let u=this._distanceMaterial;return u||(u=this._distanceMaterial=a9(t.isDerivedMaterial?t.getDistanceMaterial():new E5,e),u.defines.IS_DISTANCE_MATERIAL="",u.uniforms=this.uniforms),u}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:u,_distanceMaterial:c}=this;u&&u.dispose(),c&&c.dispose(),t.dispose.call(this)}}};return r[n]=o,new o}function Iie(t,{vertexShader:e,fragmentShader:n},r,i){let{vertexDefs:s,vertexMainIntro:o,vertexMainOutro:a,vertexTransform:l,fragmentDefs:u,fragmentMainIntro:c,fragmentMainOutro:f,fragmentColorTransform:h,customRewriter:p,timeUniform:g}=r;if(s=s||"",o=o||"",a=a||"",u=u||"",c=c||"",f=f||"",(l||p)&&(e=o9(e)),(h||p)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=o9(n)),p){let x=p({vertexShader:e,fragmentShader:n});e=x.vertexShader,n=x.fragmentShader}if(h){let x=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,y=>(x.push(y),"")),f=`${h}
${x.join(`
`)}
${f}`}if(g){const x=`
uniform float ${g};
`;s=x+s,u=x+u}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,s=`${s}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,o=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${o}
`,e=e.replace(/\b(position|normal|uv)\b/g,(x,y,v,S)=>/\battribute\s+vec[23]\s+$/.test(S.substr(0,v))?y:`troika_${y}_${i}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=zA(e,i,s,o,a),n=zA(n,i,u,c,f),{vertexShader:e,fragmentShader:n}}function zA(t,e,n,r,i){return(r||i||n)&&(t=t.replace(VF,`
${n}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),t}function Bie(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let Fie=0;const GA=new Map;function Uie(t){const e=JSON.stringify(t,Bie);let n=GA.get(e);return n==null&&GA.set(e,n=++Fie),n}function Oie(t,e,n){const{defaultFontURL:r}=n,i=Object.create(null),s=1/0,o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,a="[^\\S\\u00A0]",l=new RegExp(`${a}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function u(S,_){function E(){const b=T=>{console.error(`Failure loading font ${S}${S===r?"":"; trying fallback"}`,T),S!==r&&(S=r,E())};try{const T=new XMLHttpRequest;T.open("get",S,!0),T.responseType="arraybuffer",T.onload=function(){if(T.status>=400)b(new Error(T.statusText));else if(T.status>0)try{const A=t(T.response);_(A)}catch(A){b(A)}},T.onerror=b,T.send()}catch(T){b(T)}}E()}function c(S,_){S||(S=r);let E=i[S];E?E.pending?E.pending.push(_):_(E):(i[S]={pending:[_]},u(S,b=>{let T=i[S].pending;i[S]=b,T.forEach(A=>A(b))}))}function f({text:S="",font:_=r,sdfGlyphSize:E=64,fontSize:b=1,letterSpacing:T=0,lineHeight:A="normal",maxWidth:D=s,direction:C,textAlign:L="left",textIndent:k=0,whiteSpace:z="normal",overflowWrap:H="normal",anchorX:V=0,anchorY:K=0,includeCaretPositions:J=!1,chunkedBoundsSize:$=8192,colorRanges:U=null},G,W=!1){const F=x(),j={fontLoad:0,typesetting:0};S.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),S=S.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),b=+b,T=+T,D=+D,A=A||"normal",k=+k,c(_,ie=>{const se=isFinite(D);let re=null,fe=null,oe=null,he=null,ke=null,He=null,ge=null,Y=0,Se=0,me=z!=="nowrap";const{ascender:de,descender:pe,unitsPerEm:ze,lineGap:ye,capHeight:Be,xHeight:Ue}=ie;j.fontLoad=x()-F;const Ce=x(),$e=b/ze;A==="normal"&&(A=(de-pe+ye)/ze),A=A*b;const N=(A-(de-pe)*$e)/2,O=-(de*$e+N),ne=Math.min(A,(de-pe)*$e),Ae=(de+pe)/2*$e-ne/2;let be=k,Ee=new y;const Ge=[Ee];ie.forEachGlyph(S,b,T,(je,Ze,Ye)=>{const Ne=S.charAt(Ye),ee=je.advanceWidth*$e,Te=Ee.count;let Ke;if("isEmpty"in je||(je.isWhitespace=!!Ne&&new RegExp(a).test(Ne),je.canBreakAfter=!!Ne&&l.test(Ne),je.isEmpty=je.xMin===je.xMax||je.yMin===je.yMax||o.test(Ne)),!je.isWhitespace&&!je.isEmpty&&Se++,me&&se&&!je.isWhitespace&&Ze+ee+be>D&&Te){if(Ee.glyphAt(Te-1).glyphObj.canBreakAfter)Ke=new y,be=-Ze;else for(let Oe=Te;Oe--;)if(Oe===0&&H==="break-word"){Ke=new y,be=-Ze;break}else if(Ee.glyphAt(Oe).glyphObj.canBreakAfter){Ke=Ee.splitAt(Oe+1);const xe=Ke.glyphAt(0).x;be-=xe;for(let We=Ke.count;We--;)Ke.glyphAt(We).x-=xe;break}Ke&&(Ee.isSoftWrapped=!0,Ee=Ke,Ge.push(Ee),Y=D)}let Q=Ee.glyphAt(Ee.count);Q.glyphObj=je,Q.x=Ze+be,Q.width=ee,Q.charIndex=Ye,Ne===`
`&&(Ee=new y,Ge.push(Ee),be=-(Ze+ee+T*b)+k)}),Ge.forEach(je=>{for(let Ze=je.count;Ze--;){let{glyphObj:Ye,x:Ne,width:ee}=je.glyphAt(Ze);if(!Ye.isWhitespace){je.width=Ne+ee,je.width>Y&&(Y=je.width);return}}});let Fe=0,ve=0;if(V&&(typeof V=="number"?Fe=-V:typeof V=="string"&&(Fe=-Y*(V==="left"?0:V==="center"?.5:V==="right"?1:p(V)))),K){if(typeof K=="number")ve=-K;else if(typeof K=="string"){let je=Ge.length*A;ve=K==="top"?0:K==="top-baseline"?-O:K==="top-cap"?-O-Be*$e:K==="top-ex"?-O-Ue*$e:K==="middle"?je/2:K==="bottom"?je:K==="bottom-baseline"?je-N+pe*$e:p(K)*je}}if(!W){const je=e.getEmbeddingLevels(S,C);re=new Uint16Array(Se),fe=new Float32Array(Se*2),oe={},He=[s,s,-s,-s],ge=[];let Ze=O;J&&(ke=new Float32Array(S.length*3)),U&&(he=new Uint8Array(Se*3));let Ye=0,Ne=-1,ee=-1,Te,Ke;if(Ge.forEach((Q,Oe)=>{let{count:xe,width:We}=Q;if(xe>0){let qe=0;for(let zt=xe;zt--&&Q.glyphAt(zt).glyphObj.isWhitespace;)qe++;let Mt=0,bt=0;if(L==="center")Mt=(Y-We)/2;else if(L==="right")Mt=Y-We;else if(L==="justify"&&Q.isSoftWrapped){let zt=0;for(let Pt=xe-qe;Pt--;)Q.glyphAt(Pt).glyphObj.isWhitespace&&zt++;bt=(Y-We)/zt}if(bt||Mt){let zt=0;for(let Pt=0;Pt<xe;Pt++){let li=Q.glyphAt(Pt);const Hr=li.glyphObj;li.x+=Mt+zt,bt!==0&&Hr.isWhitespace&&Pt<xe-qe&&(zt+=bt,li.width+=bt)}}const Rt=e.getReorderSegments(S,je,Q.glyphAt(0).charIndex,Q.glyphAt(Q.count-1).charIndex);for(let zt=0;zt<Rt.length;zt++){const[Pt,li]=Rt[zt];let Hr=1/0,sn=-1/0;for(let Mn=0;Mn<xe;Mn++)if(Q.glyphAt(Mn).charIndex>=Pt){let ti=Mn,Sn=Mn;for(;Sn<xe;Sn++){let Hn=Q.glyphAt(Sn);if(Hn.charIndex>li)break;Sn<xe-qe&&(Hr=Math.min(Hr,Hn.x),sn=Math.max(sn,Hn.x+Hn.width))}for(let Hn=ti;Hn<Sn;Hn++){const Pr=Q.glyphAt(Hn);Pr.x=sn-(Pr.x+Pr.width-Hr)}break}}let Xt;const Wt=zt=>Xt=zt;for(let zt=0;zt<xe;zt++){let Pt=Q.glyphAt(zt);Xt=Pt.glyphObj;const li=Xt.index,Hr=je.levels[Pt.charIndex]&1;if(Hr){const sn=e.getMirroredCharacter(S[Pt.charIndex]);sn&&ie.forEachGlyph(sn,0,0,Wt)}if(J){const{charIndex:sn}=Pt,Mn=Pt.x+Fe,ti=Pt.x+Pt.width+Fe;ke[sn*3]=Hr?ti:Mn,ke[sn*3+1]=Hr?Mn:ti,ke[sn*3+2]=Ze+Ae+ve;const Sn=sn-Ne;Sn>1&&g(ke,Ne,Sn),Ne=sn}if(U){const{charIndex:sn}=Pt;for(;sn>ee;)ee++,U.hasOwnProperty(ee)&&(Ke=U[ee])}if(!Xt.isWhitespace&&!Xt.isEmpty){const sn=Ye++;oe[li]||(oe[li]={path:Xt.path,pathBounds:[Xt.xMin,Xt.yMin,Xt.xMax,Xt.yMax]});const Mn=Pt.x+Fe,ti=Ze+ve;fe[sn*2]=Mn,fe[sn*2+1]=ti;const Sn=Mn+Xt.xMin*$e,Hn=ti+Xt.yMin*$e,Pr=Mn+Xt.xMax*$e,Zs=ti+Xt.yMax*$e;Sn<He[0]&&(He[0]=Sn),Hn<He[1]&&(He[1]=Hn),Pr>He[2]&&(He[2]=Pr),Zs>He[3]&&(He[3]=Zs),sn%$===0&&(Te={start:sn,end:sn,rect:[s,s,-s,-s]},ge.push(Te)),Te.end++;const Li=Te.rect;if(Sn<Li[0]&&(Li[0]=Sn),Hn<Li[1]&&(Li[1]=Hn),Pr>Li[2]&&(Li[2]=Pr),Zs>Li[3]&&(Li[3]=Zs),re[sn]=li,U){const Z=sn*3;he[Z]=Ke>>16&255,he[Z+1]=Ke>>8&255,he[Z+2]=Ke&255}}}}Ze-=A}),ke){const Q=S.length-Ne;Q>1&&g(ke,Ne,Q)}}j.typesetting=x()-Ce,G({glyphIds:re,glyphPositions:fe,glyphData:oe,caretPositions:ke,caretHeight:ne,glyphColors:he,chunkedBounds:ge,fontSize:b,unitsPerEm:ze,ascender:de*$e,descender:pe*$e,capHeight:Be*$e,xHeight:Ue*$e,lineHeight:A,topBaseline:O,blockBounds:[Fe,ve-Ge.length*A,Fe+Y,ve],visibleBounds:He,timings:j})})}function h(S,_){f(S,E=>{const[b,T,A,D]=E.blockBounds;_({width:A-b,height:D-T})},{metricsOnly:!0})}function p(S){let _=S.match(/^([\d.]+)%$/),E=_?parseFloat(_[1]):NaN;return isNaN(E)?0:E/100}function g(S,_,E){const b=S[_*3],T=S[_*3+1],A=S[_*3+2],D=(T-b)/E;for(let C=0;C<E;C++){const L=(_+C)*3;S[L]=b+D*C,S[L+1]=b+D*(C+1),S[L+2]=A}}function x(){return(self.performance||Date).now()}function y(){this.data=[]}const v=["glyphObj","x","width","charIndex"];return y.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/v.length)},glyphAt(S){let _=y.flyweight;return _.data=this.data,_.index=S,_},splitAt(S){let _=new y;return _.data=this.data.splice(S*v.length),_}},y.flyweight=v.reduce((S,_,E,b)=>(Object.defineProperty(S,_,{get(){return this.data[this.index*v.length+E]},set(T){this.data[this.index*v.length+E]=T}}),S),{data:null,index:0}),{typeset:f,measure:h,loadFont:c}}const yf=()=>(self.performance||Date).now(),q5=HF();let HA;function kie(t,e,n,r,i,s,o,a,l,u,c=!0){return c?zie(t,e,n,r,i,s,o,a,l,u).then(null,f=>(HA||(console.warn("WebGL SDF generation failed, falling back to JS",f),HA=!0),WA(t,e,n,r,i,s,o,a,l,u))):WA(t,e,n,r,i,s,o,a,l,u)}const Fg=[],Nie=5;let l9=0;function WF(){const t=yf();for(;Fg.length&&yf()-t<Nie;)Fg.shift()();l9=Fg.length?setTimeout(WF,0):0}const zie=(...t)=>new Promise((e,n)=>{Fg.push(()=>{const r=yf();try{q5.webgl.generateIntoCanvas(...t),e({timing:yf()-r})}catch(i){n(i)}}),l9||(l9=setTimeout(WF,0))}),Gie=4,Hie=2e3,VA={};let Vie=0;function WA(t,e,n,r,i,s,o,a,l,u){const c="TroikaTextSDFGenerator_JS_"+Vie++%Gie;let f=VA[c];return f||(f=VA[c]={workerModule:L1({name:c,workerId:c,dependencies:[HF,yf],init(h,p){const g=h().javascript.generate;return function(...x){const y=p();return{textureData:g(...x),timing:p()-y}}},getTransferables(h){return[h.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(t,e,n,r,i,s).then(({textureData:h,timing:p})=>{const g=yf(),x=new Uint8Array(h.length*4);for(let y=0;y<h.length;y++)x[y*4+u]=h[y];return q5.webglUtils.renderImageData(o,x,a,l,t,e,1<<3-u),p+=yf()-g,--f.requests===0&&(f.idleTimer=setTimeout(()=>{Aie(c)},Hie)),{timing:p}})}function Wie(t){t._warm||(q5.webgl.isSupported(t),t._warm=!0)}const jie=q5.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function Xie(){return typeof window>"u"&&(self.window=self),function(t){var e={parse:function(i){var s=e._bin,o=new Uint8Array(i);if(s.readASCII(o,0,4)=="ttcf"){var a=4;s.readUshort(o,a),a+=2,s.readUshort(o,a),a+=2;var l=s.readUint(o,a);a+=4;for(var u=[],c=0;c<l;c++){var f=s.readUint(o,a);a+=4,u.push(e._readFont(o,f))}return u}return[e._readFont(o,0)]},_readFont:function(i,s){var o=e._bin,a=s;o.readFixed(i,s),s+=4;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2;for(var u=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],c={_data:i,_offset:a},f={},h=0;h<l;h++){var p=o.readASCII(i,s,4);s+=4,o.readUint(i,s),s+=4;var g=o.readUint(i,s);s+=4;var x=o.readUint(i,s);s+=4,f[p]={offset:g,length:x}}for(h=0;h<u.length;h++){var y=u[h];f[y]&&(c[y.trim()]=e[y.trim()].parse(i,f[y].offset,f[y].length,c))}return c},_tabOffset:function(i,s,o){for(var a=e._bin,l=a.readUshort(i,o+4),u=o+12,c=0;c<l;c++){var f=a.readASCII(i,u,4);u+=4,a.readUint(i,u),u+=4;var h=a.readUint(i,u);if(u+=4,a.readUint(i,u),u+=4,f==s)return h}return 0}};e._bin={readFixed:function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<8|i[s+3])/65540},readF2dot14:function(i,s){return e._bin.readShort(i,s)/16384},readInt:function(i,s){return e._bin._view(i).getInt32(s)},readInt8:function(i,s){return e._bin._view(i).getInt8(s)},readShort:function(i,s){return e._bin._view(i).getInt16(s)},readUshort:function(i,s){return e._bin._view(i).getUint16(s)},readUshorts:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(e._bin.readUshort(i,s+2*l));return a},readUint:function(i,s){return e._bin._view(i).getUint32(s)},readUint64:function(i,s){return 4294967296*e._bin.readUint(i,s)+e._bin.readUint(i,s+4)},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},readUnicode:function(i,s,o){for(var a="",l=0;l<o;l++){var u=i[s++]<<8|i[s++];a+=String.fromCharCode(u)}return a},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,s,o){var a=e._bin._tdec;return a&&s==0&&o==i.length?a.decode(i):e._bin.readASCII(i,s,o)},readBytes:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(i[s+l]);return a},readASCIIArray:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(String.fromCharCode(i[s+l]));return a},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,s,o,a,l){var u=e._bin,c={},f=s;u.readFixed(i,s),s+=4;var h=u.readUshort(i,s);s+=2;var p=u.readUshort(i,s);s+=2;var g=u.readUshort(i,s);return s+=2,c.scriptList=e._lctf.readScriptList(i,f+h),c.featureList=e._lctf.readFeatureList(i,f+p),c.lookupList=e._lctf.readLookupList(i,f+g,l),c},e._lctf.readLookupList=function(i,s,o){var a=e._bin,l=s,u=[],c=a.readUshort(i,s);s+=2;for(var f=0;f<c;f++){var h=a.readUshort(i,s);s+=2;var p=e._lctf.readLookupTable(i,l+h,o);u.push(p)}return u},e._lctf.readLookupTable=function(i,s,o){var a=e._bin,l=s,u={tabs:[]};u.ltype=a.readUshort(i,s),s+=2,u.flag=a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2;for(var f=u.ltype,h=0;h<c;h++){var p=a.readUshort(i,s);s+=2;var g=o(i,f,l+p,u);u.tabs.push(g)}return u},e._lctf.numOfOnes=function(i){for(var s=0,o=0;o<32;o++)i>>>o&1&&s++;return s},e._lctf.readClassDef=function(i,s){var o=e._bin,a=[],l=o.readUshort(i,s);if(s+=2,l==1){var u=o.readUshort(i,s);s+=2;var c=o.readUshort(i,s);s+=2;for(var f=0;f<c;f++)a.push(u+f),a.push(u+f),a.push(o.readUshort(i,s)),s+=2}if(l==2){var h=o.readUshort(i,s);for(s+=2,f=0;f<h;f++)a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2}return a},e._lctf.getInterval=function(i,s){for(var o=0;o<i.length;o+=3){var a=i[o],l=i[o+1];if(i[o+2],a<=s&&s<=l)return o}return-1},e._lctf.readCoverage=function(i,s){var o=e._bin,a={};a.fmt=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.fmt==1&&(a.tab=o.readUshorts(i,s,l)),a.fmt==2&&(a.tab=o.readUshorts(i,s,3*l)),a},e._lctf.coverageIndex=function(i,s){var o=i.tab;if(i.fmt==1)return o.indexOf(s);if(i.fmt==2){var a=e._lctf.getInterval(o,s);if(a!=-1)return o[a+2]+(s-o[a])}return-1},e._lctf.readFeatureList=function(i,s){var o=e._bin,a=s,l=[],u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var f=o.readASCII(i,s,4);s+=4;var h=o.readUshort(i,s);s+=2;var p=e._lctf.readFeatureTable(i,a+h);p.tag=f.trim(),l.push(p)}return l},e._lctf.readFeatureTable=function(i,s){var o=e._bin,a=s,l={},u=o.readUshort(i,s);s+=2,u>0&&(l.featureParams=a+u);var c=o.readUshort(i,s);s+=2,l.tab=[];for(var f=0;f<c;f++)l.tab.push(o.readUshort(i,s+2*f));return l},e._lctf.readScriptList=function(i,s){var o=e._bin,a=s,l={},u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var f=o.readASCII(i,s,4);s+=4;var h=o.readUshort(i,s);s+=2,l[f.trim()]=e._lctf.readScriptTable(i,a+h)}return l},e._lctf.readScriptTable=function(i,s){var o=e._bin,a=s,l={},u=o.readUshort(i,s);s+=2,l.default=e._lctf.readLangSysTable(i,a+u);var c=o.readUshort(i,s);s+=2;for(var f=0;f<c;f++){var h=o.readASCII(i,s,4);s+=4;var p=o.readUshort(i,s);s+=2,l[h.trim()]=e._lctf.readLangSysTable(i,a+p)}return l},e._lctf.readLangSysTable=function(i,s){var o=e._bin,a={};o.readUshort(i,s),s+=2,a.reqFeature=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.features=o.readUshorts(i,s,l),a},e.CFF={},e.CFF.parse=function(i,s,o){var a=e._bin;(i=new Uint8Array(i.buffer,s,o))[s=0],i[++s],i[++s],i[++s],s++;var l=[];s=e.CFF.readIndex(i,s,l);for(var u=[],c=0;c<l.length-1;c++)u.push(a.readASCII(i,s+l[c],l[c+1]-l[c]));s+=l[l.length-1];var f=[];s=e.CFF.readIndex(i,s,f);var h=[];for(c=0;c<f.length-1;c++)h.push(e.CFF.readDict(i,s+f[c],s+f[c+1]));s+=f[f.length-1];var p=h[0],g=[];s=e.CFF.readIndex(i,s,g);var x=[];for(c=0;c<g.length-1;c++)x.push(a.readASCII(i,s+g[c],g[c+1]-g[c]));if(s+=g[g.length-1],e.CFF.readSubrs(i,s,p),p.CharStrings){s=p.CharStrings,g=[],s=e.CFF.readIndex(i,s,g);var y=[];for(c=0;c<g.length-1;c++)y.push(a.readBytes(i,s+g[c],g[c+1]-g[c]));p.CharStrings=y}if(p.ROS){s=p.FDArray;var v=[];for(s=e.CFF.readIndex(i,s,v),p.FDArray=[],c=0;c<v.length-1;c++){var S=e.CFF.readDict(i,s+v[c],s+v[c+1]);e.CFF._readFDict(i,S,x),p.FDArray.push(S)}s+=v[v.length-1],s=p.FDSelect,p.FDSelect=[];var _=i[s];if(s++,_!=3)throw _;var E=a.readUshort(i,s);for(s+=2,c=0;c<E+1;c++)p.FDSelect.push(a.readUshort(i,s),i[s+2]),s+=3}return p.Encoding&&(p.Encoding=e.CFF.readEncoding(i,p.Encoding,p.CharStrings.length)),p.charset&&(p.charset=e.CFF.readCharset(i,p.charset,p.CharStrings.length)),e.CFF._readFDict(i,p,x),p},e.CFF._readFDict=function(i,s,o){var a;for(var l in s.Private&&(a=s.Private[1],s.Private=e.CFF.readDict(i,a,a+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(i,a+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(s[l]=o[s[l]-426+35])},e.CFF.readSubrs=function(i,s,o){var a=e._bin,l=[];s=e.CFF.readIndex(i,s,l);var u,c=l.length;u=c<1240?107:c<33900?1131:32768,o.Bias=u,o.Subrs=[];for(var f=0;f<l.length-1;f++)o.Subrs.push(a.readBytes(i,s+l[f],l[f+1]-l[f]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,s){for(var o=0;o<i.charset.length;o++)if(i.charset[o]==s)return o;return-1},e.CFF.glyphBySE=function(i,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[s])},e.CFF.readEncoding=function(i,s,o){e._bin;var a=[".notdef"],l=i[s];if(s++,l!=0)throw"error: unknown encoding format: "+l;var u=i[s];s++;for(var c=0;c<u;c++)a.push(i[s+c]);return a},e.CFF.readCharset=function(i,s,o){var a=e._bin,l=[".notdef"],u=i[s];if(s++,u==0)for(var c=0;c<o;c++){var f=a.readUshort(i,s);s+=2,l.push(f)}else{if(u!=1&&u!=2)throw"error: format: "+u;for(;l.length<o;){f=a.readUshort(i,s),s+=2;var h=0;for(u==1?(h=i[s],s++):(h=a.readUshort(i,s),s+=2),c=0;c<=h;c++)l.push(f),f++}}return l},e.CFF.readIndex=function(i,s,o){var a=e._bin,l=a.readUshort(i,s)+1,u=i[s+=2];if(s++,u==1)for(var c=0;c<l;c++)o.push(i[s+c]);else if(u==2)for(c=0;c<l;c++)o.push(a.readUshort(i,s+2*c));else if(u==3)for(c=0;c<l;c++)o.push(16777215&a.readUint(i,s+3*c-1));else if(l!=1)throw"unsupported offset size: "+u+", count: "+l;return(s+=l*u)-1},e.CFF.getCharString=function(i,s,o){var a=e._bin,l=i[s],u=i[s+1];i[s+2],i[s+3],i[s+4];var c=1,f=null,h=null;l<=20&&(f=l,c=1),l==12&&(f=100*l+u,c=2),21<=l&&l<=27&&(f=l,c=1),l==28&&(h=a.readShort(i,s+1),c=3),29<=l&&l<=31&&(f=l,c=1),32<=l&&l<=246&&(h=l-139,c=1),247<=l&&l<=250&&(h=256*(l-247)+u+108,c=2),251<=l&&l<=254&&(h=256*-(l-251)-u-108,c=2),l==255&&(h=a.readInt(i,s+1)/65535,c=5),o.val=h??"o"+f,o.size=c},e.CFF.readCharString=function(i,s,o){for(var a=s+o,l=e._bin,u=[];s<a;){var c=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var h=1,p=null,g=null;c<=20&&(p=c,h=1),c==12&&(p=100*c+f,h=2),c!=19&&c!=20||(p=c,h=2),21<=c&&c<=27&&(p=c,h=1),c==28&&(g=l.readShort(i,s+1),h=3),29<=c&&c<=31&&(p=c,h=1),32<=c&&c<=246&&(g=c-139,h=1),247<=c&&c<=250&&(g=256*(c-247)+f+108,h=2),251<=c&&c<=254&&(g=256*-(c-251)-f-108,h=2),c==255&&(g=l.readInt(i,s+1)/65535,h=5),u.push(g??"o"+p),s+=h}return u},e.CFF.readDict=function(i,s,o){for(var a=e._bin,l={},u=[];s<o;){var c=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var h=1,p=null,g=null;if(c==28&&(g=a.readShort(i,s+1),h=3),c==29&&(g=a.readInt(i,s+1),h=5),32<=c&&c<=246&&(g=c-139,h=1),247<=c&&c<=250&&(g=256*(c-247)+f+108,h=2),251<=c&&c<=254&&(g=256*-(c-251)-f-108,h=2),c==255)throw g=a.readInt(i,s+1)/65535,h=5,"unknown number";if(c==30){var x=[];for(h=1;;){var y=i[s+h];h++;var v=y>>4,S=15&y;if(v!=15&&x.push(v),S!=15&&x.push(S),S==15)break}for(var _="",E=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],b=0;b<x.length;b++)_+=E[x[b]];g=parseFloat(_)}c<=21&&(p=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][c],h=1,c==12&&(p=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],h=2)),p!=null?(l[p]=u.length==1?u[0]:u,u=[]):u.push(g),s+=h}return l},e.cmap={},e.cmap.parse=function(i,s,o){i=new Uint8Array(i.buffer,s,o),s=0;var a=e._bin,l={};a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2;var c=[];l.tables=[];for(var f=0;f<u;f++){var h=a.readUshort(i,s);s+=2;var p=a.readUshort(i,s);s+=2;var g=a.readUint(i,s);s+=4;var x="p"+h+"e"+p,y=c.indexOf(g);if(y==-1){var v;y=l.tables.length,c.push(g);var S=a.readUshort(i,g);S==0?v=e.cmap.parse0(i,g):S==4?v=e.cmap.parse4(i,g):S==6?v=e.cmap.parse6(i,g):S==12?v=e.cmap.parse12(i,g):console.debug("unknown format: "+S,h,p,g),l.tables.push(v)}if(l[x]!=null)throw"multiple tables for one platform+encoding";l[x]=y}return l},e.cmap.parse0=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,a.map=[];for(var u=0;u<l-6;u++)a.map.push(i[s+u]);return a},e.cmap.parse4=function(i,s){var o=e._bin,a=s,l={};l.format=o.readUshort(i,s),s+=2;var u=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2;var c=o.readUshort(i,s);s+=2;var f=c/2;l.searchRange=o.readUshort(i,s),s+=2,l.entrySelector=o.readUshort(i,s),s+=2,l.rangeShift=o.readUshort(i,s),s+=2,l.endCount=o.readUshorts(i,s,f),s+=2*f,s+=2,l.startCount=o.readUshorts(i,s,f),s+=2*f,l.idDelta=[];for(var h=0;h<f;h++)l.idDelta.push(o.readShort(i,s)),s+=2;for(l.idRangeOffset=o.readUshorts(i,s,f),s+=2*f,l.glyphIdArray=[];s<a+u;)l.glyphIdArray.push(o.readUshort(i,s)),s+=2;return l},e.cmap.parse6=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,a.firstCode=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,a.glyphIdArray=[];for(var u=0;u<l;u++)a.glyphIdArray.push(o.readUshort(i,s)),s+=2;return a},e.cmap.parse12=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,s+=2,o.readUint(i,s),s+=4,o.readUint(i,s),s+=4;var l=o.readUint(i,s);s+=4,a.groups=[];for(var u=0;u<l;u++){var c=s+12*u,f=o.readUint(i,c+0),h=o.readUint(i,c+4),p=o.readUint(i,c+8);a.groups.push([f,h,p])}return a},e.glyf={},e.glyf.parse=function(i,s,o,a){for(var l=[],u=0;u<a.maxp.numGlyphs;u++)l.push(null);return l},e.glyf._parseGlyf=function(i,s){var o=e._bin,a=i._data,l=e._tabOffset(a,"glyf",i._offset)+i.loca[s];if(i.loca[s]==i.loca[s+1])return null;var u={};if(u.noc=o.readShort(a,l),l+=2,u.xMin=o.readShort(a,l),l+=2,u.yMin=o.readShort(a,l),l+=2,u.xMax=o.readShort(a,l),l+=2,u.yMax=o.readShort(a,l),l+=2,u.xMin>=u.xMax||u.yMin>=u.yMax)return null;if(u.noc>0){u.endPts=[];for(var c=0;c<u.noc;c++)u.endPts.push(o.readUshort(a,l)),l+=2;var f=o.readUshort(a,l);if(l+=2,a.length-l<f)return null;u.instructions=o.readBytes(a,l,f),l+=f;var h=u.endPts[u.noc-1]+1;for(u.flags=[],c=0;c<h;c++){var p=a[l];if(l++,u.flags.push(p),(8&p)!=0){var g=a[l];l++;for(var x=0;x<g;x++)u.flags.push(p),c++}}for(u.xs=[],c=0;c<h;c++){var y=(2&u.flags[c])!=0,v=(16&u.flags[c])!=0;y?(u.xs.push(v?a[l]:-a[l]),l++):v?u.xs.push(0):(u.xs.push(o.readShort(a,l)),l+=2)}for(u.ys=[],c=0;c<h;c++)y=(4&u.flags[c])!=0,v=(32&u.flags[c])!=0,y?(u.ys.push(v?a[l]:-a[l]),l++):v?u.ys.push(0):(u.ys.push(o.readShort(a,l)),l+=2);var S=0,_=0;for(c=0;c<h;c++)S+=u.xs[c],_+=u.ys[c],u.xs[c]=S,u.ys[c]=_}else{var E;u.parts=[];do{E=o.readUshort(a,l),l+=2;var b={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(u.parts.push(b),b.glyphIndex=o.readUshort(a,l),l+=2,1&E){var T=o.readShort(a,l);l+=2;var A=o.readShort(a,l);l+=2}else T=o.readInt8(a,l),l++,A=o.readInt8(a,l),l++;2&E?(b.m.tx=T,b.m.ty=A):(b.p1=T,b.p2=A),8&E?(b.m.a=b.m.d=o.readF2dot14(a,l),l+=2):64&E?(b.m.a=o.readF2dot14(a,l),l+=2,b.m.d=o.readF2dot14(a,l),l+=2):128&E&&(b.m.a=o.readF2dot14(a,l),l+=2,b.m.b=o.readF2dot14(a,l),l+=2,b.m.c=o.readF2dot14(a,l),l+=2,b.m.d=o.readF2dot14(a,l),l+=2)}while(32&E);if(256&E){var D=o.readUshort(a,l);for(l+=2,u.instr=[],c=0;c<D;c++)u.instr.push(a[l]),l++}}return u},e.GPOS={},e.GPOS.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GPOS.subt)},e.GPOS.subt=function(i,s,o,a){var l=e._bin,u=o,c={};if(c.fmt=l.readUshort(i,o),o+=2,s==1||s==2||s==3||s==7||s==8&&c.fmt<=2){var f=l.readUshort(i,o);o+=2,c.coverage=e._lctf.readCoverage(i,f+u)}if(s==1&&c.fmt==1){var h=l.readUshort(i,o);o+=2;var p=e._lctf.numOfOnes(h);h!=0&&(c.pos=e.GPOS.readValueRecord(i,o,h))}else if(s==2&&c.fmt>=1&&c.fmt<=2){h=l.readUshort(i,o),o+=2;var g=l.readUshort(i,o);o+=2,p=e._lctf.numOfOnes(h);var x=e._lctf.numOfOnes(g);if(c.fmt==1){c.pairsets=[];var y=l.readUshort(i,o);o+=2;for(var v=0;v<y;v++){var S=u+l.readUshort(i,o);o+=2;var _=l.readUshort(i,S);S+=2;for(var E=[],b=0;b<_;b++){var T=l.readUshort(i,S);S+=2,h!=0&&(z=e.GPOS.readValueRecord(i,S,h),S+=2*p),g!=0&&(H=e.GPOS.readValueRecord(i,S,g),S+=2*x),E.push({gid2:T,val1:z,val2:H})}c.pairsets.push(E)}}if(c.fmt==2){var A=l.readUshort(i,o);o+=2;var D=l.readUshort(i,o);o+=2;var C=l.readUshort(i,o);o+=2;var L=l.readUshort(i,o);for(o+=2,c.classDef1=e._lctf.readClassDef(i,u+A),c.classDef2=e._lctf.readClassDef(i,u+D),c.matrix=[],v=0;v<C;v++){var k=[];for(b=0;b<L;b++){var z=null,H=null;h!=0&&(z=e.GPOS.readValueRecord(i,o,h),o+=2*p),g!=0&&(H=e.GPOS.readValueRecord(i,o,g),o+=2*x),k.push({val1:z,val2:H})}c.matrix.push(k)}}}else{if(s==9&&c.fmt==1){var V=l.readUshort(i,o);o+=2;var K=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=V;else if(a.ltype!=V)throw"invalid extension substitution";return e.GPOS.subt(i,a.ltype,u+K)}console.debug("unsupported GPOS table LookupType",s,"format",c.fmt)}return c},e.GPOS.readValueRecord=function(i,s,o){var a=e._bin,l=[];return l.push(1&o?a.readShort(i,s):0),s+=1&o?2:0,l.push(2&o?a.readShort(i,s):0),s+=2&o?2:0,l.push(4&o?a.readShort(i,s):0),s+=4&o?2:0,l.push(8&o?a.readShort(i,s):0),s+=8&o?2:0,l},e.GSUB={},e.GSUB.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GSUB.subt)},e.GSUB.subt=function(i,s,o,a){var l=e._bin,u=o,c={};if(c.fmt=l.readUshort(i,o),o+=2,s!=1&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==4||s==5&&c.fmt<=2||s==6&&c.fmt<=2){var f=l.readUshort(i,o);o+=2,c.coverage=e._lctf.readCoverage(i,u+f)}if(s==1&&c.fmt>=1&&c.fmt<=2){if(c.fmt==1)c.delta=l.readShort(i,o),o+=2;else if(c.fmt==2){var h=l.readUshort(i,o);o+=2,c.newg=l.readUshorts(i,o,h),o+=2*c.newg.length}}else if(s==4){c.vals=[],h=l.readUshort(i,o),o+=2;for(var p=0;p<h;p++){var g=l.readUshort(i,o);o+=2,c.vals.push(e.GSUB.readLigatureSet(i,u+g))}}else if(s==5&&c.fmt==2){if(c.fmt==2){var x=l.readUshort(i,o);o+=2,c.cDef=e._lctf.readClassDef(i,u+x),c.scset=[];var y=l.readUshort(i,o);for(o+=2,p=0;p<y;p++){var v=l.readUshort(i,o);o+=2,c.scset.push(v==0?null:e.GSUB.readSubClassSet(i,u+v))}}}else if(s==6&&c.fmt==3){if(c.fmt==3){for(p=0;p<3;p++){h=l.readUshort(i,o),o+=2;for(var S=[],_=0;_<h;_++)S.push(e._lctf.readCoverage(i,u+l.readUshort(i,o+2*_)));o+=2*h,p==0&&(c.backCvg=S),p==1&&(c.inptCvg=S),p==2&&(c.ahedCvg=S)}h=l.readUshort(i,o),o+=2,c.lookupRec=e.GSUB.readSubstLookupRecords(i,o,h)}}else{if(s==7&&c.fmt==1){var E=l.readUshort(i,o);o+=2;var b=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=E;else if(a.ltype!=E)throw"invalid extension substitution";return e.GSUB.subt(i,a.ltype,u+b)}console.debug("unsupported GSUB table LookupType",s,"format",c.fmt)}return c},e.GSUB.readSubClassSet=function(i,s){var o=e._bin.readUshort,a=s,l=[],u=o(i,s);s+=2;for(var c=0;c<u;c++){var f=o(i,s);s+=2,l.push(e.GSUB.readSubClassRule(i,a+f))}return l},e.GSUB.readSubClassRule=function(i,s){var o=e._bin.readUshort,a={},l=o(i,s),u=o(i,s+=2);s+=2,a.input=[];for(var c=0;c<l-1;c++)a.input.push(o(i,s)),s+=2;return a.substLookupRecords=e.GSUB.readSubstLookupRecords(i,s,u),a},e.GSUB.readSubstLookupRecords=function(i,s,o){for(var a=e._bin.readUshort,l=[],u=0;u<o;u++)l.push(a(i,s),a(i,s+2)),s+=4;return l},e.GSUB.readChainSubClassSet=function(i,s){var o=e._bin,a=s,l=[],u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var f=o.readUshort(i,s);s+=2,l.push(e.GSUB.readChainSubClassRule(i,a+f))}return l},e.GSUB.readChainSubClassRule=function(i,s){for(var o=e._bin,a={},l=["backtrack","input","lookahead"],u=0;u<l.length;u++){var c=o.readUshort(i,s);s+=2,u==1&&c--,a[l[u]]=o.readUshorts(i,s,c),s+=2*a[l[u]].length}return c=o.readUshort(i,s),s+=2,a.subst=o.readUshorts(i,s,2*c),s+=2*a.subst.length,a},e.GSUB.readLigatureSet=function(i,s){var o=e._bin,a=s,l=[],u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var f=o.readUshort(i,s);s+=2,l.push(e.GSUB.readLigature(i,a+f))}return l},e.GSUB.readLigature=function(i,s){var o=e._bin,a={chain:[]};a.nglyph=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2;for(var u=0;u<l-1;u++)a.chain.push(o.readUshort(i,s)),s+=2;return a},e.head={},e.head.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.fontRevision=a.readFixed(i,s),s+=4,a.readUint(i,s),s+=4,a.readUint(i,s),s+=4,l.flags=a.readUshort(i,s),s+=2,l.unitsPerEm=a.readUshort(i,s),s+=2,l.created=a.readUint64(i,s),s+=8,l.modified=a.readUint64(i,s),s+=8,l.xMin=a.readShort(i,s),s+=2,l.yMin=a.readShort(i,s),s+=2,l.xMax=a.readShort(i,s),s+=2,l.yMax=a.readShort(i,s),s+=2,l.macStyle=a.readUshort(i,s),s+=2,l.lowestRecPPEM=a.readUshort(i,s),s+=2,l.fontDirectionHint=a.readShort(i,s),s+=2,l.indexToLocFormat=a.readShort(i,s),s+=2,l.glyphDataFormat=a.readShort(i,s),s+=2,l},e.hhea={},e.hhea.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.ascender=a.readShort(i,s),s+=2,l.descender=a.readShort(i,s),s+=2,l.lineGap=a.readShort(i,s),s+=2,l.advanceWidthMax=a.readUshort(i,s),s+=2,l.minLeftSideBearing=a.readShort(i,s),s+=2,l.minRightSideBearing=a.readShort(i,s),s+=2,l.xMaxExtent=a.readShort(i,s),s+=2,l.caretSlopeRise=a.readShort(i,s),s+=2,l.caretSlopeRun=a.readShort(i,s),s+=2,l.caretOffset=a.readShort(i,s),s+=2,s+=8,l.metricDataFormat=a.readShort(i,s),s+=2,l.numberOfHMetrics=a.readUshort(i,s),s+=2,l},e.hmtx={},e.hmtx.parse=function(i,s,o,a){for(var l=e._bin,u={aWidth:[],lsBearing:[]},c=0,f=0,h=0;h<a.maxp.numGlyphs;h++)h<a.hhea.numberOfHMetrics&&(c=l.readUshort(i,s),s+=2,f=l.readShort(i,s),s+=2),u.aWidth.push(c),u.lsBearing.push(f);return u},e.kern={},e.kern.parse=function(i,s,o,a){var l=e._bin,u=l.readUshort(i,s);if(s+=2,u==1)return e.kern.parseV1(i,s-2,o,a);var c=l.readUshort(i,s);s+=2;for(var f={glyph1:[],rval:[]},h=0;h<c;h++){s+=2,o=l.readUshort(i,s),s+=2;var p=l.readUshort(i,s);s+=2;var g=p>>>8;if((g&=15)!=0)throw"unknown kern table format: "+g;s=e.kern.readFormat0(i,s,f)}return f},e.kern.parseV1=function(i,s,o,a){var l=e._bin;l.readFixed(i,s),s+=4;var u=l.readUint(i,s);s+=4;for(var c={glyph1:[],rval:[]},f=0;f<u;f++){l.readUint(i,s),s+=4;var h=l.readUshort(i,s);s+=2,l.readUshort(i,s),s+=2;var p=h>>>8;if((p&=15)!=0)throw"unknown kern table format: "+p;s=e.kern.readFormat0(i,s,c)}return c},e.kern.readFormat0=function(i,s,o){var a=e._bin,l=-1,u=a.readUshort(i,s);s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2;for(var c=0;c<u;c++){var f=a.readUshort(i,s);s+=2;var h=a.readUshort(i,s);s+=2;var p=a.readShort(i,s);s+=2,f!=l&&(o.glyph1.push(f),o.rval.push({glyph2:[],vals:[]}));var g=o.rval[o.rval.length-1];g.glyph2.push(h),g.vals.push(p),l=f}return s},e.loca={},e.loca.parse=function(i,s,o,a){var l=e._bin,u=[],c=a.head.indexToLocFormat,f=a.maxp.numGlyphs+1;if(c==0)for(var h=0;h<f;h++)u.push(l.readUshort(i,s+(h<<1))<<1);if(c==1)for(h=0;h<f;h++)u.push(l.readUint(i,s+(h<<2)));return u},e.maxp={},e.maxp.parse=function(i,s,o){var a=e._bin,l={},u=a.readUint(i,s);return s+=4,l.numGlyphs=a.readUshort(i,s),s+=2,u==65536&&(l.maxPoints=a.readUshort(i,s),s+=2,l.maxContours=a.readUshort(i,s),s+=2,l.maxCompositePoints=a.readUshort(i,s),s+=2,l.maxCompositeContours=a.readUshort(i,s),s+=2,l.maxZones=a.readUshort(i,s),s+=2,l.maxTwilightPoints=a.readUshort(i,s),s+=2,l.maxStorage=a.readUshort(i,s),s+=2,l.maxFunctionDefs=a.readUshort(i,s),s+=2,l.maxInstructionDefs=a.readUshort(i,s),s+=2,l.maxStackElements=a.readUshort(i,s),s+=2,l.maxSizeOfInstructions=a.readUshort(i,s),s+=2,l.maxComponentElements=a.readUshort(i,s),s+=2,l.maxComponentDepth=a.readUshort(i,s),s+=2),l},e.name={},e.name.parse=function(i,s,o){var a=e._bin,l={};a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2,a.readUshort(i,s);for(var c,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],h=s+=2,p=0;p<u;p++){var g=a.readUshort(i,s);s+=2;var x=a.readUshort(i,s);s+=2;var y=a.readUshort(i,s);s+=2;var v=a.readUshort(i,s);s+=2;var S=a.readUshort(i,s);s+=2;var _=a.readUshort(i,s);s+=2;var E,b=f[v],T=h+12*u+_;if(g==0)E=a.readUnicode(i,T,S/2);else if(g==3&&x==0)E=a.readUnicode(i,T,S/2);else if(x==0)E=a.readASCII(i,T,S);else if(x==1)E=a.readUnicode(i,T,S/2);else if(x==3)E=a.readUnicode(i,T,S/2);else{if(g!=1)throw"unknown encoding "+x+", platformID: "+g;E=a.readASCII(i,T,S),console.debug("reading unknown MAC encoding "+x+" as ASCII")}var A="p"+g+","+y.toString(16);l[A]==null&&(l[A]={}),l[A][b!==void 0?b:v]=E,l[A]._lang=y}for(var D in l)if(l[D].postScriptName!=null&&l[D]._lang==1033)return l[D];for(var D in l)if(l[D].postScriptName!=null&&l[D]._lang==0)return l[D];for(var D in l)if(l[D].postScriptName!=null&&l[D]._lang==3084)return l[D];for(var D in l)if(l[D].postScriptName!=null)return l[D];for(var D in l){c=D;break}return console.debug("returning name table with languageID "+l[c]._lang),l[c]},e["OS/2"]={},e["OS/2"].parse=function(i,s,o){var a=e._bin.readUshort(i,s);s+=2;var l={};if(a==0)e["OS/2"].version0(i,s,l);else if(a==1)e["OS/2"].version1(i,s,l);else if(a==2||a==3||a==4)e["OS/2"].version2(i,s,l);else{if(a!=5)throw"unknown OS/2 table version: "+a;e["OS/2"].version5(i,s,l)}return l},e["OS/2"].version0=function(i,s,o){var a=e._bin;return o.xAvgCharWidth=a.readShort(i,s),s+=2,o.usWeightClass=a.readUshort(i,s),s+=2,o.usWidthClass=a.readUshort(i,s),s+=2,o.fsType=a.readUshort(i,s),s+=2,o.ySubscriptXSize=a.readShort(i,s),s+=2,o.ySubscriptYSize=a.readShort(i,s),s+=2,o.ySubscriptXOffset=a.readShort(i,s),s+=2,o.ySubscriptYOffset=a.readShort(i,s),s+=2,o.ySuperscriptXSize=a.readShort(i,s),s+=2,o.ySuperscriptYSize=a.readShort(i,s),s+=2,o.ySuperscriptXOffset=a.readShort(i,s),s+=2,o.ySuperscriptYOffset=a.readShort(i,s),s+=2,o.yStrikeoutSize=a.readShort(i,s),s+=2,o.yStrikeoutPosition=a.readShort(i,s),s+=2,o.sFamilyClass=a.readShort(i,s),s+=2,o.panose=a.readBytes(i,s,10),s+=10,o.ulUnicodeRange1=a.readUint(i,s),s+=4,o.ulUnicodeRange2=a.readUint(i,s),s+=4,o.ulUnicodeRange3=a.readUint(i,s),s+=4,o.ulUnicodeRange4=a.readUint(i,s),s+=4,o.achVendID=[a.readInt8(i,s),a.readInt8(i,s+1),a.readInt8(i,s+2),a.readInt8(i,s+3)],s+=4,o.fsSelection=a.readUshort(i,s),s+=2,o.usFirstCharIndex=a.readUshort(i,s),s+=2,o.usLastCharIndex=a.readUshort(i,s),s+=2,o.sTypoAscender=a.readShort(i,s),s+=2,o.sTypoDescender=a.readShort(i,s),s+=2,o.sTypoLineGap=a.readShort(i,s),s+=2,o.usWinAscent=a.readUshort(i,s),s+=2,o.usWinDescent=a.readUshort(i,s),s+=2},e["OS/2"].version1=function(i,s,o){var a=e._bin;return s=e["OS/2"].version0(i,s,o),o.ulCodePageRange1=a.readUint(i,s),s+=4,o.ulCodePageRange2=a.readUint(i,s),s+=4},e["OS/2"].version2=function(i,s,o){var a=e._bin;return s=e["OS/2"].version1(i,s,o),o.sxHeight=a.readShort(i,s),s+=2,o.sCapHeight=a.readShort(i,s),s+=2,o.usDefault=a.readUshort(i,s),s+=2,o.usBreak=a.readUshort(i,s),s+=2,o.usMaxContext=a.readUshort(i,s),s+=2},e["OS/2"].version5=function(i,s,o){var a=e._bin;return s=e["OS/2"].version2(i,s,o),o.usLowerOpticalPointSize=a.readUshort(i,s),s+=2,o.usUpperOpticalPointSize=a.readUshort(i,s),s+=2},e.post={},e.post.parse=function(i,s,o){var a=e._bin,l={};return l.version=a.readFixed(i,s),s+=4,l.italicAngle=a.readFixed(i,s),s+=4,l.underlinePosition=a.readShort(i,s),s+=2,l.underlineThickness=a.readShort(i,s),s+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,s){var o=i.cmap,a=-1;if(o.p0e4!=null?a=o.p0e4:o.p3e1!=null?a=o.p3e1:o.p1e0!=null?a=o.p1e0:o.p0e3!=null&&(a=o.p0e3),a==-1)throw"no familiar platform and encoding!";var l=o.tables[a];if(l.format==0)return s>=l.map.length?0:l.map[s];if(l.format==4){for(var u=-1,c=0;c<l.endCount.length;c++)if(s<=l.endCount[c]){u=c;break}return u==-1||l.startCount[u]>s?0:65535&(l.idRangeOffset[u]!=0?l.glyphIdArray[s-l.startCount[u]+(l.idRangeOffset[u]>>1)-(l.idRangeOffset.length-u)]:s+l.idDelta[u])}if(l.format==12){if(s>l.groups[l.groups.length-1][1])return 0;for(c=0;c<l.groups.length;c++){var f=l.groups[c];if(f[0]<=s&&s<=f[1])return f[2]+(s-f[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,s){var o={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[s]){var a=i.SVG.entries[s];return a==null?o:(typeof a=="string"&&(a=e.SVG.toPath(a),i.SVG.entries[s]=a),a)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},u=i.CFF,c=i.CFF.Private;if(u.ROS){for(var f=0;u.FDSelect[f+2]<=s;)f+=2;c=u.FDArray[u.FDSelect[f+1]].Private}e.U._drawCFF(i.CFF.CharStrings[s],l,u,c,o)}else i.glyf&&e.U._drawGlyf(s,i,o);return o},e.U._drawGlyf=function(i,s,o){var a=s.glyf[i];a==null&&(a=s.glyf[i]=e.glyf._parseGlyf(s,i)),a!=null&&(a.noc>-1?e.U._simpleGlyph(a,o):e.U._compoGlyph(a,s,o))},e.U._simpleGlyph=function(i,s){for(var o=0;o<i.noc;o++){for(var a=o==0?0:i.endPts[o-1]+1,l=i.endPts[o],u=a;u<=l;u++){var c=u==a?l:u-1,f=u==l?a:u+1,h=1&i.flags[u],p=1&i.flags[c],g=1&i.flags[f],x=i.xs[u],y=i.ys[u];if(u==a)if(h){if(!p){e.U.P.moveTo(s,x,y);continue}e.U.P.moveTo(s,i.xs[c],i.ys[c])}else p?e.U.P.moveTo(s,i.xs[c],i.ys[c]):e.U.P.moveTo(s,(i.xs[c]+x)/2,(i.ys[c]+y)/2);h?p&&e.U.P.lineTo(s,x,y):g?e.U.P.qcurveTo(s,x,y,i.xs[f],i.ys[f]):e.U.P.qcurveTo(s,x,y,(x+i.xs[f])/2,(y+i.ys[f])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(i,s,o){for(var a=0;a<i.parts.length;a++){var l={cmds:[],crds:[]},u=i.parts[a];e.U._drawGlyf(u.glyphIndex,s,l);for(var c=u.m,f=0;f<l.crds.length;f+=2){var h=l.crds[f],p=l.crds[f+1];o.crds.push(h*c.a+p*c.b+c.tx),o.crds.push(h*c.c+p*c.d+c.ty)}for(f=0;f<l.cmds.length;f++)o.cmds.push(l.cmds[f])}},e.U._getGlyphClass=function(i,s){var o=e._lctf.getInterval(s,i);return o==-1?0:s[o+2]},e.U.getPairAdjustment=function(i,s,o){var a=!1;if(i.GPOS)for(var l=i.GPOS,u=l.lookupList,c=l.featureList,f=[],h=0;h<c.length;h++){var p=c[h];if(p.tag=="kern"){a=!0;for(var g=0;g<p.tab.length;g++)if(!f[p.tab[g]]){f[p.tab[g]]=!0;for(var x=u[p.tab[g]],y=0;y<x.tabs.length;y++)if(x.tabs[y]!=null){var v,S=x.tabs[y];if((!S.coverage||(v=e._lctf.coverageIndex(S.coverage,s))!=-1)&&x.ltype!=1){if(x.ltype==2){var _=null;if(S.fmt==1){var E=S.pairsets[v];for(h=0;h<E.length;h++)E[h].gid2==o&&(_=E[h])}else if(S.fmt==2){var b=e.U._getGlyphClass(s,S.classDef1),T=e.U._getGlyphClass(o,S.classDef2);_=S.matrix[b][T]}if(_){var A=0;return _.val1&&_.val1[2]&&(A+=_.val1[2]),_.val2&&_.val2[0]&&(A+=_.val2[0]),A}}}}}}}if(i.kern&&!a){var D=i.kern.glyph1.indexOf(s);if(D!=-1){var C=i.kern.rval[D].glyph2.indexOf(o);if(C!=-1)return i.kern.rval[D].vals[C]}}return 0},e.U._applySubs=function(i,s,o,a){for(var l=i.length-s-1,u=0;u<o.tabs.length;u++)if(o.tabs[u]!=null){var c,f=o.tabs[u];if(!f.coverage||(c=e._lctf.coverageIndex(f.coverage,i[s]))!=-1){if(o.ltype==1)i[s],f.fmt==1?i[s]=i[s]+f.delta:i[s]=f.newg[c];else if(o.ltype==4)for(var h=f.vals[c],p=0;p<h.length;p++){var g=h[p],x=g.chain.length;if(!(x>l)){for(var y=!0,v=0,S=0;S<x;S++){for(;i[s+v+(1+S)]==-1;)v++;g.chain[S]!=i[s+v+(1+S)]&&(y=!1)}if(y){for(i[s]=g.nglyph,S=0;S<x+v;S++)i[s+S+1]=-1;break}}}else if(o.ltype==5&&f.fmt==2)for(var _=e._lctf.getInterval(f.cDef,i[s]),E=f.cDef[_+2],b=f.scset[E],T=0;T<b.length;T++){var A=b[T],D=A.input;if(!(D.length>l)){for(y=!0,S=0;S<D.length;S++){var C=e._lctf.getInterval(f.cDef,i[s+1+S]);if(_==-1&&f.cDef[C+2]!=D[S]){y=!1;break}}if(y){var L=A.substLookupRecords;for(p=0;p<L.length;p+=2)L[p],L[p+1]}}}else if(o.ltype==6&&f.fmt==3){if(!e.U._glsCovered(i,f.backCvg,s-f.backCvg.length)||!e.U._glsCovered(i,f.inptCvg,s)||!e.U._glsCovered(i,f.ahedCvg,s+f.inptCvg.length))continue;var k=f.lookupRec;for(T=0;T<k.length;T+=2){_=k[T];var z=a[k[T+1]];e.U._applySubs(i,s+_,z,a)}}}}},e.U._glsCovered=function(i,s,o){for(var a=0;a<s.length;a++)if(e._lctf.coverageIndex(s[a],i[o+a])==-1)return!1;return!0},e.U.glyphsToPath=function(i,s,o){for(var a={cmds:[],crds:[]},l=0,u=0;u<s.length;u++){var c=s[u];if(c!=-1){for(var f=u<s.length-1&&s[u+1]!=-1?s[u+1]:0,h=e.U.glyphToPath(i,c),p=0;p<h.crds.length;p+=2)a.crds.push(h.crds[p]+l),a.crds.push(h.crds[p+1]);for(o&&a.cmds.push(o),p=0;p<h.cmds.length;p++)a.cmds.push(h.cmds[p]);o&&a.cmds.push("X"),l+=i.hmtx.aWidth[c],u<s.length-1&&(l+=e.U.getPairAdjustment(i,c,f))}}return a},e.U.P={},e.U.P.moveTo=function(i,s,o){i.cmds.push("M"),i.crds.push(s,o)},e.U.P.lineTo=function(i,s,o){i.cmds.push("L"),i.crds.push(s,o)},e.U.P.curveTo=function(i,s,o,a,l,u,c){i.cmds.push("C"),i.crds.push(s,o,a,l,u,c)},e.U.P.qcurveTo=function(i,s,o,a,l){i.cmds.push("Q"),i.crds.push(s,o,a,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,s,o,a,l){for(var u=s.stack,c=s.nStems,f=s.haveWidth,h=s.width,p=s.open,g=0,x=s.x,y=s.y,v=0,S=0,_=0,E=0,b=0,T=0,A=0,D=0,C=0,L=0,k={val:0,size:0};g<i.length;){e.CFF.getCharString(i,g,k);var z=k.val;if(g+=k.size,z=="o1"||z=="o18")u.length%2!=0&&!f&&(h=u.shift()+a.nominalWidthX),c+=u.length>>1,u.length=0,f=!0;else if(z=="o3"||z=="o23")u.length%2!=0&&!f&&(h=u.shift()+a.nominalWidthX),c+=u.length>>1,u.length=0,f=!0;else if(z=="o4")u.length>1&&!f&&(h=u.shift()+a.nominalWidthX,f=!0),p&&e.U.P.closePath(l),y+=u.pop(),e.U.P.moveTo(l,x,y),p=!0;else if(z=="o5")for(;u.length>0;)x+=u.shift(),y+=u.shift(),e.U.P.lineTo(l,x,y);else if(z=="o6"||z=="o7")for(var H=u.length,V=z=="o6",K=0;K<H;K++){var J=u.shift();V?x+=J:y+=J,V=!V,e.U.P.lineTo(l,x,y)}else if(z=="o8"||z=="o24"){H=u.length;for(var $=0;$+6<=H;)v=x+u.shift(),S=y+u.shift(),_=v+u.shift(),E=S+u.shift(),x=_+u.shift(),y=E+u.shift(),e.U.P.curveTo(l,v,S,_,E,x,y),$+=6;z=="o24"&&(x+=u.shift(),y+=u.shift(),e.U.P.lineTo(l,x,y))}else{if(z=="o11")break;if(z=="o1234"||z=="o1235"||z=="o1236"||z=="o1237")z=="o1234"&&(S=y,_=(v=x+u.shift())+u.shift(),L=E=S+u.shift(),T=E,D=y,x=(A=(b=(C=_+u.shift())+u.shift())+u.shift())+u.shift(),e.U.P.curveTo(l,v,S,_,E,C,L),e.U.P.curveTo(l,b,T,A,D,x,y)),z=="o1235"&&(v=x+u.shift(),S=y+u.shift(),_=v+u.shift(),E=S+u.shift(),C=_+u.shift(),L=E+u.shift(),b=C+u.shift(),T=L+u.shift(),A=b+u.shift(),D=T+u.shift(),x=A+u.shift(),y=D+u.shift(),u.shift(),e.U.P.curveTo(l,v,S,_,E,C,L),e.U.P.curveTo(l,b,T,A,D,x,y)),z=="o1236"&&(v=x+u.shift(),S=y+u.shift(),_=v+u.shift(),L=E=S+u.shift(),T=E,A=(b=(C=_+u.shift())+u.shift())+u.shift(),D=T+u.shift(),x=A+u.shift(),e.U.P.curveTo(l,v,S,_,E,C,L),e.U.P.curveTo(l,b,T,A,D,x,y)),z=="o1237"&&(v=x+u.shift(),S=y+u.shift(),_=v+u.shift(),E=S+u.shift(),C=_+u.shift(),L=E+u.shift(),b=C+u.shift(),T=L+u.shift(),A=b+u.shift(),D=T+u.shift(),Math.abs(A-x)>Math.abs(D-y)?x=A+u.shift():y=D+u.shift(),e.U.P.curveTo(l,v,S,_,E,C,L),e.U.P.curveTo(l,b,T,A,D,x,y));else if(z=="o14"){if(u.length>0&&!f&&(h=u.shift()+o.nominalWidthX,f=!0),u.length==4){var U=u.shift(),G=u.shift(),W=u.shift(),F=u.shift(),j=e.CFF.glyphBySE(o,W),ie=e.CFF.glyphBySE(o,F);e.U._drawCFF(o.CharStrings[j],s,o,a,l),s.x=U,s.y=G,e.U._drawCFF(o.CharStrings[ie],s,o,a,l)}p&&(e.U.P.closePath(l),p=!1)}else if(z=="o19"||z=="o20")u.length%2!=0&&!f&&(h=u.shift()+a.nominalWidthX),c+=u.length>>1,u.length=0,f=!0,g+=c+7>>3;else if(z=="o21")u.length>2&&!f&&(h=u.shift()+a.nominalWidthX,f=!0),y+=u.pop(),x+=u.pop(),p&&e.U.P.closePath(l),e.U.P.moveTo(l,x,y),p=!0;else if(z=="o22")u.length>1&&!f&&(h=u.shift()+a.nominalWidthX,f=!0),x+=u.pop(),p&&e.U.P.closePath(l),e.U.P.moveTo(l,x,y),p=!0;else if(z=="o25"){for(;u.length>6;)x+=u.shift(),y+=u.shift(),e.U.P.lineTo(l,x,y);v=x+u.shift(),S=y+u.shift(),_=v+u.shift(),E=S+u.shift(),x=_+u.shift(),y=E+u.shift(),e.U.P.curveTo(l,v,S,_,E,x,y)}else if(z=="o26")for(u.length%2&&(x+=u.shift());u.length>0;)v=x,S=y+u.shift(),x=_=v+u.shift(),y=(E=S+u.shift())+u.shift(),e.U.P.curveTo(l,v,S,_,E,x,y);else if(z=="o27")for(u.length%2&&(y+=u.shift());u.length>0;)S=y,_=(v=x+u.shift())+u.shift(),E=S+u.shift(),x=_+u.shift(),y=E,e.U.P.curveTo(l,v,S,_,E,x,y);else if(z=="o10"||z=="o29"){var se=z=="o10"?a:o;if(u.length==0)console.debug("error: empty stack");else{var re=u.pop(),fe=se.Subrs[re+se.Bias];s.x=x,s.y=y,s.nStems=c,s.haveWidth=f,s.width=h,s.open=p,e.U._drawCFF(fe,s,o,a,l),x=s.x,y=s.y,c=s.nStems,f=s.haveWidth,h=s.width,p=s.open}}else if(z=="o30"||z=="o31"){var oe=u.length,he=($=0,z=="o31");for($+=oe-(H=-3&oe);$<H;)he?(S=y,_=(v=x+u.shift())+u.shift(),y=(E=S+u.shift())+u.shift(),H-$==5?(x=_+u.shift(),$++):x=_,he=!1):(v=x,S=y+u.shift(),_=v+u.shift(),E=S+u.shift(),x=_+u.shift(),H-$==5?(y=E+u.shift(),$++):y=E,he=!0),e.U.P.curveTo(l,v,S,_,E,x,y),$+=4}else{if((z+"").charAt(0)=="o")throw console.debug("Unknown operation: "+z,i),z;u.push(z)}}}s.x=x,s.y=y,s.nStems=c,s.haveWidth=f,s.width=h,s.open=p};var n=e,r={Typr:n};return t.Typr=n,t.default=r,Object.defineProperty(t,"__esModule",{value:!0}),t}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function Yie(){return function(t){var e=Uint8Array,n=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(z,H){for(var V=new n(31),K=0;K<31;++K)V[K]=H+=1<<z[K-1];var J=new r(V[30]);for(K=1;K<30;++K)for(var $=V[K];$<V[K+1];++$)J[$]=$-V[K]<<5|K;return[V,J]},l=a(i,2),u=l[0],c=l[1];u[28]=258,c[258]=28;for(var f=a(s,0)[0],h=new n(32768),p=0;p<32768;++p){var g=(43690&p)>>>1|(21845&p)<<1;g=(61680&(g=(52428&g)>>>2|(13107&g)<<2))>>>4|(3855&g)<<4,h[p]=((65280&g)>>>8|(255&g)<<8)>>>1}var x=function(z,H,V){for(var K=z.length,J=0,$=new n(H);J<K;++J)++$[z[J]-1];var U,G=new n(H);for(J=0;J<H;++J)G[J]=G[J-1]+$[J-1]<<1;if(V){U=new n(1<<H);var W=15-H;for(J=0;J<K;++J)if(z[J])for(var F=J<<4|z[J],j=H-z[J],ie=G[z[J]-1]++<<j,se=ie|(1<<j)-1;ie<=se;++ie)U[h[ie]>>>W]=F}else for(U=new n(K),J=0;J<K;++J)z[J]&&(U[J]=h[G[z[J]-1]++]>>>15-z[J]);return U},y=new e(288);for(p=0;p<144;++p)y[p]=8;for(p=144;p<256;++p)y[p]=9;for(p=256;p<280;++p)y[p]=7;for(p=280;p<288;++p)y[p]=8;var v=new e(32);for(p=0;p<32;++p)v[p]=5;var S=x(y,9,1),_=x(v,5,1),E=function(z){for(var H=z[0],V=1;V<z.length;++V)z[V]>H&&(H=z[V]);return H},b=function(z,H,V){var K=H/8|0;return(z[K]|z[K+1]<<8)>>(7&H)&V},T=function(z,H){var V=H/8|0;return(z[V]|z[V+1]<<8|z[V+2]<<16)>>(7&H)},A=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],D=function(z,H,V){var K=new Error(H||A[z]);if(K.code=z,Error.captureStackTrace&&Error.captureStackTrace(K,D),!V)throw K;return K},C=function(z,H,V){var K=z.length;if(!K||V&&!V.l&&K<5)return H||new e(0);var J=!H||V,$=!V||V.i;V||(V={}),H||(H=new e(3*K));var U,G=function(Ne){var ee=H.length;if(Ne>ee){var Te=new e(Math.max(2*ee,Ne));Te.set(H),H=Te}},W=V.f||0,F=V.p||0,j=V.b||0,ie=V.l,se=V.d,re=V.m,fe=V.n,oe=8*K;do{if(!ie){V.f=W=b(z,F,1);var he=b(z,F+1,3);if(F+=3,!he){var ke=z[(Ue=((U=F)/8|0)+(7&U&&1)+4)-4]|z[Ue-3]<<8,He=Ue+ke;if(He>K){$&&D(0);break}J&&G(j+ke),H.set(z.subarray(Ue,He),j),V.b=j+=ke,V.p=F=8*He;continue}if(he==1)ie=S,se=_,re=9,fe=5;else if(he==2){var ge=b(z,F,31)+257,Y=b(z,F+10,15)+4,Se=ge+b(z,F+5,31)+1;F+=14;for(var me=new e(Se),de=new e(19),pe=0;pe<Y;++pe)de[o[pe]]=b(z,F+3*pe,7);F+=3*Y;var ze=E(de),ye=(1<<ze)-1,Be=x(de,ze,1);for(pe=0;pe<Se;){var Ue,Ce=Be[b(z,F,ye)];if(F+=15&Ce,(Ue=Ce>>>4)<16)me[pe++]=Ue;else{var $e=0,N=0;for(Ue==16?(N=3+b(z,F,3),F+=2,$e=me[pe-1]):Ue==17?(N=3+b(z,F,7),F+=3):Ue==18&&(N=11+b(z,F,127),F+=7);N--;)me[pe++]=$e}}var O=me.subarray(0,ge),ne=me.subarray(ge);re=E(O),fe=E(ne),ie=x(O,re,1),se=x(ne,fe,1)}else D(1);if(F>oe){$&&D(0);break}}J&&G(j+131072);for(var Ae=(1<<re)-1,be=(1<<fe)-1,Ee=F;;Ee=F){var Ge=($e=ie[T(z,F)&Ae])>>>4;if((F+=15&$e)>oe){$&&D(0);break}if($e||D(2),Ge<256)H[j++]=Ge;else{if(Ge==256){Ee=F,ie=null;break}var Fe=Ge-254;if(Ge>264){var ve=i[pe=Ge-257];Fe=b(z,F,(1<<ve)-1)+u[pe],F+=ve}var je=se[T(z,F)&be],Ze=je>>>4;if(je||D(3),F+=15&je,ne=f[Ze],Ze>3&&(ve=s[Ze],ne+=T(z,F)&(1<<ve)-1,F+=ve),F>oe){$&&D(0);break}J&&G(j+131072);for(var Ye=j+Fe;j<Ye;j+=4)H[j]=H[j-ne],H[j+1]=H[j+1-ne],H[j+2]=H[j+2-ne],H[j+3]=H[j+3-ne];j=Ye}}V.l=ie,V.p=Ee,V.b=j,ie&&(W=1,V.m=re,V.d=se,V.n=fe)}while(!W);return j==H.length?H:function(Ne,ee,Te){(ee==null||ee<0)&&(ee=0),(Te==null||Te>Ne.length)&&(Te=Ne.length);var Ke=new(Ne instanceof n?n:Ne instanceof r?r:e)(Te-ee);return Ke.set(Ne.subarray(ee,Te)),Ke}(H,0,j)},L=new e(0),k=typeof TextDecoder<"u"&&new TextDecoder;try{k.decode(L,{stream:!0})}catch{}return t.convert_streams=function(z){var H=new DataView(z),V=0;function K(){var ge=H.getUint16(V);return V+=2,ge}function J(){var ge=H.getUint32(V);return V+=4,ge}function $(ge){ke.setUint16(He,ge),He+=2}function U(ge){ke.setUint32(He,ge),He+=4}for(var G={signature:J(),flavor:J(),length:J(),numTables:K(),reserved:K(),totalSfntSize:J(),majorVersion:K(),minorVersion:K(),metaOffset:J(),metaLength:J(),metaOrigLength:J(),privOffset:J(),privLength:J()},W=0;Math.pow(2,W)<=G.numTables;)W++;W--;for(var F=16*Math.pow(2,W),j=16*G.numTables-F,ie=12,se=[],re=0;re<G.numTables;re++)se.push({tag:J(),offset:J(),compLength:J(),origLength:J(),origChecksum:J()}),ie+=16;var fe,oe=new Uint8Array(12+16*se.length+se.reduce(function(ge,Y){return ge+Y.origLength+4},0)),he=oe.buffer,ke=new DataView(he),He=0;return U(G.flavor),$(G.numTables),$(F),$(W),$(j),se.forEach(function(ge){U(ge.tag),U(ge.origChecksum),U(ie),U(ge.origLength),ge.outOffset=ie,(ie+=ge.origLength)%4!=0&&(ie+=4-ie%4)}),se.forEach(function(ge){var Y,Se=z.slice(ge.offset,ge.offset+ge.compLength);if(ge.compLength!=ge.origLength){var me=new Uint8Array(ge.origLength);Y=new Uint8Array(Se,2),C(Y,me)}else me=new Uint8Array(Se);oe.set(me,ge.outOffset);var de=0;(ie=ge.outOffset+ge.origLength)%4!=0&&(de=4-ie%4),oe.set(new Uint8Array(de).buffer,ge.outOffset+ge.origLength),fe=ie+de}),he.slice(0,fe)},Object.defineProperty(t,"__esModule",{value:!0}),t}({}).convert_streams}function Kie(t,e){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,s=2,o=4,a=8,l=16,u=32;let c;function f(b){if(!c){const T={R:s,L:i,D:o,C:l,U:u,T:a};c=new Map;for(let A in r){let D=0;r[A].split(",").forEach(C=>{let[L,k]=C.split("+");L=parseInt(L,36),k=k?parseInt(k,36):0,c.set(D+=L,T[A]);for(let z=k;z--;)c.set(++D,T[A])})}}return c.get(b)||u}const h=1,p=2,g=3,x=4,y=[null,"isol","init","fina","medi"];function v(b){const T=new Uint8Array(b.length);let A=u,D=h,C=-1;for(let L=0;L<b.length;L++){const k=b.codePointAt(L);let z=f(k)|0,H=h;z&a||(A&(i|o|l)?z&(s|o|l)?(H=g,(D===h||D===g)&&T[C]++):z&(i|u)&&(D===p||D===x)&&T[C]--:A&(s|u)&&(D===p||D===x)&&T[C]--,D=T[L]=H,A=z,C=L,k>65535&&L++)}return T}function S(b,T){const A=[];for(let C=0;C<T.length;C++){const L=T.codePointAt(C);L>65535&&C++,A.push(t.U.codeToGlyph(b,L))}const D=b.GSUB;if(D){const{lookupList:C,featureList:L}=D;let k;const z=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,H=[];L.forEach(V=>{if(z.test(V.tag))for(let K=0;K<V.tab.length;K++){if(H[V.tab[K]])continue;H[V.tab[K]]=!0;const J=C[V.tab[K]],$=/^(isol|init|fina|medi)$/.test(V.tag);$&&!k&&(k=v(T));for(let U=0;U<A.length;U++)(!k||!$||y[k[U]]===V.tag)&&t.U._applySubs(A,U,J,C)}})}return A}function _(...b){for(let T=0;T<b.length;T++)if(typeof b[T]=="number")return b[T]}function E(b){const T=Object.create(null),A=b["OS/2"],D=b.hhea,C=b.head.unitsPerEm,L=_(A&&A.sTypoAscender,D&&D.ascender,C),k={unitsPerEm:C,ascender:L,descender:_(A&&A.sTypoDescender,D&&D.descender,0),capHeight:_(A&&A.sCapHeight,L),xHeight:_(A&&A.sxHeight,L),lineGap:_(A&&A.sTypoLineGap,D&&D.lineGap),forEachGlyph(z,H,V,K){let J=0;const $=1/k.unitsPerEm*H,U=S(b,z);let G=0,W=-1;return U.forEach((F,j)=>{if(F!==-1){let ie=T[F];if(!ie){const{cmds:se,crds:re}=t.U.glyphToPath(b,F);let fe="",oe=0;for(let Y=0,Se=se.length;Y<Se;Y++){const me=n[se[Y]];fe+=se[Y];for(let de=1;de<=me;de++)fe+=(de>1?",":"")+re[oe++]}let he,ke,He,ge;if(re.length){he=ke=1/0,He=ge=-1/0;for(let Y=0,Se=re.length;Y<Se;Y+=2){let me=re[Y],de=re[Y+1];me<he&&(he=me),de<ke&&(ke=de),me>He&&(He=me),de>ge&&(ge=de)}}else he=He=ke=ge=0;ie=T[F]={index:F,advanceWidth:b.hmtx.aWidth[F],xMin:he,yMin:ke,xMax:He,yMax:ge,path:fe,pathCommandCount:se.length}}W!==-1&&(J+=t.U.getPairAdjustment(b,W,F)*$),K.call(null,ie,J,G),ie.advanceWidth&&(J+=ie.advanceWidth*$),V&&(J+=V*H),W=F}G+=z.codePointAt(G)>65535?2:1}),J}};return k}return function(T){const A=new Uint8Array(T,0,4),D=t._bin.readASCII(A,0,4);if(D==="wOFF")T=e(T);else if(D==="wOF2")throw new Error("woff2 fonts not supported");return E(t.parse(T)[0])}}const Jie=L1({name:"Typr Font Parser",dependencies:[Xie,Yie,Kie],init(t,e,n){const r=t(),i=e();return n(r,i)}}),ad={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},Zie=new Xe;function Bh(){return(self.performance||Date).now()}const jA=Object.create(null);function jF(t,e){t=$ie({},t);const n=Bh();if(t.font=ese(t.font||ad.defaultFontURL),t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||ad.sdfGlyphSize,t.colorRanges!=null){let f={};for(let h in t.colorRanges)if(t.colorRanges.hasOwnProperty(h)){let p=t.colorRanges[h];typeof p!="number"&&(p=Zie.set(p).getHex()),f[h]=p}t.colorRanges=f}Object.freeze(t);const{textureWidth:r,sdfExponent:i}=ad,{sdfGlyphSize:s}=t,o=r/s*4;let a=jA[s];if(!a){const f=document.createElement("canvas");f.width=r,f.height=s*256/o,a=jA[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:f,sdfTexture:new gn(f,void 0,void 0,void 0,ht,ht),contextLost:!1,glyphsByFont:new Map},a.sdfTexture.generateMipmaps=!1,Qie(a)}const{sdfTexture:l,sdfCanvas:u}=a;let c=a.glyphsByFont.get(t.font);c||a.glyphsByFont.set(t.font,c=new Map),nse(t).then(f=>{const{glyphIds:h,glyphPositions:p,fontSize:g,unitsPerEm:x,timings:y}=f,v=[],S=new Float32Array(h.length*4),_=g/x;let E=0,b=0;const T=Bh();h.forEach((k,z)=>{let H=c.get(k);if(!H){const{path:$,pathBounds:U}=f.glyphData[k],G=Math.max(U[2]-U[0],U[3]-U[1])/s*(ad.sdfMargin*s+.5),W=a.glyphCount++,F=[U[0]-G,U[1]-G,U[2]+G,U[3]+G];c.set(k,H={path:$,atlasIndex:W,sdfViewBox:F}),v.push(H)}const{sdfViewBox:V}=H,K=p[b++],J=p[b++];S[E++]=K+V[0]*_,S[E++]=J+V[1]*_,S[E++]=K+V[2]*_,S[E++]=J+V[3]*_,h[z]=H.atlasIndex}),y.quads=(y.quads||0)+(Bh()-T);const A=Bh();y.sdf={};const D=u.height,C=Math.ceil(a.glyphCount/o),L=Math.pow(2,Math.ceil(Math.log2(C*s)));L>D&&(console.info(`Increasing SDF texture size ${D}->${L}`),jie(u,r,L),l.dispose()),Promise.all(v.map(k=>XF(k,a,t.gpuAccelerateSDF).then(({timing:z})=>{y.sdf[k.atlasIndex]=z}))).then(()=>{v.length&&!a.contextLost&&(YF(a),l.needsUpdate=!0),y.sdfTotal=Bh()-A,y.total=Bh()-n,e(Object.freeze({parameters:t,sdfTexture:l,sdfGlyphSize:s,sdfExponent:i,glyphBounds:S,glyphAtlasIndices:h,glyphColors:f.glyphColors,caretPositions:f.caretPositions,caretHeight:f.caretHeight,chunkedBounds:f.chunkedBounds,ascender:f.ascender,descender:f.descender,lineHeight:f.lineHeight,capHeight:f.capHeight,xHeight:f.xHeight,topBaseline:f.topBaseline,blockBounds:f.blockBounds,visibleBounds:f.visibleBounds,timings:f.timings}))})}),Promise.resolve().then(()=>{a.contextLost||Wie(u)})}function XF({path:t,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:i,contextLost:s},o){if(s)return Promise.resolve({timing:-1});const{textureWidth:a,sdfExponent:l}=ad,u=Math.max(n[2]-n[0],n[3]-n[1]),c=Math.floor(e/4),f=c%(a/r)*r,h=Math.floor(c/(a/r))*r,p=e%4;return kie(r,r,t,n,u,l,i,f,h,p,o)}function Qie(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),t.contextLost=!1;const r=[];t.glyphsByFont.forEach(i=>{i.forEach(s=>{r.push(XF(s,t,!0))})}),Promise.all(r).then(()=>{YF(t),t.sdfTexture.needsUpdate=!0})})}function qie({font:t,characters:e,sdfGlyphSize:n},r){let i=Array.isArray(e)?e.join(`
`):""+e;jF({font:t,sdfGlyphSize:n,text:i},r)}function $ie(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}let j2;function ese(t){return j2||(j2=typeof document>"u"?{}:document.createElement("a")),j2.href=t,j2.href}function YF(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:n}=t,{width:r,height:i}=e,s=t.sdfCanvas.getContext("webgl");let o=n.image.data;(!o||o.length!==r*i*4)&&(o=new Uint8Array(r*i*4),n.image={width:r,height:i,data:o},n.flipY=!1,n.isDataTexture=!0),s.readPixels(0,0,r,i,s.RGBA,s.UNSIGNED_BYTE,o)}}const tse=L1({name:"Typesetter",dependencies:[ad,Jie,Oie,Rie],init(t,e,n,r){const{defaultFontURL:i}=t;return n(e,r(),{defaultFontURL:i})}}),nse=L1({name:"Typesetter",dependencies:[tse],init(t){return function(e){return new Promise(n=>{t.typeset(e,n)})}},getTransferables(t){const e=[t.glyphPositions.buffer,t.glyphIds.buffer];return t.caretPositions&&e.push(t.caretPositions.buffer),t.glyphColors&&e.push(t.glyphColors.buffer),e}}),XA={};function rse(t){let e=XA[t];if(!e){const n=new sc(1,1,t,t),r=n.clone(),i=n.attributes,s=r.attributes,o=new Lt,a=i.uv.count;for(let l=0;l<a;l++)s.position.array[l*3]*=-1,s.normal.array[l*3+2]*=-1;["position","normal","uv"].forEach(l=>{o.setAttribute(l,new ft([...i[l].array,...s[l].array],i[l].itemSize))}),o.setIndex([...n.index.array,...r.index.array.map(l=>l+a)]),o.translate(.5,.5,0),e=XA[t]=o}return e}const ise="aTroikaGlyphBounds",YA="aTroikaGlyphIndex",sse="aTroikaGlyphColor";class ose extends US{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new xs,this.boundingBox=new Lo}computeBoundingSphere(){}computeBoundingBox(){}setSide(e){const n=this.getIndex().count;this.setDrawRange(e===yr?n/2:0,e===Zr?n:n/2)}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=rse(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=n.attributes[r].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,r,i,s){O4(this,ise,e,4),O4(this,YA,n,1),O4(this,sse,s,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:n,boundingBox:r}=this;if(n){const{PI:i,floor:s,min:o,max:a,sin:l,cos:u}=Math,c=i/2,f=i*2,h=Math.abs(n),p=e[0]/h,g=e[2]/h,x=s((p+c)/f)!==s((g+c)/f)?-h:o(l(p)*h,l(g)*h),y=s((p-c)/f)!==s((g-c)/f)?h:a(l(p)*h,l(g)*h),v=s((p+i)/f)!==s((g+i)/f)?h*2:a(h-u(p)*h,h-u(g)*h);r.min.set(x,e[1],n<0?-v:0),r.max.set(y,e[3],n<0?0:v)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(YA).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){n=r[i].end;let s=r[i].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=n}}function O4(t,e,n,r){const i=t.getAttribute(e);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(t.setAttribute(e,new Rf(n,r)),delete t._maxInstanceCount,t.dispose()):i&&t.deleteAttribute(e)}const ase=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,lse=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,use=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,cse=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function fse(t){const e=a9(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new ue},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Kt(0,0,0,0)},uTroikaClipRect:{value:new Kt(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new ue},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Xe},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new kt},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:ase,vertexTransform:lse,fragmentDefs:use,fragmentColorTransform:cse,customRewriter({vertexShader:n,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(n)||(n=n.replace(VF,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:r}}});return e.transparent=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const a_=new us({color:16777215,side:Zr,transparent:!0}),KA=8421504,JA=new rt,X2=new X,k4=new X,S0=[],hse=new X,N4="+x+y";function ZA(t){return Array.isArray(t)?t[0]:t}let KF=()=>{const t=new Un(new sc(1,1),a_);return KF=()=>t,t},JF=()=>{const t=new Un(new sc(1,1,32,1),a_);return JF=()=>t,t};const dse={type:"syncstart"},pse={type:"synccomplete"},ZF=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],mse=ZF.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let QF=class extends Un{constructor(){const e=new ose;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=KA,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=N4,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(dse),jF({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(pse),e&&e()})))}onBeforeRender(e,n,r,i,s,o){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s),s._hadOwnSide=s.hasOwnProperty("side"),this.geometry.setSide(s._actualSide=s.side),s.side=Ro}onAfterRender(e,n,r,i,s,o){s._hadOwnSide?s.side=s._actualSide:delete s.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let e=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=a_.clone());if((!e||e.baseMaterial!==n)&&(e=this._derivedMaterial=fse(n),n.addEventListener("dispose",function r(){n.removeEventListener("dispose",r),e.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return ZA(this.material).getDepthMaterial()}get customDistanceMaterial(){return ZA(this.material).getDistanceMaterial()}_prepareForRender(e){const n=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:a,blockBounds:l}=i;r.uTroikaSDFTexture.value=a,r.uTroikaSDFTextureSize.value.set(a.image.width,a.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(l),r.uTroikaUseGlyphColors.value=!n&&!!i.glyphColors;let u=0,c=0,f=0,h,p,g,x=0,y=0;if(n){let{outlineWidth:S,outlineOffsetX:_,outlineOffsetY:E,outlineBlur:b,outlineOpacity:T}=this;u=this._parsePercent(S)||0,c=Math.max(0,this._parsePercent(b)||0),h=T,x=this._parsePercent(_)||0,y=this._parsePercent(E)||0}else f=Math.max(0,this._parsePercent(this.strokeWidth)||0),f&&(g=this.strokeColor,r.uTroikaStrokeColor.value.set(g??KA),p=this.strokeOpacity,p==null&&(p=1)),h=this.fillOpacity;r.uTroikaDistanceOffset.value=u,r.uTroikaPositionOffset.value.set(x,y),r.uTroikaBlurRadius.value=c,r.uTroikaStrokeWidth.value=f,r.uTroikaStrokeOpacity.value=p,r.uTroikaFillOpacity.value=h??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let v=this.clipRect;if(v&&Array.isArray(v)&&v.length===4)r.uTroikaClipRect.value.fromArray(v);else{const S=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(l[0]-S,l[1]-S,l[2]+S,l[3]+S)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=n?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const a=e.hasOwnProperty("color")?e.color:e.color=new Xe;(s!==a._input||typeof s=="object")&&a.set(a._input=s)}let o=this.orientation||N4;if(o!==e._orientation){let a=r.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let l=o!==N4&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,u,c,f,h]=l;X2.set(0,0,0)[c]=u==="-"?1:-1,k4.set(0,0,0)[h]=f==="-"?-1:1,JA.lookAt(hse,X2.cross(k4),k4),a.setFromMatrix4(JA)}else a.identity();e._orientation=o}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),r=n?parseFloat(n[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new ue){n.copy(e);const r=this.curveRadius;return r&&(n.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),n}worldPositionToTextCoords(e,n=new ue){return X2.copy(e),this.localPositionToTextCoords(this.worldToLocal(X2),n)}raycast(e,n){const{textRenderInfo:r,curveRadius:i}=this;if(r){const s=r.blockBounds,o=i?JF():KF(),a=o.geometry,{position:l,uv:u}=a.attributes;for(let c=0;c<u.count;c++){let f=s[0]+u.getX(c)*(s[2]-s[0]);const h=s[1]+u.getY(c)*(s[3]-s[1]);let p=0;i&&(p=i-Math.cos(f/i)*i,f=Math.sin(f/i)*i),l.setXYZ(c,f,h,p)}a.boundingSphere=this.geometry.boundingSphere,a.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,S0.length=0,o.raycast(e,S0);for(let c=0;c<S0.length;c++)S0[c].object=this,n.push(S0[c])}}copy(e){const n=this.geometry;return super.copy(e),this.geometry=n,mse.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};ZF.forEach(t=>{const e="_private_"+t;Object.defineProperty(QF.prototype,t,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});const QA=R.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:r,fontSize:i=1,children:s,characters:o,onSync:a,...l},u)=>{const c=cn(({invalidate:g})=>g),[f]=R.useState(()=>new QF),[h,p]=R.useMemo(()=>{const g=[];let x="";return R.Children.forEach(s,y=>{typeof y=="string"||typeof y=="number"?x+=y:g.push(y)}),[g,x]},[s]);return EB(()=>new Promise(g=>qie({font:r,characters:o},g)),["troika-text",r,o]),R.useLayoutEffect(()=>void f.sync(()=>{c(),a&&a(f)})),R.useEffect(()=>()=>f.dispose(),[f]),R.createElement("primitive",kn({object:f,ref:u,font:r,text:p,anchorX:e,anchorY:n,fontSize:i,sdfGlyphSize:t},l),h)});function gse(t,e,n,r){const i=class extends Ht{constructor(o={}){const a=Object.entries(t);super({uniforms:a.reduce((l,[u,c])=>{const f=p1.clone({[u]:{value:c}});return{...l,...f}},{}),vertexShader:e,fragmentShader:n}),this.key="",a.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:u=>this.uniforms[l].value=u})),Object.assign(this,o),r&&r(this)}};return i.key=d1.generateUUID(),i}let Y2=null,qF="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function $F(t,e,n){return r=>{n&&n(r),t&&(Y2||(Y2=new _ie),Y2.setDecoderPath(typeof t=="string"?t:qF),r.setDRACOLoader(Y2)),e&&r.setMeshoptDecoder(typeof F4=="function"?F4():F4)}}function ua(t,e=!0,n=!0,r){return fp(o_,t,$F(e,n,r))}ua.preload=(t,e=!0,n=!0,r)=>fp.preload(o_,t,$F(e,n,r));ua.clear=t=>fp.clear(o_,t);ua.setDecoderPath=t=>{qF=t};const vse=R.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...u},c)=>{const f=cn(T=>T.invalidate),h=cn(T=>T.camera),p=cn(T=>T.gl),g=cn(T=>T.events),x=cn(T=>T.setEvents),y=cn(T=>T.set),v=cn(T=>T.get),S=cn(T=>T.performance),_=e||h,E=r||g.connected||p.domElement,b=R.useMemo(()=>new Hre(_),[_]);return lc(()=>{b.enabled&&b.update()},-1),R.useEffect(()=>(s&&b.connect(s===!0?E:s),b.connect(E),()=>void b.dispose()),[s,E,n,b,f]),R.useEffect(()=>{const T=C=>{f(),n&&S.regress(),o&&o(C)},A=C=>{a&&a(C)},D=C=>{l&&l(C)};return b.addEventListener("change",T),b.addEventListener("start",A),b.addEventListener("end",D),()=>{b.removeEventListener("start",A),b.removeEventListener("end",D),b.removeEventListener("change",T)}},[o,a,l,b,f,x]),R.useEffect(()=>{if(t){const T=v().controls;return y({controls:b}),()=>y({controls:T})}},[t,b]),R.createElement("primitive",kn({ref:c,object:b,enableDamping:i},u))}),yse=gse({time:0,pixelRatio:1},` uniform float pixelRatio;
    uniform float time;
    attribute float size;  
    attribute float speed;  
    attribute float opacity;
    attribute vec3 noise;
    attribute vec3 color;
    varying vec3 vColor;
    varying float vOpacity;
    void main() {
      vec4 modelPosition = modelMatrix * vec4(position, 1.0);
      modelPosition.y += sin(time * speed + modelPosition.x * noise.x * 100.0) * 0.2;
      modelPosition.z += cos(time * speed + modelPosition.x * noise.y * 100.0) * 0.2;
      modelPosition.x += cos(time * speed + modelPosition.x * noise.z * 100.0) * 0.2;
      vec4 viewPosition = viewMatrix * modelPosition;
      vec4 projectionPostion = projectionMatrix * viewPosition;
      gl_Position = projectionPostion;
      gl_PointSize = size * 25. * pixelRatio;
      gl_PointSize *= (1.0 / - viewPosition.z);
      vColor = color;
      vOpacity = opacity;
    }`,` varying vec3 vColor;
    varying float vOpacity;
    void main() {
      float distanceToCenter = distance(gl_PointCoord, vec2(0.5));
      float strength = 0.05 / distanceToCenter - 0.1;
      gl_FragColor = vec4(vColor, strength * vOpacity);
      #include <tonemapping_fragment>
      #include <${parseInt(Ha.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
    }`),eU=t=>t&&t.constructor===Float32Array,xse=t=>[t.r,t.g,t.b],tU=t=>t instanceof ue||t instanceof X||t instanceof Kt,nU=t=>Array.isArray(t)?t:tU(t)?t.toArray():[t,t,t];function _0(t,e,n){return R.useMemo(()=>{if(e!==void 0){if(eU(e))return e;if(e instanceof Xe){const r=Array.from({length:t*3},()=>xse(e)).flat();return Float32Array.from(r)}else if(tU(e)||Array.isArray(e)){const r=Array.from({length:t*3},()=>nU(e)).flat();return Float32Array.from(r)}return Float32Array.from({length:t},()=>e)}return Float32Array.from({length:t},n)},[e])}const Sse=R.forwardRef(({noise:t=1,count:e=100,speed:n=1,opacity:r=1,scale:i=1,size:s,color:o,children:a,...l},u)=>{R.useMemo(()=>VS({SparklesImplMaterial:yse}),[]);const c=R.useRef(null),f=cn(_=>_.viewport.dpr),h=nU(i),p=R.useMemo(()=>Float32Array.from(Array.from({length:e},()=>h.map(d1.randFloatSpread)).flat()),[e,...h]),g=_0(e,s,Math.random),x=_0(e,r),y=_0(e,n),v=_0(e*3,t),S=_0(o===void 0?e*3:e,eU(o)?o:new Xe(o),()=>1);return lc(_=>{c.current&&c.current.material&&(c.current.material.time=_.clock.elapsedTime)}),R.useImperativeHandle(u,()=>c.current,[]),R.createElement("points",kn({key:`particle-${e}-${JSON.stringify(i)}`},l,{ref:c}),R.createElement("bufferGeometry",null,R.createElement("bufferAttribute",{attach:"attributes-position",args:[p,3]}),R.createElement("bufferAttribute",{attach:"attributes-size",args:[g,1]}),R.createElement("bufferAttribute",{attach:"attributes-opacity",args:[x,1]}),R.createElement("bufferAttribute",{attach:"attributes-speed",args:[y,1]}),R.createElement("bufferAttribute",{attach:"attributes-color",args:[S,3]}),R.createElement("bufferAttribute",{attach:"attributes-noise",args:[v,3]})),a||R.createElement("sparklesImplMaterial",{transparent:!0,pixelRatio:f,depthWrite:!1}))});var rU={exports:{}},_se="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",wse=_se,Ese=wse;function iU(){}function sU(){}sU.resetWarningCache=iU;var bse=function(){function t(r,i,s,o,a,l){if(l!==Ese){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:sU,resetWarningCache:iU};return n.PropTypes=n,n};rU.exports=bse();var Mse=rU.exports;const An=tc(Mse);function Tse({all:t,scene:e,camera:n}){const r=cn(({gl:o})=>o),i=cn(({camera:o})=>o),s=cn(({scene:o})=>o);return R.useLayoutEffect(()=>{const o=[];t&&(e||s).traverse(u=>{u.visible===!1&&(o.push(u),u.visible=!0)}),r.compile(e||s,n||i);const a=new g1(128);new S5(.01,1e5,a).update(r,e||s),a.dispose(),o.forEach(u=>u.visible=!1)},[]),null}const oo=R.memo(({isPerf:t,color:e,colorBlind:n,customData:r,isMemory:i,isShadersInfo:s,metric:o,fontSize:a,offsetY:l=0,offsetX:u,round:c,hasInstance:f})=>{const{width:h,height:p}=cn(y=>y.viewport),g=R.useRef(null),x=R.useRef(null);return uQ("log",function([v,S]){var _;if(!v||!g.current||(r&&(g.current.text=(Math.round(xo().customData*Math.pow(10,c))/Math.pow(10,c)).toFixed(c)),!o))return;let E=v[o];if(s?E=(_=S.info.programs)==null?void 0:_.length:o==="matriceCount"?E=Os.value:!t&&S.info.render&&(E=(i?S.info.memory:S.info.render)[o]),o==="fps"&&(g.current.color=xo().overclockingFps?_i(n).overClock.toString():`rgb(${_i(n).fps.toString()})`),g.current.text=(Math.round(E*Math.pow(10,c))/Math.pow(10,c)).toFixed(c),f){const b=S.info.instance;if(typeof b>"u"&&o!=="matriceCount")return;let T;o==="matriceCount"?T=sd.value:T=b[o],T>0?(g.current.fontSize=a/1.15,x.current.fontSize=E>0?a/1.4:a,g.current.position.y=p/2-l-a/1.9,x.current.text=" ±	"+(Math.round(T*Math.pow(10,c))/Math.pow(10,c)).toFixed(c)):(x.current.text&&(x.current.text=""),g.current.position.y=p/2-l-a,g.current.fontSize=a)}Os.value-=1,g.current.updateMatrix(),g.current.matrixWorld.copy(g.current.matrix)}),B.jsxs(R.Suspense,{fallback:null,children:[B.jsxs(QA,{textAlign:"justify",matrixAutoUpdate:!1,ref:g,fontSize:a,position:[-h/2+u+a,p/2-l-a,0],color:e,characters:"0123456789",onUpdate:y=>{y.updateMatrix(),Os.value-=1,y.matrixWorld.copy(y.matrix)},children:[B.jsx("meshBasicMaterial",{blending:El}),"0"]}),f&&B.jsx(QA,{textAlign:"justify",matrixAutoUpdate:!1,ref:x,fontSize:8,position:[-h/2+u+a,p/2-l-a*1.15,0],color:"lightgrey",characters:"0123456789",onUpdate:y=>{y.updateMatrix(),Os.value-=1,y.matrixWorld.copy(y.matrix)},children:B.jsx("meshBasicMaterial",{blending:El})})]})}),Ase=({colorBlind:t,customData:e,minimal:n,matrixUpdate:r})=>B.jsxs(B.Fragment,{children:[B.jsx(oo,{colorBlind:t,color:`rgb(${_i(t).fps.toString()})`,isPerf:!0,metric:"fps",fontSize:14,offsetX:140,round:0}),B.jsx(oo,{color:`rgb(${_i(t).cpu.toString()})`,isPerf:!0,metric:"cpu",fontSize:14,offsetX:72,round:3}),B.jsx(oo,{color:`rgb(${_i(t).gpu.toString()})`,isPerf:!0,metric:"gpu",fontSize:14,offsetX:10,round:3}),n?null:B.jsxs(B.Fragment,{children:[B.jsx(oo,{metric:"calls",fontSize:14,offsetX:200,round:0,hasInstance:!0}),B.jsx(oo,{metric:"triangles",fontSize:14,offsetX:260,round:0,hasInstance:!0}),B.jsx(oo,{isMemory:!0,metric:"geometries",fontSize:14,offsetY:30,offsetX:0,round:0}),B.jsx(oo,{isMemory:!0,metric:"textures",fontSize:14,offsetY:30,offsetX:80,round:0}),B.jsx(oo,{isShadersInfo:!0,metric:"programs",fontSize:14,offsetY:30,offsetX:140,round:0}),B.jsx(oo,{metric:"lines",fontSize:14,offsetY:30,offsetX:200,round:0,hasInstance:!0}),B.jsx(oo,{metric:"points",fontSize:14,offsetY:30,offsetX:260,round:0,hasInstance:!0}),r&&B.jsx(oo,{isPerf:!0,metric:"matriceCount",fontSize:14,offsetY:30,offsetX:320,round:0,hasInstance:!0})]}),e&&B.jsx(oo,{color:`rgb(${_i(t).custom.toString()})`,customData:e,fontSize:14,offsetY:0,offsetX:n?200:320,round:e.round||2})]}),Cse=({colorBlind:t,minimal:e,chart:n={length:120,hz:60}})=>{const r=R.useMemo(()=>({fps:new Float32Array(n.length*3),cpu:new Float32Array(n.length*3),gpu:new Float32Array(n.length*3)}),[n]),i=R.useRef(null),s=R.useRef(null),o=R.useRef(null),a=R.useRef(null),l=R.useMemo(()=>new X(0,0,0),[]),u=(c,f=1,h,p)=>{let g=0;const{width:x,height:y}=p,v=xo().chart.data[c];if(!v||v.length===0)return;const S=e?2:6,_=e?12:50;let E=v.length;for(let b=0;b<E;b++){let T=(xo().chart.circularId+b+1)%E;v[T]!==void 0&&(v[T]>g&&(g=v[T]*f),l.set(S+b/(E-1)*(x-S*2)-x/2,Math.min(100,v[T])*f/100*(y-S*2-_)-y/2,0),l.toArray(h.attributes.position.array,b*3))}h.attributes.position.needsUpdate=!0};return lc(function({viewport:f}){u("fps",1,i.current,f),s.current&&s.current.color.set(xo().overclockingFps?_i(t).overClock.toString():`rgb(${_i(t).fps.toString()})`),u("gpu",5,o.current,f),u("cpu",5,a.current,f)}),B.jsxs(B.Fragment,{children:[B.jsxs("line",{onUpdate:c=>{c.updateMatrix(),Os.value-=1,c.matrixWorld.copy(c.matrix)},children:[B.jsx("bufferGeometry",{ref:i,children:B.jsx("bufferAttribute",{attach:"attributes-position",count:n.length,array:r.fps,itemSize:3,usage:Rg,needsUpdate:!0})}),B.jsx("lineBasicMaterial",{ref:s,color:`rgb(${_i(t).fps.toString()})`,transparent:!0,opacity:.5})]}),B.jsxs("line",{onUpdate:c=>{c.updateMatrix(),Os.value-=1,c.matrixWorld.copy(c.matrix)},children:[B.jsx("bufferGeometry",{ref:o,children:B.jsx("bufferAttribute",{attach:"attributes-position",count:n.length,array:r.gpu,itemSize:3,usage:Rg,needsUpdate:!0})}),B.jsx("lineBasicMaterial",{color:`rgb(${_i(t).gpu.toString()})`,transparent:!0,opacity:.5})]}),B.jsxs("line",{onUpdate:c=>{c.updateMatrix(),Os.value-=1,c.matrixWorld.copy(c.matrix)},children:[B.jsx("bufferGeometry",{ref:a,children:B.jsx("bufferAttribute",{attach:"attributes-position",count:n.length,array:r.cpu,itemSize:3,usage:Rg,needsUpdate:!0})}),B.jsx("lineBasicMaterial",{color:`rgb(${_i(t).cpu.toString()})`,transparent:!0,opacity:.5})]})]})},Rse=({colorBlind:t,chart:e,customData:n,matrixUpdate:r,showGraph:i=!0,antialias:s=!0,minimal:o})=>{const a=R.useRef(void 0),l=Co(u=>u.paused);return B.jsxs(XQ,{style:{display:"flex",position:"absolute",height:`${o?37:i?100:60}px`,minWidth:`${o?"100px":n?"370px":"310px"}`},children:[B.jsx(VB,{ref:a,orthographic:!0,dpr:s?[1,2]:1,gl:{antialias:!0,alpha:!0,stencil:!1,depth:!1},onCreated:({scene:u})=>{u.traverse(c=>{c.matrixWorldAutoUpdate=!1,c.matrixAutoUpdate=!1})},flat:!0,style:{marginBottom:"-42px",position:"relative",pointerEvents:"none",background:"transparent !important",height:`${o?37:i?100:60}px`},children:l?null:B.jsxs(B.Fragment,{children:[B.jsx(Pse,{}),B.jsx(Ase,{customData:n,minimal:o,matrixUpdate:r}),i&&B.jsx(Cse,{colorBlind:t,minimal:o,chart:e})]})}),l&&B.jsxs(YQ,{children:[B.jsx(Cq,{})," PAUSED"]})]})},Pse=()=>(lc(function({gl:e,scene:n,camera:r}){r.updateMatrix(),Os.value-=1,r.matrixWorld.copy(r.matrix),r.matrixWorldInverse.copy(r.matrixWorld).invert(),e.render(n,r),sd.value=0,Os.value=0},1/0),null),Dse=R.forwardRef(({portal:t,className:e,children:n,name:r,...i},s)=>{const o=cn(c=>c.gl),a=R.useRef(null),l=R.useRef(null),u=(t==null?void 0:t.current)!=null?t.current:o.domElement.parentNode;return R.useLayoutEffect(()=>{if(!a.current||!u)return;const c=document.createElement("div"),f=l.current=W7(c);return u.appendChild(c),()=>{f.unmount(),l.current=null,u.removeChild(c)}},[u]),R.useLayoutEffect(()=>{const c=l.current;c&&c.render(B.jsx("div",{ref:s,className:e,children:n}))}),B.jsx("group",{name:r,...i,ref:a})});function Lse(t){let e=0;for(let r in t.attributes){const i=t.getAttribute(r);e+=i.count*i.itemSize*i.array.BYTES_PER_ELEMENT}const n=t.getIndex();return e+=n?n.count*n.itemSize*n.array.BYTES_PER_ELEMENT:0,e}const qA=(t,e)=>{const n=i=>{switch(i){case 1e3:return"RepeatWrapping";case 1001:return"ClampToEdgeWrapping";case 1002:return"MirroredRepeatWrapping";default:return"ClampToEdgeWrapping"}},r=i=>{switch(i){case 3e3:return"LinearEncoding";case 3001:return"sRGBEncoding";case 3002:return"RGBEEncoding";case 3003:return"LogLuvEncoding";case 3004:return"RGBM7Encoding";case 3005:return"RGBM16Encoding";case 3006:return"RGBDEncoding";case 3007:return"GammaEncoding";default:return"ClampToEdgeWrapping"}};return{name:t,url:e.image.currentSrc,encoding:r(e.encoding),wrapT:n(e.wrapT),flipY:e.flipY.toString()}},Ise=({program:t,material:e,setTexNumber:n})=>{const r=Co(o=>o.gl),[i,s]=R.useState(null);return R.useEffect(()=>{if(r){const o=t==null?void 0:t.getUniforms();let a=0;const l=new Map;o.seq.forEach(u=>{if(!u.id.includes("uTroika")&&u.id!=="isOrthographic"&&u.id!=="uvTransform"&&u.id!=="lightProbe"&&u.id!=="projectionMatrix"&&u.id!=="viewMatrix"&&u.id!=="normalMatrix"&&u.id!=="modelMatrix"&&u.id!=="modelViewMatrix"){let c=[],f={name:u.id};u.cache&&(u.cache.forEach(h=>{typeof h<"u"&&c.push(h.toString().substring(0,4))}),f.value=c.join(),e[u.id]&&e[u.id].image&&e[u.id].image&&(a++,f.value=qA(u.id,e[u.id])),f.value||(f.value="empty"),l.set(u.id,f))}}),e.uniforms&&Object.keys(e.uniforms).forEach(u=>{const c=e.uniforms[u];if(c.value){const{value:f}=c;let h={name:u};if(u.includes("uTroika"))return;if(f.isTexture)a++,h.value=qA(u,f);else{let p=JSON.stringify(f);try{p=JSON.stringify(f)}catch{p=f.toString()}h.value=p}l.set(u,h)}}),a>0&&n(a),s(l)}},[]),B.jsx(YB,{children:i&&Array.from(i.values()).map(o=>B.jsx("span",{children:typeof o.value=="string"?B.jsx("li",{children:B.jsxs("span",{children:[o.name," :"," ",B.jsxs("b",{children:[o.value.substring(0,30),o.value.length>30?"...":""]})]})}):B.jsxs(B.Fragment,{children:[B.jsx("li",{children:B.jsxs("b",{children:[o.value.name,":"]})}),B.jsxs("div",{children:[Object.keys(o.value).map(a=>a!=="name"?B.jsx("div",{children:a==="url"?B.jsx("a",{href:o.value[a],target:"_blank",children:B.jsx("img",{src:o.value[a]})}):B.jsxs("li",{children:[a,": ",B.jsx("b",{children:o.value[a]})]})},a):null),B.jsxs(KB,{onClick:()=>{var a;console.info(e[o.value.name]||((a=e==null?void 0:e.uniforms[o.value.name])==null?void 0:a.value))},children:["console.info(",o.value.name,");"]})]})]})},o.name))})},Bse=({el:t})=>{Co(r=>r.log);const e=Co(r=>r.gl),n=r=>{if(!e)return 0;const i=Math.round(r.drawCounts.total/(e.info.render.triangles+e.info.render.lines+e.info.render.points)*100*10)/10;return isFinite(i)&&i||0};return B.jsx(B.Fragment,{children:t.drawCounts.total>0&&B.jsxs(Si,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[t.drawCounts.type==="Triangle"?B.jsx(qB,{style:{top:"-1px"}}):B.jsx(JB,{style:{top:"-1px"}}),t.drawCounts.total,B.jsxs("small",{children:[t.drawCounts.type,"s"]}),e&&B.jsxs(ss,{style:{bottom:"-10px",width:"40px",fontWeight:"bold"},children:[t.visible&&!t.material.wireframe?n(t):0,"%"]})]})})},Fse=({el:t})=>{const[e,n]=R.useState(t.visible),[r,i]=R.useState(t.expand),[s,o]=R.useState(0),{meshes:a,program:l,material:u}=t;return B.jsxs(JQ,{children:[B.jsxs(jQ,{onClick:()=>{t.expand=!r,Object.keys(a).forEach(c=>{const f=a[c];f.material.wireframe=!1}),i(!r)},children:[B.jsx(JS,{style:{marginRight:"6px"},children:r?B.jsx("span",{children:B.jsx(ZB,{})}):B.jsx("span",{children:B.jsx(QB,{})})}),l&&B.jsxs("span",{children:[B.jsx(ZQ,{children:l.name}),B.jsxs(Si,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[B.jsx(Sq,{style:{top:"-1px"}}),Object.keys(a).length,B.jsx("small",{children:Object.keys(a).length>1?"users":"user"})]}),s>0&&B.jsxs(Si,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[s>1?B.jsx(Xx,{style:{top:"-1px"}}):B.jsx(Xx,{style:{top:"-1px"}}),s,B.jsx("small",{children:"tex"})]}),B.jsx(Bse,{el:t}),u.glslVersion==="300 es"&&B.jsxs(Si,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[B.jsx(Pq,{style:{top:"-1px"}}),"300",B.jsx("small",{children:"es"}),B.jsx(ss,{style:{bottom:"-10px",width:"40px"},children:"glsl"})]})]}),B.jsx(KQ,{onPointerEnter:()=>{Object.keys(a).forEach(c=>{const f=a[c];f.material.wireframe=!0})},onPointerLeave:()=>{Object.keys(a).forEach(c=>{const f=a[c];f.material.wireframe=!1})},onClick:c=>{c.stopPropagation(),Object.keys(a).forEach(f=>{const h=a[f],p=!e;h.visible=p,t.visible=p,n(p)})},children:e?B.jsx(mq,{}):B.jsx(dq,{})})]}),B.jsxs("div",{style:{maxHeight:r?"9999px":0,overflow:"hidden"},children:[B.jsxs(BT,{children:[B.jsx(sq,{})," Uniforms:"]}),B.jsx(Ise,{program:l,material:u,setTexNumber:o}),B.jsxs(BT,{children:[B.jsx(aq,{})," Geometries:"]}),B.jsx(YB,{children:a&&Object.keys(a).map(c=>a[c]&&a[c].geometry&&B.jsxs(eq,{children:[B.jsxs("span",{children:[a[c].geometry.type,": "]}),a[c].userData&&a[c].userData.drawCount&&B.jsxs("b",{children:[B.jsxs("div",{children:[a[c].userData.drawCount.count,B.jsxs("small",{children:[" ",a[c].userData.drawCount.type,"s"]})]}),B.jsx("br",{}),B.jsxs("div",{children:[Math.round(Lse(a[c].geometry)/1024*1e3)/1e3,"Kb",B.jsx("small",{children:" memory used"})]})]})]},c))}),B.jsxs(KB,{onClick:()=>{console.info(u)},children:["console.info(",u.type,")"]})]})]})},Use=()=>{Co(e=>e.triggerProgramsUpdate);const t=Co(e=>e.programs);return B.jsx(qQ,{children:t&&Array.from(t.values()).map(e=>e&&e?B.jsx(Fse,{el:e},e.material.uuid):null)})},_i=t=>({overClock:"#ff6eff",fps:t?"100, 143, 255":"238,38,110",cpu:t?"254, 254, 98":"66,226,46",gpu:t?"254,254,254":"253,151,31",custom:t?"86,180,233":"40,255,255"}),Ose=({showGraph:t,colorBlind:e})=>{const n=Co(i=>i.overclockingFps),r=Co(i=>i.fpsLimit);return B.jsxs(ss,{style:t?{color:n?_i(e).overClock.toString():`rgb(${_i(e).fps})`}:{},children:["FPS ",n?`${r}🚀`:""]})},kse=({showGraph:t,colorBlind:e,customData:n,minimal:r})=>{const i=Co(s=>s.gl);return i?B.jsxs(WQ,{children:[B.jsxs(Si,{children:[B.jsx(wq,{}),B.jsx(ss,{style:t?{color:`rgb(${_i(e).gpu.toString()})`}:{},children:"GPU"}),B.jsx(S4,{children:"ms"})]}),B.jsxs(Si,{children:[B.jsx(Lq,{}),B.jsx(ss,{style:t?{color:`rgb(${_i(e).cpu.toString()})`}:{},children:"CPU"}),B.jsx(S4,{children:"ms"})]}),B.jsxs(Si,{children:[B.jsx(yq,{}),B.jsx(Ose,{showGraph:t,colorBlind:e})]}),!r&&i&&B.jsxs(Si,{children:[B.jsx(Bq,{}),B.jsx(ss,{children:i.info.render.calls===1?"call":"calls"})]}),!r&&i&&B.jsxs(Si,{children:[B.jsx(qB,{}),B.jsx(ss,{children:"Triangles"})]}),n&&B.jsxs(Si,{children:[B.jsx(rq,{}),B.jsx(ss,{style:t?{color:`rgb(${_i(e).custom})`}:{},children:n.name}),n.info&&B.jsx(S4,{children:n.info})]})]}):null},Nse=({showGraph:t,colorBlind:e,deepAnalyze:n,customData:r,matrixUpdate:i,openByDefault:s,minimal:o})=>B.jsxs(B.Fragment,{children:[B.jsx(kse,{showGraph:t,colorBlind:e,customData:r,minimal:o}),!o&&B.jsx(Gse,{matrixUpdate:i,openByDefault:s,deepAnalyze:n,showGraph:t})]}),zse=({matrixUpdate:t})=>B.jsxs("div",{children:[B.jsxs(Si,{children:[B.jsx(bq,{}),B.jsx(ss,{children:"Geometries"})]}),B.jsxs(Si,{children:[B.jsx(Xx,{}),B.jsx(ss,{children:"Textures"})]}),B.jsxs(Si,{children:[B.jsx(JB,{}),B.jsx(ss,{children:"shaders"})]}),B.jsxs(Si,{children:[B.jsx(Tq,{}),B.jsx(ss,{children:"Lines"})]}),B.jsxs(Si,{children:[B.jsx(uq,{}),B.jsx(ss,{children:"Points"})]}),t&&B.jsxs(Si,{children:[B.jsx(fq,{}),B.jsx(ss,{children:"Matrices"})]})]}),$A=({tab:t,title:e,set:n})=>{const r=Co(i=>i.tab);return B.jsx(JS,{className:`${r===t?" __perf_toggle_tab_active":""}`,onClick:()=>{n(!0),Ps({tab:t})},children:B.jsx("span",{children:e})})},Gse=({openByDefault:t,showGraph:e,deepAnalyze:n,matrixUpdate:r})=>{const[i,s]=te.useState(t);return B.jsxs("span",{children:[B.jsx(Hse,{show:i,showGraph:e,matrixUpdate:r}),t&&!n?null:B.jsxs($Q,{className:"__perf_toggle",children:[n&&B.jsx($A,{tab:"programs",title:"Programs",set:s}),n&&B.jsx($A,{tab:"infos",title:"Infos",set:s}),B.jsx(JS,{onClick:()=>{s(!i)},children:i?B.jsxs("span",{children:[B.jsx(ZB,{})," Minimize"]}):B.jsxs("span",{children:[B.jsx(QB,{})," More"]})})]})]})},Hse=({show:t,showGraph:e,matrixUpdate:n})=>{const r=Co(i=>i.tab);return B.jsxs(B.Fragment,{children:[B.jsx(zse,{matrixUpdate:n}),t&&B.jsx("div",{children:B.jsx(QQ,{style:{marginTop:e?"38px":0},children:r==="programs"&&B.jsx(Use,{})})})]})},Vse=({showGraph:t=!0,colorBlind:e=!1,openByDefault:n=!0,className:r,overClock:i=!1,style:s,position:o="top-right",chart:a,logsPerSecond:l,deepAnalyze:u=!1,antialias:c=!0,customData:f,matrixUpdate:h,minimal:p})=>{const g=R.useRef(null);return B.jsxs(B.Fragment,{children:[B.jsx(pQ,{logsPerSecond:l,chart:a,overClock:i,deepAnalyze:u,matrixUpdate:h}),B.jsx(Dse,{name:"r3f-perf",children:B.jsxs(VQ,{className:(r?" ".concat(r):" ")+` ${o||""} ${p?"minimal":""}`,style:{minHeight:p?"37px":t?"100px":"60px",...s},ref:g,children:[B.jsx(Rse,{perfContainerRef:g,colorBlind:e,chart:a,showGraph:t,antialias:c,customData:f,minimal:p,matrixUpdate:h}),B.jsx(Nse,{colorBlind:e,showGraph:t,deepAnalyze:u,openByDefault:n,customData:f,matrixUpdate:h,minimal:p})]})})]})};/**
 * postprocessing v6.33.1 build Tue Sep 19 2023
 * https://github.com/pmndrs/postprocessing
 * Copyright 2015-2023 Raoul van Rüschen
 * @license Zlib
 */var Vf="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",Wse=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if PASS == 1
uniform vec4 kernel64[32];
#else
uniform vec4 kernel16[8];
#endif
uniform lowp sampler2D cocBuffer;uniform vec2 texelSize;uniform float scale;varying vec2 vUv;void main(){
#ifdef FOREGROUND
vec2 cocNearFar=texture2D(cocBuffer,vUv).rg*scale;float coc=cocNearFar.x;
#else
float coc=texture2D(cocBuffer,vUv).g*scale;
#endif
if(coc==0.0){gl_FragColor=texture2D(inputBuffer,vUv);}else{
#ifdef FOREGROUND
vec2 step=texelSize*max(cocNearFar.x,cocNearFar.y);
#else
vec2 step=texelSize*coc;
#endif
#if PASS == 1
vec4 acc=vec4(0.0);for(int i=0;i<32;++i){vec4 kernel=kernel64[i];vec2 uv=step*kernel.xy+vUv;acc+=texture2D(inputBuffer,uv);uv=step*kernel.zw+vUv;acc+=texture2D(inputBuffer,uv);}gl_FragColor=acc/64.0;
#else
vec4 maxValue=texture2D(inputBuffer,vUv);for(int i=0;i<8;++i){vec4 kernel=kernel16[i];vec2 uv=step*kernel.xy+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);uv=step*kernel.zw+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);}gl_FragColor=maxValue;
#endif
}}`,K2=class extends Ht{constructor(t=!1,e=!1){super({name:"BokehMaterial",defines:{PASS:t?"2":"1"},uniforms:{inputBuffer:new le(null),cocBuffer:new le(null),texelSize:new le(new ue),kernel64:new le(null),kernel16:new le(null),scale:new le(1)},blending:On,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Wse,vertexShader:Vf}),e&&(this.defines.FOREGROUND="1"),this.generateKernel()}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}set cocBuffer(t){this.uniforms.cocBuffer.value=t}setCoCBuffer(t){this.uniforms.cocBuffer.value=t}get scale(){return this.uniforms.scale.value}set scale(t){this.uniforms.scale.value=t}getScale(t){return this.scale}setScale(t){this.scale=t}generateKernel(){const t=2.39996323,e=new Float64Array(128),n=new Float64Array(32);let r=0,i=0;for(let s=0,o=Math.sqrt(80);s<80;++s){const a=s*t,l=Math.sqrt(s)/o,u=l*Math.cos(a),c=l*Math.sin(a);s%5===0?(n[i++]=u,n[i++]=c):(e[r++]=u,e[r++]=c)}this.uniforms.kernel64.value=e,this.uniforms.kernel16.value=n}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},At={SKIP:9,SET:30,ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},ld={RED:0,GREEN:1,BLUE:2,ALPHA:3},oU="",dn="srgb",jd="srgb-linear",O0={FULL:0,SINGLE:1},rm={DEFAULT:0,KEEP_MAX_DEPTH:1,DISCARD_MAX_DEPTH:2},Zo={NONE:0,DEPTH:1,CONVOLUTION:2},un={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},qc={DISABLED:0,SPORADIC:1,CONSTANT_MILD:2,CONSTANT_WILD:3},mp={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},jse={SCALE_UP:"lut.scaleup"},l_={DISCARD:0,MULTIPLY:1,MULTIPLY_RGB_SET_ALPHA:2,MULTIPLY_RGB:3},aU=Number(Ha.replace(/\D+/g,"")),u_=aU>=152,lU=new Map([[f1,jd],[Mo,dn]]),Xse=new Map([[jd,f1],[dn,Mo]]);function Ul(t){return t===null?null:u_?t.outputColorSpace:lU.get(t.outputEncoding)}function Ur(t,e){t!==null&&(u_?t.colorSpace=e:t.encoding=Xse.get(e))}function z4(t,e){t===null||e===null||(u_?e.colorSpace=t.colorSpace:e.encoding=t.encoding)}function I1(t){return aU<154?t.replace("colorspace_fragment","encodings_fragment"):t}function ud(t,e,n){return t*(e-n)-e}function lf(t,e,n){return Math.min(Math.max((t+e)/(e-n),0),1)}var Yse=`#include <common>
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform float focusDistance;uniform float focusRange;uniform float cameraNear;uniform float cameraFar;varying vec2 vUv;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
float depth=unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
float depth=texture2D(depthBuffer,uv).r;
#endif
#ifdef LOG_DEPTH
float d=pow(2.0,depth*log2(cameraFar+1.0))-1.0;float a=cameraFar/(cameraFar-cameraNear);float b=cameraFar*cameraNear/(cameraNear-cameraFar);depth=a+b/d;
#endif
return depth;}void main(){float depth=readDepth(vUv);
#ifdef PERSPECTIVE_CAMERA
float viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);
#else
float linearDepth=depth;
#endif
float signedDistance=linearDepth-focusDistance;float magnitude=smoothstep(0.0,focusRange,abs(signedDistance));gl_FragColor.rg=magnitude*vec2(step(signedDistance,0.0),step(0.0,signedDistance));}`,Kse=class extends Ht{constructor(t){super({name:"CircleOfConfusionMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new le(null),focusDistance:new le(0),focusRange:new le(0),cameraNear:new le(.3),cameraFar:new le(1e3)},blending:On,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Yse,vertexShader:Vf}),this.uniforms.focalLength=this.uniforms.focusRange,this.copyCameraSettings(t)}get near(){return this.uniforms.cameraNear.value}get far(){return this.uniforms.cameraFar.value}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=$r){this.depthBuffer=t,this.depthPacking=e}get focusDistance(){return this.uniforms.focusDistance.value}set focusDistance(t){this.uniforms.focusDistance.value=t}get worldFocusDistance(){return-ud(this.focusDistance,this.near,this.far)}set worldFocusDistance(t){this.focusDistance=lf(-t,this.near,this.far)}getFocusDistance(t){this.uniforms.focusDistance.value=t}setFocusDistance(t){this.uniforms.focusDistance.value=t}get focalLength(){return this.focusRange}set focalLength(t){this.focusRange=t}get focusRange(){return this.uniforms.focusRange.value}set focusRange(t){this.uniforms.focusRange.value=t}get worldFocusRange(){return-ud(this.focusRange,this.near,this.far)}set worldFocusRange(t){this.focusRange=lf(-t,this.near,this.far)}getFocalLength(t){return this.focusRange}setFocalLength(t){this.focusRange=t}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof hn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},Jse=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <colorspace_fragment>
}`,Zse="uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",Qse=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],qse=class extends Ht{constructor(t=new Kt){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new le(null),texelSize:new le(new Kt),scale:new le(1),kernel:new le(0)},blending:On,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Jse,vertexShader:Zse}),this.fragmentShader=I1(this.fragmentShader),this.setTexelSize(t.x,t.y),this.kernelSize=mp.MEDIUM}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.inputBuffer=t}get kernelSequence(){return Qse[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(t){this.uniforms.scale.value=t}getScale(){return this.uniforms.scale.value}setScale(t){this.uniforms.scale.value=t}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(t){this.uniforms.kernel.value=t}setKernel(t){this.kernel=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e,t*.5,e*.5)}setSize(t,e){const n=1/t,r=1/e;this.uniforms.texelSize.value.set(n,r,n*.5,r*.5)}},$se=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <colorspace_fragment>
#include <dithering_fragment>
}`,uU=class extends Ht{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new le(null),opacity:new le(1)},blending:On,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:$se,vertexShader:Vf}),this.fragmentShader=I1(this.fragmentShader)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}getOpacity(t){return this.uniforms.opacity.value}setOpacity(t){this.uniforms.opacity.value=t}},eoe=`#include <packing>
#include <clipping_planes_pars_fragment>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform float cameraNear;uniform float cameraFar;centroid varying float vViewZ;centroid varying vec4 vProjTexCoord;void main(){
#include <clipping_planes_fragment>
vec2 projTexCoord=(vProjTexCoord.xy/vProjTexCoord.w)*0.5+0.5;projTexCoord=clamp(projTexCoord,0.002,0.998);
#if DEPTH_PACKING == 3201
float fragCoordZ=unpackRGBAToDepth(texture2D(depthBuffer,projTexCoord));
#else
float fragCoordZ=texture2D(depthBuffer,projTexCoord).r;
#endif
#ifdef PERSPECTIVE_CAMERA
float viewZ=perspectiveDepthToViewZ(fragCoordZ,cameraNear,cameraFar);
#else
float viewZ=orthographicDepthToViewZ(fragCoordZ,cameraNear,cameraFar);
#endif
float depthTest=(-vViewZ>-viewZ)?1.0:0.0;gl_FragColor.rg=vec2(0.0,depthTest);}`,toe=`#include <common>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
varying float vViewZ;varying vec4 vProjTexCoord;void main(){
#include <skinbase_vertex>
#include <begin_vertex>
#include <morphtarget_vertex>
#include <skinning_vertex>
#include <project_vertex>
vViewZ=mvPosition.z;vProjTexCoord=gl_Position;
#include <clipping_planes_vertex>
}`,noe=class extends Ht{constructor(t=null,e){super({name:"DepthComparisonMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new le(null),cameraNear:new le(.3),cameraFar:new le(1e3)},blending:On,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:eoe,vertexShader:toe}),this.depthBuffer=t,this.depthPacking=$o,this.copyCameraSettings(e)}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=$o){this.depthBuffer=t,this.depthPacking=e}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof hn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},roe=`#include <packing>
varying vec2 vUv;
#ifdef NORMAL_DEPTH
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D normalDepthBuffer;
#else
uniform mediump sampler2D normalDepthBuffer;
#endif
float readDepth(const in vec2 uv){return texture2D(normalDepthBuffer,uv).a;}
#else
#if INPUT_DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if INPUT_DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}
#endif
void main(){
#if INPUT_DEPTH_PACKING == OUTPUT_DEPTH_PACKING
gl_FragColor=texture2D(depthBuffer,vUv);
#else
float depth=readDepth(vUv);
#if OUTPUT_DEPTH_PACKING == 3201
gl_FragColor=(depth==1.0)?vec4(1.0):packDepthToRGBA(depth);
#else
gl_FragColor=vec4(vec3(depth),1.0);
#endif
#endif
}`,ioe=`varying vec2 vUv;
#if DEPTH_COPY_MODE == 1
uniform vec2 texelPosition;
#endif
void main(){
#if DEPTH_COPY_MODE == 1
vUv=texelPosition;
#else
vUv=position.xy*0.5+0.5;
#endif
gl_Position=vec4(position.xy,1.0,1.0);}`,soe=class extends Ht{constructor(){super({name:"DepthCopyMaterial",defines:{INPUT_DEPTH_PACKING:"0",OUTPUT_DEPTH_PACKING:"0",DEPTH_COPY_MODE:"0"},uniforms:{depthBuffer:new le(null),texelPosition:new le(new ue)},blending:On,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:roe,vertexShader:ioe}),this.depthCopyMode=O0.FULL}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set inputDepthPacking(t){this.defines.INPUT_DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}get outputDepthPacking(){return Number(this.defines.OUTPUT_DEPTH_PACKING)}set outputDepthPacking(t){this.defines.OUTPUT_DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=$r){this.depthBuffer=t,this.inputDepthPacking=e}getInputDepthPacking(){return Number(this.defines.INPUT_DEPTH_PACKING)}setInputDepthPacking(t){this.defines.INPUT_DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}getOutputDepthPacking(){return Number(this.defines.OUTPUT_DEPTH_PACKING)}setOutputDepthPacking(t){this.defines.OUTPUT_DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}get texelPosition(){return this.uniforms.texelPosition.value}getTexelPosition(){return this.uniforms.texelPosition.value}setTexelPosition(t){this.uniforms.texelPosition.value=t}get mode(){return this.depthCopyMode}set mode(t){this.depthCopyMode=t,this.defines.DEPTH_COPY_MODE=t.toFixed(0),this.needsUpdate=!0}getMode(){return this.mode}setMode(t){this.mode=t}},ooe=`#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
#ifdef DOWNSAMPLE_NORMALS
uniform lowp sampler2D normalBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}int findBestDepth(const in highp float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;highp float distances[]=float[4](abs(c-samples[0]),abs(c-samples[1]),abs(c-samples[2]),abs(c-samples[3]));float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){highp float d[]=float[4](readDepth(vUv0),readDepth(vUv1),readDepth(vUv2),readDepth(vUv3));int index=findBestDepth(d);
#ifdef DOWNSAMPLE_NORMALS
highp vec3 n[]=vec3[4](texture2D(normalBuffer,vUv0).rgb,texture2D(normalBuffer,vUv1).rgb,texture2D(normalBuffer,vUv2).rgb,texture2D(normalBuffer,vUv3).rgb);
#else
highp vec3 n[]=vec3[4](vec3(0.0),vec3(0.0),vec3(0.0),vec3(0.0));
#endif
gl_FragColor=vec4(n[index],d[index]);}`,aoe="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}",loe=class extends Ht{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new le(null),normalBuffer:new le(null),texelSize:new le(new ue)},blending:On,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:ooe,vertexShader:aoe})}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=$r){this.depthBuffer=t,this.depthPacking=e}set normalBuffer(t){this.uniforms.normalBuffer.value=t,t!==null?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(t){this.normalBuffer=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},uoe=`#include <common>
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer0;uniform highp sampler2D depthBuffer1;
#else
uniform mediump sampler2D depthBuffer0;uniform mediump sampler2D depthBuffer1;
#endif
uniform sampler2D inputBuffer;uniform vec2 cameraNearFar;float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#else
return orthographicDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#endif
}varying vec2 vUv;void main(){vec2 depth;
#if DEPTH_PACKING_0 == 3201
depth.x=unpackRGBAToDepth(texture2D(depthBuffer0,vUv));
#else
depth.x=texture2D(depthBuffer0,vUv).r;
#ifdef LOG_DEPTH
float d=pow(2.0,depth.x*log2(cameraNearFar.y+1.0))-1.0;float a=cameraNearFar.y/(cameraNearFar.y-cameraNearFar.x);float b=cameraNearFar.y*cameraNearFar.x/(cameraNearFar.x-cameraNearFar.y);depth.x=a+b/d;
#endif
#endif
#if DEPTH_PACKING_1 == 3201
depth.y=unpackRGBAToDepth(texture2D(depthBuffer1,vUv));
#else
depth.y=texture2D(depthBuffer1,vUv).r;
#ifdef LOG_DEPTH
float d=pow(2.0,depth.y*log2(cameraNearFar.y+1.0))-1.0;float a=cameraNearFar.y/(cameraNearFar.y-cameraNearFar.x);float b=cameraNearFar.y*cameraNearFar.x/(cameraNearFar.x-cameraNearFar.y);depth.y=a+b/d;
#endif
#endif
bool isMaxDepth=(depth.x==1.0);
#ifdef PERSPECTIVE_CAMERA
depth.x=viewZToOrthographicDepth(getViewZ(depth.x),cameraNearFar.x,cameraNearFar.y);depth.y=viewZToOrthographicDepth(getViewZ(depth.y),cameraNearFar.x,cameraNearFar.y);
#endif
#if DEPTH_TEST_STRATEGY == 0
bool keep=depthTest(depth.x,depth.y);
#elif DEPTH_TEST_STRATEGY == 1
bool keep=isMaxDepth||depthTest(depth.x,depth.y);
#else
bool keep=!isMaxDepth&&depthTest(depth.x,depth.y);
#endif
if(keep){gl_FragColor=texture2D(inputBuffer,vUv);}else{discard;}}`,cU=class extends Ht{constructor(){super({name:"DepthMaskMaterial",defines:{DEPTH_EPSILON:"0.0001",DEPTH_PACKING_0:"0",DEPTH_PACKING_1:"0",DEPTH_TEST_STRATEGY:rm.KEEP_MAX_DEPTH},uniforms:{inputBuffer:new le(null),depthBuffer0:new le(null),depthBuffer1:new le(null),cameraNearFar:new le(new ue(1,1))},blending:On,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:uoe,vertexShader:Vf}),this.depthMode=fv}set depthBuffer0(t){this.uniforms.depthBuffer0.value=t}set depthPacking0(t){this.defines.DEPTH_PACKING_0=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer0(t,e=$r){this.depthBuffer0=t,this.depthPacking0=e}set depthBuffer1(t){this.uniforms.depthBuffer1.value=t}set depthPacking1(t){this.defines.DEPTH_PACKING_1=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer1(t,e=$r){this.depthBuffer1=t,this.depthPacking1=e}get maxDepthStrategy(){return Number(this.defines.DEPTH_TEST_STRATEGY)}set maxDepthStrategy(t){this.defines.DEPTH_TEST_STRATEGY=t.toFixed(0),this.needsUpdate=!0}get keepFar(){return this.maxDepthStrategy}set keepFar(t){this.maxDepthStrategy=t?rm.KEEP_MAX_DEPTH:rm.DISCARD_MAX_DEPTH}getMaxDepthStrategy(){return this.maxDepthStrategy}setMaxDepthStrategy(t){this.maxDepthStrategy=t}get epsilon(){return Number(this.defines.DEPTH_EPSILON)}set epsilon(t){this.defines.DEPTH_EPSILON=t.toFixed(16),this.needsUpdate=!0}getEpsilon(){return this.epsilon}setEpsilon(t){this.epsilon=t}get depthMode(){return Number(this.defines.DEPTH_MODE)}set depthMode(t){let e;switch(t){case K7:e="false";break;case J7:e="true";break;case Rm:e="abs(d1 - d0) <= DEPTH_EPSILON";break;case h5:e="abs(d1 - d0) > DEPTH_EPSILON";break;case fv:e="d0 > d1";break;case Cm:e="d0 >= d1";break;case Z7:e="d0 <= d1";break;case Q7:default:e="d0 < d1";break}this.defines.DEPTH_MODE=t.toFixed(0),this.defines["depthTest(d0, d1)"]=e,this.needsUpdate=!0}getDepthMode(){return this.depthMode}setDepthMode(t){this.depthMode=t}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNearFar.value.set(t.near,t.far),t instanceof hn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},coe=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#define WEIGHT_INNER 0.125
#define WEIGHT_OUTER 0.0555555
varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;
#include <colorspace_fragment>
}`,foe="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}",hoe=class extends Ht{constructor(){super({name:"DownsamplingMaterial",uniforms:{inputBuffer:new le(null),texelSize:new le(new ue)},blending:On,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:coe,vertexShader:foe}),this.fragmentShader=I1(this.fragmentShader)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},doe=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if THREE_REVISION >= 137
vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE gl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
}`,poe="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}",moe=class extends Ht{constructor(t,e,n,r,i=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:Ha.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new le(null),depthBuffer:new le(null),resolution:new le(new ue),texelSize:new le(new ue),cameraNear:new le(.3),cameraFar:new le(1e3),aspect:new le(1),time:new le(0)},blending:On,toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:i}),t&&this.setShaderParts(t),e&&this.setDefines(e),n&&this.setUniforms(n),this.copyCameraSettings(r)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(t){this.uniforms.depthBuffer.value=t}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=$r){this.depthBuffer=t,this.depthPacking=e}setShaderData(t){this.setShaderParts(t.shaderParts),this.setDefines(t.defines),this.setUniforms(t.uniforms),this.setExtensions(t.extensions)}setShaderParts(t){return this.fragmentShader=doe.replace(un.FRAGMENT_HEAD,t.get(un.FRAGMENT_HEAD)||"").replace(un.FRAGMENT_MAIN_UV,t.get(un.FRAGMENT_MAIN_UV)||"").replace(un.FRAGMENT_MAIN_IMAGE,t.get(un.FRAGMENT_MAIN_IMAGE)||""),this.vertexShader=poe.replace(un.VERTEX_HEAD,t.get(un.VERTEX_HEAD)||"").replace(un.VERTEX_MAIN_SUPPORT,t.get(un.VERTEX_MAIN_SUPPORT)||""),this.fragmentShader=I1(this.fragmentShader),this.needsUpdate=!0,this}setDefines(t){for(const e of t.entries())this.defines[e[0]]=e[1];return this.needsUpdate=!0,this}setUniforms(t){for(const e of t.entries())this.uniforms[e[0]]=e[1];return this}setExtensions(t){this.extensions={};for(const e of t)this.extensions[e]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(t){this.encodeOutput!==t&&(t?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(t){return this.encodeOutput}setOutputEncodingEnabled(t){this.encodeOutput=t}get time(){return this.uniforms.time.value}set time(t){this.uniforms.time.value=t}setDeltaTime(t){this.uniforms.time.value+=t}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof hn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(t,e){const n=this.uniforms;n.resolution.value.set(t,e),n.texelSize.value.set(1/t,1/e),n.aspect.value=t/e}static get Section(){return un}},goe=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform vec2 lightPosition;uniform float exposure;uniform float decay;uniform float density;uniform float weight;uniform float clampMax;varying vec2 vUv;void main(){vec2 coord=vUv;vec2 delta=lightPosition-coord;delta*=1.0/SAMPLES_FLOAT*density;float illuminationDecay=1.0;vec4 color=vec4(0.0);for(int i=0;i<SAMPLES_INT;++i){coord+=delta;vec4 texel=texture2D(inputBuffer,coord);texel*=illuminationDecay*weight;color+=texel;illuminationDecay*=decay;}gl_FragColor=clamp(color*exposure,0.0,clampMax);
#include <dithering_fragment>
}`,voe=class extends Ht{constructor(t){super({name:"GodRaysMaterial",defines:{SAMPLES_INT:"60",SAMPLES_FLOAT:"60.0"},uniforms:{inputBuffer:new le(null),lightPosition:new le(t),density:new le(1),decay:new le(1),weight:new le(1),exposure:new le(1),clampMax:new le(1)},blending:On,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:goe,vertexShader:Vf})}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get lightPosition(){return this.uniforms.lightPosition.value}getLightPosition(){return this.uniforms.lightPosition.value}setLightPosition(t){this.uniforms.lightPosition.value=t}get density(){return this.uniforms.density.value}set density(t){this.uniforms.density.value=t}getDensity(){return this.uniforms.density.value}setDensity(t){this.uniforms.density.value=t}get decay(){return this.uniforms.decay.value}set decay(t){this.uniforms.decay.value=t}getDecay(){return this.uniforms.decay.value}setDecay(t){this.uniforms.decay.value=t}get weight(){return this.uniforms.weight.value}set weight(t){this.uniforms.weight.value=t}getWeight(){return this.uniforms.weight.value}setWeight(t){this.uniforms.weight.value=t}get exposure(){return this.uniforms.exposure.value}set exposure(t){this.uniforms.exposure.value=t}getExposure(){return this.uniforms.exposure.value}setExposure(t){this.uniforms.exposure.value=t}get maxIntensity(){return this.uniforms.clampMax.value}set maxIntensity(t){this.uniforms.clampMax.value=t}getMaxIntensity(){return this.uniforms.clampMax.value}setMaxIntensity(t){this.uniforms.clampMax.value=t}get samples(){return Number(this.defines.SAMPLES_INT)}set samples(t){const e=Math.floor(t);this.defines.SAMPLES_INT=e.toFixed(0),this.defines.SAMPLES_FLOAT=e.toFixed(1),this.needsUpdate=!0}getSamples(){return this.samples}setSamples(t){this.samples=t}},yoe=`#include <common>
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);l*=low*high;
#elif defined(THRESHOLD)
l=smoothstep(threshold,threshold+smoothing,l);
#endif
#ifdef COLOR
gl_FragColor=vec4(texel.rgb*l,l);
#else
gl_FragColor=vec4(l);
#endif
}`,xoe=class extends Ht{constructor(t=!1,e=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:Ha.replace(/\D+/g,"")},uniforms:{inputBuffer:new le(null),threshold:new le(0),smoothing:new le(1),range:new le(null)},blending:On,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:yoe,vertexShader:Vf}),this.colorOutput=t,this.luminanceRange=e}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get threshold(){return this.uniforms.threshold.value}set threshold(t){this.smoothing>0||t>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=t}getThreshold(){return this.threshold}setThreshold(t){this.threshold=t}get smoothing(){return this.uniforms.smoothing.value}set smoothing(t){this.threshold>0||t>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=t}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(t){this.smoothing=t}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(t){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(t){t?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(t){return this.colorOutput}setColorOutputEnabled(t){this.colorOutput=t}get useRange(){return this.luminanceRange!==null}set useRange(t){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(t){t!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=t,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(t){this.luminanceRange=t}},Soe=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef MASK_PRECISION_HIGH
uniform mediump sampler2D maskTexture;
#else
uniform lowp sampler2D maskTexture;
#endif
#if MASK_FUNCTION != 0
uniform float strength;
#endif
varying vec2 vUv;void main(){
#if COLOR_CHANNEL == 0
float mask=texture2D(maskTexture,vUv).r;
#elif COLOR_CHANNEL == 1
float mask=texture2D(maskTexture,vUv).g;
#elif COLOR_CHANNEL == 2
float mask=texture2D(maskTexture,vUv).b;
#else
float mask=texture2D(maskTexture,vUv).a;
#endif
#if MASK_FUNCTION == 0
#ifdef INVERTED
mask=step(mask,0.0);
#else
mask=1.0-step(mask,0.0);
#endif
#else
mask=clamp(mask*strength,0.0,1.0);
#ifdef INVERTED
mask=1.0-mask;
#endif
#endif
#if MASK_FUNCTION == 3
vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=vec4(mask*texel.rgb,texel.a);
#elif MASK_FUNCTION == 2
gl_FragColor=vec4(mask*texture2D(inputBuffer,vUv).rgb,mask);
#else
gl_FragColor=mask*texture2D(inputBuffer,vUv);
#endif
}`,_oe=class extends Ht{constructor(t=null){super({name:"MaskMaterial",uniforms:{maskTexture:new le(t),inputBuffer:new le(null),strength:new le(1)},blending:On,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Soe,vertexShader:Vf}),this.colorChannel=ld.RED,this.maskFunction=l_.DISCARD}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}set maskTexture(t){this.uniforms.maskTexture.value=t,delete this.defines.MASK_PRECISION_HIGH,t.type!==bn&&(this.defines.MASK_PRECISION_HIGH="1"),this.needsUpdate=!0}setMaskTexture(t){this.maskTexture=t}set colorChannel(t){this.defines.COLOR_CHANNEL=t.toFixed(0),this.needsUpdate=!0}setColorChannel(t){this.colorChannel=t}set maskFunction(t){this.defines.MASK_FUNCTION=t.toFixed(0),this.needsUpdate=!0}setMaskFunction(t){this.maskFunction=t}get inverted(){return this.defines.INVERTED!==void 0}set inverted(t){this.inverted&&!t?delete this.defines.INVERTED:t&&(this.defines.INVERTED="1"),this.needsUpdate=!0}isInverted(){return this.inverted}setInverted(t){this.inverted=t}get strength(){return this.uniforms.strength.value}set strength(t){this.uniforms.strength.value=t}getStrength(){return this.strength}setStrength(t){this.strength=t}},woe="uniform lowp sampler2D inputBuffer;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 c0=texture2D(inputBuffer,vUv0).rg;vec2 c1=texture2D(inputBuffer,vUv1).rg;vec2 c2=texture2D(inputBuffer,vUv2).rg;vec2 c3=texture2D(inputBuffer,vUv3).rg;float d0=(c0.x-c1.x)*0.5;float d1=(c2.x-c3.x)*0.5;float d=length(vec2(d0,d1));float a0=min(c0.y,c1.y);float a1=min(c2.y,c3.y);float visibilityFactor=min(a0,a1);gl_FragColor.rg=(1.0-visibilityFactor>0.001)?vec2(d,0.0):vec2(0.0,d);}",Eoe="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=vec2(uv.x+texelSize.x,uv.y);vUv1=vec2(uv.x-texelSize.x,uv.y);vUv2=vec2(uv.x,uv.y+texelSize.y);vUv3=vec2(uv.x,uv.y-texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}",boe=class extends Ht{constructor(t=new ue){super({name:"OutlineMaterial",uniforms:{inputBuffer:new le(null),texelSize:new le(new ue)},blending:On,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:woe,vertexShader:Eoe}),this.uniforms.texelSize.value.set(t.x,t.y),this.uniforms.maskTexture=this.uniforms.inputBuffer}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},Moe=`#include <common>
#include <packing>
#ifdef NORMAL_DEPTH
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D normalDepthBuffer;
#else
uniform mediump sampler2D normalDepthBuffer;
#endif
float readDepth(const in vec2 uv){return texture2D(normalDepthBuffer,uv).a;}
#else
uniform lowp sampler2D normalBuffer;
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}
#endif
uniform lowp sampler2D noiseTexture;uniform mat4 inverseProjectionMatrix;uniform mat4 projectionMatrix;uniform vec2 texelSize;uniform vec2 cameraNearFar;uniform float intensity;uniform float minRadiusScale;uniform float fade;uniform float bias;uniform vec2 distanceCutoff;uniform vec2 proximityCutoff;varying vec2 vUv;varying vec2 vUv2;float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#else
return orthographicDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#endif
}vec3 getViewPosition(const in vec2 screenPosition,const in float depth,const in float viewZ){vec4 clipPosition=vec4(vec3(screenPosition,depth)*2.0-1.0,1.0);float clipW=projectionMatrix[2][3]*viewZ+projectionMatrix[3][3];clipPosition*=clipW;return(inverseProjectionMatrix*clipPosition).xyz;}float getAmbientOcclusion(const in vec3 p,const in vec3 n,const in float depth,const in vec2 uv){float radiusScale=1.0-smoothstep(0.0,distanceCutoff.y,depth);radiusScale=radiusScale*(1.0-minRadiusScale)+minRadiusScale;float radius=RADIUS*radiusScale;float noise=texture2D(noiseTexture,vUv2).r;float baseAngle=noise*PI2;float rings=SPIRAL_TURNS*PI2;float occlusion=0.0;int taps=0;for(int i=0;i<SAMPLES_INT;++i){float alpha=(float(i)+0.5)*INV_SAMPLES_FLOAT;float angle=alpha*rings+baseAngle;vec2 rotation=vec2(cos(angle),sin(angle));vec2 coords=alpha*radius*rotation*texelSize+uv;if(coords.s<0.0||coords.s>1.0||coords.t<0.0||coords.t>1.0){continue;}float sampleDepth=readDepth(coords);float viewZ=getViewZ(sampleDepth);
#ifdef PERSPECTIVE_CAMERA
float linearSampleDepth=viewZToOrthographicDepth(viewZ,cameraNearFar.x,cameraNearFar.y);
#else
float linearSampleDepth=sampleDepth;
#endif
float proximity=abs(depth-linearSampleDepth);if(proximity<proximityCutoff.y){float falloff=1.0-smoothstep(proximityCutoff.x,proximityCutoff.y,proximity);vec3 Q=getViewPosition(coords,sampleDepth,viewZ);vec3 v=Q-p;float vv=dot(v,v);float vn=dot(v,n)-bias;float f=max(RADIUS_SQ-vv,0.0)/RADIUS_SQ;occlusion+=(f*f*f*max(vn/(fade+vv),0.0))*falloff;}++taps;}return occlusion/(4.0*max(float(taps),1.0));}void main(){
#ifdef NORMAL_DEPTH
vec4 normalDepth=texture2D(normalDepthBuffer,vUv);
#else
vec4 normalDepth=vec4(texture2D(normalBuffer,vUv).xyz,readDepth(vUv));
#endif
float ao=0.0;float depth=normalDepth.a;float viewZ=getViewZ(depth);
#ifdef PERSPECTIVE_CAMERA
float linearDepth=viewZToOrthographicDepth(viewZ,cameraNearFar.x,cameraNearFar.y);
#else
float linearDepth=depth;
#endif
if(linearDepth<distanceCutoff.y){vec3 viewPosition=getViewPosition(vUv,depth,viewZ);vec3 viewNormal=unpackRGBToNormal(normalDepth.rgb);ao+=getAmbientOcclusion(viewPosition,viewNormal,linearDepth,vUv);float d=smoothstep(distanceCutoff.x,distanceCutoff.y,linearDepth);ao=mix(ao,0.0,d);
#ifdef LEGACY_INTENSITY
ao=clamp(1.0-pow(1.0-ao,abs(intensity)),0.0,1.0);
#endif
}gl_FragColor.r=ao;}`,Toe="uniform vec2 noiseScale;varying vec2 vUv;varying vec2 vUv2;void main(){vUv=position.xy*0.5+0.5;vUv2=vUv*noiseScale;gl_Position=vec4(position.xy,1.0,1.0);}",Aoe=class extends Ht{constructor(t){super({name:"SSAOMaterial",defines:{SAMPLES_INT:"0",INV_SAMPLES_FLOAT:"0.0",SPIRAL_TURNS:"0.0",RADIUS:"1.0",RADIUS_SQ:"1.0",DISTANCE_SCALING:"1",DEPTH_PACKING:"0"},uniforms:{depthBuffer:new le(null),normalBuffer:new le(null),normalDepthBuffer:new le(null),noiseTexture:new le(null),inverseProjectionMatrix:new le(new rt),projectionMatrix:new le(new rt),texelSize:new le(new ue),cameraNearFar:new le(new ue),distanceCutoff:new le(new ue),proximityCutoff:new le(new ue),noiseScale:new le(new ue),minRadiusScale:new le(.33),intensity:new le(1),fade:new le(.01),bias:new le(0)},blending:On,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Moe,vertexShader:Toe}),this.copyCameraSettings(t),this.resolution=new ue,this.r=1}get near(){return this.uniforms.cameraNearFar.value.x}get far(){return this.uniforms.cameraNearFar.value.y}set normalDepthBuffer(t){this.uniforms.normalDepthBuffer.value=t,t!==null?this.defines.NORMAL_DEPTH="1":delete this.defines.NORMAL_DEPTH,this.needsUpdate=!0}setNormalDepthBuffer(t){this.normalDepthBuffer=t}set normalBuffer(t){this.uniforms.normalBuffer.value=t}setNormalBuffer(t){this.uniforms.normalBuffer.value=t}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=$r){this.depthBuffer=t,this.depthPacking=e}set noiseTexture(t){this.uniforms.noiseTexture.value=t}setNoiseTexture(t){this.uniforms.noiseTexture.value=t}get samples(){return Number(this.defines.SAMPLES_INT)}set samples(t){this.defines.SAMPLES_INT=t.toFixed(0),this.defines.INV_SAMPLES_FLOAT=(1/t).toFixed(9),this.needsUpdate=!0}getSamples(){return this.samples}setSamples(t){this.samples=t}get rings(){return Number(this.defines.SPIRAL_TURNS)}set rings(t){this.defines.SPIRAL_TURNS=t.toFixed(1),this.needsUpdate=!0}getRings(){return this.rings}setRings(t){this.rings=t}get intensity(){return this.uniforms.intensity.value}set intensity(t){this.uniforms.intensity.value=t,this.defines.LEGACY_INTENSITY===void 0&&(this.defines.LEGACY_INTENSITY="1",this.needsUpdate=!0)}getIntensity(){return this.uniforms.intensity.value}setIntensity(t){this.uniforms.intensity.value=t}get fade(){return this.uniforms.fade.value}set fade(t){this.uniforms.fade.value=t}getFade(){return this.uniforms.fade.value}setFade(t){this.uniforms.fade.value=t}get bias(){return this.uniforms.bias.value}set bias(t){this.uniforms.bias.value=t}getBias(){return this.uniforms.bias.value}setBias(t){this.uniforms.bias.value=t}get minRadiusScale(){return this.uniforms.minRadiusScale.value}set minRadiusScale(t){this.uniforms.minRadiusScale.value=t}getMinRadiusScale(){return this.uniforms.minRadiusScale.value}setMinRadiusScale(t){this.uniforms.minRadiusScale.value=t}updateRadius(){const t=this.r*this.resolution.height;this.defines.RADIUS=t.toFixed(11),this.defines.RADIUS_SQ=(t*t).toFixed(11),this.needsUpdate=!0}get radius(){return this.r}set radius(t){this.r=Math.min(Math.max(t,1e-6),1),this.updateRadius()}getRadius(){return this.radius}setRadius(t){this.radius=t}get distanceScaling(){return!0}set distanceScaling(t){}isDistanceScalingEnabled(){return this.distanceScaling}setDistanceScalingEnabled(t){this.distanceScaling=t}get distanceThreshold(){return this.uniforms.distanceCutoff.value.x}set distanceThreshold(t){this.uniforms.distanceCutoff.value.set(Math.min(Math.max(t,0),1),Math.min(Math.max(t+this.distanceFalloff,0),1))}get worldDistanceThreshold(){return-ud(this.distanceThreshold,this.near,this.far)}set worldDistanceThreshold(t){this.distanceThreshold=lf(-t,this.near,this.far)}get distanceFalloff(){return this.uniforms.distanceCutoff.value.y-this.distanceThreshold}set distanceFalloff(t){this.uniforms.distanceCutoff.value.y=Math.min(Math.max(this.distanceThreshold+t,0),1)}get worldDistanceFalloff(){return-ud(this.distanceFalloff,this.near,this.far)}set worldDistanceFalloff(t){this.distanceFalloff=lf(-t,this.near,this.far)}setDistanceCutoff(t,e){this.uniforms.distanceCutoff.value.set(Math.min(Math.max(t,0),1),Math.min(Math.max(t+e,0),1))}get proximityThreshold(){return this.uniforms.proximityCutoff.value.x}set proximityThreshold(t){this.uniforms.proximityCutoff.value.set(Math.min(Math.max(t,0),1),Math.min(Math.max(t+this.proximityFalloff,0),1))}get worldProximityThreshold(){return-ud(this.proximityThreshold,this.near,this.far)}set worldProximityThreshold(t){this.proximityThreshold=lf(-t,this.near,this.far)}get proximityFalloff(){return this.uniforms.proximityCutoff.value.y-this.proximityThreshold}set proximityFalloff(t){this.uniforms.proximityCutoff.value.y=Math.min(Math.max(this.proximityThreshold+t,0),1)}get worldProximityFalloff(){return-ud(this.proximityFalloff,this.near,this.far)}set worldProximityFalloff(t){this.proximityFalloff=lf(-t,this.near,this.far)}setProximityCutoff(t,e){this.uniforms.proximityCutoff.value.set(Math.min(Math.max(t,0),1),Math.min(Math.max(t+e,0),1))}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNearFar.value.set(t.near,t.far),this.uniforms.projectionMatrix.value.copy(t.projectionMatrix),this.uniforms.inverseProjectionMatrix.value.copy(t.projectionMatrix).invert(),t instanceof hn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(t,e){const n=this.uniforms,r=n.noiseTexture.value;r!==null&&n.noiseScale.value.set(t/r.image.width,e/r.image.height),n.texelSize.value.set(1/t,1/e),this.resolution.set(t,e),this.updateRadius()}},Coe=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;
#else
uniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;
#endif
uniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);
#include <colorspace_fragment>
}`,Roe="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}",Poe=class extends Ht{constructor(){super({name:"UpsamplingMaterial",uniforms:{inputBuffer:new le(null),supportBuffer:new le(null),texelSize:new le(new ue),radius:new le(.85)},blending:On,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Coe,vertexShader:Roe}),this.fragmentShader=I1(this.fragmentShader)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}set supportBuffer(t){this.uniforms.supportBuffer.value=t}get radius(){return this.uniforms.radius.value}set radius(t){this.uniforms.radius.value=t}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},Doe=new op,du=null;function Loe(){if(du===null){const t=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),e=new Float32Array([0,0,2,0,0,2]);du=new Lt,du.setAttribute!==void 0?(du.setAttribute("position",new Zt(t,3)),du.setAttribute("uv",new Zt(e,2))):(du.addAttribute("position",new Zt(t,3)),du.addAttribute("uv",new Zt(e,2)))}return du}var Rr=class fU{constructor(e="Pass",n=new Il,r=Doe){this.name=e,this.renderer=null,this.scene=n,this.camera=r,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){const n=this.fullscreenMaterial;n!==null&&(n.needsUpdate=!0),this.rtt=!e}}set mainScene(e){}set mainCamera(e){}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(e){let n=this.screen;n!==null?n.material=e:(n=new Un(Loe(),e),n.frustumCulled=!1,this.scene===null&&(this.scene=new Il),this.scene.add(n),this.screen=n)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e,n=$r){}render(e,n,r,i,s){throw new Error("Render method not implemented!")}setSize(e,n){}initialize(e,n,r){}dispose(){for(const e of Object.keys(this)){const n=this[e];(n instanceof Qt||n instanceof ur||n instanceof gn||n instanceof fU)&&this[e].dispose()}}},hU=class extends Rr{constructor(t,e=!0){super("CopyPass"),this.fullscreenMaterial=new uU,this.needsSwap=!1,this.renderTarget=t,t===void 0&&(this.renderTarget=new Qt(1,1,{minFilter:ht,magFilter:ht,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=e}get resize(){return this.autoResize}set resize(t){this.autoResize=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(t){this.autoResize=t}render(t,e,n,r,i){this.fullscreenMaterial.inputBuffer=e.texture,t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){this.autoResize&&this.renderTarget.setSize(t,e)}initialize(t,e,n){n!==void 0&&(this.renderTarget.texture.type=n,n!==bn?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":Ul(t)===dn&&Ur(this.renderTarget.texture,dn))}},Ioe=class extends Rr{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(t,e,n,r,i){const s=t.state.buffers.stencil;s.setLocked(!1),s.setTest(!1)}},eC=new Xe,B1=class extends Rr{constructor(t=!0,e=!0,n=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=t,this.depth=e,this.stencil=n,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(t,e,n){this.color=t,this.depth=e,this.stencil=n}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(t){this.overrideClearColor=t}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(t){this.overrideClearAlpha=t}render(t,e,n,r,i){const s=this.overrideClearColor,o=this.overrideClearAlpha,a=t.getClearAlpha(),l=s!==null,u=o>=0;l?(t.getClearColor(eC),t.setClearColor(s,u?o:a)):u&&t.setClearAlpha(o),t.setRenderTarget(this.renderToScreen?null:e),t.clear(this.color,this.depth,this.stencil),l?t.setClearColor(eC,a):u&&t.setClearAlpha(a)}},gp=class extends Rr{constructor(t,e,n=null){super("RenderPass",t,e),this.needsSwap=!1,this.clearPass=new B1,this.overrideMaterialManager=n===null?null:new nC(n),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(t){this.scene=t}set mainCamera(t){this.camera=t}get renderToScreen(){return super.renderToScreen}set renderToScreen(t){super.renderToScreen=t,this.clearPass.renderToScreen=t}get overrideMaterial(){const t=this.overrideMaterialManager;return t!==null?t.material:null}set overrideMaterial(t){const e=this.overrideMaterialManager;t!==null?e!==null?e.setMaterial(t):this.overrideMaterialManager=new nC(t):e!==null&&(e.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(t){this.overrideMaterial=t}get clear(){return this.clearPass.enabled}set clear(t){this.clearPass.enabled=t}getSelection(){return this.selection}setSelection(t){this.selection=t}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(t){this.ignoreBackground=t}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(t){this.skipShadowMapUpdate=t}getClearPass(){return this.clearPass}render(t,e,n,r,i){const s=this.scene,o=this.camera,a=this.selection,l=o.layers.mask,u=s.background,c=t.shadowMap.autoUpdate,f=this.renderToScreen?null:e;a!==null&&o.layers.set(a.getLayer()),this.skipShadowMapUpdate&&(t.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(s.background=null),this.clearPass.enabled&&this.clearPass.render(t,e),t.setRenderTarget(f),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(t,s,o):t.render(s,o),o.layers.mask=l,s.background=u,t.shadowMap.autoUpdate=c}},c_=class extends Rr{constructor(t,e,{renderTarget:n,resolutionScale:r=1,width:i=pn.AUTO_SIZE,height:s=pn.AUTO_SIZE,resolutionX:o=i,resolutionY:a=s}={}){super("DepthPass"),this.needsSwap=!1,this.renderPass=new gp(t,e,new v1({depthPacking:$o}));const l=this.renderPass;l.skipShadowMapUpdate=!0,l.ignoreBackground=!0;const u=l.clearPass;u.overrideClearColor=new Xe(16777215),u.overrideClearAlpha=1,this.renderTarget=n,this.renderTarget===void 0&&(this.renderTarget=new Qt(1,1,{minFilter:Dt,magFilter:Dt}),this.renderTarget.texture.name="DepthPass.Target");const c=this.resolution=new pn(this,o,a,r);c.addEventListener("change",f=>this.setSize(c.baseWidth,c.baseHeight))}set mainScene(t){this.renderPass.mainScene=t}set mainCamera(t){this.renderPass.mainCamera=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,n,r,i){const s=this.renderToScreen?null:this.renderTarget;this.renderPass.render(t,s)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height)}},dU=class extends Rr{constructor({normalBuffer:t=null,resolutionScale:e=.5,width:n=pn.AUTO_SIZE,height:r=pn.AUTO_SIZE,resolutionX:i=n,resolutionY:s=r}={}){super("DepthDownsamplingPass");const o=new loe;o.normalBuffer=t,this.fullscreenMaterial=o,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new Qt(1,1,{minFilter:Dt,magFilter:Dt,depthBuffer:!1,type:Jn}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;const a=this.resolution=new pn(this,i,s,e);a.addEventListener("change",l=>this.setSize(a.baseWidth,a.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(t,e=$r){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.depthPacking=e}render(t,e,n,r,i){t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height),this.fullscreenMaterial.setSize(t,e)}initialize(t,e,n){const r=t.getContext();if(!(r.getExtension("EXT_color_buffer_float")||r.getExtension("EXT_color_buffer_half_float")))throw new Error("Rendering to float texture is not supported.")}},Boe=class extends Rr{constructor({depthPacking:t=$o}={}){super("DepthCopyPass");const e=new soe;e.outputDepthPacking=t,this.fullscreenMaterial=e,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new Qt(1,1,{type:t===$o?bn:Jn,minFilter:Dt,magFilter:Dt,depthBuffer:!1}),this.renderTarget.texture.name="DepthCopyPass.Target"}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}get depthPacking(){return this.fullscreenMaterial.outputDepthPacking}getDepthPacking(){return this.fullscreenMaterial.outputDepthPacking}setDepthTexture(t,e=$r){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.inputDepthPacking=e}render(t,e,n,r,i){t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){this.renderTarget.setSize(t,e)}},J2=new Float32Array([255/256/256**3,255/256/256**2,255/256/256,255/256]);function Foe(t){return(t[0]*J2[0]+t[1]*J2[1]+t[2]*J2[2]+t[3]*J2[3])/255}var Uoe=class extends Boe{constructor({depthPacking:t=$o,mode:e=O0.SINGLE}={}){super({depthPacking:t}),this.name="DepthPickingPass",this.fullscreenMaterial.mode=e,this.pixelBuffer=t===$o?new Uint8Array(4):new Float32Array(4),this.callback=null}readDepth(t){return this.fullscreenMaterial.texelPosition.set(t.x*.5+.5,t.y*.5+.5),new Promise(e=>{this.callback=e})}render(t,e,n,r,i){const s=this.fullscreenMaterial,o=s.mode;if(o===O0.FULL&&super.render(t),this.callback!==null){const a=this.renderTarget,l=this.pixelBuffer,u=a.texture.type!==Jn;let c=0,f=0;if(o===O0.SINGLE)super.render(t);else{const h=s.texelPosition;c=Math.round(h.x*a.width),f=Math.round(h.y*a.height)}t.readRenderTargetPixels(a,c,f,1,1,l),this.callback(u?Foe(l):l[0]),this.callback=null}}setSize(t,e){this.fullscreenMaterial.mode===O0.FULL&&super.setSize(t,e)}};function tC(t,e,n){for(const r of e){const i="$1"+t+r.charAt(0).toUpperCase()+r.slice(1),s=new RegExp("([^\\.])(\\b"+r+"\\b)","g");for(const o of n.entries())o[1]!==null&&n.set(o[0],o[1].replace(s,i))}}function Ooe(t,e,n){let r=e.getFragmentShader(),i=e.getVertexShader();const s=r!==void 0&&/mainImage/.test(r),o=r!==void 0&&/mainUv/.test(r);if(n.attributes|=e.getAttributes(),r===void 0)throw new Error(`Missing fragment shader (${e.name})`);if(o&&n.attributes&Zo.CONVOLUTION)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${e.name})`);if(!s&&!o)throw new Error(`Could not find mainImage or mainUv function (${e.name})`);{const a=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,l=n.shaderParts;let u=l.get(un.FRAGMENT_HEAD)||"",c=l.get(un.FRAGMENT_MAIN_UV)||"",f=l.get(un.FRAGMENT_MAIN_IMAGE)||"",h=l.get(un.VERTEX_HEAD)||"",p=l.get(un.VERTEX_MAIN_SUPPORT)||"";const g=new Set,x=new Set;if(o&&(c+=`	${t}MainUv(UV);
`,n.uvTransformation=!0),i!==null&&/mainSupport/.test(i)){const S=/mainSupport *\([\w\s]*?uv\s*?\)/.test(i);p+=`	${t}MainSupport(`,p+=S?`vUv);
`:`);
`;for(const _ of i.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const E of _[1].split(/\s*,\s*/))n.varyings.add(E),g.add(E),x.add(E);for(const _ of i.matchAll(a))x.add(_[1])}for(const S of r.matchAll(a))x.add(S[1]);for(const S of e.defines.keys())x.add(S.replace(/\([\w\s,]*\)/g,""));for(const S of e.uniforms.keys())x.add(S);x.delete("while"),x.delete("for"),x.delete("if"),e.uniforms.forEach((S,_)=>n.uniforms.set(t+_.charAt(0).toUpperCase()+_.slice(1),S)),e.defines.forEach((S,_)=>n.defines.set(t+_.charAt(0).toUpperCase()+_.slice(1),S));const y=new Map([["fragment",r],["vertex",i]]);tC(t,x,n.defines),tC(t,x,y),r=y.get("fragment"),i=y.get("vertex");const v=e.blendMode;if(n.blendModes.set(v.blendFunction,v),s){e.inputColorSpace!==null&&e.inputColorSpace!==n.colorSpace&&(f+=e.inputColorSpace===dn?`color0 = LinearTosRGB(color0);
	`:`color0 = sRGBToLinear(color0);
	`),e.outputColorSpace!==oU?n.colorSpace=e.outputColorSpace:e.inputColorSpace!==null&&(n.colorSpace=e.inputColorSpace);const S=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;f+=`${t}MainImage(color0, UV, `,n.attributes&Zo.DEPTH&&S.test(r)&&(f+="depth, ",n.readDepth=!0),f+=`color1);
	`;const _=t+"BlendOpacity";n.uniforms.set(_,v.opacity),f+=`color0 = blend${v.blendFunction}(color0, color1, ${_});

	`,u+=`uniform float ${_};

`}if(u+=r+`
`,i!==null&&(h+=i+`
`),l.set(un.FRAGMENT_HEAD,u),l.set(un.FRAGMENT_MAIN_UV,c),l.set(un.FRAGMENT_MAIN_IMAGE,f),l.set(un.VERTEX_HEAD,h),l.set(un.VERTEX_MAIN_SUPPORT,p),e.extensions!==null)for(const S of e.extensions)n.extensions.add(S)}}var koe=class extends Rr{constructor(t,...e){super("EffectPass"),this.fullscreenMaterial=new moe(null,null,null,t),this.listener=n=>this.handleEvent(n),this.effects=[],this.setEffects(e),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(t){for(const e of this.effects)e.mainScene=t}set mainCamera(t){this.fullscreenMaterial.copyCameraSettings(t);for(const e of this.effects)e.mainCamera=t}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(t){this.fullscreenMaterial.encodeOutput=t}get dithering(){return this.fullscreenMaterial.dithering}set dithering(t){const e=this.fullscreenMaterial;e.dithering=t,e.needsUpdate=!0}setEffects(t){for(const e of this.effects)e.removeEventListener("change",this.listener);this.effects=t.sort((e,n)=>n.attributes-e.attributes);for(const e of this.effects)e.addEventListener("change",this.listener)}updateMaterial(){const t=new Xoe;let e=0;for(const o of this.effects)if(o.blendMode.blendFunction===At.DST)t.attributes|=o.getAttributes()&Zo.DEPTH;else{if(t.attributes&o.getAttributes()&Zo.CONVOLUTION)throw new Error(`Convolution effects cannot be merged (${o.name})`);Ooe("e"+e++,o,t)}let n=t.shaderParts.get(un.FRAGMENT_HEAD),r=t.shaderParts.get(un.FRAGMENT_MAIN_IMAGE),i=t.shaderParts.get(un.FRAGMENT_MAIN_UV);const s=/\bblend\b/g;for(const o of t.blendModes.values())n+=o.getShaderCode().replace(s,`blend${o.blendFunction}`)+`
`;t.attributes&Zo.DEPTH?(t.readDepth&&(r=`float depth = readDepth(UV);

	`+r),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,t.colorSpace===dn&&(r+=`color0 = sRGBToLinear(color0);
	`),t.uvTransformation?(i=`vec2 transformedUv = vUv;
`+i,t.defines.set("UV","transformedUv")):t.defines.set("UV","vUv"),t.shaderParts.set(un.FRAGMENT_HEAD,n),t.shaderParts.set(un.FRAGMENT_MAIN_IMAGE,r),t.shaderParts.set(un.FRAGMENT_MAIN_UV,i);for(const[o,a]of t.shaderParts)a!==null&&t.shaderParts.set(o,a.trim().replace(/^#/,`
#`));this.skipRendering=e===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(t)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(t,e=$r){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.depthPacking=e;for(const n of this.effects)n.setDepthTexture(t,e)}render(t,e,n,r,i){for(const s of this.effects)s.update(t,e,r);if(!this.skipRendering||this.renderToScreen){const s=this.fullscreenMaterial;s.inputBuffer=e.texture,s.time+=r*this.timeScale,t.setRenderTarget(this.renderToScreen?null:n),t.render(this.scene,this.camera)}}setSize(t,e){this.fullscreenMaterial.setSize(t,e);for(const n of this.effects)n.setSize(t,e)}initialize(t,e,n){this.renderer=t;for(const r of this.effects)r.initialize(t,e,n);this.updateMaterial(),n!==void 0&&n!==bn&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const t of this.effects)t.removeEventListener("change",this.listener),t.dispose()}handleEvent(t){switch(t.type){case"change":this.recompile();break}}},$5=class extends Rr{constructor({kernelSize:t=mp.MEDIUM,resolutionScale:e=.5,width:n=pn.AUTO_SIZE,height:r=pn.AUTO_SIZE,resolutionX:i=n,resolutionY:s=r}={}){super("KawaseBlurPass"),this.renderTargetA=new Qt(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const o=this.resolution=new pn(this,i,s,e);o.addEventListener("change",a=>this.setSize(o.baseWidth,o.baseHeight)),this._blurMaterial=new qse,this._blurMaterial.kernelSize=t,this.copyMaterial=new uU}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(t){this._blurMaterial=t}get dithering(){return this.copyMaterial.dithering}set dithering(t){this.copyMaterial.dithering=t}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(t){this.blurMaterial.kernelSize=t}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get scale(){return this.blurMaterial.scale}set scale(t){this.blurMaterial.scale=t}getScale(){return this.blurMaterial.scale}setScale(t){this.blurMaterial.scale=t}getKernelSize(){return this.kernelSize}setKernelSize(t){this.kernelSize=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,n,r,i){const s=this.scene,o=this.camera,a=this.renderTargetA,l=this.renderTargetB,u=this.blurMaterial,c=u.kernelSequence;let f=e;this.fullscreenMaterial=u;for(let h=0,p=c.length;h<p;++h){const g=h&1?l:a;u.kernel=c[h],u.inputBuffer=f.texture,t.setRenderTarget(g),t.render(s,o),f=g}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=f.texture,t.setRenderTarget(this.renderToScreen?null:n),t.render(s,o)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.renderTargetA.setSize(r,i),this.renderTargetB.setSize(r,i),this.blurMaterial.setSize(t,e)}initialize(t,e,n){n!==void 0&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n,n!==bn?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):Ul(t)===dn&&(Ur(this.renderTargetA.texture,dn),Ur(this.renderTargetB.texture,dn)))}static get AUTO_SIZE(){return pn.AUTO_SIZE}},Noe=class extends Rr{constructor({renderTarget:t,luminanceRange:e,colorOutput:n,resolutionScale:r=1,width:i=pn.AUTO_SIZE,height:s=pn.AUTO_SIZE,resolutionX:o=i,resolutionY:a=s}={}){super("LuminancePass"),this.fullscreenMaterial=new xoe(n,e),this.needsSwap=!1,this.renderTarget=t,this.renderTarget===void 0&&(this.renderTarget=new Qt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target");const l=this.resolution=new pn(this,o,a,r);l.addEventListener("change",u=>this.setSize(l.baseWidth,l.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(t,e,n,r,i){const s=this.fullscreenMaterial;s.inputBuffer=e.texture,t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height)}initialize(t,e,n){n!==void 0&&n!==bn&&(this.renderTarget.texture.type=n,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},zoe=class extends Rr{constructor(t,e){super("MaskPass",t,e),this.needsSwap=!1,this.clearPass=new B1(!1,!1,!0),this.inverse=!1}set mainScene(t){this.scene=t}set mainCamera(t){this.camera=t}get inverted(){return this.inverse}set inverted(t){this.inverse=t}get clear(){return this.clearPass.enabled}set clear(t){this.clearPass.enabled=t}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(t){this.inverted=t}render(t,e,n,r,i){const s=t.getContext(),o=t.state.buffers,a=this.scene,l=this.camera,u=this.clearPass,c=this.inverted?0:1,f=1-c;o.color.setMask(!1),o.depth.setMask(!1),o.color.setLocked(!0),o.depth.setLocked(!0),o.stencil.setTest(!0),o.stencil.setOp(s.REPLACE,s.REPLACE,s.REPLACE),o.stencil.setFunc(s.ALWAYS,c,4294967295),o.stencil.setClear(f),o.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?u.render(t,null):(u.render(t,e),u.render(t,n))),this.renderToScreen?(t.setRenderTarget(null),t.render(a,l)):(t.setRenderTarget(e),t.render(a,l),t.setRenderTarget(n),t.render(a,l)),o.color.setLocked(!1),o.depth.setLocked(!1),o.stencil.setLocked(!1),o.stencil.setFunc(s.EQUAL,1,4294967295),o.stencil.setOp(s.KEEP,s.KEEP,s.KEEP),o.stencil.setLocked(!0)}},Goe=class extends Rr{constructor(){super("MipmapBlurPass"),this.needsSwap=!1,this.renderTarget=new Qt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Upsampling.Mipmap0",this.downsamplingMipmaps=[],this.upsamplingMipmaps=[],this.downsamplingMaterial=new hoe,this.upsamplingMaterial=new Poe,this.resolution=new ue}get texture(){return this.renderTarget.texture}get levels(){return this.downsamplingMipmaps.length}set levels(t){if(this.levels!==t){const e=this.renderTarget;this.dispose(),this.downsamplingMipmaps=[],this.upsamplingMipmaps=[];for(let n=0;n<t;++n){const r=e.clone();r.texture.name="Downsampling.Mipmap"+n,this.downsamplingMipmaps.push(r)}this.upsamplingMipmaps.push(e);for(let n=1,r=t-1;n<r;++n){const i=e.clone();i.texture.name="Upsampling.Mipmap"+n,this.upsamplingMipmaps.push(i)}this.setSize(this.resolution.x,this.resolution.y)}}get radius(){return this.upsamplingMaterial.radius}set radius(t){this.upsamplingMaterial.radius=t}render(t,e,n,r,i){const{scene:s,camera:o}=this,{downsamplingMaterial:a,upsamplingMaterial:l}=this,{downsamplingMipmaps:u,upsamplingMipmaps:c}=this;let f=e;this.fullscreenMaterial=a;for(let h=0,p=u.length;h<p;++h){const g=u[h];a.setSize(f.width,f.height),a.inputBuffer=f.texture,t.setRenderTarget(g),t.render(s,o),f=g}this.fullscreenMaterial=l;for(let h=c.length-1;h>=0;--h){const p=c[h];l.setSize(f.width,f.height),l.inputBuffer=f.texture,l.supportBuffer=u[h].texture,t.setRenderTarget(p),t.render(s,o),f=p}}setSize(t,e){const n=this.resolution;n.set(t,e);let r=n.width,i=n.height;for(let s=0,o=this.downsamplingMipmaps.length;s<o;++s)r=Math.round(r*.5),i=Math.round(i*.5),this.downsamplingMipmaps[s].setSize(r,i),s<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[s].setSize(r,i)}initialize(t,e,n){if(n!==void 0){const r=this.downsamplingMipmaps.concat(this.upsamplingMipmaps);for(const i of r)i.texture.type=n;if(n!==bn)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(Ul(t)===dn)for(const i of r)Ur(i.texture,dn)}}dispose(){super.dispose();for(const t of this.downsamplingMipmaps.concat(this.upsamplingMipmaps))t.dispose()}},Hoe=class extends Rr{constructor(t,e,{renderTarget:n,resolutionScale:r=1,width:i=pn.AUTO_SIZE,height:s=pn.AUTO_SIZE,resolutionX:o=i,resolutionY:a=s}={}){super("NormalPass"),this.needsSwap=!1,this.renderPass=new gp(t,e,new MS);const l=this.renderPass;l.ignoreBackground=!0,l.skipShadowMapUpdate=!0;const u=l.getClearPass();u.overrideClearColor=new Xe(7829503),u.overrideClearAlpha=1,this.renderTarget=n,this.renderTarget===void 0&&(this.renderTarget=new Qt(1,1,{minFilter:Dt,magFilter:Dt}),this.renderTarget.texture.name="NormalPass.Target");const c=this.resolution=new pn(this,o,a,r);c.addEventListener("change",f=>this.setSize(c.baseWidth,c.baseHeight))}set mainScene(t){this.renderPass.mainScene=t}set mainCamera(t){this.renderPass.mainCamera=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,n,r,i){const s=this.renderToScreen?null:this.renderTarget;this.renderPass.render(t,s,s)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height)}},Yo=class extends Rr{constructor(t,e="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=t,this.input=e}setInput(t){this.input=t}render(t,e,n,r,i){const s=this.fullscreenMaterial.uniforms;e!==null&&s!==void 0&&s[this.input]!==void 0&&(s[this.input].value=e.texture),t.setRenderTarget(this.renderToScreen?null:n),t.render(this.scene,this.camera)}initialize(t,e,n){n!==void 0&&n!==bn&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},G4=1/1e3,Voe=1e3,Woe=class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(t){typeof document<"u"&&document.hidden!==void 0&&(t?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=t)}get delta(){return this._delta*G4}get fixedDelta(){return this._fixedDelta*G4}set fixedDelta(t){this._fixedDelta=t*Voe}get elapsed(){return this._elapsed*G4}update(t){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(t!==void 0?t:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}handleEvent(t){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},joe=class{constructor(e=null,{depthBuffer:n=!0,stencilBuffer:r=!1,multisampling:i=0,frameBufferType:s}={}){this.renderer=null,this.inputBuffer=this.createBuffer(n,r,s,i),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new hU,this.depthTexture=null,this.passes=[],this.timer=new Woe,this.autoRenderToScreen=!0,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){const n=this.inputBuffer,r=this.multisampling;r>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):r!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(n.depthBuffer,n.stencilBuffer,n.texture.type,e),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){if(this.renderer=e,e!==null){const n=e.getSize(new ue),r=e.getContext().getContextAttributes().alpha,i=this.inputBuffer.texture.type;i===bn&&Ul(e)===dn&&(Ur(this.inputBuffer.texture,dn),Ur(this.outputBuffer.texture,dn),this.inputBuffer.dispose(),this.outputBuffer.dispose()),e.autoClear=!1,this.setSize(n.width,n.height);for(const s of this.passes)s.initialize(e,r,i)}}replaceRenderer(e,n=!0){const r=this.renderer,i=r.domElement.parentNode;return this.setRenderer(e),n&&i!==null&&(i.removeChild(r.domElement),i.appendChild(e.domElement)),r}createDepthTexture(){const e=this.depthTexture=new b5;return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=ju,e.type=bl):e.type=ba,e}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const e of this.passes)e.setDepthTexture(null)}}createBuffer(e,n,r,i){const s=this.renderer,o=s===null?new ue:s.getDrawingBufferSize(new ue),a={minFilter:ht,magFilter:ht,stencilBuffer:n,depthBuffer:e,type:r},l=new Qt(o.width,o.height,a);return i>0&&(l.ignoreDepthForMultisampleCopy=!1,l.samples=i),r===bn&&Ul(s)===dn&&Ur(l.texture,dn),l.texture.name="EffectComposer.Buffer",l.texture.generateMipmaps=!1,l}setMainScene(e){for(const n of this.passes)n.mainScene=e}setMainCamera(e){for(const n of this.passes)n.mainCamera=e}addPass(e,n){const r=this.passes,i=this.renderer,s=i.getDrawingBufferSize(new ue),o=i.getContext().getContextAttributes().alpha,a=this.inputBuffer.texture.type;if(e.setRenderer(i),e.setSize(s.width,s.height),e.initialize(i,o,a),this.autoRenderToScreen&&(r.length>0&&(r[r.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),n!==void 0?r.splice(n,0,e):r.push(e),this.autoRenderToScreen&&(r[r.length-1].renderToScreen=!0),e.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const l=this.createDepthTexture();for(e of r)e.setDepthTexture(l)}else e.setDepthTexture(this.depthTexture)}removePass(e){const n=this.passes,r=n.indexOf(e);if(r!==-1&&n.splice(r,1).length>0){if(this.depthTexture!==null){const o=(l,u)=>l||u.needsDepthTexture;n.reduce(o,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&r===n.length&&(e.renderToScreen=!1,n.length>0&&(n[n.length-1].renderToScreen=!0))}}removeAllPasses(){const e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){const n=this.renderer,r=this.copyPass;let i=this.inputBuffer,s=this.outputBuffer,o=!1,a,l,u;e===void 0&&(this.timer.update(),e=this.timer.delta);for(const c of this.passes)c.enabled&&(c.render(n,i,s,e,o),c.needsSwap&&(o&&(r.renderToScreen=c.renderToScreen,a=n.getContext(),l=n.state.buffers.stencil,l.setFunc(a.NOTEQUAL,1,4294967295),r.render(n,i,s,e,o),l.setFunc(a.EQUAL,1,4294967295)),u=i,i=s,s=u),c instanceof zoe?o=!0:c instanceof Ioe&&(o=!1))}setSize(e,n,r){const i=this.renderer,s=i.getSize(new ue);(e===void 0||n===void 0)&&(e=s.width,n=s.height),(s.width!==e||s.height!==n)&&i.setSize(e,n,r);const o=i.getDrawingBufferSize(new ue);this.inputBuffer.setSize(o.width,o.height),this.outputBuffer.setSize(o.width,o.height);for(const a of this.passes)a.setSize(o.width,o.height)}reset(){const e=this.timer.autoReset;this.dispose(),this.autoRenderToScreen=!0,this.timer.autoReset=e}dispose(){for(const e of this.passes)e.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}},Xoe=class{constructor(){this.shaderParts=new Map([[un.FRAGMENT_HEAD,null],[un.FRAGMENT_MAIN_UV,null],[un.FRAGMENT_MAIN_IMAGE,null],[un.VERTEX_HEAD,null],[un.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=Zo.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=jd}},H4=!1,nC=class{constructor(t=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(t),this.meshCount=0,this.replaceMaterial=e=>{if(e.isMesh){let n;if(e.material.flatShading)switch(e.material.side){case Zr:n=this.materialsFlatShadedDoubleSide;break;case yr:n=this.materialsFlatShadedBackSide;break;default:n=this.materialsFlatShaded;break}else switch(e.material.side){case Zr:n=this.materialsDoubleSide;break;case yr:n=this.materialsBackSide;break;default:n=this.materials;break}this.originalMaterials.set(e,e.material),e.isSkinnedMesh?e.material=n[2]:e.isInstancedMesh?e.material=n[1]:e.material=n[0],++this.meshCount}}}cloneMaterial(t){if(!(t instanceof Ht))return t.clone();const e=t.uniforms,n=new Map;for(const i in e){const s=e[i].value;s.isRenderTargetTexture&&(e[i].value=null,n.set(i,s))}const r=t.clone();for(const i of n)e[i[0]].value=i[1],r.uniforms[i[0]].value=i[1];return r}setMaterial(t){if(this.disposeMaterials(),this.material=t,t!==null){const e=this.materials=[this.cloneMaterial(t),this.cloneMaterial(t),this.cloneMaterial(t)];for(const n of e)n.uniforms=Object.assign({},t.uniforms),n.side=Ro;e[2].skinning=!0,this.materialsBackSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.side=yr,r}),this.materialsDoubleSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.side=Zr,r}),this.materialsFlatShaded=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.flatShading=!0,r}),this.materialsFlatShadedBackSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.flatShading=!0,r.side=yr,r}),this.materialsFlatShadedDoubleSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.flatShading=!0,r.side=Zr,r})}}render(t,e,n){const r=t.shadowMap.enabled;if(t.shadowMap.enabled=!1,H4){const i=this.originalMaterials;this.meshCount=0,e.traverse(this.replaceMaterial),t.render(e,n);for(const s of i)s[0].material=s[1];this.meshCount!==i.size&&i.clear()}else{const i=e.overrideMaterial;e.overrideMaterial=this.material,t.render(e,n),e.overrideMaterial=i}t.shadowMap.enabled=r}disposeMaterials(){if(this.material!==null){const t=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const e of t)e.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return H4}static set workaroundEnabled(t){H4=t}},pu=-1,pn=class extends Ys{constructor(t,e=pu,n=pu,r=1){super(),this.resizable=t,this.baseSize=new ue(1,1),this.preferredSize=new ue(e,n),this.target=this.preferredSize,this.s=r,this.effectiveSize=new ue,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const t=this.baseSize,e=this.preferredSize,n=this.effectiveSize,r=this.scale;e.width!==pu?n.width=e.width:e.height!==pu?n.width=Math.round(e.height*(t.width/Math.max(t.height,1))):n.width=Math.round(t.width*r),e.height!==pu?n.height=e.height:e.width!==pu?n.height=Math.round(e.width/Math.max(t.width/Math.max(t.height,1),1)):n.height=Math.round(t.height*r)}get width(){return this.effectiveSize.width}set width(t){this.preferredWidth=t}get height(){return this.effectiveSize.height}set height(t){this.preferredHeight=t}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(t){this.s!==t&&(this.s=t,this.preferredSize.setScalar(pu),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(t){this.scale=t}get baseWidth(){return this.baseSize.width}set baseWidth(t){this.baseSize.width!==t&&(this.baseSize.width=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(t){this.baseWidth=t}get baseHeight(){return this.baseSize.height}set baseHeight(t){this.baseSize.height!==t&&(this.baseSize.height=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(t){this.baseHeight=t}setBaseSize(t,e){(this.baseSize.width!==t||this.baseSize.height!==e)&&(this.baseSize.set(t,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(t){this.preferredSize.width!==t&&(this.preferredSize.width=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(t){this.preferredWidth=t}get preferredHeight(){return this.preferredSize.height}set preferredHeight(t){this.preferredSize.height!==t&&(this.preferredSize.height=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(t){this.preferredHeight=t}setPreferredSize(t,e){(this.preferredSize.width!==t||this.preferredSize.height!==e)&&(this.preferredSize.set(t,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(t){this.s=t.scale,this.baseSize.set(t.baseWidth,t.baseHeight),this.preferredSize.set(t.preferredWidth,t.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return pu}},f_=class extends Set{constructor(t,e=10){super(),this.l=e,this.exclusive=!1,t!==void 0&&this.set(t)}get layer(){return this.l}set layer(t){const e=this.l;for(const n of this)n.layers.disable(e),n.layers.enable(t);this.l=t}getLayer(){return this.layer}setLayer(t){this.layer=t}isExclusive(){return this.exclusive}setExclusive(t){this.exclusive=t}clear(){const t=this.layer;for(const e of this)e.layers.disable(t);return super.clear()}set(t){this.clear();for(const e of t)this.add(e);return this}indexOf(t){return this.has(t)?0:-1}add(t){return this.exclusive?t.layers.set(this.layer):t.layers.enable(this.layer),super.add(t)}delete(t){return this.has(t)&&t.layers.disable(this.layer),super.delete(t)}toggle(t){let e;return this.has(t)?(this.delete(t),e=!1):(this.add(t),e=!0),e}setVisible(t){for(const e of this)t?e.layers.enable(0):e.layers.disable(0);return this}},Yoe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}",Koe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}",Joe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}",Zoe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",Qoe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}",qoe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}",$oe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}",eae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}",tae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}",nae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}",rae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}",iae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}",sae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}",oae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}",aae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}",lae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}",uae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}",cae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}",fae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}",hae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",dae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}",pae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}",mae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}",gae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}",vae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}",yae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}",xae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",Sae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}",_ae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}",wae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}",Eae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}",bae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}",Mae=new Map([[At.ADD,Yoe],[At.ALPHA,Koe],[At.AVERAGE,Joe],[At.COLOR,Zoe],[At.COLOR_BURN,Qoe],[At.COLOR_DODGE,qoe],[At.DARKEN,$oe],[At.DIFFERENCE,eae],[At.DIVIDE,tae],[At.DST,null],[At.EXCLUSION,nae],[At.HARD_LIGHT,rae],[At.HARD_MIX,iae],[At.HUE,sae],[At.INVERT,oae],[At.INVERT_RGB,aae],[At.LIGHTEN,lae],[At.LINEAR_BURN,uae],[At.LINEAR_DODGE,cae],[At.LINEAR_LIGHT,fae],[At.LUMINOSITY,hae],[At.MULTIPLY,dae],[At.NEGATION,pae],[At.NORMAL,mae],[At.OVERLAY,gae],[At.PIN_LIGHT,vae],[At.REFLECT,yae],[At.SATURATION,xae],[At.SCREEN,Sae],[At.SOFT_LIGHT,_ae],[At.SRC,wae],[At.SUBTRACT,Eae],[At.VIVID_LIGHT,bae]]),Tae=class extends Ys{constructor(t,e=1){super(),this._blendFunction=t,this.opacity=new le(e)}getOpacity(){return this.opacity.value}setOpacity(t){this.opacity.value=t}get blendFunction(){return this._blendFunction}set blendFunction(t){this._blendFunction=t,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(t){this.blendFunction=t}getShaderCode(){return Mae.get(this.blendFunction)}},Ci=class extends Ys{constructor(t,e,{attributes:n=Zo.NONE,blendFunction:r=At.NORMAL,defines:i=new Map,uniforms:s=new Map,extensions:o=null,vertexShader:a=null}={}){super(),this.name=t,this.renderer=null,this.attributes=n,this.fragmentShader=e,this.vertexShader=a,this.defines=i,this.uniforms=s,this.extensions=o,this.blendMode=new Tae(r),this.blendMode.addEventListener("change",l=>this.setChanged()),this._inputColorSpace=jd,this._outputColorSpace=oU}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(t){this._inputColorSpace=t,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t,this.setChanged()}set mainScene(t){}set mainCamera(t){}getName(){return this.name}setRenderer(t){this.renderer=t}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(t){this.attributes=t,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(t){this.fragmentShader=t,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(t){this.vertexShader=t,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(t,e=$r){}update(t,e,n){}setSize(t,e){}initialize(t,e,n){}dispose(){for(const t of Object.keys(this)){const e=this[t];(e instanceof Qt||e instanceof ur||e instanceof gn||e instanceof Rr)&&this[t].dispose()}}},Aae=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv)*intensity;}`,pU=class extends Ci{constructor({blendFunction:t=At.SCREEN,luminanceThreshold:e=.9,luminanceSmoothing:n=.025,mipmapBlur:r=!1,intensity:i=1,radius:s=.85,levels:o=8,kernelSize:a=mp.LARGE,resolutionScale:l=.5,width:u=pn.AUTO_SIZE,height:c=pn.AUTO_SIZE,resolutionX:f=u,resolutionY:h=c}={}){super("BloomEffect",Aae,{blendFunction:t,uniforms:new Map([["map",new le(null)],["intensity",new le(i)]])}),this.renderTarget=new Qt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.blurPass=new $5({kernelSize:a}),this.luminancePass=new Noe({colorOutput:!0}),this.luminanceMaterial.threshold=e,this.luminanceMaterial.smoothing=n,this.mipmapBlurPass=new Goe,this.mipmapBlurPass.enabled=r,this.mipmapBlurPass.radius=s,this.mipmapBlurPass.levels=o,this.uniforms.get("map").value=r?this.mipmapBlurPass.texture:this.renderTarget.texture;const p=this.resolution=new pn(this,f,h,l);p.addEventListener("change",g=>this.setSize(p.baseWidth,p.baseHeight))}get texture(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}getTexture(){return this.texture}getResolution(){return this.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get dithering(){return this.blurPass.dithering}set dithering(t){this.blurPass.dithering=t}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(t){this.blurPass.kernelSize=t}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(t){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(t){this.uniforms.get("intensity").value=t}getIntensity(){return this.intensity}setIntensity(t){this.intensity=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}update(t,e,n){const r=this.renderTarget,i=this.luminancePass;i.enabled?(i.render(t,e),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(t,i.renderTarget):this.blurPass.render(t,i.renderTarget,r)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(t,e):this.blurPass.render(t,e,r)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height),this.blurPass.resolution.copy(n),this.luminancePass.setSize(t,e),this.mipmapBlurPass.setSize(t,e)}initialize(t,e,n){this.blurPass.initialize(t,e,n),this.luminancePass.initialize(t,e,n),this.mipmapBlurPass.initialize(t,e,n),n!==void 0&&(this.renderTarget.texture.type=n,Ul(t)===dn&&Ur(this.renderTarget.texture,dn))}},Cae="void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(vec3(average(inputColor.rgb)),inputColor.a);}",Rae=class extends Ci{constructor(t){super("ColorAverageEffect",Cae,{blendFunction:t})}},Pae=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D nearColorBuffer;uniform mediump sampler2D farColorBuffer;
#else
uniform lowp sampler2D nearColorBuffer;uniform lowp sampler2D farColorBuffer;
#endif
uniform lowp sampler2D nearCoCBuffer;uniform lowp sampler2D farCoCBuffer;uniform float scale;void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){vec4 colorNear=texture2D(nearColorBuffer,uv);vec4 colorFar=texture2D(farColorBuffer,uv);
#if MASK_FUNCTION == 1
vec2 cocNearFar=vec2(texture2D(nearCoCBuffer,uv).r,colorFar.a);cocNearFar.x=min(cocNearFar.x*scale,1.0);
#else
vec2 cocNearFar=vec2(texture2D(nearCoCBuffer,uv).r,texture2D(farCoCBuffer,uv).g);cocNearFar=min(cocNearFar*scale,1.0);
#endif
vec4 result=inputColor*(1.0-cocNearFar.y)+colorFar;result=mix(result,colorNear,cocNearFar.x);outputColor=result;}`,Dae=class extends Ci{constructor(t,{blendFunction:e,worldFocusDistance:n,worldFocusRange:r,focusDistance:i=0,focalLength:s=.1,focusRange:o=s,bokehScale:a=1,resolutionScale:l=1,width:u=pn.AUTO_SIZE,height:c=pn.AUTO_SIZE,resolutionX:f=u,resolutionY:h=c}={}){super("DepthOfFieldEffect",Pae,{blendFunction:e,attributes:Zo.DEPTH,uniforms:new Map([["nearColorBuffer",new le(null)],["farColorBuffer",new le(null)],["nearCoCBuffer",new le(null)],["farCoCBuffer",new le(null)],["scale",new le(1)]])}),this.camera=t,this.renderTarget=new Qt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="DoF.Intermediate",this.renderTargetMasked=this.renderTarget.clone(),this.renderTargetMasked.texture.name="DoF.Masked.Far",this.renderTargetNear=this.renderTarget.clone(),this.renderTargetNear.texture.name="DoF.Bokeh.Near",this.uniforms.get("nearColorBuffer").value=this.renderTargetNear.texture,this.renderTargetFar=this.renderTarget.clone(),this.renderTargetFar.texture.name="DoF.Bokeh.Far",this.uniforms.get("farColorBuffer").value=this.renderTargetFar.texture,this.renderTargetCoC=this.renderTarget.clone(),this.renderTargetCoC.texture.name="DoF.CoC",this.uniforms.get("farCoCBuffer").value=this.renderTargetCoC.texture,this.renderTargetCoCBlurred=this.renderTargetCoC.clone(),this.renderTargetCoCBlurred.texture.name="DoF.CoC.Blurred",this.uniforms.get("nearCoCBuffer").value=this.renderTargetCoCBlurred.texture,this.cocPass=new Yo(new Kse(t));const p=this.cocMaterial;p.focusDistance=i,p.focusRange=o,n!==void 0&&(p.worldFocusDistance=n),r!==void 0&&(p.worldFocusRange=r),this.blurPass=new $5({resolutionScale:l,resolutionX:f,resolutionY:h,kernelSize:mp.MEDIUM}),this.maskPass=new Yo(new _oe(this.renderTargetCoC.texture));const g=this.maskPass.fullscreenMaterial;g.colorChannel=ld.GREEN,this.maskFunction=l_.MULTIPLY_RGB,this.bokehNearBasePass=new Yo(new K2(!1,!0)),this.bokehNearBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehNearFillPass=new Yo(new K2(!0,!0)),this.bokehNearFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehFarBasePass=new Yo(new K2(!1,!1)),this.bokehFarBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.bokehFarFillPass=new Yo(new K2(!0,!1)),this.bokehFarFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.target=null;const x=this.resolution=new pn(this,f,h,l);x.addEventListener("change",y=>this.setSize(x.baseWidth,x.baseHeight)),this.bokehScale=a}set mainCamera(t){this.camera=t,this.cocMaterial.copyCameraSettings(t)}get cocTexture(){return this.renderTargetCoC.texture}get maskFunction(){return this.maskPass.fullscreenMaterial.maskFunction}set maskFunction(t){this.maskFunction!==t&&(this.defines.set("MASK_FUNCTION",t.toFixed(0)),this.maskPass.fullscreenMaterial.maskFunction=t,this.setChanged())}get cocMaterial(){return this.cocPass.fullscreenMaterial}get circleOfConfusionMaterial(){return this.cocMaterial}getCircleOfConfusionMaterial(){return this.cocMaterial}getBlurPass(){return this.blurPass}getResolution(){return this.resolution}get bokehScale(){return this.uniforms.get("scale").value}set bokehScale(t){this.bokehNearBasePass.fullscreenMaterial.scale=t,this.bokehNearFillPass.fullscreenMaterial.scale=t,this.bokehFarBasePass.fullscreenMaterial.scale=t,this.bokehFarFillPass.fullscreenMaterial.scale=t,this.maskPass.fullscreenMaterial.strength=t,this.uniforms.get("scale").value=t}getBokehScale(){return this.bokehScale}setBokehScale(t){this.bokehScale=t}getTarget(){return this.target}setTarget(t){this.target=t}calculateFocusDistance(t){const e=this.camera,n=e.position.distanceTo(t);return lf(-n,e.near,e.far)}setDepthTexture(t,e=$r){this.cocMaterial.depthBuffer=t,this.cocMaterial.depthPacking=e}update(t,e,n){const r=this.renderTarget,i=this.renderTargetCoC,s=this.renderTargetCoCBlurred,o=this.renderTargetMasked;if(this.target!==null){const a=this.calculateFocusDistance(this.target);this.cocMaterial.focusDistance=a}this.cocPass.render(t,null,i),this.blurPass.render(t,i,s),this.maskPass.render(t,e,o),this.bokehFarBasePass.render(t,o,r),this.bokehFarFillPass.render(t,r,this.renderTargetFar),this.bokehNearBasePass.render(t,e,r),this.bokehNearFillPass.render(t,r,this.renderTargetNear)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.cocPass.setSize(t,e),this.blurPass.setSize(t,e),this.maskPass.setSize(t,e),this.renderTargetFar.setSize(t,e),this.renderTargetCoC.setSize(t,e),this.renderTargetMasked.setSize(t,e),this.renderTarget.setSize(r,i),this.renderTargetNear.setSize(r,i),this.renderTargetCoCBlurred.setSize(r,i),this.bokehNearBasePass.fullscreenMaterial.setSize(t,e),this.bokehNearFillPass.fullscreenMaterial.setSize(t,e),this.bokehFarBasePass.fullscreenMaterial.setSize(t,e),this.bokehFarFillPass.fullscreenMaterial.setSize(t,e)}initialize(t,e,n){this.cocPass.initialize(t,e,n),this.maskPass.initialize(t,e,n),this.bokehNearBasePass.initialize(t,e,n),this.bokehNearFillPass.initialize(t,e,n),this.bokehFarBasePass.initialize(t,e,n),this.bokehFarFillPass.initialize(t,e,n),this.blurPass.initialize(t,e,bn),t.capabilities.logarithmicDepthBuffer&&(this.cocPass.fullscreenMaterial.defines.LOG_DEPTH="1"),n!==void 0&&(this.renderTarget.texture.type=n,this.renderTargetNear.texture.type=n,this.renderTargetFar.texture.type=n,this.renderTargetMasked.texture.type=n,Ul(t)===dn&&(Ur(this.renderTarget.texture,dn),Ur(this.renderTargetNear.texture,dn),Ur(this.renderTargetFar.texture,dn),Ur(this.renderTargetMasked.texture,dn)))}};function rC(t,e,n){const r=document.createElement("canvas"),i=r.getContext("2d");if(r.width=t,r.height=e,n instanceof Image)i.drawImage(n,0,0);else{const s=i.createImageData(t,e);s.data.set(n),i.putImageData(s,0,0)}return r}var Lae=class mU{constructor(e=0,n=0,r=null){this.width=e,this.height=n,this.data=r}toCanvas(){return typeof document>"u"?null:rC(this.width,this.height,this.data)}static from(e){const{width:n,height:r}=e;let i;if(e instanceof Image){const s=rC(n,r,e);s!==null&&(i=s.getContext("2d").getImageData(0,0,n,r).data)}else i=e.data;return new mU(n,r,i)}},Iae=`"use strict";(()=>{var O={SCALE_UP:"lut.scaleup"};var _=[new Float32Array(3),new Float32Array(3)],n=[new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3)],Z=[[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1])]];function d(a,t,r,m){let i=r[0]-t[0],e=r[1]-t[1],y=r[2]-t[2],h=a[0]-t[0],A=a[1]-t[1],w=a[2]-t[2],c=e*w-y*A,l=y*h-i*w,x=i*A-e*h,u=Math.sqrt(c*c+l*l+x*x),b=u*.5,s=c/u,F=l/u,f=x/u,p=-(a[0]*s+a[1]*F+a[2]*f),M=m[0]*s+m[1]*F+m[2]*f;return Math.abs(M+p)*b/3}function V(a,t,r,m,i,e){let y=(r+m*t+i*t*t)*4;e[0]=a[y+0],e[1]=a[y+1],e[2]=a[y+2]}function k(a,t,r,m,i,e){let y=r*(t-1),h=m*(t-1),A=i*(t-1),w=Math.floor(y),c=Math.floor(h),l=Math.floor(A),x=Math.ceil(y),u=Math.ceil(h),b=Math.ceil(A),s=y-w,F=h-c,f=A-l;if(w===y&&c===h&&l===A)V(a,t,y,h,A,e);else{let p;s>=F&&F>=f?p=Z[0]:s>=f&&f>=F?p=Z[1]:f>=s&&s>=F?p=Z[2]:F>=s&&s>=f?p=Z[3]:F>=f&&f>=s?p=Z[4]:f>=F&&F>=s&&(p=Z[5]);let[M,g,X,Y]=p,P=_[0];P[0]=s,P[1]=F,P[2]=f;let o=_[1],L=x-w,S=u-c,U=b-l;o[0]=L*M[0]+w,o[1]=S*M[1]+c,o[2]=U*M[2]+l,V(a,t,o[0],o[1],o[2],n[0]),o[0]=L*g[0]+w,o[1]=S*g[1]+c,o[2]=U*g[2]+l,V(a,t,o[0],o[1],o[2],n[1]),o[0]=L*X[0]+w,o[1]=S*X[1]+c,o[2]=U*X[2]+l,V(a,t,o[0],o[1],o[2],n[2]),o[0]=L*Y[0]+w,o[1]=S*Y[1]+c,o[2]=U*Y[2]+l,V(a,t,o[0],o[1],o[2],n[3]);let T=d(g,X,Y,P)*6,q=d(M,X,Y,P)*6,C=d(M,g,Y,P)*6,E=d(M,g,X,P)*6;n[0][0]*=T,n[0][1]*=T,n[0][2]*=T,n[1][0]*=q,n[1][1]*=q,n[1][2]*=q,n[2][0]*=C,n[2][1]*=C,n[2][2]*=C,n[3][0]*=E,n[3][1]*=E,n[3][2]*=E,e[0]=n[0][0]+n[1][0]+n[2][0]+n[3][0],e[1]=n[0][1]+n[1][1]+n[2][1]+n[3][1],e[2]=n[0][2]+n[1][2]+n[2][2]+n[3][2]}}var v=class{static expand(t,r){let m=Math.cbrt(t.length/4),i=new Float32Array(3),e=new t.constructor(r**3*4),y=t instanceof Uint8Array?255:1,h=r**2,A=1/(r-1);for(let w=0;w<r;++w)for(let c=0;c<r;++c)for(let l=0;l<r;++l){let x=l*A,u=c*A,b=w*A,s=Math.round(l+c*r+w*h)*4;k(t,m,x,u,b,i),e[s+0]=i[0],e[s+1]=i[1],e[s+2]=i[2],e[s+3]=y}return e}};self.addEventListener("message",a=>{let t=a.data,r=t.data;switch(t.operation){case O.SCALE_UP:r=v.expand(r,t.size);break}postMessage(r,[r.buffer]),close()});})();
`,iC=new Xe,Bae=class Ug extends df{constructor(e,n){super(e,n,n,n),this.type=Jn,this.format=Bn,this.minFilter=ht,this.magFilter=ht,this.wrapS=Ar,this.wrapT=Ar,this.wrapR=Ar,this.unpackAlignment=1,this.needsUpdate=!0,Ur(this,jd),this.domainMin=new X(0,0,0),this.domainMax=new X(1,1,1)}get isLookupTexture3D(){return!0}scaleUp(e,n=!0){const r=this.image;let i;return e<=r.width?i=Promise.reject(new Error("The target size must be greater than the current size")):i=new Promise((s,o)=>{const a=URL.createObjectURL(new Blob([Iae],{type:"text/javascript"})),l=new Worker(a);l.addEventListener("error",c=>o(c.error)),l.addEventListener("message",c=>{const f=new Ug(c.data,e);z4(this,f),f.type=this.type,f.name=this.name,URL.revokeObjectURL(a),s(f)});const u=n?[r.data.buffer]:[];l.postMessage({operation:jse.SCALE_UP,data:r.data,size:e},u)}),i}applyLUT(e){const n=this.image,r=e.image,i=Math.min(n.width,n.height,n.depth),s=Math.min(r.width,r.height,r.depth);if(i!==s)console.error("Size mismatch");else if(e.type!==Jn||this.type!==Jn)console.error("Both LUTs must be FloatType textures");else if(e.format!==Bn||this.format!==Bn)console.error("Both LUTs must be RGBA textures");else{const o=n.data,a=r.data,l=i,u=l**2,c=l-1;for(let f=0,h=l**3;f<h;++f){const p=f*4,g=o[p+0]*c,x=o[p+1]*c,y=o[p+2]*c,v=Math.round(g+x*l+y*u)*4;o[p+0]=a[v+0],o[p+1]=a[v+1],o[p+2]=a[v+2]}this.needsUpdate=!0}return this}convertToUint8(){if(this.type===Jn){const e=this.image.data,n=new Uint8Array(e.length);for(let r=0,i=e.length;r<i;++r)n[r]=e[r]*255+.5;this.image.data=n,this.type=bn,this.needsUpdate=!0}return this}convertToFloat(){if(this.type===bn){const e=this.image.data,n=new Float32Array(e.length);for(let r=0,i=e.length;r<i;++r)n[r]=e[r]/255;this.image.data=n,this.type=Jn,this.needsUpdate=!0}return this}convertToRGBA(){return console.warn("LookupTexture","convertToRGBA() is deprecated, LUTs are now RGBA by default"),this}convertLinearToSRGB(){const e=this.image.data;if(this.type===Jn){for(let n=0,r=e.length;n<r;n+=4)iC.fromArray(e,n).convertLinearToSRGB().toArray(e,n);Ur(this,dn),this.needsUpdate=!0}else console.error("Color space conversion requires FloatType data");return this}convertSRGBToLinear(){const e=this.image.data;if(this.type===Jn){for(let n=0,r=e.length;n<r;n+=4)iC.fromArray(e,n).convertSRGBToLinear().toArray(e,n);Ur(this,jd),this.needsUpdate=!0}else console.error("Color space conversion requires FloatType data");return this}toDataTexture(){const e=this.image.width,n=this.image.height*this.image.depth,r=new La(this.image.data,e,n);return r.name=this.name,r.type=this.type,r.format=this.format,r.minFilter=ht,r.magFilter=ht,r.wrapS=this.wrapS,r.wrapT=this.wrapT,r.generateMipmaps=!1,r.needsUpdate=!0,z4(this,r),r}static from(e){const n=e.image,{width:r,height:i}=n,s=Math.min(r,i);let o;if(n instanceof Image){const u=Lae.from(n).data;if(r>i){o=new Uint8Array(u.length);for(let c=0;c<s;++c)for(let f=0;f<s;++f)for(let h=0;h<s;++h){const p=(h+c*s+f*s*s)*4,g=(h+f*s+c*s*s)*4;o[g+0]=u[p+0],o[g+1]=u[p+1],o[g+2]=u[p+2],o[g+3]=u[p+3]}}else o=new Uint8Array(u.buffer)}else o=n.data.slice();const a=new Ug(o,s);return a.type=e.type,a.name=e.name,z4(e,a),a}static createNeutral(e){const n=new Float32Array(e**3*4),r=e**2,i=1/(e-1);for(let o=0;o<e;++o)for(let a=0;a<e;++a)for(let l=0;l<e;++l){const u=(o+a*e+l*r)*4;n[u+0]=o*i,n[u+1]=a*i,n[u+2]=l*i,n[u+3]=1}const s=new Ug(n,e);return s.name="neutral",s}};function Fae(t,e,n){const r=new Map([[g5,1],[v5,1],[rS,2],[Bn,4]]);let i;if(r.has(e)||console.error("Invalid noise texture format"),n===bn){i=new Uint8Array(t*r.get(e));for(let s=0,o=i.length;s<o;++s)i[s]=Math.random()*255+.5}else{i=new Float32Array(t*r.get(e));for(let s=0,o=i.length;s<o;++s)i[s]=Math.random()}return i}var u9=class extends La{constructor(t,e,n=g5,r=bn){super(Fae(t*e,n,r),t,e,n,r),this.needsUpdate=!0}},Uae="uniform lowp sampler2D perturbationMap;uniform bool active;uniform float columns;uniform float random;uniform vec2 seeds;uniform vec2 distortion;void mainUv(inout vec2 uv){if(active){if(uv.y<distortion.x+columns&&uv.y>distortion.x-columns*random){float sx=clamp(ceil(seeds.x),0.0,1.0);uv.y=sx*(1.0-(uv.y+distortion.y))+(1.0-sx)*distortion.y;}if(uv.x<distortion.y+columns&&uv.x>distortion.y-columns*random){float sy=clamp(ceil(seeds.y),0.0,1.0);uv.x=sy*distortion.x+(1.0-sy)*(1.0-(uv.x+distortion.x));}vec2 normal=texture2D(perturbationMap,uv*random*random).rg;uv+=normal*seeds*(random*0.2);}}",Z2="Glitch.Generated";function es(t,e){return t+Math.random()*(e-t)}var Oae=class extends Ci{constructor({chromaticAberrationOffset:t=null,delay:e=new ue(1.5,3.5),duration:n=new ue(.6,1),strength:r=new ue(.3,1),columns:i=.05,ratio:s=.85,perturbationMap:o=null,dtSize:a=64}={}){if(super("GlitchEffect",Uae,{uniforms:new Map([["perturbationMap",new le(null)],["columns",new le(i)],["active",new le(!1)],["random",new le(1)],["seeds",new le(new ue)],["distortion",new le(new ue)]])}),o===null){const l=new u9(a,a,Bn);l.name=Z2,this.perturbationMap=l}else this.perturbationMap=o;this.time=0,this.distortion=this.uniforms.get("distortion").value,this.delay=e,this.duration=n,this.breakPoint=new ue(es(this.delay.x,this.delay.y),es(this.duration.x,this.duration.y)),this.strength=r,this.mode=qc.SPORADIC,this.ratio=s,this.chromaticAberrationOffset=t}get seeds(){return this.uniforms.get("seeds").value}get active(){return this.uniforms.get("active").value}isActive(){return this.active}get minDelay(){return this.delay.x}set minDelay(t){this.delay.x=t}getMinDelay(){return this.delay.x}setMinDelay(t){this.delay.x=t}get maxDelay(){return this.delay.y}set maxDelay(t){this.delay.y=t}getMaxDelay(){return this.delay.y}setMaxDelay(t){this.delay.y=t}get minDuration(){return this.duration.x}set minDuration(t){this.duration.x=t}getMinDuration(){return this.duration.x}setMinDuration(t){this.duration.x=t}get maxDuration(){return this.duration.y}set maxDuration(t){this.duration.y=t}getMaxDuration(){return this.duration.y}setMaxDuration(t){this.duration.y=t}get minStrength(){return this.strength.x}set minStrength(t){this.strength.x=t}getMinStrength(){return this.strength.x}setMinStrength(t){this.strength.x=t}get maxStrength(){return this.strength.y}set maxStrength(t){this.strength.y=t}getMaxStrength(){return this.strength.y}setMaxStrength(t){this.strength.y=t}getMode(){return this.mode}setMode(t){this.mode=t}getGlitchRatio(){return 1-this.ratio}setGlitchRatio(t){this.ratio=Math.min(Math.max(1-t,0),1)}get columns(){return this.uniforms.get("columns").value}set columns(t){this.uniforms.get("columns").value=t}getGlitchColumns(){return this.columns}setGlitchColumns(t){this.columns=t}getChromaticAberrationOffset(){return this.chromaticAberrationOffset}setChromaticAberrationOffset(t){this.chromaticAberrationOffset=t}get perturbationMap(){return this.uniforms.get("perturbationMap").value}set perturbationMap(t){const e=this.perturbationMap;e!==null&&e.name===Z2&&e.dispose(),t.minFilter=t.magFilter=Dt,t.wrapS=t.wrapT=Ai,t.generateMipmaps=!1,this.uniforms.get("perturbationMap").value=t}getPerturbationMap(){return this.perturbationMap}setPerturbationMap(t){this.perturbationMap=t}generatePerturbationMap(t=64){const e=new u9(t,t,Bn);return e.name=Z2,e}update(t,e,n){const r=this.mode,i=this.breakPoint,s=this.chromaticAberrationOffset,o=this.strength;let a=this.time,l=!1,u=0,c=0,f;r!==qc.DISABLED&&(r===qc.SPORADIC&&(a+=n,f=a>i.x,a>=i.x+i.y&&(i.set(es(this.delay.x,this.delay.y),es(this.duration.x,this.duration.y)),a=0)),u=Math.random(),this.uniforms.get("random").value=u,f&&u>this.ratio||r===qc.CONSTANT_WILD?(l=!0,u*=o.y*.03,c=es(-Math.PI,Math.PI),this.seeds.set(es(-o.y,o.y),es(-o.y,o.y)),this.distortion.set(es(0,1),es(0,1))):(f||r===qc.CONSTANT_MILD)&&(l=!0,u*=o.x*.03,c=es(-Math.PI,Math.PI),this.seeds.set(es(-o.x,o.x),es(-o.x,o.x)),this.distortion.set(es(0,1),es(0,1))),this.time=a),s!==null&&(l?s.set(Math.cos(c),Math.sin(c)).multiplyScalar(u):s.set(0,0)),this.uniforms.get("active").value=l}dispose(){const t=this.perturbationMap;t!==null&&t.name===Z2&&t.dispose()}},kae=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv);}`,V4=new X,sC=new rt,Nae=class extends Ci{constructor(t,e,{blendFunction:n=At.SCREEN,samples:r=60,density:i=.96,decay:s=.9,weight:o=.4,exposure:a=.6,clampMax:l=1,blur:u=!0,kernelSize:c=mp.SMALL,resolutionScale:f=.5,width:h=pn.AUTO_SIZE,height:p=pn.AUTO_SIZE,resolutionX:g=h,resolutionY:x=p}={}){super("GodRaysEffect",kae,{blendFunction:n,attributes:Zo.DEPTH,uniforms:new Map([["map",new le(null)]])}),this.camera=t,this._lightSource=e,this.lightSource=e,this.lightScene=new Il,this.screenPosition=new ue,this.renderTargetA=new Qt(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="GodRays.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="GodRays.Target.B",this.uniforms.get("map").value=this.renderTargetB.texture,this.renderTargetLight=new Qt(1,1),this.renderTargetLight.texture.name="GodRays.Light",this.renderTargetLight.depthTexture=new b5,this.renderPassLight=new gp(this.lightScene,t),this.renderPassLight.clearPass.overrideClearColor=new Xe(0),this.clearPass=new B1(!0,!1,!1),this.clearPass.overrideClearColor=new Xe(0),this.blurPass=new $5({kernelSize:c}),this.blurPass.enabled=u,this.depthMaskPass=new Yo(new cU);const y=this.depthMaskMaterial;y.depthBuffer1=this.renderTargetLight.depthTexture,y.copyCameraSettings(t),this.godRaysPass=new Yo(new voe(this.screenPosition));const v=this.godRaysMaterial;v.density=i,v.decay=s,v.weight=o,v.exposure=a,v.maxIntensity=l,v.samples=r;const S=this.resolution=new pn(this,g,x,f);S.addEventListener("change",_=>this.setSize(S.baseWidth,S.baseHeight))}set mainCamera(t){this.camera=t,this.renderPassLight.mainCamera=t,this.depthMaskMaterial.copyCameraSettings(t)}get lightSource(){return this._lightSource}set lightSource(t){this._lightSource=t,t!==null&&(t.material.depthWrite=!1,t.material.transparent=!0)}getBlurPass(){return this.blurPass}get texture(){return this.renderTargetB.texture}getTexture(){return this.texture}get depthMaskMaterial(){return this.depthMaskPass.fullscreenMaterial}get godRaysMaterial(){return this.godRaysPass.fullscreenMaterial}getGodRaysMaterial(){return this.godRaysMaterial}getResolution(){return this.resolution}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get dithering(){return this.godRaysMaterial.dithering}set dithering(t){const e=this.godRaysMaterial;e.dithering=t,e.needsUpdate=!0}get blur(){return this.blurPass.enabled}set blur(t){this.blurPass.enabled=t}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(t){this.blurPass.kernelSize=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}get samples(){return this.godRaysMaterial.samples}set samples(t){this.godRaysMaterial.samples=t}setDepthTexture(t,e=$r){this.depthMaskPass.fullscreenMaterial.depthBuffer0=t,this.depthMaskPass.fullscreenMaterial.depthPacking0=e}update(t,e,n){const r=this.lightSource,i=r.parent,s=r.matrixAutoUpdate,o=this.renderTargetA,a=this.renderTargetLight;r.material.depthWrite=!0,r.matrixAutoUpdate=!1,r.updateWorldMatrix(!0,!1),i!==null&&(s||sC.copy(r.matrix),r.matrix.copy(r.matrixWorld)),this.lightScene.add(r),this.renderPassLight.render(t,a),this.clearPass.render(t,o),this.depthMaskPass.render(t,a,o),r.material.depthWrite=!1,r.matrixAutoUpdate=s,i!==null&&(s||r.matrix.copy(sC),i.add(r)),V4.setFromMatrixPosition(r.matrixWorld).project(this.camera),this.screenPosition.set(Math.min(Math.max((V4.x+1)*.5,-1),2),Math.min(Math.max((V4.y+1)*.5,-1),2)),this.blurPass.enabled&&this.blurPass.render(t,o,o),this.godRaysPass.render(t,o,this.renderTargetB)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.renderTargetA.setSize(r,i),this.renderTargetB.setSize(r,i),this.renderTargetLight.setSize(r,i),this.blurPass.resolution.copy(n)}initialize(t,e,n){this.blurPass.initialize(t,e,n),this.renderPassLight.initialize(t,e,n),this.depthMaskPass.initialize(t,e,n),this.godRaysPass.initialize(t,e,n),n!==void 0&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n,this.renderTargetLight.texture.type=n,Ul(t)===dn&&(Ur(this.renderTargetA.texture,dn),Ur(this.renderTargetB.texture,dn),Ur(this.renderTargetLight.texture,dn)))}},zae="uniform vec2 scale;uniform float lineWidth;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float grid=0.5-max(abs(mod(uv.x*scale.x,1.0)-0.5),abs(mod(uv.y*scale.y,1.0)-0.5));outputColor=vec4(vec3(smoothstep(0.0,lineWidth,grid)),inputColor.a);}",Gae=class extends Ci{constructor({blendFunction:t=At.OVERLAY,scale:e=1,lineWidth:n=0}={}){super("GridEffect",zae,{blendFunction:t,uniforms:new Map([["scale",new le(new ue)],["lineWidth",new le(n)]])}),this.resolution=new ue,this.s=0,this.scale=e,this.l=0,this.lineWidth=n}get scale(){return this.s}set scale(t){this.s=Math.max(t,1e-6),this.setSize(this.resolution.width,this.resolution.height)}getScale(){return this.scale}setScale(t){this.scale=t}get lineWidth(){return this.l}set lineWidth(t){this.l=t,this.setSize(this.resolution.width,this.resolution.height)}getLineWidth(){return this.lineWidth}setLineWidth(t){this.lineWidth=t}setSize(t,e){this.resolution.set(t,e);const n=t/e,r=this.scale*(e*.125);this.uniforms.get("scale").value.set(n*r,r),this.uniforms.get("lineWidth").value=r/e+this.lineWidth}},Hae=`uniform vec3 scale;uniform vec3 offset;
#ifdef CUSTOM_INPUT_DOMAIN
uniform vec3 domainMin;uniform vec3 domainMax;
#endif
#ifdef LUT_3D
#ifdef LUT_PRECISION_HIGH
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler3D lut;
#else
uniform mediump sampler3D lut;
#endif
#else
uniform lowp sampler3D lut;
#endif
vec4 applyLUT(const in vec3 rgb){
#ifdef TETRAHEDRAL_INTERPOLATION
vec3 p=floor(rgb);vec3 f=rgb-p;vec3 v1=(p+0.5)*LUT_TEXEL_WIDTH;vec3 v4=(p+1.5)*LUT_TEXEL_WIDTH;vec3 v2,v3;vec3 frac;if(f.r>=f.g){if(f.g>f.b){frac=f.rgb;v2=vec3(v4.x,v1.y,v1.z);v3=vec3(v4.x,v4.y,v1.z);}else if(f.r>=f.b){frac=f.rbg;v2=vec3(v4.x,v1.y,v1.z);v3=vec3(v4.x,v1.y,v4.z);}else{frac=f.brg;v2=vec3(v1.x,v1.y,v4.z);v3=vec3(v4.x,v1.y,v4.z);}}else{if(f.b>f.g){frac=f.bgr;v2=vec3(v1.x,v1.y,v4.z);v3=vec3(v1.x,v4.y,v4.z);}else if(f.r>=f.b){frac=f.grb;v2=vec3(v1.x,v4.y,v1.z);v3=vec3(v4.x,v4.y,v1.z);}else{frac=f.gbr;v2=vec3(v1.x,v4.y,v1.z);v3=vec3(v1.x,v4.y,v4.z);}}vec4 n1=texture(lut,v1);vec4 n2=texture(lut,v2);vec4 n3=texture(lut,v3);vec4 n4=texture(lut,v4);vec4 weights=vec4(1.0-frac.x,frac.x-frac.y,frac.y-frac.z,frac.z);vec4 result=weights*mat4(vec4(n1.r,n2.r,n3.r,n4.r),vec4(n1.g,n2.g,n3.g,n4.g),vec4(n1.b,n2.b,n3.b,n4.b),vec4(1.0));return vec4(result.rgb,1.0);
#else
return texture(lut,rgb);
#endif
}
#else
#ifdef LUT_PRECISION_HIGH
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D lut;
#else
uniform mediump sampler2D lut;
#endif
#else
uniform lowp sampler2D lut;
#endif
vec4 applyLUT(const in vec3 rgb){float slice=rgb.b*LUT_SIZE;float slice0=floor(slice);float interp=slice-slice0;float centeredInterp=interp-0.5;float slice1=slice0+sign(centeredInterp);
#ifdef LUT_STRIP_HORIZONTAL
float xOffset=clamp(rgb.r*LUT_TEXEL_HEIGHT,LUT_TEXEL_WIDTH*0.5,LUT_TEXEL_HEIGHT-LUT_TEXEL_WIDTH*0.5);vec2 uv0=vec2(slice0*LUT_TEXEL_HEIGHT+xOffset,rgb.g);vec2 uv1=vec2(slice1*LUT_TEXEL_HEIGHT+xOffset,rgb.g);
#else
float yOffset=clamp(rgb.g*LUT_TEXEL_WIDTH,LUT_TEXEL_HEIGHT*0.5,LUT_TEXEL_WIDTH-LUT_TEXEL_HEIGHT*0.5);vec2 uv0=vec2(rgb.r,slice0*LUT_TEXEL_WIDTH+yOffset);vec2 uv1=vec2(rgb.r,slice1*LUT_TEXEL_WIDTH+yOffset);
#endif
vec4 sample0=texture2D(lut,uv0);vec4 sample1=texture2D(lut,uv1);return mix(sample0,sample1,abs(centeredInterp));}
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 c=inputColor.rgb;
#ifdef CUSTOM_INPUT_DOMAIN
if(c.r>=domainMin.r&&c.g>=domainMin.g&&c.b>=domainMin.b&&c.r<=domainMax.r&&c.g<=domainMax.g&&c.b<=domainMax.b){c=applyLUT(scale*c+offset).rgb;}else{c=inputColor.rgb;}
#else
#if !defined(LUT_3D) || defined(TETRAHEDRAL_INTERPOLATION)
c=clamp(c,0.0,1.0);
#endif
c=applyLUT(scale*c+offset).rgb;
#endif
outputColor=vec4(c,inputColor.a);}`,Vae=class extends Ci{constructor(t,{blendFunction:e=At.SRC,tetrahedralInterpolation:n=!1,inputEncoding:r=Mo,inputColorSpace:i}={}){super("LUT3DEffect",Hae,{blendFunction:e,uniforms:new Map([["lut",new le(null)],["scale",new le(new X)],["offset",new le(new X)],["domainMin",new le(null)],["domainMax",new le(null)]])}),this.tetrahedralInterpolation=n,this.inputColorSpace=i||lU.get(r),this.lut=t}get inputEncoding(){return this.inputColorSpace}set inputEncoding(t){this.inputColorSpace=t}getInputEncoding(){return this.inputColorSpace}setInputEncoding(t){this.inputColorSpace=t}getOutputEncoding(){return this.outputColorSpace}get lut(){return this.uniforms.get("lut").value}set lut(t){const e=this.defines,n=this.uniforms;if(this.lut!==t&&(n.get("lut").value=t,t!==null)){const r=t.image,i=this.tetrahedralInterpolation;if(e.clear(),e.set("LUT_SIZE",Math.min(r.width,r.height).toFixed(16)),e.set("LUT_TEXEL_WIDTH",(1/r.width).toFixed(16)),e.set("LUT_TEXEL_HEIGHT",(1/r.height).toFixed(16)),n.get("domainMin").value=null,n.get("domainMax").value=null,(t.type===Jn||t.type===ps)&&e.set("LUT_PRECISION_HIGH","1"),r.width>r.height?e.set("LUT_STRIP_HORIZONTAL","1"):t instanceof df&&e.set("LUT_3D","1"),t instanceof Bae){const s=t.domainMin,o=t.domainMax;(s.x!==0||s.y!==0||s.z!==0||o.x!==1||o.y!==1||o.z!==1)&&(e.set("CUSTOM_INPUT_DOMAIN","1"),n.get("domainMin").value=s.clone(),n.get("domainMax").value=o.clone())}this.tetrahedralInterpolation=i}}getLUT(){return this.lut}setLUT(t){this.lut=t}updateScaleOffset(){const t=this.lut;if(t!==null){const e=Math.min(t.image.width,t.image.height),n=this.uniforms.get("scale").value,r=this.uniforms.get("offset").value;if(this.tetrahedralInterpolation&&t instanceof df)if(this.defines.has("CUSTOM_INPUT_DOMAIN")){const i=t.domainMax.clone().sub(t.domainMin);n.setScalar(e-1).divide(i),r.copy(t.domainMin).negate().multiply(n)}else n.setScalar(e-1),r.setScalar(0);else if(this.defines.has("CUSTOM_INPUT_DOMAIN")){const i=t.domainMax.clone().sub(t.domainMin).multiplyScalar(e);n.setScalar(e-1).divide(i),r.copy(t.domainMin).negate().multiply(n).addScalar(1/(2*e))}else n.setScalar((e-1)/e),r.setScalar(1/(2*e))}}configureTetrahedralInterpolation(){const t=this.lut;t!==null&&(t.minFilter=ht,t.magFilter=ht,this.tetrahedralInterpolation&&(t instanceof df?(t.minFilter=Dt,t.magFilter=Dt):console.warn("Tetrahedral interpolation requires a 3D texture")),t.source===void 0&&(t.needsUpdate=!0))}get tetrahedralInterpolation(){return this.defines.has("TETRAHEDRAL_INTERPOLATION")}set tetrahedralInterpolation(t){t?this.defines.set("TETRAHEDRAL_INTERPOLATION","1"):this.defines.delete("TETRAHEDRAL_INTERPOLATION"),this.configureTetrahedralInterpolation(),this.updateScaleOffset(),this.setChanged()}setTetrahedralInterpolationEnabled(t){this.tetrahedralInterpolation=t}},Wae=`uniform lowp sampler2D edgeTexture;uniform lowp sampler2D maskTexture;uniform vec3 visibleEdgeColor;uniform vec3 hiddenEdgeColor;uniform float pulse;uniform float edgeStrength;
#ifdef USE_PATTERN
uniform lowp sampler2D patternTexture;varying vec2 vUvPattern;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 edge=texture2D(edgeTexture,uv).rg;vec2 mask=texture2D(maskTexture,uv).rg;
#ifndef X_RAY
edge.y=0.0;
#endif
edge*=(edgeStrength*mask.x*pulse);vec3 color=edge.x*visibleEdgeColor+edge.y*hiddenEdgeColor;float visibilityFactor=0.0;
#ifdef USE_PATTERN
vec4 patternColor=texture2D(patternTexture,vUvPattern);
#ifdef X_RAY
float hiddenFactor=0.5;
#else
float hiddenFactor=0.0;
#endif
visibilityFactor=(1.0-mask.y>0.0)?1.0:hiddenFactor;visibilityFactor*=(1.0-mask.x)*patternColor.a;color+=visibilityFactor*patternColor.rgb;
#endif
float alpha=max(max(edge.x,edge.y),visibilityFactor);
#ifdef ALPHA
outputColor=vec4(color,alpha);
#else
outputColor=vec4(color,max(alpha,inputColor.a));
#endif
}`,jae="uniform float patternScale;varying vec2 vUvPattern;void mainSupport(const in vec2 uv){vUvPattern=uv*vec2(aspect,1.0)*patternScale;}",Xae=class extends Ci{constructor(t,e,{blendFunction:n=At.SCREEN,patternTexture:r=null,patternScale:i=1,edgeStrength:s=1,pulseSpeed:o=0,visibleEdgeColor:a=16777215,hiddenEdgeColor:l=2230538,kernelSize:u=mp.VERY_SMALL,blur:c=!1,xRay:f=!0,multisampling:h=0,resolutionScale:p=.5,width:g=pn.AUTO_SIZE,height:x=pn.AUTO_SIZE,resolutionX:y=g,resolutionY:v=x}={}){super("OutlineEffect",Wae,{uniforms:new Map([["maskTexture",new le(null)],["edgeTexture",new le(null)],["edgeStrength",new le(s)],["visibleEdgeColor",new le(new Xe(a))],["hiddenEdgeColor",new le(new Xe(l))],["pulse",new le(1)],["patternScale",new le(i)],["patternTexture",new le(null)]])}),this.blendMode.addEventListener("change",b=>{this.blendMode.blendFunction===At.ALPHA?this.defines.set("ALPHA","1"):this.defines.delete("ALPHA"),this.setChanged()}),this.blendMode.blendFunction=n,this.patternTexture=r,this.xRay=f,this.scene=t,this.camera=e,this.renderTargetMask=new Qt(1,1),this.renderTargetMask.samples=h,this.renderTargetMask.texture.name="Outline.Mask",this.uniforms.get("maskTexture").value=this.renderTargetMask.texture,this.renderTargetOutline=new Qt(1,1,{depthBuffer:!1}),this.renderTargetOutline.texture.name="Outline.Edges",this.uniforms.get("edgeTexture").value=this.renderTargetOutline.texture,this.clearPass=new B1,this.clearPass.overrideClearColor=new Xe(0),this.clearPass.overrideClearAlpha=1,this.depthPass=new c_(t,e),this.maskPass=new gp(t,e,new noe(this.depthPass.texture,e));const S=this.maskPass.clearPass;S.overrideClearColor=new Xe(16777215),S.overrideClearAlpha=1,this.blurPass=new $5({resolutionScale:p,resolutionX:y,resolutionY:v,kernelSize:u}),this.blurPass.enabled=c;const _=this.blurPass.resolution;_.addEventListener("change",b=>this.setSize(_.baseWidth,_.baseHeight)),this.outlinePass=new Yo(new boe);const E=this.outlinePass.fullscreenMaterial;E.inputBuffer=this.renderTargetMask.texture,this.time=0,this.forceUpdate=!0,this.selection=new f_,this.selection.layer=10,this.pulseSpeed=o}set mainScene(t){this.scene=t,this.depthPass.mainScene=t,this.maskPass.mainScene=t}set mainCamera(t){this.camera=t,this.depthPass.mainCamera=t,this.maskPass.mainCamera=t,this.maskPass.overrideMaterial.copyCameraSettings(t)}get resolution(){return this.blurPass.resolution}getResolution(){return this.blurPass.getResolution()}get multisampling(){return this.renderTargetMask.samples}set multisampling(t){this.renderTargetMask.samples=t,this.renderTargetMask.dispose()}get patternScale(){return this.uniforms.get("patternScale").value}set patternScale(t){this.uniforms.get("patternScale").value=t}get edgeStrength(){return this.uniforms.get("edgeStrength").value}set edgeStrength(t){this.uniforms.get("edgeStrength").value=t}get visibleEdgeColor(){return this.uniforms.get("visibleEdgeColor").value}set visibleEdgeColor(t){this.uniforms.get("visibleEdgeColor").value=t}get hiddenEdgeColor(){return this.uniforms.get("hiddenEdgeColor").value}set hiddenEdgeColor(t){this.uniforms.get("hiddenEdgeColor").value=t}getBlurPass(){return this.blurPass}getSelection(){return this.selection}getPulseSpeed(){return this.pulseSpeed}setPulseSpeed(t){this.pulseSpeed=t}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get selectionLayer(){return this.selection.layer}set selectionLayer(t){this.selection.layer=t}get dithering(){return this.blurPass.dithering}set dithering(t){this.blurPass.dithering=t}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(t){this.blurPass.kernelSize=t}get blur(){return this.blurPass.enabled}set blur(t){this.blurPass.enabled=t}get xRay(){return this.defines.has("X_RAY")}set xRay(t){this.xRay!==t&&(t?this.defines.set("X_RAY","1"):this.defines.delete("X_RAY"),this.setChanged())}isXRayEnabled(){return this.xRay}setXRayEnabled(t){this.xRay=t}get patternTexture(){return this.uniforms.get("patternTexture").value}set patternTexture(t){t!==null?(t.wrapS=t.wrapT=Ai,this.defines.set("USE_PATTERN","1"),this.setVertexShader(jae)):(this.defines.delete("USE_PATTERN"),this.setVertexShader(null)),this.uniforms.get("patternTexture").value=t,this.setChanged()}setPatternTexture(t){this.patternTexture=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}setSelection(t){return this.selection.set(t),this}clearSelection(){return this.selection.clear(),this}selectObject(t){return this.selection.add(t),this}deselectObject(t){return this.selection.delete(t),this}update(t,e,n){const r=this.scene,i=this.camera,s=this.selection,a=this.uniforms.get("pulse"),l=r.background,u=i.layers.mask;(this.forceUpdate||s.size>0)&&(r.background=null,a.value=1,this.pulseSpeed>0&&(a.value=Math.cos(this.time*this.pulseSpeed*10)*.375+.625),this.time+=n,s.setVisible(!1),this.depthPass.render(t),s.setVisible(!0),i.layers.set(s.layer),this.maskPass.render(t,this.renderTargetMask),i.layers.mask=u,r.background=l,this.outlinePass.render(t,null,this.renderTargetOutline),this.blurPass.enabled&&this.blurPass.render(t,this.renderTargetOutline,this.renderTargetOutline)),this.forceUpdate=s.size>0}setSize(t,e){this.blurPass.setSize(t,e),this.renderTargetMask.setSize(t,e);const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.depthPass.setSize(r,i),this.renderTargetOutline.setSize(r,i),this.outlinePass.fullscreenMaterial.setSize(r,i)}initialize(t,e,n){this.blurPass.initialize(t,e,bn),n!==void 0&&(this.depthPass.initialize(t,e,n),this.maskPass.initialize(t,e,n),this.outlinePass.initialize(t,e,n))}},Yae="uniform bool active;uniform vec4 d;void mainUv(inout vec2 uv){if(active){uv=d.xy*(floor(uv*d.zw)+0.5);}}",Kae=class extends Ci{constructor(t=30){super("PixelationEffect",Yae,{uniforms:new Map([["active",new le(!1)],["d",new le(new Kt)]])}),this.resolution=new ue,this._granularity=0,this.granularity=t}get granularity(){return this._granularity}set granularity(t){let e=Math.floor(t);e%2>0&&(e+=1),this._granularity=e,this.uniforms.get("active").value=e>0,this.setSize(this.resolution.width,this.resolution.height)}getGranularity(){return this.granularity}setGranularity(t){this.granularity=t}setSize(t,e){const n=this.resolution;n.set(t,e);const r=this.granularity,i=r/n.x,s=r/n.y;this.uniforms.get("d").value.set(i,s,1/i,1/s)}},Jae=class extends pU{constructor(t,e,n){super(n),this.setAttributes(this.getAttributes()|Zo.DEPTH),this.camera=e,this.depthPass=new c_(t,e),this.clearPass=new B1(!0,!1,!1),this.clearPass.overrideClearColor=new Xe(0),this.depthMaskPass=new Yo(new cU);const r=this.depthMaskMaterial;r.copyCameraSettings(e),r.depthBuffer1=this.depthPass.texture,r.depthPacking1=$o,r.depthMode=Rm,this.renderTargetMasked=new Qt(1,1,{depthBuffer:!1}),this.renderTargetMasked.texture.name="Bloom.Masked",this.selection=new f_,this.selection.layer=11,this._inverted=!1,this._ignoreBackground=!1}set mainScene(t){this.depthPass.mainScene=t}set mainCamera(t){this.camera=t,this.depthPass.mainCamera=t,this.depthMaskMaterial.copyCameraSettings(t)}getSelection(){return this.selection}get depthMaskMaterial(){return this.depthMaskPass.fullscreenMaterial}get inverted(){return this._inverted}set inverted(t){this._inverted=t,this.depthMaskMaterial.depthMode=t?h5:Rm}isInverted(){return this.inverted}setInverted(t){this.inverted=t}get ignoreBackground(){return this._ignoreBackground}set ignoreBackground(t){this._ignoreBackground=t,this.depthMaskMaterial.maxDepthStrategy=t?rm.DISCARD_MAX_DEPTH:rm.KEEP_MAX_DEPTH}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(t){this.ignoreBackground=t}setDepthTexture(t,e=$r){this.depthMaskMaterial.depthBuffer0=t,this.depthMaskMaterial.depthPacking0=e}update(t,e,n){const r=this.camera,i=this.selection,s=this.inverted;let o=e;if(this.ignoreBackground||!s||i.size>0){const a=r.layers.mask;r.layers.set(i.layer),this.depthPass.render(t),r.layers.mask=a,o=this.renderTargetMasked,this.clearPass.render(t,o),this.depthMaskPass.render(t,e,o)}super.update(t,o,n)}setSize(t,e){super.setSize(t,e),this.renderTargetMasked.setSize(t,e),this.depthPass.setSize(t,e)}initialize(t,e,n){super.initialize(t,e,n),this.clearPass.initialize(t,e,n),this.depthPass.initialize(t,e,n),this.depthMaskPass.initialize(t,e,n),t.capabilities.logarithmicDepthBuffer&&(this.depthMaskPass.fullscreenMaterial.defines.LOG_DEPTH="1"),n!==void 0&&(this.renderTargetMasked.texture.type=n,Ul(t)===dn&&Ur(this.renderTargetMasked.texture,dn))}},Zae=`uniform lowp sampler2D aoBuffer;uniform float luminanceInfluence;uniform float intensity;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if defined(DEPTH_AWARE_UPSAMPLING) && defined(NORMAL_DEPTH)
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D normalDepthBuffer;
#else
uniform mediump sampler2D normalDepthBuffer;
#endif
#endif
#ifdef COLORIZE
uniform vec3 color;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){float aoLinear=texture2D(aoBuffer,uv).r;
#if defined(DEPTH_AWARE_UPSAMPLING) && defined(NORMAL_DEPTH) && __VERSION__ == 300
vec4 normalDepth[4];normalDepth[0]=textureOffset(normalDepthBuffer,uv,ivec2(0,0));normalDepth[1]=textureOffset(normalDepthBuffer,uv,ivec2(0,1));normalDepth[2]=textureOffset(normalDepthBuffer,uv,ivec2(1,0));normalDepth[3]=textureOffset(normalDepthBuffer,uv,ivec2(1,1));float dot01=dot(normalDepth[0].rgb,normalDepth[1].rgb);float dot02=dot(normalDepth[0].rgb,normalDepth[2].rgb);float dot03=dot(normalDepth[0].rgb,normalDepth[3].rgb);float minDot=min(dot01,min(dot02,dot03));float s=step(THRESHOLD,minDot);float smallestDistance=1.0;int index;for(int i=0;i<4;++i){float distance=abs(depth-normalDepth[i].a);if(distance<smallestDistance){smallestDistance=distance;index=i;}}ivec2 offsets[4];offsets[0]=ivec2(0,0);offsets[1]=ivec2(0,1);offsets[2]=ivec2(1,0);offsets[3]=ivec2(1,1);ivec2 coord=ivec2(uv*vec2(textureSize(aoBuffer,0)))+offsets[index];float aoNearest=texelFetch(aoBuffer,coord,0).r;float ao=mix(aoNearest,aoLinear,s);
#else
float ao=aoLinear;
#endif
float l=luminance(inputColor.rgb);ao=mix(ao,0.0,l*luminanceInfluence);ao=clamp(ao*intensity,0.0,1.0);
#ifdef COLORIZE
outputColor=vec4(1.0-ao*(1.0-color),inputColor.a);
#else
outputColor=vec4(vec3(1.0-ao),inputColor.a);
#endif
}`,oC=64,Qae=class extends Ci{constructor(t,e,{blendFunction:n=At.MULTIPLY,samples:r=9,rings:i=7,normalDepthBuffer:s=null,depthAwareUpsampling:o=!0,worldDistanceThreshold:a,worldDistanceFalloff:l,worldProximityThreshold:u,worldProximityFalloff:c,distanceThreshold:f=.97,distanceFalloff:h=.03,rangeThreshold:p=5e-4,rangeFalloff:g=.001,minRadiusScale:x=.1,luminanceInfluence:y=.7,radius:v=.1825,intensity:S=1,bias:_=.025,fade:E=.01,color:b=null,resolutionScale:T=1,width:A=pn.AUTO_SIZE,height:D=pn.AUTO_SIZE,resolutionX:C=A,resolutionY:L=D}={}){super("SSAOEffect",Zae,{blendFunction:n,attributes:Zo.DEPTH,defines:new Map([["THRESHOLD","0.997"]]),uniforms:new Map([["aoBuffer",new le(null)],["normalDepthBuffer",new le(s)],["luminanceInfluence",new le(y)],["color",new le(null)],["intensity",new le(S)],["scale",new le(0)]])}),this.renderTarget=new Qt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="AO.Target",this.uniforms.get("aoBuffer").value=this.renderTarget.texture;const k=this.resolution=new pn(this,C,L,T);k.addEventListener("change",V=>this.setSize(k.baseWidth,k.baseHeight)),this.camera=t,this.depthDownsamplingPass=new dU({normalBuffer:e,resolutionScale:T}),this.depthDownsamplingPass.enabled=s===null,this.ssaoPass=new Yo(new Aoe(t));const z=new u9(oC,oC,Bn);z.wrapS=z.wrapT=Ai;const H=this.ssaoMaterial;H.normalBuffer=e,H.noiseTexture=z,H.minRadiusScale=x,H.samples=r,H.radius=v,H.rings=i,H.fade=E,H.bias=_,H.distanceThreshold=f,H.distanceFalloff=h,H.proximityThreshold=p,H.proximityFalloff=g,a!==void 0&&(H.worldDistanceThreshold=a),l!==void 0&&(H.worldDistanceFalloff=l),u!==void 0&&(H.worldProximityThreshold=u),c!==void 0&&(H.worldProximityFalloff=c),s!==null&&(this.ssaoMaterial.normalDepthBuffer=s,this.defines.set("NORMAL_DEPTH","1")),this.depthAwareUpsampling=o,this.color=b}set mainCamera(t){this.camera=t,this.ssaoMaterial.copyCameraSettings(t)}get normalBuffer(){return this.ssaoMaterial.normalBuffer}set normalBuffer(t){this.ssaoMaterial.normalBuffer=t,this.depthDownsamplingPass.fullscreenMaterial.normalBuffer=t}getResolution(){return this.resolution}get ssaoMaterial(){return this.ssaoPass.fullscreenMaterial}getSSAOMaterial(){return this.ssaoMaterial}get samples(){return this.ssaoMaterial.samples}set samples(t){this.ssaoMaterial.samples=t}get rings(){return this.ssaoMaterial.rings}set rings(t){this.ssaoMaterial.rings=t}get radius(){return this.ssaoMaterial.radius}set radius(t){this.ssaoMaterial.radius=t}get depthAwareUpsampling(){return this.defines.has("DEPTH_AWARE_UPSAMPLING")}set depthAwareUpsampling(t){this.depthAwareUpsampling!==t&&(t?this.defines.set("DEPTH_AWARE_UPSAMPLING","1"):this.defines.delete("DEPTH_AWARE_UPSAMPLING"),this.setChanged())}isDepthAwareUpsamplingEnabled(){return this.depthAwareUpsampling}setDepthAwareUpsamplingEnabled(t){this.depthAwareUpsampling=t}get distanceScaling(){return!0}set distanceScaling(t){}get color(){return this.uniforms.get("color").value}set color(t){const e=this.uniforms,n=this.defines;t!==null?n.has("COLORIZE")?e.get("color").value.set(t):(n.set("COLORIZE","1"),e.get("color").value=new Xe(t),this.setChanged()):n.has("COLORIZE")&&(n.delete("COLORIZE"),e.get("color").value=null,this.setChanged())}get luminanceInfluence(){return this.uniforms.get("luminanceInfluence").value}set luminanceInfluence(t){this.uniforms.get("luminanceInfluence").value=t}get intensity(){return this.uniforms.get("intensity").value}set intensity(t){this.uniforms.get("intensity").value=t}getColor(){return this.color}setColor(t){this.color=t}setDistanceCutoff(t,e){this.ssaoMaterial.distanceThreshold=t,this.ssaoMaterial.distanceFalloff=e}setProximityCutoff(t,e){this.ssaoMaterial.proximityThreshold=t,this.ssaoMaterial.proximityFalloff=e}setDepthTexture(t,e=$r){this.depthDownsamplingPass.setDepthTexture(t,e),this.ssaoMaterial.depthBuffer=t,this.ssaoMaterial.depthPacking=e}update(t,e,n){const r=this.renderTarget;this.depthDownsamplingPass.enabled&&this.depthDownsamplingPass.render(t),this.ssaoPass.render(t,null,r)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.ssaoMaterial.copyCameraSettings(this.camera),this.ssaoMaterial.setSize(r,i),this.renderTarget.setSize(r,i),this.depthDownsamplingPass.resolution.scale=n.scale,this.depthDownsamplingPass.setSize(t,e)}initialize(t,e,n){try{let r=this.uniforms.get("normalDepthBuffer").value;r===null&&(this.depthDownsamplingPass.initialize(t,e,n),r=this.depthDownsamplingPass.texture,this.uniforms.get("normalDepthBuffer").value=r,this.ssaoMaterial.normalDepthBuffer=r,this.defines.set("NORMAL_DEPTH","1"))}catch{this.depthDownsamplingPass.enabled=!1}}},qae=`#ifdef TEXTURE_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
varying vec2 vUv2;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){
#ifdef UV_TRANSFORM
vec4 texel=texture2D(map,vUv2);
#else
vec4 texel=texture2D(map,uv);
#endif
outputColor=TEXEL;}`,$ae=`#ifdef ASPECT_CORRECTION
uniform float scale;
#else
uniform mat3 uvTransform;
#endif
varying vec2 vUv2;void mainSupport(const in vec2 uv){
#ifdef ASPECT_CORRECTION
vUv2=uv*vec2(aspect,1.0)*scale;
#else
vUv2=(uvTransform*vec3(uv,1.0)).xy;
#endif
}`,ele=class extends Ci{constructor({blendFunction:t,texture:e=null,aspectCorrection:n=!1}={}){super("TextureEffect",qae,{blendFunction:t,defines:new Map([["TEXEL","texel"]]),uniforms:new Map([["map",new le(null)],["scale",new le(1)],["uvTransform",new le(null)]])}),this.texture=e,this.aspectCorrection=n}get texture(){return this.uniforms.get("map").value}set texture(t){const e=this.texture,n=this.uniforms,r=this.defines;e!==t&&(n.get("map").value=t,n.get("uvTransform").value=t.matrix,r.delete("TEXTURE_PRECISION_HIGH"),t!==null&&(t.matrixAutoUpdate?(r.set("UV_TRANSFORM","1"),this.setVertexShader($ae)):(r.delete("UV_TRANSFORM"),this.setVertexShader(null)),t.type!==bn&&r.set("TEXTURE_PRECISION_HIGH","1"),(e===null||e.type!==t.type||e.encoding!==t.encoding)&&this.setChanged()))}getTexture(){return this.texture}setTexture(t){this.texture=t}get aspectCorrection(){return this.defines.has("ASPECT_CORRECTION")}set aspectCorrection(t){this.aspectCorrection!==t&&(t?this.defines.set("ASPECT_CORRECTION","1"):this.defines.delete("ASPECT_CORRECTION"),this.setChanged())}get uvTransform(){const t=this.texture;return t!==null&&t.matrixAutoUpdate}set uvTransform(t){const e=this.texture;e!==null&&(e.matrixAutoUpdate=t)}setTextureSwizzleRGBA(t,e=t,n=t,r=t){const i="rgba";let s="";(t!==ld.RED||e!==ld.GREEN||n!==ld.BLUE||r!==ld.ALPHA)&&(s=[".",i[t],i[e],i[n],i[r]].join("")),this.defines.set("TEXEL","texel"+s),this.setChanged()}update(t,e,n){this.texture.matrixAutoUpdate&&this.texture.updateMatrix()}};function im(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tle(t,e){if(t){if(typeof t=="string")return c9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c9(t,e)}}function nle(t){if(Array.isArray(t))return c9(t)}function rle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ile(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sle(t){return nle(t)||rle(t)||tle(t)||ile()}new ue;new ue;function ole(t,e,n){return Math.max(e,Math.min(n,t))}function ale(t,e){return ole(t-Math.floor(t/e)*e,0,e)}function lle(t,e){var n=ale(e-t,Math.PI*2);return n>Math.PI&&(n-=Math.PI*2),n}function gU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var ao=function t(e,n,r){var i=this;gU(this,t),im(this,"dot2",function(s,o){return i.x*s+i.y*o}),im(this,"dot3",function(s,o,a){return i.x*s+i.y*o+i.z*a}),this.x=e,this.y=n,this.z=r},ule=[new ao(1,1,0),new ao(-1,1,0),new ao(1,-1,0),new ao(-1,-1,0),new ao(1,0,1),new ao(-1,0,1),new ao(1,0,-1),new ao(-1,0,-1),new ao(0,1,1),new ao(0,-1,1),new ao(0,1,-1),new ao(0,-1,-1)],aC=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],lC=new Array(512),uC=new Array(512),cle=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var n=0;n<256;n++){var r;n&1?r=aC[n]^e&255:r=aC[n]^e>>8&255,lC[n]=lC[n+256]=r,uC[n]=uC[n+256]=ule[r%12]}};cle(0);function fle(t){if(typeof t=="number")t=Math.abs(t);else if(typeof t=="string"){var e=t;t=0;for(var n=0;n<e.length;n++)t=(t+(n+1)*(e.charCodeAt(n)%96))%2147483647}return t===0&&(t=311),t}function cC(t){var e=fle(t);return function(){var n=e*48271%2147483647;return e=n,n/2147483647}}var hle=function t(e){var n=this;gU(this,t),im(this,"seed",0),im(this,"init",function(r){n.seed=r,n.value=cC(r)}),im(this,"value",cC(this.seed)),this.init(e)};new hle(Math.random());var dle=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/n)*Math.atan(Math.sin(2*Math.PI*e*i)/n)},vU=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)};function Or(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:vU,a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,l="velocity_"+e;if(t.__damp===void 0&&(t.__damp={}),t.__damp[l]===void 0&&(t.__damp[l]=0),Math.abs(t[e]-n)<=a)return t[e]=n,!1;r=Math.max(1e-4,r);var u=2/r,c=o(u*i),f=t[e]-n,h=n,p=s*r;f=Math.min(Math.max(f,-p),p),n=t[e]-f;var g=(t.__damp[l]+u*f)*i;t.__damp[l]=(t.__damp[l]-u*g)*c;var x=n+(f+g)*c;return h-t[e]>0==x>h&&(x=h,t.__damp[l]=(x-h)/i),t[e]=x,!0}function wd(t,e,n,r,i,s,o,a){return Or(t,e,t[e]+lle(t[e],n),r,i,s,o,a)}var w0=new ue,fC,hC;function ple(t,e,n,r,i,s,o){return typeof e=="number"?w0.setScalar(e):Array.isArray(e)?w0.set(e[0],e[1]):w0.copy(e),fC=Or(t,"x",w0.x,n,r,i,s,o),hC=Or(t,"y",w0.y,n,r,i,s,o),fC||hC}var Fh=new X,dC,pC,mC;function f9(t,e,n,r,i,s,o){return typeof e=="number"?Fh.setScalar(e):Array.isArray(e)?Fh.set(e[0],e[1],e[2]):Fh.copy(e),dC=Or(t,"x",Fh.x,n,r,i,s,o),pC=Or(t,"y",Fh.y,n,r,i,s,o),mC=Or(t,"z",Fh.z,n,r,i,s,o),dC||pC||mC}var Nc=new Kt,gC,vC,yC,xC;function mle(t,e,n,r,i,s,o){return typeof e=="number"?Nc.setScalar(e):Array.isArray(e)?Nc.set(e[0],e[1],e[2],e[3]):Nc.copy(e),gC=Or(t,"x",Nc.x,n,r,i,s,o),vC=Or(t,"y",Nc.y,n,r,i,s,o),yC=Or(t,"z",Nc.z,n,r,i,s,o),xC=Or(t,"w",Nc.w,n,r,i,s,o),gC||vC||yC||xC}var E0=new sp,SC,_C,wC;function gle(t,e,n,r,i,s,o){return Array.isArray(e)?E0.set(e[0],e[1],e[2],e[3]):E0.copy(e),SC=wd(t,"x",E0.x,n,r,i,s,o),_C=wd(t,"y",E0.y,n,r,i,s,o),wC=wd(t,"z",E0.z,n,r,i,s,o),SC||_C||wC}var Uh=new Xe,EC,bC,MC;function vle(t,e,n,r,i,s,o){return e instanceof Xe?Uh.copy(e):Array.isArray(e)?Uh.setRGB(e[0],e[1],e[2]):Uh.set(e),EC=Or(t,"r",Uh.r,n,r,i,s,o),bC=Or(t,"g",Uh.g,n,r,i,s,o),MC=Or(t,"b",Uh.b,n,r,i,s,o),EC||bC||MC}var Go=new er,al=new Kt,TC=new Kt,b0=new Kt,AC,CC,RC,PC;function yU(t,e,n,r,i,s,o){var a=t;Array.isArray(e)?Go.set(e[0],e[1],e[2],e[3]):Go.copy(e);var l=t.dot(Go)>0?1:-1;return Go.x*=l,Go.y*=l,Go.z*=l,Go.w*=l,AC=Or(t,"x",Go.x,n,r,i,s,o),CC=Or(t,"y",Go.y,n,r,i,s,o),RC=Or(t,"z",Go.z,n,r,i,s,o),PC=Or(t,"w",Go.w,n,r,i,s,o),al.set(t.x,t.y,t.z,t.w).normalize(),TC.set(a.__damp.velocity_x,a.__damp.velocity_y,a.__damp.velocity_z,a.__damp.velocity_w),b0.copy(al).multiplyScalar(TC.dot(al)/al.dot(al)),a.__damp.velocity_x-=b0.x,a.__damp.velocity_y-=b0.y,a.__damp.velocity_z-=b0.z,a.__damp.velocity_w-=b0.w,t.set(al.x,al.y,al.z,al.w),AC||CC||RC||PC}var M0=new vv,DC,LC,IC;function yle(t,e,n,r,i,s,o){return Array.isArray(e)?M0.set(e[0],e[1],e[2]):M0.copy(e),DC=Or(t,"radius",M0.radius,n,r,i,s,o),LC=wd(t,"phi",M0.phi,n,r,i,s,o),IC=wd(t,"theta",M0.theta,n,r,i,s,o),DC||LC||IC}var Q2=new rt,BC=new X,FC=new er,UC=new X,OC,kC,NC;function xle(t,e,n,r,i,s,o){var a=t;return a.__damp===void 0&&(a.__damp={position:new X,rotation:new er,scale:new X},t.decompose(a.__damp.position,a.__damp.rotation,a.__damp.scale)),Array.isArray(e)?Q2.set.apply(Q2,sle(e)):Q2.copy(e),Q2.decompose(BC,FC,UC),OC=f9(a.__damp.position,BC,n,r,i,s,o),kC=yU(a.__damp.rotation,FC,n,r,i,s,o),NC=f9(a.__damp.scale,UC,n,r,i,s,o),t.compose(a.__damp.position,a.__damp.rotation,a.__damp.scale),OC||kC||NC}var xU=Object.freeze({__proto__:null,rsqw:dle,exp:vU,damp:Or,dampAngle:wd,damp2:ple,damp3:f9,damp4:mle,dampE:gle,dampC:vle,dampQ:yU,dampS:yle,dampM:xle});const h_=R.createContext(null),jl=R.createContext(null),Sle=te.memo(R.forwardRef(({children:t,camera:e,scene:n,resolutionScale:r,enabled:i=!0,renderPriority:s=1,autoClear:o=!0,depthBuffer:a,disableNormalPass:l,stencilBuffer:u,multisampling:c=8,frameBufferType:f=ps},h)=>{const{gl:p,scene:g,camera:x,size:y}=cn(),v=n||g,S=e||x,[_,E,b]=R.useMemo(()=>{const C=zre(),L=new joe(p,{depthBuffer:a,stencilBuffer:u,multisampling:c>0&&C?c:0,frameBufferType:f});L.addPass(new gp(v,S));let k=null,z=null;return l||(z=new Hoe(v,S),z.enabled=!1,L.addPass(z),r!==void 0&&C&&(k=new dU({normalBuffer:z.texture,resolutionScale:r}),k.enabled=!1,L.addPass(k))),[L,z,k]},[S,p,a,u,c,f,v,l,r]);R.useEffect(()=>_==null?void 0:_.setSize(y.width,y.height),[_,y]),lc((C,L)=>{if(i){const k=p.autoClear;p.autoClear=o,u&&!o&&p.clearStencil(),_.render(L),p.autoClear=k}},i?s:0);const T=R.useRef(null),A=LZ(T);R.useLayoutEffect(()=>{const C=[];if(T.current&&A.current&&_){const L=A.current.objects;for(let k=0;k<L.length;k++){const z=L[k];if(z instanceof Ci){const H=[];for(;L[k]instanceof Ci;)H.push(L[k++]);k--;const V=new koe(S,...H);C.push(V)}else z instanceof Rr&&C.push(z)}for(const k of C)_==null||_.addPass(k);E&&(E.enabled=!0),b&&(b.enabled=!0)}return()=>{for(const L of C)_==null||_.removePass(L);E&&(E.enabled=!1),b&&(b.enabled=!1)}},[_,t,S,E,b,A]);const D=R.useMemo(()=>({composer:_,normalPass:E,downSamplingPass:b,resolutionScale:r,camera:S,scene:v}),[_,E,b,r,S,v]);return R.useImperativeHandle(h,()=>_,[_]),B.jsx(jl.Provider,{value:D,children:B.jsx("group",{ref:T,children:t})})})),Tu=t=>typeof t=="object"&&t!=null&&"current"in t?t.current:t;let _le=0;const zC=new WeakMap,wle=(t,e)=>te.forwardRef(function({blendFunction:r=e==null?void 0:e.blendFunction,opacity:i=e==null?void 0:e.opacity,...s},o){let a=zC.get(t);if(!a){const c=`@react-three/postprocessing/${t.name}-${_le++}`;VS({[c]:t}),zC.set(t,a=c)}const l=cn(c=>c.camera),u=te.useMemo(()=>{var c,f;return[...(c=e==null?void 0:e.args)!=null?c:[],...(f=s.args)!=null?f:[{...e,...s}]]},[JSON.stringify(s)]);return B.jsx(a,{camera:l,"blendMode-blendFunction":r,"blendMode-opacity-value":i,...s,ref:o,args:u})}),q2=(t,e)=>{const n=t[e];return te.useMemo(()=>typeof n=="number"?new ue(n,n):n?new ue(...n):new ue,[n])},Ele=R.forwardRef(function({blendFunction:e,worldFocusDistance:n,worldFocusRange:r,focusDistance:i,focusRange:s,focalLength:o,bokehScale:a,resolutionScale:l,resolutionX:u,resolutionY:c,width:f,height:h,target:p,depthTexture:g,...x},y){const{camera:v}=R.useContext(jl),S=p!=null,_=R.useMemo(()=>{const E=new Dae(v,{blendFunction:e,worldFocusDistance:n,worldFocusRange:r,focusDistance:i,focusRange:s,focalLength:o,bokehScale:a,resolutionScale:l,resolutionX:u,resolutionY:c,width:f,height:h});S&&(E.target=new X),g&&E.setDepthTexture(g.texture,g.packing);const b=E.maskPass.getFullscreenMaterial();return b.maskFunction=l_.MULTIPLY_RGB_SET_ALPHA,E},[v,e,n,r,i,s,o,a,l,u,c,f,h,S,g]);return R.useEffect(()=>()=>{_.dispose()},[_]),B.jsx("primitive",{...x,ref:y,object:_,target:p})});R.forwardRef(({target:t=void 0,mouse:e=!1,debug:n=void 0,manual:r=!1,smoothTime:i=.25,...s},o)=>{const a=R.useRef(null),l=R.useRef(null),u=R.useRef(null),c=cn(({scene:b})=>b),f=cn(({pointer:b})=>b),{composer:h,camera:p}=R.useContext(jl),[g]=R.useState(()=>new Uoe),[x]=R.useState(()=>new hU);R.useEffect(()=>(h.addPass(g),h.addPass(x),()=>{h.removePass(g),h.removePass(x)}),[h,g,x]),R.useEffect(()=>()=>{g.dispose(),x.dispose()},[g,x]);const[y]=R.useState(()=>new X(0,0,0)),[v]=R.useState(()=>new X(0,0,0)),S=R.useCallback(async(b,T)=>(v.x=b,v.y=T,v.z=await g.readDepth(v),v.z=v.z*2-1,1-v.z>1e-7?v.unproject(p):!1),[v,g,p]),_=R.useCallback(async(b,T=!0)=>{var A;if(t)y.set(...t);else{const{x:D,y:C}=e?f:{x:0,y:0},L=await S(D,C);L&&y.copy(L)}T&&((A=a.current)!=null&&A.target)&&(i>0&&b>0?xU.damp3(a.current.target,y,i,b):a.current.target.copy(y))},[t,y,e,S,i,f]);lc(async(b,T)=>{var A;r||_(T),l.current&&l.current.position.copy(y),u.current&&((A=a.current)!=null&&A.target)&&u.current.position.copy(a.current.target)});const E=R.useMemo(()=>({dofRef:a,hitpoint:y,update:_}),[y,_]);return R.useImperativeHandle(o,()=>E,[E]),B.jsxs(B.Fragment,{children:[n?OZ(B.jsxs(B.Fragment,{children:[B.jsxs("mesh",{ref:l,children:[B.jsx("sphereGeometry",{args:[n,16,16]}),B.jsx("meshBasicMaterial",{color:"#00ff00",opacity:1,transparent:!0,depthWrite:!1})]}),B.jsxs("mesh",{ref:u,children:[B.jsx("sphereGeometry",{args:[n/2,16,16]}),B.jsx("meshBasicMaterial",{color:"#00ff00",opacity:.5,transparent:!0,depthWrite:!1})]})]}),c):null,B.jsx(Ele,{ref:a,...s,target:y})]})});const ble={fragmentShader:`

  uniform float iTime;
  uniform vec2 lensPosition;
  uniform vec2 iResolution;
  uniform vec3 colorGain;
  uniform float starPoints;
  uniform float glareSize;
  uniform float flareSize;
  uniform float flareSpeed;
  uniform float flareShape;
  uniform float haloScale;
  uniform float opacity;
  uniform bool animated;
  uniform bool anamorphic;
  uniform bool enabled;
  uniform bool secondaryGhosts;
  uniform bool starBurst;
  uniform float ghostScale;
  uniform bool aditionalStreaks;
  uniform sampler2D lensDirtTexture;
  vec2 vxtC;

  float rndf(float n){return fract(sin(n) * 43758.5453123);}float niz(float p){float fl = floor(p);float fc = fract(p);return mix(rndf(fl),rndf(fl + 1.0), fc);}
  vec3 hsv2rgb(vec3 c){vec4 k = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);vec3 p = abs(fract(c.xxx + k.xyz) * 6.0 - k.www);return c.z * mix(k.xxx, clamp(p - k.xxx, 0.0, 1.0), c.y);}
  float satU(float x){return clamp(x, 0.,1.);}vec2 rtU(vec2 naz, float rtn){return vec2(cos(rtn) * naz.x + sin(rtn) * naz.y,cos(rtn) * naz.y - sin(rtn) * naz.x);}
  vec3 drwF(vec2 p, float intensity, float rnd, float speed, int id){float flhos = (1. / 32.) * float(id) * 0.1;float lingrad = distance(vec2(0.), p);float expg = 1. / exp(lingrad * (fract(rnd) * 0.66 + 0.33));vec3 qzTg = hsv2rgb(vec3( fract( (expg * 8.) + speed * flareSpeed + flhos), pow(1.-abs(expg*2.-1.), 0.45), 20.0 * expg * intensity));float internalStarPoints;if(anamorphic){internalStarPoints = 1.0;} else{internalStarPoints = starPoints;}float ams = length(p * flareShape * sin(internalStarPoints * atan(p.x, p.y)));float kJhg = pow(1.-satU(ams), ( anamorphic ? 100. : 12.));kJhg += satU(expg-0.9) * 3.;kJhg = pow(kJhg * expg, 8. + (1.-intensity) * 5.);if(flareSpeed > 0.0){return vec3(kJhg) * qzTg;} else{return vec3(kJhg) * flareSize * 15.;}}
  float ams2(vec3 a, vec3 b) { return abs(a.x - b.x) + abs(a.y - b.y) + abs(a.z - b.z);}vec3 satU(vec3 x){return clamp(x, vec3(0.0), vec3(1.0));}
  float glR(vec2 naz, vec2 pos, float zsi){vec2 mni;if(animated){mni = rtU(naz-pos, iTime * 0.1);} else{mni = naz-pos;}float ang = atan(mni.y, mni.x) * (anamorphic ? 1.0 : starPoints);float ams2 = length(mni);ams2 = pow(ams2, .9);float f0 = 1.0/(length(naz-pos)*(1.0/zsi*16.0)+.2);return f0+f0*(sin((ang))*.2 +.3);}
  float sdHex(vec2 p){p = abs(p);vec2 q = vec2(p.x*2.0*0.5773503, p.y + p.x*0.5773503);return dot(step(q.xy,q.yx), 1.0-q.yx);}float fpow(float x, float k){return x > k ? pow((x-k)/(1.0-k),2.0) : 0.0;}
  vec3 rHx(vec2 naz, vec2 p, float s, vec3 col){naz -= p;if (abs(naz.x) < 0.2*s && abs(naz.y) < 0.2*s){return mix(vec3(0),mix(vec3(0),col,0.1 + fpow(length(naz/s),0.1)*10.0),smoothstep(0.0,0.1,sdHex(naz*20.0/s)));}return vec3(0);}
  vec3 mLs(vec2 naz, vec2 pos){vec2 mni = naz-pos;vec2 zxMp = naz*(length(naz));float ang = atan(mni.x,mni.y);float f0 = .3/(length(naz-pos)*16.0+1.0);f0 = f0*(sin(niz(sin(ang*3.9-(animated ? iTime : 0.0) * 0.3) * starPoints))*.2 );float f1 = max(0.01-pow(length(naz+1.2*pos),1.9),.0)*7.0;float f2 = max(.9/(10.0+32.0*pow(length(zxMp+0.99*pos),2.0)),.0)*0.35;float f22 = max(.9/(11.0+32.0*pow(length(zxMp+0.85*pos),2.0)),.0)*0.23;float f23 = max(.9/(12.0+32.0*pow(length(zxMp+0.95*pos),2.0)),.0)*0.6;vec2 ztX = mix(naz,zxMp, 0.1);float f4 = max(0.01-pow(length(ztX+0.4*pos),2.9),.0)*4.02;float f42 = max(0.0-pow(length(ztX+0.45*pos),2.9),.0)*4.1;float f43 = max(0.01-pow(length(ztX+0.5*pos),2.9),.0)*4.6;ztX = mix(naz,zxMp,-.4);float f5 = max(0.01-pow(length(ztX+0.1*pos),5.5),.0)*2.0;float f52 = max(0.01-pow(length(ztX+0.2*pos),5.5),.0)*2.0;float f53 = max(0.01-pow(length(ztX+0.1*pos),5.5),.0)*2.0;ztX = mix(naz,zxMp, 2.1);float f6 = max(0.01-pow(length(ztX-0.3*pos),1.61),.0)*3.159;float f62 = max(0.01-pow(length(ztX-0.325*pos),1.614),.0)*3.14;float f63 = max(0.01-pow(length(ztX-0.389*pos),1.623),.0)*3.12;vec3 c = vec3(glR(naz,pos, glareSize));vec2 prot;if(animated){prot = rtU(naz - pos, (iTime * 0.1));} else if(anamorphic){prot = rtU(naz - pos, 1.570796);} else {prot = naz - pos;}c += drwF(prot, (anamorphic ? flareSize * 10. : flareSize), 0.1, iTime, 1);c.r+=f1+f2+f4+f5+f6; c.g+=f1+f22+f42+f52+f62; c.b+=f1+f23+f43+f53+f63;c = c*1.3 * vec3(length(zxMp)+.09);c+=vec3(f0);return c;}
  vec3 cc(vec3 clr, float fct,float fct2){float w = clr.x+clr.y+clr.z;return mix(clr,vec3(w)*fct,w*fct2);}float rnd(vec2 p){float f = fract(sin(dot(p, vec2(12.1234, 72.8392) )*45123.2));return f;}float rnd(float w){float f = fract(sin(w)*1000.);return f;}
  float rShp(vec2 p, int N){float f;float a=atan(p.x,p.y)+.2;float b=6.28319/float(N);f=smoothstep(.5,.51, cos(floor(.5+a/b)*b-a)*length(p.xy)* 2.0  -ghostScale);return f;}
  vec3 drC(vec2 p, float zsi, float dCy, vec3 clr, vec3 clr2, float ams2, vec2 esom){float l = length(p + esom*(ams2*2.))+zsi/2.;float l2 = length(p + esom*(ams2*4.))+zsi/3.;float c = max(0.01-pow(length(p + esom*ams2), zsi*ghostScale), 0.0)*10.;float c1 = max(0.001-pow(l-0.3, 1./40.)+sin(l*20.), 0.0)*3.;float c2 =  max(0.09/pow(length(p-esom*ams2/.5)*1., .95), 0.0)/20.;float s = max(0.02-pow(rShp(p*5. + esom*ams2*5. + dCy, 6) , 1.), 0.0)*1.5;clr = cos(vec3(0.44, .24, .2)*8. + ams2*4.)*0.5+.5;vec3 f = c*clr;f += c1*clr;f += c2*clr;f +=  s*clr;return f-0.01;}
  vec4 geLC(float x){return vec4(vec3(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(vec3(0., 0., 0.),vec3(0., 0., 0.), smoothstep(0.0, 0.063, x)),vec3(0., 0., 0.), smoothstep(0.063, 0.125, x)),vec3(0.0, 0., 0.), smoothstep(0.125, 0.188, x)),vec3(0.188, 0.131, 0.116), smoothstep(0.188, 0.227, x)),vec3(0.31, 0.204, 0.537), smoothstep(0.227, 0.251, x)),vec3(0.192, 0.106, 0.286), smoothstep(0.251, 0.314, x)),vec3(0.102, 0.008, 0.341), smoothstep(0.314, 0.392, x)),vec3(0.086, 0.0, 0.141), smoothstep(0.392, 0.502, x)),vec3(1.0, 0.31, 0.0), smoothstep(0.502, 0.604, x)),vec3(.1, 0.1, 0.1), smoothstep(0.604, 0.643, x)),vec3(1.0, 0.929, 0.0), smoothstep(0.643, 0.761, x)),vec3(1.0, 0.086, 0.424), smoothstep(0.761, 0.847, x)),vec3(1.0, 0.49, 0.0), smoothstep(0.847, 0.89, x)),vec3(0.945, 0.275, 0.475), smoothstep(0.89, 0.941, x)),vec3(0.251, 0.275, 0.796), smoothstep(0.941, 1.0, x))),1.0);}
  float diTN(vec2 p){vec2 f = fract(p);f = (f * f) * (3.0 - (2.0 * f));float n = dot(floor(p), vec2(1.0, 157.0));vec4 a = fract(sin(vec4(n + 0.0, n + 1.0, n + 157.0, n + 158.0)) * 43758.5453123);return mix(mix(a.x, a.y, f.x), mix(a.z, a.w, f.x), f.y);} 
  float fbm(vec2 p){const mat2 m = mat2(0.80, -0.60, 0.60, 0.80);float f = 0.0;f += 0.5000*diTN(p); p = m*p*2.02;f += 0.2500*diTN(p); p = m*p*2.03;f += 0.1250*diTN(p); p = m*p*2.01;f += 0.0625*diTN(p);return f/0.9375;} 
  vec4 geLS(vec2 p){vec2 pp = (p - vec2(0.5)) * 2.0;float a = atan(pp.y, pp.x);vec4 cp = vec4(sin(a * 1.0), length(pp), sin(a * 13.0), sin(a * 53.0));float d = sin(clamp(pow(length(vec2(0.5) - p) * 0.5 + haloScale /2., 5.0), 0.0, 1.0) * 3.14159);vec3 c = vec3(d) * vec3(fbm(cp.xy * 16.0) * fbm(cp.zw * 9.0) * max(max(max(max(0.5, sin(a * 1.0)), sin(a * 3.0) * 0.8), sin(a * 7.0) * 0.8), sin(a * 9.0) * 10.6));c *= vec3(mix(2.0, (sin(length(pp.xy) * 256.0) * 0.5) + 0.5, sin((clamp((length(pp.xy) - 0.875) / 0.1, 0.0, 1.0) + 0.0) * 2.0 * 3.14159) * 1.5) + 0.5) * 0.3275;return vec4(vec3(c * 1.0), d);}
  vec4 geLD(vec2 p){p.xy += vec2(fbm(p.yx * 3.0), fbm(p.yx * 2.0)) * 0.0825;vec3 o = vec3(mix(0.125, 0.25, max(max(smoothstep(0.1, 0.0, length(p - vec2(0.25))),smoothstep(0.4, 0.0, length(p - vec2(0.75)))),smoothstep(0.8, 0.0, length(p - vec2(0.875, 0.125))))));o += vec3(max(fbm(p * 1.0) - 0.5, 0.0)) * 0.5;o += vec3(max(fbm(p * 2.0) - 0.5, 0.0)) * 0.5;o += vec3(max(fbm(p * 4.0) - 0.5, 0.0)) * 0.25;o += vec3(max(fbm(p * 8.0) - 0.75, 0.0)) * 1.0;o += vec3(max(fbm(p * 16.0) - 0.75, 0.0)) * 0.75;o += vec3(max(fbm(p * 64.0) - 0.75, 0.0)) * 0.5;return vec4(clamp(o, vec3(0.15), vec3(1.0)), 1.0);}
  vec4 txL(sampler2D tex, vec2 xtC){if(((xtC.x < 0.) || (xtC.y < 0.)) || ((xtC.x > 1.) || (xtC.y > 1.))){return vec4(0.0);}else{return texture(tex, xtC); }}
  vec4 txD(sampler2D tex, vec2 xtC, vec2 dir, vec3 ditn) {return vec4(txL(tex, (xtC + (dir * ditn.r))).r,txL(tex, (xtC + (dir * ditn.g))).g,txL(tex, (xtC + (dir * ditn.b))).b,1.0);}
  vec4 strB(){vec2 aspXtc = vec2(1.0) - (((vxtC - vec2(0.5)) * vec2(1.0)) + vec2(0.5)); vec2 xtC = vec2(1.0) - vxtC; vec2 ghvc = (vec2(0.5) - xtC) * 0.3 - lensPosition; vec2 ghNm = normalize(ghvc * vec2(1.0)) * vec2(1.0);vec2 haloVec = normalize(ghvc) * 0.6;vec2 hlNm = ghNm * 0.6;vec2 texelSize = vec2(1.0) / vec2(iResolution.xy);vec3 ditn = vec3(-(texelSize.x * 1.5), 0.2, texelSize.x * 1.5);vec4 c = vec4(0.0);for (int i = 0; i < 8; i++) {vec2 offset = xtC + (ghvc * float(i));c += txD(lensDirtTexture, offset, ghNm, ditn) * pow(max(0.0, 1.0 - (length(vec2(0.5) - offset) / length(vec2(0.5)))), 10.0);}vec2 uyTrz = xtC + hlNm; return (c * geLC((length(vec2(0.5) - aspXtc) / length(vec2(haloScale))))) +(txD(lensDirtTexture, uyTrz, ghNm, ditn) * pow(max(0.0, 1.0 - (length(vec2(0.5) - uyTrz) / length(vec2(0.5)))), 10.0));} 
  void mainImage(vec4 v,vec2 r,out vec4 i){vec2 g=r-.5;g.y*=iResolution.y/iResolution.x;vec2 l=lensPosition*.5;l.y*=iResolution.y/iResolution.x;vec3 f=mLs(g,l)*20.*colorGain/256.;if(aditionalStreaks){vec3 o=vec3(.9,.2,.1),p=vec3(.3,.1,.9);for(float n=0.;n<10.;n++)f+=drC(g,pow(rnd(n*2e3)*2.8,.1)+1.41,0.,o+n,p+n,rnd(n*20.)*3.+.2-.5,lensPosition);}if(secondaryGhosts){vec3 n=vec3(0);n+=rHx(g,-lensPosition*.25,ghostScale*1.4,vec3(.25,.35,0));n+=rHx(g,lensPosition*.25,ghostScale*.5,vec3(1,.5,.5));n+=rHx(g,lensPosition*.1,ghostScale*1.6,vec3(1));n+=rHx(g,lensPosition*1.8,ghostScale*2.,vec3(0,.5,.75));n+=rHx(g,lensPosition*1.25,ghostScale*.8,vec3(1,1,.5));n+=rHx(g,-lensPosition*1.25,ghostScale*5.,vec3(.5,.5,.25));n+=fpow(1.-abs(distance(lensPosition*.8,g)-.7),.985)*colorGain/2100.;f+=n;}if(starBurst){vxtC=g+.5;vec4 n=geLD(g);float o=1.-clamp(0.5,0.,.5)*2.;n+=mix(n,pow(n*2.,vec4(2))*.5,o);float s=(g.x+g.y)*(1./6.);vec2 d=mat2(cos(s),-sin(s),sin(s),cos(s))*vxtC;n+=geLS(d)*2.;f+=clamp(n.xyz*strB().xyz,.01,1.);}i=enabled?vec4(mix(f,vec3(0),opacity)+v.xyz,v.w):vec4(v);}
`};class Mle extends Ci{constructor({blendFunction:e=At.NORMAL,enabled:n=!0,glareSize:r=.2,lensPosition:i=[.01,.01],iResolution:s=[0,0],starPoints:o=6,flareSize:a=.01,flareSpeed:l=.01,flareShape:u=.01,animated:c=!0,anamorphic:f=!1,colorGain:h=new Xe(20,20,20),lensDirtTexture:p=null,haloScale:g=.5,secondaryGhosts:x=!0,aditionalStreaks:y=!0,ghostScale:v=0,opacity:S=1,starBurst:_=!1}={}){super("LensFlareEffect",ble.fragmentShader,{blendFunction:e,uniforms:new Map([["enabled",new le(n)],["glareSize",new le(r)],["lensPosition",new le(i)],["iTime",new le(0)],["iResolution",new le(s)],["starPoints",new le(o)],["flareSize",new le(a)],["flareSpeed",new le(l)],["flareShape",new le(u)],["animated",new le(c)],["anamorphic",new le(f)],["colorGain",new le(h)],["lensDirtTexture",new le(p)],["haloScale",new le(g)],["secondaryGhosts",new le(x)],["aditionalStreaks",new le(y)],["ghostScale",new le(v)],["starBurst",new le(_)],["opacity",new le(S)]])})}update(e,n,r){const i=this.uniforms.get("iTime");i&&(i.value+=r)}}R.forwardRef(({position:t=new X(-25,6,-60),followMouse:e=!1,smoothTime:n=.07,...r},i)=>{const s=cn(({viewport:p})=>p),o=cn(({raycaster:p})=>p),a=cn(({pointer:p})=>p),{scene:l,camera:u}=R.useContext(jl),[c]=R.useState(()=>new X),[f]=R.useState(()=>new ue),h=R.useMemo(()=>new Mle(r),[r]);return lc((p,g)=>{var x,y,v;const S=h.uniforms.get("lensPosition"),_=h.uniforms.get("opacity");if(!S||!_)return;let E=1;if(e)S.value.x=a.x,S.value.y=a.y,E=0;else{if(c.copy(t).project(u),c.z>1)return;S.value.x=c.x,S.value.y=c.y,f.set(c.x,c.y),o.setFromCamera(f,u);const b=o.intersectObjects(l.children,!0),{object:T}=b[0];T&&(((x=T.userData)==null?void 0:x.lensflare)==="no-occlusion"?E=0:T instanceof Un&&(((v=(y=T.material.uniforms)==null?void 0:y._transmission)==null?void 0:v.value)>.2||T.material._transmission&&T.material._transmission>.2?E=.2:T.material.transparent&&(E=T.material.opacity)))}xU.damp(_,"value",E,n,g)}),R.useEffect(()=>{const p=h.uniforms.get("iResolution");p&&(p.value.x=s.width,p.value.y=s.height)},[h,s]),B.jsx("primitive",{ref:i,object:h,dispose:null})});const Tle=wle(pU,{blendFunction:At.ADD});R.forwardRef(function({blendFunction:e=At.NORMAL},n){const r=R.useMemo(()=>new Rae(e),[e]);return B.jsx("primitive",{ref:n,object:r,dispose:null})});R.forwardRef(function({active:e=!0,...n},r){const i=cn(c=>c.invalidate),s=q2(n,"delay"),o=q2(n,"duration"),a=q2(n,"strength"),l=q2(n,"chromaticAberrationOffset"),u=R.useMemo(()=>new Oae({...n,delay:s,duration:o,strength:a,chromaticAberrationOffset:l}),[s,o,n,a,l]);return R.useLayoutEffect(()=>{u.mode=e?n.mode||qc.SPORADIC:qc.DISABLED,i()},[e,u,i,n.mode]),R.useEffect(()=>()=>{u.dispose()},[u]),B.jsx("primitive",{ref:r,object:u,dispose:null})});R.forwardRef(function(e,n){const{camera:r}=R.useContext(jl),i=R.useMemo(()=>new Nae(r,Tu(e.sun),e),[r,e]);return R.useLayoutEffect(()=>void(i.lightSource=Tu(e.sun)),[i,e.sun]),B.jsx("primitive",{ref:n,object:i,dispose:null})});R.forwardRef(function({size:e,...n},r){const i=cn(o=>o.invalidate),s=R.useMemo(()=>new Gae(n),[n]);return R.useLayoutEffect(()=>{e&&s.setSize(e.width,e.height),i()},[s,e]),B.jsx("primitive",{ref:r,object:s,dispose:null})});R.forwardRef(function({selection:e=[],selectionLayer:n=10,blendFunction:r,patternTexture:i,edgeStrength:s,pulseSpeed:o,visibleEdgeColor:a,hiddenEdgeColor:l,width:u,height:c,kernelSize:f,blur:h,xRay:p,...g},x){const y=cn(b=>b.invalidate),{scene:v,camera:S}=R.useContext(jl),_=R.useMemo(()=>new Xae(v,S,{blendFunction:r,patternTexture:i,edgeStrength:s,pulseSpeed:o,visibleEdgeColor:a,hiddenEdgeColor:l,width:u,height:c,kernelSize:f,blur:h,xRay:p,...g}),[r,h,S,s,c,l,f,i,o,v,a,u,p]),E=R.useContext(h_);return R.useEffect(()=>{if(!E&&e)return _.selection.set(Array.isArray(e)?e.map(Tu):[Tu(e)]),y(),()=>{_.selection.clear(),y()}},[_,e,E,y]),R.useEffect(()=>{_.selectionLayer=n,y()},[_,y,n]),R.useRef(),R.useEffect(()=>{var b;if(E&&E.enabled&&(b=E.selected)!=null&&b.length)return _.selection.set(E.selected),y(),()=>{_.selection.clear(),y()}},[E,_.selection,y]),B.jsx("primitive",{ref:x,object:_})});R.forwardRef(function({granularity:e=5},n){const r=R.useMemo(()=>new Kae(e),[e]);return B.jsx("primitive",{ref:n,object:r,dispose:null})});const Ale=(t,e)=>t.layers.enable(e.selection.layer),Cle=(t,e)=>t.layers.disable(e.selection.layer);R.forwardRef(function({selection:e=[],selectionLayer:n=10,lights:r=[],luminanceThreshold:i,luminanceSmoothing:s,intensity:o,width:a,height:l,kernelSize:u,mipmapBlur:c,...f},h){r.length===0&&console.warn("SelectiveBloom requires lights to work.");const p=cn(S=>S.invalidate),{scene:g,camera:x}=R.useContext(jl),y=R.useMemo(()=>new Jae(g,x,{blendFunction:At.ADD,luminanceThreshold:i,luminanceSmoothing:s,intensity:o,width:a,height:l,kernelSize:u,mipmapBlur:c,...f}),[g,x,i,s,o,a,l,u,c,f]),v=R.useContext(h_);return R.useEffect(()=>{if(!v&&e)return y.selection.set(Array.isArray(e)?e.map(Tu):[Tu(e)]),p(),()=>{y.selection.clear(),p()}},[y,e,v,p]),R.useEffect(()=>{y.selection.layer=n,p()},[y,p,n]),R.useEffect(()=>{if(r&&r.length>0)return r.forEach(S=>Ale(Tu(S),y)),p(),()=>{r.forEach(S=>Cle(Tu(S),y)),p()}},[y,p,r,n]),R.useEffect(()=>{var S;if(v&&v.enabled&&(S=v.selected)!=null&&S.length)return y.selection.set(v.selected),p(),()=>{y.selection.clear(),p()}},[v,y.selection,p]),B.jsx("primitive",{ref:h,object:y,dispose:null})});R.forwardRef(function(e,n){const{camera:r,normalPass:i,downSamplingPass:s,resolutionScale:o}=R.useContext(jl),a=R.useMemo(()=>i===null&&s===null?(console.error("Please enable the NormalPass in the EffectComposer in order to use SSAO."),{}):new Qae(r,i&&!s?i.texture:null,{blendFunction:At.MULTIPLY,samples:30,rings:4,distanceThreshold:1,distanceFalloff:0,rangeThreshold:.5,rangeFalloff:.1,luminanceInfluence:.9,radius:20,bias:.5,intensity:1,color:void 0,normalDepthBuffer:s?s.texture:null,resolutionScale:o??1,depthAwareUpsampling:!0,...e}),[r,i,e]);return B.jsx("primitive",{ref:n,object:a,dispose:null})});R.forwardRef(function({textureSrc:e,texture:n,...r},i){const s=fp(DS,e);R.useLayoutEffect(()=>{s.encoding=Mo,s.wrapS=s.wrapT=Ai},[s]);const o=R.useMemo(()=>new ele({...r,texture:s||n}),[r,s,n]);return B.jsx("primitive",{ref:i,object:o,dispose:null})});R.forwardRef(function({lut:e,tetrahedralInterpolation:n,...r},i){const s=R.useMemo(()=>new Vae(e,r),[e,r]),o=cn(a=>a.invalidate);return R.useLayoutEffect(()=>{n&&(s.tetrahedralInterpolation=n),e&&(s.lut=e),o()},[s,o,e,n]),B.jsx("primitive",{ref:i,object:s,dispose:null})});const Rle=`
uniform sampler2D uCharacters;
uniform float uCharactersCount;
uniform float uCellSize;
uniform bool uInvert;
uniform vec3 uColor;

const vec2 SIZE = vec2(16.);

vec3 greyscale(vec3 color, float strength) {
    float g = dot(color, vec3(0.299, 0.587, 0.114));
    return mix(color, vec3(g), strength);
}

vec3 greyscale(vec3 color) {
    return greyscale(color, 1.0);
}

void mainImage(const in vec4 inputColor, const in vec2 uv, out vec4 outputColor) {
    vec2 cell = resolution / uCellSize;
    vec2 grid = 1.0 / cell;
    vec2 pixelizedUV = grid * (0.5 + floor(uv / grid));
    vec4 pixelized = texture2D(inputBuffer, pixelizedUV);
    float greyscaled = greyscale(pixelized.rgb).r;

    if (uInvert) {
        greyscaled = 1.0 - greyscaled;
    }

    float characterIndex = floor((uCharactersCount - 1.0) * greyscaled);
    vec2 characterPosition = vec2(mod(characterIndex, SIZE.x), floor(characterIndex / SIZE.y));
    vec2 offset = vec2(characterPosition.x, -characterPosition.y) / SIZE;
    vec2 charUV = mod(uv * (cell / SIZE), 1.0 / SIZE) - vec2(0., 1.0 / SIZE) + offset;
    vec4 asciiCharacter = texture2D(uCharacters, charUV);

    asciiCharacter.rgb = uColor * asciiCharacter.r;
    asciiCharacter.a = pixelized.a;
    outputColor = asciiCharacter;
}
`;class Ple extends Ci{constructor({characters:e=" .:,'-^=*+?!|0#X%WM@",fontSize:n=54,cellSize:r=16,color:i="#ffffff",invert:s=!1}={}){const o=new Map([["uCharacters",new le(new gn)],["uCellSize",new le(r)],["uCharactersCount",new le(e.length)],["uColor",new le(new Xe(i))],["uInvert",new le(s)]]);super("ASCIIEffect",Rle,{uniforms:o});const a=this.uniforms.get("uCharacters");a&&(a.value=this.createCharactersTexture(e,n))}createCharactersTexture(e,n){const r=document.createElement("canvas"),i=1024,s=16,o=i/s;r.width=r.height=i;const a=new NI(r,void 0,Ai,Ai,Dt,Dt),l=r.getContext("2d");if(!l)throw new Error("Context not available");l.clearRect(0,0,i,i),l.font=`${n}px arial`,l.textAlign="center",l.textBaseline="middle",l.fillStyle="#fff";for(let u=0;u<e.length;u++){const c=e[u],f=u%s,h=Math.floor(u/s);l.fillText(c,f*o+o/2,h*o+o/2)}return a.needsUpdate=!0,a}}R.forwardRef(({characters:t=" .:,'-^=*+?!|0#X%WM@",fontSize:e=54,cellSize:n=16,color:r="#ffffff",invert:i=!1},s)=>{const o=R.useMemo(()=>new Ple({characters:t,fontSize:e,cellSize:n,color:r,invert:i}),[t,e,n,r,i]);return B.jsx("primitive",{ref:s,object:o})});var Dle=`#define GLSLIFY 1
uniform float blur;uniform float blurSharpness;uniform int blurKernel;vec3 denoise(vec3 center,sampler2D tex,vec2 uv,vec2 invTexSize,float blur,float blurSharpness,int blurKernel){vec3 color;float total;vec3 col;float weight;for(int x=-blurKernel;x<=blurKernel;x++){for(int y=-blurKernel;y<=blurKernel;y++){col=textureLod(tex,uv+vec2(x,y)*invTexSize,0.).rgb;weight=1.0-abs(dot(col-center,vec3(0.25)));weight=pow(weight,blurSharpness);color+=col*weight;total+=weight;}}return color/total;}`,Lle=`#define GLSLIFY 1
#define MODE_DEFAULT 0
#define MODE_REFLECTIONS 1
#define MODE_RAW_REFLECTION 2
#define MODE_BLURRED_REFLECTIONS 3
#define MODE_INPUT 4
#define MODE_BLUR_MIX 5
#define FLOAT_EPSILON 0.00001
uniform sampler2D inputTexture;uniform sampler2D reflectionsTexture;uniform float samples;
#include <boxBlur>
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 reflectionsTexel=texture2D(reflectionsTexture,vUv);ivec2 size=textureSize(reflectionsTexture,0);vec2 invTexSize=1./vec2(size.x,size.y);vec3 reflectionClr=reflectionsTexel.xyz;if(blur>FLOAT_EPSILON){vec3 blurredReflectionsColor=denoise(reflectionsTexel.rgb,reflectionsTexture,vUv,invTexSize,blur,blurSharpness,blurKernel);reflectionClr=mix(reflectionClr,blurredReflectionsColor.rgb,blur);}
#if RENDER_MODE == MODE_DEFAULT
outputColor=vec4(inputColor.rgb+reflectionClr,1.0);
#endif
#if RENDER_MODE == MODE_REFLECTIONS
outputColor=vec4(reflectionClr,1.0);
#endif
#if RENDER_MODE == MODE_RAW_REFLECTION
outputColor=vec4(reflectionsTexel.xyz,1.0);
#endif
#if RENDER_MODE == MODE_BLURRED_REFLECTIONS
outputColor=vec4(blurredReflectionsTexel.xyz,1.0);
#endif
#if RENDER_MODE == MODE_INPUT
outputColor=vec4(inputColor.xyz,1.0);
#endif
#if RENDER_MODE == MODE_BLUR_MIX
outputColor=vec4(vec3(blur),1.0);
#endif
}`,SU=`#define GLSLIFY 1
vec3 getViewPosition(const float depth){float clipW=_projectionMatrix[2][3]*depth+_projectionMatrix[3][3];vec4 clipPosition=vec4((vec3(vUv,depth)-0.5)*2.0,1.0);clipPosition*=clipW;return(_inverseProjectionMatrix*clipPosition).xyz;}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 screenSpaceToWorldSpace(const vec2 uv,const float depth){vec4 ndc=vec4((uv.x-0.5)*2.0,(uv.y-0.5)*2.0,(depth-0.5)*2.0,1.0);vec4 clip=_inverseProjectionMatrix*ndc;vec4 view=cameraMatrixWorld*(clip/clip.w);return view.xyz;}
#define Scale (vec3(0.8, 0.8, 0.8))
#define K (19.19)
vec3 hash(vec3 a){a=fract(a*Scale);a+=dot(a,a.yxz+K);return fract((a.xxy+a.yxx)*a.zyx);}float fresnel_dielectric_cos(float cosi,float eta){float c=abs(cosi);float g=eta*eta-1.0+c*c;float result;if(g>0.0){g=sqrt(g);float A=(g-c)/(g+c);float B=(c*(g+c)-1.0)/(c*(g-c)+1.0);result=0.5*A*A*(1.0+B*B);}else{result=1.0;}return result;}float fresnel_dielectric(vec3 Incoming,vec3 Normal,float eta){float cosine=dot(Incoming,Normal);return min(1.0,5.0*fresnel_dielectric_cos(cosine,eta));}`,Ile=`#define GLSLIFY 1
#define INV_EULER 0.36787944117144233
alpha=velocityDisocclusion<FLOAT_EPSILON ?(alpha+0.0075): 0.0;alpha=clamp(alpha,0.0,1.0);bool needsBlur=!didReproject||velocityDisocclusion>0.5;
#ifdef boxBlur
if(needsBlur)inputColor=boxBlurredColor;
#endif
if(alpha==1.0){outputColor=accumulatedColor;}else{float m=mix(alpha,1.0,blend);if(needsBlur)m=0.0;outputColor=accumulatedColor*m+inputColor*(1.0-m);}`;class Ble extends Ht{constructor(){super({type:"MRTMaterial",defines:{USE_UV:"",TEMPORAL_RESOLVE:""},uniforms:{opacity:new le(1),normalMap:new le(null),normalScale:new le(new ue(1,1)),uvTransform:new le(new kt),roughness:new le(1),roughnessMap:new le(null)},vertexShader:`
                #ifdef USE_MRT
                 varying vec2 vHighPrecisionZW;
                #endif
                #define NORMAL
                #if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
                    varying vec3 vViewPosition;
                #endif
                #include <common>
                #include <uv_pars_vertex>
                #include <displacementmap_pars_vertex>
                #include <normal_pars_vertex>
                #include <morphtarget_pars_vertex>
                #include <skinning_pars_vertex>
                #include <logdepthbuf_pars_vertex>
                #include <clipping_planes_pars_vertex>
                #ifdef USE_UV
                  ${Ha.replace(/\D+/g,"")>=151?"uniform mat3 uvTransform;":""}
                #endif
                void main() {
                    #include <uv_vertex>
                    #include <beginnormal_vertex>
                    #include <morphnormal_vertex>
                    #include <skinbase_vertex>
                    #include <skinnormal_vertex>
                    #include <defaultnormal_vertex>
                    #include <normal_vertex>
                    #include <begin_vertex>
                    #include <morphtarget_vertex>
                    #include <skinning_vertex>
                    #include <displacementmap_vertex>
                    #include <project_vertex>
                    #include <logdepthbuf_vertex>
                    #include <clipping_planes_vertex>
                    #if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
                        vViewPosition = - mvPosition.xyz;
                    #endif
                    #ifdef USE_MRT
                        vHighPrecisionZW = gl_Position.zw;
                    #endif
                    #ifdef USE_UV
                        vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
                    #endif
                }
            `,fragmentShader:`
                 #define NORMAL
                #if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
                    varying vec3 vViewPosition;
                #endif
                #include <packing>
                #include <uv_pars_fragment>
                #include <normal_pars_fragment>
                #include <bumpmap_pars_fragment>
                #include <normalmap_pars_fragment>
                #include <logdepthbuf_pars_fragment>
                #include <clipping_planes_pars_fragment>
                #include <roughnessmap_pars_fragment>

                #ifdef USE_MRT
                layout(location = 0) out vec4 gNormal;
                layout(location = 1) out vec4 gDepth;

                varying vec2 vHighPrecisionZW;
                #endif
                uniform float roughness;
                void main() {
                    #include <clipping_planes_fragment>
                    #include <logdepthbuf_fragment>
                    #include <normal_fragment_begin>
                    #include <normal_fragment_maps>

                    float roughnessFactor = roughness;

                    if(roughness > 10.0e9){
                        roughnessFactor = 1.;
                    }else{
                        #ifdef useRoughnessMap
                            vec4 texelRoughness = texture2D( roughnessMap, vUv );
                            // reads channel G, compatible with a combined OcclusionRoughnessMetallic (RGB) texture
                            roughnessFactor *= texelRoughness.g;
                        #endif
                    }

                    vec3 normalColor = packNormalToRGB( normal );
                    #ifdef USE_MRT
                        float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
                        vec4 depthColor = packDepthToRGBA( fragCoordZ );
                        gNormal = vec4( normalColor, roughnessFactor );
                        gDepth = depthColor;
                    #else
                        gl_FragColor = vec4(normalColor, roughnessFactor);
                    #endif
                }
            `,toneMapped:!1}),this.normalMapType=Vl,this.normalScale=new ue(1,1),Object.defineProperty(this,"glslVersion",{get(){return"USE_MRT"in this.defines?dv:null},set(e){}})}}var Fle=`#define GLSLIFY 1
varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}`,Ule=`#define GLSLIFY 1
varying vec2 vUv;uniform sampler2D inputTexture;uniform sampler2D accumulatedTexture;uniform sampler2D normalTexture;uniform sampler2D depthTexture;uniform sampler2D envMap;uniform mat4 _projectionMatrix;uniform mat4 _inverseProjectionMatrix;uniform mat4 cameraMatrixWorld;uniform float cameraNear;uniform float cameraFar;uniform float rayDistance;uniform float intensity;uniform float maxDepthDifference;uniform float roughnessFade;uniform float maxRoughness;uniform float fade;uniform float thickness;uniform float ior;uniform float samples;uniform float jitter;uniform float jitterRoughness;
#define INVALID_RAY_COORDS vec2(-1.0);
#define EARLY_OUT_COLOR vec4(0.0, 0.0, 0.0, 1.0)
#define FLOAT_EPSILON 0.00001
float nearMinusFar;float nearMulFar;float farMinusNear;
#include <packing>
#include <helperFunctions>
vec2 RayMarch(vec3 dir,inout vec3 hitPos,inout float rayHitDepthDifference);vec2 BinarySearch(in vec3 dir,inout vec3 hitPos,inout float rayHitDepthDifference);float fastGetViewZ(const in float depth);vec3 getIBLRadiance(const in vec3 viewDir,const in vec3 normal,const in float roughness);void main(){vec4 depthTexel=textureLod(depthTexture,vUv,0.0);if(dot(depthTexel.rgb,depthTexel.rgb)<FLOAT_EPSILON){gl_FragColor=EARLY_OUT_COLOR;return;}float unpackedDepth=unpackRGBAToDepth(depthTexel);vec4 normalTexel=textureLod(normalTexture,vUv,0.0);float roughness=normalTexel.a;float specular=1.0-roughness;nearMinusFar=cameraNear-cameraFar;nearMulFar=cameraNear*cameraFar;farMinusNear=cameraFar-cameraNear;normalTexel.rgb=unpackRGBToNormal(normalTexel.rgb);float depth=fastGetViewZ(unpackedDepth);vec3 viewPos=getViewPosition(depth);vec3 viewDir=normalize(viewPos);vec3 viewNormal=normalTexel.xyz;vec3 worldPos=screenSpaceToWorldSpace(vUv,unpackedDepth);vec3 jitt=vec3(0.0);if(jitterRoughness!=0.0||jitter!=0.0){vec3 randomJitter=hash(50.0*samples*worldPos)-0.5;float spread=((2.0-specular)+roughness*jitterRoughness);float jitterMix=jitter*0.25+jitterRoughness*roughness;if(jitterMix>1.0)jitterMix=1.0;jitt=mix(vec3(0.0),randomJitter*spread,jitterMix);}viewNormal+=jitt;float fresnelFactor=fresnel_dielectric(viewDir,viewNormal,ior);vec3 iblRadiance=getIBLRadiance(-viewDir,viewNormal,0.)*fresnelFactor;float lastFrameAlpha=textureLod(accumulatedTexture,vUv,0.0).a;if(roughness>maxRoughness||(roughness>1.0-FLOAT_EPSILON&&roughnessFade>1.0-FLOAT_EPSILON)){gl_FragColor=vec4(iblRadiance,lastFrameAlpha);return;}vec3 reflected=reflect(viewDir,viewNormal);vec3 rayDir=reflected*-viewPos.z;vec3 hitPos=viewPos;float rayHitDepthDifference;vec2 coords=RayMarch(rayDir,hitPos,rayHitDepthDifference);if(coords.x==-1.0){gl_FragColor=vec4(iblRadiance,lastFrameAlpha);return;}vec4 SSRTexel=textureLod(inputTexture,coords.xy,0.0);vec4 SSRTexelReflected=textureLod(accumulatedTexture,coords.xy,0.0);vec3 SSR=SSRTexel.rgb+SSRTexelReflected.rgb;float roughnessFactor=mix(specular,1.0,max(0.0,1.0-roughnessFade));vec2 coordsNDC=(coords.xy*2.0-1.0);float screenFade=0.1;float maxDimension=min(1.0,max(abs(coordsNDC.x),abs(coordsNDC.y)));float reflectionIntensity=1.0-(max(0.0,maxDimension-screenFade)/(1.0-screenFade));reflectionIntensity=max(0.,reflectionIntensity);vec3 finalSSR=mix(iblRadiance,SSR,reflectionIntensity)*roughnessFactor;if(fade!=0.0){vec3 hitWorldPos=screenSpaceToWorldSpace(coords,rayHitDepthDifference);float reflectionDistance=distance(hitWorldPos,worldPos)+1.0;float opacity=1.0/(reflectionDistance*fade*0.1);if(opacity>1.0)opacity=1.0;finalSSR*=opacity;}finalSSR*=fresnelFactor*intensity;finalSSR=min(vec3(1.0),finalSSR);float alpha=hitPos.z==1.0 ? 1.0 : SSRTexelReflected.a;alpha=min(lastFrameAlpha,alpha);gl_FragColor=vec4(finalSSR,alpha);}vec2 RayMarch(vec3 dir,inout vec3 hitPos,inout float rayHitDepthDifference){dir=normalize(dir);dir*=rayDistance/float(steps);float depth;vec4 projectedCoord;vec4 lastProjectedCoord;float unpackedDepth;vec4 depthTexel;for(int i=0;i<steps;i++){hitPos+=dir;projectedCoord=_projectionMatrix*vec4(hitPos,1.0);projectedCoord.xy/=projectedCoord.w;projectedCoord.xy=projectedCoord.xy*0.5+0.5;
#ifndef missedRays
if(projectedCoord.x<0.0||projectedCoord.x>1.0||projectedCoord.y<0.0||projectedCoord.y>1.0){return INVALID_RAY_COORDS;}
#endif
depthTexel=textureLod(depthTexture,projectedCoord.xy,0.0);unpackedDepth=unpackRGBAToDepth(depthTexel);depth=fastGetViewZ(unpackedDepth);rayHitDepthDifference=depth-hitPos.z;if(rayHitDepthDifference>=0.0&&rayHitDepthDifference<thickness){
#if refineSteps == 0
if(dot(depthTexel.rgb,depthTexel.rgb)<FLOAT_EPSILON)return INVALID_RAY_COORDS;
#else
return BinarySearch(dir,hitPos,rayHitDepthDifference);
#endif
}
#ifndef missedRays
if(hitPos.z>0.0){return INVALID_RAY_COORDS;}
#endif
lastProjectedCoord=projectedCoord;}hitPos.z=1.0;
#ifndef missedRays
return INVALID_RAY_COORDS;
#endif
rayHitDepthDifference=unpackedDepth;return projectedCoord.xy;}vec2 BinarySearch(in vec3 dir,inout vec3 hitPos,inout float rayHitDepthDifference){float depth;vec4 projectedCoord;vec2 lastMinProjectedCoordXY;float unpackedDepth;vec4 depthTexel;for(int i=0;i<refineSteps;i++){projectedCoord=_projectionMatrix*vec4(hitPos,1.0);projectedCoord.xy/=projectedCoord.w;projectedCoord.xy=projectedCoord.xy*0.5+0.5;depthTexel=textureLod(depthTexture,projectedCoord.xy,0.0);unpackedDepth=unpackRGBAToDepth(depthTexel);depth=fastGetViewZ(unpackedDepth);rayHitDepthDifference=depth-hitPos.z;dir*=0.5;if(rayHitDepthDifference>0.0){hitPos-=dir;}else{hitPos+=dir;}}if(dot(depthTexel.rgb,depthTexel.rgb)<FLOAT_EPSILON)return INVALID_RAY_COORDS;if(abs(rayHitDepthDifference)>maxDepthDifference)return INVALID_RAY_COORDS;projectedCoord=_projectionMatrix*vec4(hitPos,1.0);projectedCoord.xy/=projectedCoord.w;projectedCoord.xy=projectedCoord.xy*0.5+0.5;rayHitDepthDifference=unpackedDepth;return projectedCoord.xy;}float fastGetViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return nearMulFar/(farMinusNear*depth-cameraFar);
#else
return depth*nearMinusFar-cameraNear;
#endif
}
#include <common>
#include <cube_uv_reflection_fragment>
vec3 getIBLRadiance(const in vec3 viewDir,const in vec3 normal,const in float roughness){
#if defined(ENVMAP_TYPE_CUBE_UV)
vec3 reflectVec=reflect(-viewDir,normal);reflectVec=normalize(mix(reflectVec,normal,roughness*roughness));reflectVec=inverseTransformDirection(reflectVec,viewMatrix);vec4 envMapColor=textureCubeUV(envMap,reflectVec,roughness);return envMapColor.rgb*intensity;
#else
return vec3(0.0);
#endif
}`;class Ole extends Ht{constructor(){super({type:"ReflectionsMaterial",uniforms:{inputTexture:new le(null),accumulatedTexture:new le(null),normalTexture:new le(null),depthTexture:new le(null),_projectionMatrix:new le(new rt),_inverseProjectionMatrix:new le(new rt),cameraMatrixWorld:new le(new rt),cameraNear:new le(0),cameraFar:new le(0),rayDistance:new le(0),intensity:new le(0),roughnessFade:new le(0),fade:new le(0),thickness:new le(0),ior:new le(0),maxDepthDifference:new le(0),jitter:new le(0),jitterRoughness:new le(0),maxRoughness:new le(0),samples:new le(0),envMap:new le(null),envMapPosition:new le(new X),envMapSize:new le(new X),viewMatrix:new le(new rt)},defines:{steps:20,refineSteps:5,CUBEUV_TEXEL_WIDTH:0,CUBEUV_TEXEL_HEIGHT:0,CUBEUV_MAX_MIP:0,vWorldPosition:"worldPos"},fragmentShader:Ule.replace("#include <helperFunctions>",SU),vertexShader:Fle,toneMapped:!1,depthWrite:!1,depthTest:!1})}}const _U=t=>{const e=[t],n=[];for(;e.length!==0;){const r=e.shift();r.material&&n.push(r);for(const i of r.children)i.visible&&e.push(i)}return n},kle=t=>{const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}},GC=(t,e,n)=>{t.uniforms.envMap.value=e;const r=kle({envMapCubeUVHeight:n});t.defines.ENVMAP_TYPE_CUBE_UV="",t.defines.CUBEUV_TEXEL_WIDTH=r.texelWidth,t.defines.CUBEUV_TEXEL_HEIGHT=r.texelHeight,t.defines.CUBEUV_MAX_MIP=r.maxMip+".0",t.needsUpdate=!0},Nle=()=>{try{const t=document.createElement("canvas");return!!(window.WebGL2RenderingContext&&t.getContext("webgl2"))}catch{return!1}};class zle extends Rr{constructor(e,n={}){super("ReflectionsPass"),this.ssrEffect=void 0,this.cachedMaterials=new WeakMap,this.USE_MRT=!1,this.webgl1DepthPass=null,this.visibleMeshes=[],this.ssrEffect=e,this._scene=e._scene,this._camera=e._camera,this.fullscreenMaterial=new Ole,e._camera.isPerspectiveCamera&&(this.fullscreenMaterial.defines.PERSPECTIVE_CAMERA="");const r=n.width||typeof window<"u"?window.innerWidth:2e3,i=n.height||typeof window<"u"?window.innerHeight:1e3;this.renderTarget=new Qt(r,i,{minFilter:ht,magFilter:ht,type:ps,depthBuffer:!1}),this.renderPass=new gp(this._scene,this._camera),this.USE_MRT=Nle(),this.USE_MRT?(this.gBuffersRenderTarget=new cS(r,i,2,{minFilter:ht,magFilter:ht}),this.normalTexture=this.gBuffersRenderTarget.texture[0],this.depthTexture=this.gBuffersRenderTarget.texture[1]):(this.webgl1DepthPass=new c_(this._scene,this._camera),this.webgl1DepthPass.renderTarget.minFilter=ht,this.webgl1DepthPass.renderTarget.magFilter=ht,this.webgl1DepthPass.renderTarget.texture.minFilter=ht,this.webgl1DepthPass.renderTarget.texture.magFilter=ht,this.webgl1DepthPass.setSize(typeof window<"u"?window.innerWidth:2e3,typeof window<"u"?window.innerHeight:1e3),this.gBuffersRenderTarget=new Qt(r,i,{minFilter:ht,magFilter:ht}),this.normalTexture=this.gBuffersRenderTarget.texture,this.depthTexture=this.webgl1DepthPass.texture),this.fullscreenMaterial.uniforms.normalTexture.value=this.normalTexture,this.fullscreenMaterial.uniforms.depthTexture.value=this.depthTexture,this.fullscreenMaterial.uniforms.accumulatedTexture.value=this.ssrEffect.temporalResolvePass.accumulatedTexture,this.fullscreenMaterial.uniforms.cameraMatrixWorld.value=this._camera.matrixWorld,this.fullscreenMaterial.uniforms._projectionMatrix.value=this._camera.projectionMatrix,this.fullscreenMaterial.uniforms._inverseProjectionMatrix.value=this._camera.projectionMatrixInverse}setSize(e,n){this.renderTarget.setSize(e*this.ssrEffect.resolutionScale,n*this.ssrEffect.resolutionScale),this.gBuffersRenderTarget.setSize(e*this.ssrEffect.resolutionScale,n*this.ssrEffect.resolutionScale),this.fullscreenMaterial.uniforms.accumulatedTexture.value=this.ssrEffect.temporalResolvePass.accumulatedTexture,this.fullscreenMaterial.needsUpdate=!0}dispose(){this.renderTarget.dispose(),this.gBuffersRenderTarget.dispose(),this.renderPass.dispose(),this.USE_MRT||this.webgl1DepthPass.dispose(),this.fullscreenMaterial.dispose(),this.normalTexture=null,this.depthTexture=null,this.velocityTexture=null}keepMaterialMapUpdated(e,n,r,i){this.ssrEffect[i]?n[r]!==e[r]&&(e[r]=n[r],e.uniforms[r].value=n[r],n[r]?e.defines[i]="":delete e.defines[i],e.needsUpdate=!0):e[r]!==void 0&&(e[r]=void 0,e.uniforms[r].value=void 0,delete e.defines[i],e.needsUpdate=!0)}setMRTMaterialInScene(){this.visibleMeshes=_U(this._scene);for(const e of this.visibleMeshes)if(e.material){const n=e.material;let[r,i]=this.cachedMaterials.get(e)||[];if(n!==r){i&&i.dispose(),i=new Ble,this.USE_MRT&&(i.defines.USE_MRT=""),i.normalScale=n.normalScale,i.uniforms.normalScale.value=n.normalScale;const s=n.map||n.normalMap||n.roughnessMap||n.metalnessMap;s&&(i.uniforms.uvTransform.value=s.matrix),this.cachedMaterials.set(e,[n,i])}this.keepMaterialMapUpdated(i,n,"normalMap","useNormalMap"),this.keepMaterialMapUpdated(i,n,"roughnessMap","useRoughnessMap"),i.uniforms.roughness.value=this.ssrEffect.selection.size===0||this.ssrEffect.selection.has(e)?n.roughness||0:1e11,e.material=i}}unsetMRTMaterialInScene(){for(const n of this.visibleMeshes){var e;if(((e=n.material)==null?void 0:e.type)==="MRTMaterial"){n.visible=!0;const[r]=this.cachedMaterials.get(n);n.material=r}}}render(e,n){this.setMRTMaterialInScene(),e.setRenderTarget(this.gBuffersRenderTarget),this.renderPass.render(e,this.gBuffersRenderTarget),this.unsetMRTMaterialInScene(),this.USE_MRT||this.webgl1DepthPass.renderPass.render(e,this.webgl1DepthPass.renderTarget),this.fullscreenMaterial.uniforms.inputTexture.value=n.texture,this.fullscreenMaterial.uniforms.samples.value=this.ssrEffect.temporalResolvePass.samples,this.fullscreenMaterial.uniforms.cameraNear.value=this._camera.near,this.fullscreenMaterial.uniforms.cameraFar.value=this._camera.far,this.fullscreenMaterial.uniforms.viewMatrix.value.copy(this._camera.matrixWorldInverse),e.setRenderTarget(this.renderTarget),e.render(this.scene,this.camera)}}const HC={intensity:1,exponent:1,distance:10,fade:0,roughnessFade:1,thickness:10,ior:1.45,maxRoughness:1,maxDepthDifference:10,blend:.9,correction:1,correctionRadius:1,blur:.5,blurKernel:1,blurSharpness:10,jitter:0,jitterRoughness:0,steps:20,refineSteps:5,missedRays:!0,useNormalMap:!0,useRoughnessMap:!0,resolutionScale:1,velocityResolutionScale:1};var Gle=`#define GLSLIFY 1
varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}`,Hle=`#define GLSLIFY 1
uniform sampler2D inputTexture;uniform sampler2D accumulatedTexture;uniform sampler2D velocityTexture;uniform sampler2D lastVelocityTexture;uniform float blend;uniform float correction;uniform float exponent;uniform float samples;uniform vec2 invTexSize;uniform mat4 curInverseProjectionMatrix;uniform mat4 curCameraMatrixWorld;uniform mat4 prevInverseProjectionMatrix;uniform mat4 prevCameraMatrixWorld;varying vec2 vUv;
#define MAX_NEIGHBOR_DEPTH_DIFFERENCE 0.001
#define FLOAT_EPSILON 0.00001
#define FLOAT_ONE_MINUS_EPSILON 0.99999
vec3 transformexponent;vec3 undoColorTransformExponent;vec3 transformColor(vec3 color){if(exponent==1.0)return color;return pow(abs(color),transformexponent);}vec3 undoColorTransform(vec3 color){if(exponent==1.0)return color;return max(pow(abs(color),undoColorTransformExponent),vec3(0.0));}void main(){if(exponent!=1.0){transformexponent=vec3(1.0/exponent);undoColorTransformExponent=vec3(exponent);}vec4 inputTexel=textureLod(inputTexture,vUv,0.0);vec4 accumulatedTexel;vec3 inputColor=transformColor(inputTexel.rgb);vec3 accumulatedColor;float alpha=inputTexel.a;float velocityDisocclusion;bool didReproject=false;
#ifdef boxBlur
vec3 boxBlurredColor=inputTexel.rgb;
#endif
vec4 velocity=textureLod(velocityTexture,vUv,0.0);bool isMoving=alpha<1.0||dot(velocity.xy,velocity.xy)>0.0;if(isMoving){vec3 minNeighborColor=inputColor;vec3 maxNeighborColor=inputColor;vec3 col;vec2 neighborUv;vec2 reprojectedUv=vUv-velocity.xy;vec4 lastVelocity=textureLod(lastVelocityTexture,reprojectedUv,0.0);float depth=velocity.b;float closestDepth=depth;float lastClosestDepth=lastVelocity.b;float neighborDepth;float lastNeighborDepth;for(int x=-correctionRadius;x<=correctionRadius;x++){for(int y=-correctionRadius;y<=correctionRadius;y++){if(x!=0||y!=0){neighborUv=vUv+vec2(x,y)*invTexSize;vec4 neigborVelocity=textureLod(velocityTexture,neighborUv,0.0);neighborDepth=neigborVelocity.b;col=textureLod(inputTexture,neighborUv,0.0).xyz;int absX=abs(x);int absY=abs(y);
#ifdef dilation
if(absX==1&&absY==1){if(neighborDepth>closestDepth){velocity=neigborVelocity;closestDepth=neighborDepth;}vec4 lastNeighborVelocity=textureLod(velocityTexture,vUv+vec2(x,y)*invTexSize,0.0);lastNeighborDepth=lastNeighborVelocity.b;if(neighborDepth>closestDepth){lastVelocity=lastNeighborVelocity;lastClosestDepth=lastNeighborDepth;}}
#endif
if(abs(depth-neighborDepth)<MAX_NEIGHBOR_DEPTH_DIFFERENCE){
#ifdef boxBlur
if(absX<=2&&absY<=2)boxBlurredColor+=col;
#endif
col=transformColor(col);minNeighborColor=min(col,minNeighborColor);maxNeighborColor=max(col,maxNeighborColor);}}}}float velocityLength=length(lastVelocity.xy-velocity.xy);velocityDisocclusion=(velocityLength-0.000005)*10.0;velocityDisocclusion*=velocityDisocclusion;reprojectedUv=vUv-velocity.xy;
#ifdef boxBlur
float pxRadius=correctionRadius>5 ? 121.0 : pow(float(correctionRadius*2+1),2.0);boxBlurredColor/=pxRadius;boxBlurredColor=transformColor(boxBlurredColor);
#endif
if(reprojectedUv.x>=0.0&&reprojectedUv.x<=1.0&&reprojectedUv.y>=0.0&&reprojectedUv.y<=1.0){accumulatedTexel=textureLod(accumulatedTexture,reprojectedUv,0.0);accumulatedColor=transformColor(accumulatedTexel.rgb);vec3 clampedColor=clamp(accumulatedColor,minNeighborColor,maxNeighborColor);accumulatedColor=mix(accumulatedColor,clampedColor,correction);didReproject=true;}else{
#ifdef boxBlur
accumulatedColor=boxBlurredColor;
#else
accumulatedColor=inputColor;
#endif
}if(velocity.r>FLOAT_ONE_MINUS_EPSILON&&velocity.g>FLOAT_ONE_MINUS_EPSILON){alpha=0.0;velocityDisocclusion=1.0;}}else{accumulatedColor=transformColor(textureLod(accumulatedTexture,vUv,0.0).rgb);}vec3 outputColor=inputColor;
#include <custom_compose_shader>
gl_FragColor=vec4(undoColorTransform(outputColor),alpha);}`;class Vle extends Ht{constructor(e){const n=Hle.replace("#include <custom_compose_shader>",e);super({type:"TemporalResolveMaterial",uniforms:{inputTexture:new le(null),accumulatedTexture:new le(null),velocityTexture:new le(null),lastVelocityTexture:new le(null),samples:new le(1),blend:new le(.5),correction:new le(1),exponent:new le(1),invTexSize:new le(new ue)},defines:{correctionRadius:1},vertexShader:Gle,fragmentShader:n})}}const Wle=`
    #ifdef USE_SKINNING
      #ifdef BONE_TEXTURE
        uniform sampler2D prevBoneTexture;
        mat4 getPrevBoneMatrix( const in float i ) {
          float j = i * 4.0;
          float x = mod( j, float( boneTextureSize ) );
          float y = floor( j / float( boneTextureSize ) );
          float dx = 1.0 / float( boneTextureSize );
          float dy = 1.0 / float( boneTextureSize );
          y = dy * ( y + 0.5 );
          vec4 v1 = texture2D( prevBoneTexture, vec2( dx * ( x + 0.5 ), y ) );
          vec4 v2 = texture2D( prevBoneTexture, vec2( dx * ( x + 1.5 ), y ) );
          vec4 v3 = texture2D( prevBoneTexture, vec2( dx * ( x + 2.5 ), y ) );
          vec4 v4 = texture2D( prevBoneTexture, vec2( dx * ( x + 3.5 ), y ) );
          mat4 bone = mat4( v1, v2, v3, v4 );
          return bone;
        }
      #else
        uniform mat4 prevBoneMatrices[ MAX_BONES ];
        mat4 getPrevBoneMatrix( const in float i ) {
          mat4 bone = prevBoneMatrices[ int(i) ];
          return bone;
        }
      #endif
    #endif
`,jle=`
    vec3 transformed;

    // Get the normal
    ${gt.skinbase_vertex}
    ${gt.beginnormal_vertex}
    ${gt.skinnormal_vertex}
    ${gt.defaultnormal_vertex}

    // Get the current vertex position
    transformed = vec3( position );
    ${gt.skinning_vertex}
    newPosition = velocityMatrix * vec4( transformed, 1.0 );

    // Get the previous vertex position
    transformed = vec3( position );
    ${gt.skinbase_vertex.replace(/mat4 /g,"").replace(/getBoneMatrix/g,"getPrevBoneMatrix")}
    ${gt.skinning_vertex.replace(/vec4 /g,"")}
    prevPosition = prevVelocityMatrix * vec4( transformed, 1.0 );

    gl_Position = newPosition;
`;class Xle extends Ht{constructor(){super({uniforms:{prevVelocityMatrix:{value:new rt},velocityMatrix:{value:new rt},prevBoneTexture:{value:null},interpolateGeometry:{value:0},intensity:{value:1},boneTexture:{value:null},alphaTest:{value:0},map:{value:null},alphaMap:{value:null},opacity:{value:1}},vertexShader:`
                    #define MAX_BONES 1024

                    ${gt.skinning_pars_vertex}
                    ${Wle}

                    uniform mat4 velocityMatrix;
                    uniform mat4 prevVelocityMatrix;
                    uniform float interpolateGeometry;
                    varying vec4 prevPosition;
                    varying vec4 newPosition;
          varying vec2 vHighPrecisionZW;

                    void main() {

                        ${jle}

            vHighPrecisionZW = gl_Position.zw;

                    }`,fragmentShader:`
                    uniform float intensity;
                    varying vec4 prevPosition;
                    varying vec4 newPosition;
          varying vec2 vHighPrecisionZW;

                    void main() {
            #ifdef FULL_MOVEMENT
            gl_FragColor = vec4( 1., 1., 1. - gl_FragCoord.z, 0. );
            return;
            #endif

                        vec2 pos0 = (prevPosition.xy / prevPosition.w) * 0.5 + 0.5;
                        vec2 pos1 = (newPosition.xy / newPosition.w) * 0.5 + 0.5;

                        vec2 vel = pos1 - pos0;

            float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;

                        gl_FragColor = vec4( vel, 1. - fragCoordZ, 0. );

                    }`}),this.isVelocityMaterial=!0}}const Yle=new Xe(0),Kle=["visible","wireframe","side"];class Jle extends Rr{constructor(e,n){var r,i;super("VelocityPass"),this.cachedMaterials=new WeakMap,this.lastCameraTransform={position:new X,quaternion:new er},this.visibleMeshes=[],this.renderedMeshesThisFrame=0,this.renderedMeshesLastFrame=0,this._scene=e,this._camera=n,this.renderTarget=new Qt(((r=window)==null?void 0:r.innerWidth)||1e3,((i=window)==null?void 0:i.innerHeight)||1e3,{type:ps})}setVelocityMaterialInScene(){this.renderedMeshesThisFrame=0,this.visibleMeshes=_U(this._scene);for(const r of this.visibleMeshes){var e;const i=r.material;let[s,o]=this.cachedMaterials.get(r)||[];if(i!==s){var n;o=new Xle,o.lastMatrixWorld=new rt,r.material=o,(n=r.skeleton)!=null&&n.boneTexture&&this.saveBoneTexture(r),this.cachedMaterials.set(r,[i,o])}if(o.uniforms.velocityMatrix.value.multiplyMatrices(this._camera.projectionMatrix,r.modelViewMatrix),r.userData.needsUpdatedReflections||i.map instanceof kI?("FULL_MOVEMENT"in o.defines||(o.needsUpdate=!0),o.defines.FULL_MOVEMENT=""):"FULL_MOVEMENT"in o.defines&&(delete o.defines.FULL_MOVEMENT,o.needsUpdate=!0),r.visible=this.cameraMovedThisFrame||!r.matrixWorld.equals(o.lastMatrixWorld)||r.skeleton||"FULL_MOVEMENT"in o.defines,r.material=o,!!r.visible){this.renderedMeshesThisFrame++;for(const a of Kle)o[a]=i[a];(e=r.skeleton)!=null&&e.boneTexture&&(o.defines.USE_SKINNING="",o.defines.BONE_TEXTURE="",o.uniforms.boneTexture.value=r.skeleton.boneTexture)}}}saveBoneTexture(e){let n=e.material.uniforms.prevBoneTexture.value;if(n&&n.image.width===e.skeleton.boneTexture.width)n=e.material.uniforms.prevBoneTexture.value,n.image.data.set(e.skeleton.boneTexture.image.data);else{var r;(r=n)==null||r.dispose();const i=e.skeleton.boneTexture.image.data.slice(),s=e.skeleton.boneTexture.image.width;n=new La(i,s,s,Bn,Jn),e.material.uniforms.prevBoneTexture.value=n,n.needsUpdate=!0}}unsetVelocityMaterialInScene(){for(const n of this.visibleMeshes)if(n.material.isVelocityMaterial){var e;n.visible=!0,n.material.lastMatrixWorld.copy(n.matrixWorld),n.material.uniforms.prevVelocityMatrix.value.multiplyMatrices(this._camera.projectionMatrix,n.modelViewMatrix),(e=n.skeleton)!=null&&e.boneTexture&&this.saveBoneTexture(n),n.material=this.cachedMaterials.get(n)[0]}}setSize(e,n){this.renderTarget.setSize(e,n)}renderVelocity(e){if(e.setRenderTarget(this.renderTarget),this.renderedMeshesThisFrame>0){const{background:n}=this._scene;this._scene.background=Yle,e.render(this._scene,this._camera),this._scene.background=n}else e.clearColor()}checkCameraMoved(){const e=this.lastCameraTransform.position.distanceToSquared(this._camera.position),n=8*(1-this.lastCameraTransform.quaternion.dot(this._camera.quaternion));return e>1e-6||n>1e-6?(this.lastCameraTransform.position.copy(this._camera.position),this.lastCameraTransform.quaternion.copy(this._camera.quaternion),!0):!1}render(e){this.cameraMovedThisFrame=this.checkCameraMoved(),this.setVelocityMaterialInScene(),(this.renderedMeshesThisFrame>0||this.renderedMeshesLastFrame>0)&&this.renderVelocity(e),this.unsetVelocityMaterialInScene(),this.renderedMeshesLastFrame=this.renderedMeshesThisFrame}}const VC=new ue;class Zle extends Rr{constructor(e,n,r,i={}){super("TemporalResolvePass"),this.velocityPass=null,this.velocityResolutionScale=1,this.samples=1,this.lastCameraTransform={position:new X,quaternion:new er},this._scene=e,this._camera=n,this.renderTarget=new Qt(1,1,{minFilter:ht,magFilter:ht,type:ps,depthBuffer:!1}),this.velocityPass=new Jle(e,n),this.fullscreenMaterial=new Vle(r),this.fullscreenMaterial.defines.correctionRadius=i.correctionRadius||1,i.dilation&&(this.fullscreenMaterial.defines.dilation=""),i.boxBlur&&(this.fullscreenMaterial.defines.boxBlur=""),this.setupFramebuffers(1,1),this.checkCanUseSharedVelocityTexture()}dispose(){this._scene.userData.velocityTexture===this.velocityPass.renderTarget.texture&&(delete this._scene.userData.velocityTexture,delete this._scene.userData.lastVelocityTexture),this.renderTarget.dispose(),this.accumulatedTexture.dispose(),this.fullscreenMaterial.dispose(),this.velocityPass.dispose()}setSize(e,n){this.renderTarget.setSize(e,n),this.velocityPass.setSize(e*this.velocityResolutionScale,n*this.velocityResolutionScale),this.velocityPass.renderTarget.texture.minFilter=this.velocityResolutionScale===1?Dt:ht,this.velocityPass.renderTarget.texture.magFilter=this.velocityResolutionScale===1?Dt:ht,this.velocityPass.renderTarget.texture.needsUpdate=!0,this.fullscreenMaterial.uniforms.invTexSize.value.set(1/e,1/n),this.setupFramebuffers(e,n)}setupFramebuffers(e,n){this.accumulatedTexture&&this.accumulatedTexture.dispose(),this.lastVelocityTexture&&this.lastVelocityTexture.dispose(),this.accumulatedTexture=new Ox(e,n,Bn),this.accumulatedTexture.minFilter=ht,this.accumulatedTexture.magFilter=ht,this.accumulatedTexture.type=ps,this.lastVelocityTexture=new Ox(e*this.velocityResolutionScale,n*this.velocityResolutionScale,Bn),this.lastVelocityTexture.minFilter=this.velocityResolutionScale===1?Dt:ht,this.lastVelocityTexture.magFilter=this.velocityResolutionScale===1?Dt:ht,this.lastVelocityTexture.type=ps,this.fullscreenMaterial.uniforms.accumulatedTexture.value=this.accumulatedTexture,this.fullscreenMaterial.uniforms.lastVelocityTexture.value=this.lastVelocityTexture,this.fullscreenMaterial.needsUpdate=!0}checkCanUseSharedVelocityTexture(){return this._scene.userData.velocityTexture&&this.velocityPass.renderTarget.texture!==this._scene.userData.velocityTexture?this.velocityPass.renderTarget.texture===this.fullscreenMaterial.uniforms.velocityTexture.value&&(this.fullscreenMaterial.uniforms.lastVelocityTexture.value=this._scene.userData.lastVelocityTexture,this.fullscreenMaterial.uniforms.velocityTexture.value=this._scene.userData.velocityTexture,this.fullscreenMaterial.needsUpdate=!0):this.velocityPass.renderTarget.texture!==this.fullscreenMaterial.uniforms.velocityTexture.value&&(this.fullscreenMaterial.uniforms.velocityTexture.value=this.velocityPass.renderTarget.texture,this.fullscreenMaterial.uniforms.lastVelocityTexture.value=this.lastVelocityTexture,this.fullscreenMaterial.needsUpdate=!0,this._scene.userData.velocityTexture||(this._scene.userData.velocityTexture=this.velocityPass.renderTarget.texture,this._scene.userData.lastVelocityTexture=this.lastVelocityTexture)),this.velocityPass.renderTarget.texture!==this.fullscreenMaterial.uniforms.velocityTexture.value}checkNeedsResample(){const e=this.lastCameraTransform.position.distanceToSquared(this._camera.position),n=8*(1-this.lastCameraTransform.quaternion.dot(this._camera.quaternion));(e>1e-6||n>1e-6)&&(this.samples=1,this.lastCameraTransform.position.copy(this._camera.position),this.lastCameraTransform.quaternion.copy(this._camera.quaternion))}render(e){this.samples++,this.checkNeedsResample(),this.fullscreenMaterial.uniforms.samples.value=this.samples,e.setRenderTarget(this.renderTarget),e.render(this.scene,this.camera),e.copyFramebufferToTexture(VC,this.accumulatedTexture),e.setRenderTarget(this.velocityPass.renderTarget),e.copyFramebufferToTexture(VC,this.lastVelocityTexture)}}const WC=function(e,n){let r=1,i=0;for(;e>0;)r/=n,i+=r*(e%n),e=~~(e/n);return i},Qle=t=>{const e=[];let n=1;const r=n+t;for(;n<r;n++)e.push([WC(n,2)-.5,WC(n,3)-.5]);return e};function jC(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const qle=`
#if defined( USE_ENVMAP ) || defined(  ) || defined ( USE_SHADOWMAP )
    vec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );

    #ifdef BOX_PROJECTED_ENV_MAP
        vWorldPosition = worldPosition.xyz;
    #endif
#endif
`,$le=`
#ifdef BOX_PROJECTED_ENV_MAP
    uniform vec3 envMapSize;
    uniform vec3 envMapPosition;
    varying vec3 vWorldPosition;

    vec3 parallaxCorrectNormal( vec3 v, vec3 cubeSize, vec3 cubePos ) {
        vec3 nDir = normalize( v );

        vec3 rbmax = ( .5 * cubeSize + cubePos - vWorldPosition ) / nDir;
        vec3 rbmin = ( -.5 * cubeSize + cubePos - vWorldPosition ) / nDir;

        vec3 rbminmax;

        rbminmax.x = ( nDir.x > 0. ) ? rbmax.x : rbmin.x;
        rbminmax.y = ( nDir.y > 0. ) ? rbmax.y : rbmin.y;
        rbminmax.z = ( nDir.z > 0. ) ? rbmax.z : rbmin.z;

        float correction = min( min( rbminmax.x, rbminmax.y ), rbminmax.z );
        vec3 boxIntersection = vWorldPosition + nDir * correction;

        return boxIntersection - cubePos;
    }
#endif
`,eue=`
#ifdef BOX_PROJECTED_ENV_MAP
    worldNormal = parallaxCorrectNormal( worldNormal, envMapSize, envMapPosition );
#endif
`,tue=`
#ifdef BOX_PROJECTED_ENV_MAP
    reflectVec = parallaxCorrectNormal( reflectVec, envMapSize, envMapPosition );
#endif
`;function nue(t,e,n){t.defines.BOX_PROJECTED_ENV_MAP="",t.uniforms.envMapPosition={value:e},t.uniforms.envMapSize={value:n};const r=new RegExp(jC("vec3 worldNormal = inverseTransformDirection ( normal , viewMatrix ) ;").replaceAll(" ","\\s*"),"g"),i=new RegExp(jC("reflectVec = inverseTransformDirection ( reflectVec , viewMatrix ) ;").replaceAll(" ","\\s*"),"g");t.vertexShader=`varying vec3 vWorldPosition;
`+t.vertexShader.replace("#include <worldpos_vertex>",qle),t.fragmentShader=$le+`
`+t.fragmentShader.replace("#include <envmap_physical_pars_fragment>",gt.envmap_physical_pars_fragment).replace(r,`vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
                ${eue}`).replace(i,`reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
                ${tue}`)}const rue=Lle.replace("#include <helperFunctions>",SU).replace("#include <boxBlur>",Dle),iue=["blur","blurSharpness","blurKernel"],sue=new g1(1);let $2;class oue extends Ci{constructor(e,n,r=HC){super("SSREffect",rue,{type:"FinalSSRMaterial",uniforms:new Map([["reflectionsTexture",new le(null)],["blur",new le(0)],["blurSharpness",new le(0)],["blurKernel",new le(0)]]),defines:new Map([["RENDER_MODE","0"]])}),this.haltonSequence=Qle(1024),this.haltonIndex=0,this.selection=new f_,this.lastSize=void 0,this.cubeCamera=new S5(.001,1e3,sue),this.usingBoxProjectedEnvMap=!1,this._scene=e,this._camera=n,r={...HC,...r,...{boxBlur:!0,dilation:!0}},this.temporalResolvePass=new Zle(e,n,Ile,r),this.uniforms.get("reflectionsTexture").value=this.temporalResolvePass.renderTarget.texture,this.reflectionsPass=new zle(this,r),this.temporalResolvePass.fullscreenMaterial.uniforms.inputTexture.value=this.reflectionsPass.renderTarget.texture,this.lastSize={width:r.width,height:r.height,resolutionScale:r.resolutionScale,velocityResolutionScale:r.velocityResolutionScale},this.setSize(r.width,r.height),this.makeOptionsReactive(r)}makeOptionsReactive(e){let n=!1;const r=this.reflectionsPass.fullscreenMaterial.uniforms,i=Object.keys(r);for(const s of Object.keys(e))Object.defineProperty(this,s,{get(){return e[s]},set(o){if(!(e[s]===o&&n))switch(e[s]=o,iue.includes(s)||this.setSize(this.lastSize.width,this.lastSize.height,!0),s){case"resolutionScale":this.setSize(this.lastSize.width,this.lastSize.height);break;case"velocityResolutionScale":this.temporalResolvePass.velocityResolutionScale=o,this.setSize(this.lastSize.width,this.lastSize.height,!0);break;case"blur":this.uniforms.get("blur").value=o;break;case"blurSharpness":this.uniforms.get("blurSharpness").value=o;break;case"blurKernel":this.uniforms.get("blurKernel").value=o;break;case"steps":this.reflectionsPass.fullscreenMaterial.defines.steps=parseInt(o),this.reflectionsPass.fullscreenMaterial.needsUpdate=n;break;case"refineSteps":this.reflectionsPass.fullscreenMaterial.defines.refineSteps=parseInt(o),this.reflectionsPass.fullscreenMaterial.needsUpdate=n;break;case"missedRays":o?this.reflectionsPass.fullscreenMaterial.defines.missedRays="":delete this.reflectionsPass.fullscreenMaterial.defines.missedRays,this.reflectionsPass.fullscreenMaterial.needsUpdate=n;break;case"correctionRadius":this.temporalResolvePass.fullscreenMaterial.defines.correctionRadius=Math.round(o),this.temporalResolvePass.fullscreenMaterial.needsUpdate=n;break;case"blend":this.temporalResolvePass.fullscreenMaterial.uniforms.blend.value=o;break;case"correction":this.temporalResolvePass.fullscreenMaterial.uniforms.correction.value=o;break;case"exponent":this.temporalResolvePass.fullscreenMaterial.uniforms.exponent.value=o;break;case"distance":r.rayDistance.value=o;default:i.includes(s)&&(r[s].value=o)}}}),this[s]=e[s];n=!0}setSize(e,n,r=!1){!r&&e===this.lastSize.width&&n===this.lastSize.height&&this.resolutionScale===this.lastSize.resolutionScale&&this.velocityResolutionScale===this.lastSize.velocityResolutionScale||(this.temporalResolvePass.setSize(e,n),this.reflectionsPass.setSize(e,n),this.lastSize={width:e,height:n,resolutionScale:this.resolutionScale,velocityResolutionScale:this.velocityResolutionScale})}generateBoxProjectedEnvMapFallback(e,n=new X,r=new X,i=512){this.cubeCamera.renderTarget.dispose(),this.cubeCamera.renderTarget=new g1(i),this.cubeCamera.position.copy(n),this.cubeCamera.updateMatrixWorld(),this.cubeCamera.update(e,this._scene),$2||($2=new gv(e),$2.compileCubemapShader());const s=$2.fromCubemap(this.cubeCamera.renderTarget.texture).texture;s.minFilter=ht,s.magFilter=ht;const o=this.reflectionsPass.fullscreenMaterial;return nue(o,n,r),o.fragmentShader=o.fragmentShader.replace("vec3 worldPos","worldPos").replace("varying vec3 vWorldPosition;","vec3 worldPos;"),o.uniforms.envMapPosition.value.copy(n),o.uniforms.envMapSize.value.copy(r),GC(o,s,i),this.usingBoxProjectedEnvMap=!0,s}setIBLRadiance(e,n){this._scene.traverse(r=>{if(r.material){var i;const s=(i=n.properties.get(r.material))==null?void 0:i.uniforms;s&&"disableIBLRadiance"in s&&(s.disableIBLRadiance.value=e)}})}deleteBoxProjectedEnvMapFallback(){const e=this.reflectionsPass.fullscreenMaterial;e.uniforms.envMap.value=null,e.fragmentShader=e.fragmentShader.replace("worldPos = ","vec3 worldPos = "),delete e.defines.BOX_PROJECTED_ENV_MAP,e.needsUpdate=!0,this.usingBoxProjectedEnvMap=!1}dispose(){super.dispose(),this.reflectionsPass.dispose(),this.temporalResolvePass.dispose()}update(e,n){if(!this.usingBoxProjectedEnvMap&&this._scene.environment){const a=this.reflectionsPass.fullscreenMaterial;let l=null;if(this._scene.traverse(u=>{if(!l&&u.material&&!u.material.envMap){const c=e.properties.get(u.material);"envMap"in c&&c.envMap instanceof gn&&(l=c.envMap)}}),l){const u=this._scene.environment.image.height;GC(a,l,u)}}this.haltonIndex=(this.haltonIndex+1)%this.haltonSequence.length;const[r,i]=this.haltonSequence[this.haltonIndex],{width:s,height:o}=this.lastSize;this.temporalResolvePass.velocityPass.render(e),this._camera.setViewOffset&&this._camera.setViewOffset(s,o,r,i,s,o),this.reflectionsPass.render(e,n),this.temporalResolvePass.render(e),this._camera.clearViewOffset()}static patchDirectEnvIntensity(e=0){e===0?gt.envmap_physical_pars_fragment=gt.envmap_physical_pars_fragment.replace("vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {","vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) { return vec3(0.0);"):gt.envmap_physical_pars_fragment=gt.envmap_physical_pars_fragment.replace("vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );","vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness ) * "+e.toFixed(5)+";")}}R.forwardRef(function({ENABLE_BLUR:e=!0,USE_MRT:n=!0,...r},i){const{invalidate:s}=cn(),{scene:o,camera:a}=R.useContext(jl),l=R.useMemo(()=>new oue(o,a,{ENABLE_BLUR:e,USE_MRT:n,...r}),[o,a,e,n,r]),u=R.useContext(h_);return R.useEffect(()=>{var c;if(u&&u.enabled&&(c=u.selected)!=null&&c.length)return l.selection.set(u.selected),s(),()=>{l.selection.clear(),s()}},[u]),B.jsx("primitive",{ref:i,object:l,...r})});const F1=new Lt;F1.setAttribute("position",new Zt(new Float32Array([-1,-1,3,-1,-1,3]),2));F1.setAttribute("uv",new Zt(new Float32Array([0,0,2,0,0,2]),2));F1.boundingSphere=new xs;F1.computeBoundingSphere=function(){};const aue=new Us;class T0{constructor(e){this._mesh=new Un(F1,e),this._mesh.frustumCulled=!1}render(e){e.render(this._mesh,aue)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}dispose(){this._mesh.material.dispose(),this._mesh.geometry.dispose()}}const lue={uniforms:{sceneDiffuse:{value:null},sceneDepth:{value:null},sceneNormal:{value:null},projMat:{value:new rt},viewMat:{value:new rt},projViewMat:{value:new rt},projectionMatrixInv:{value:new rt},viewMatrixInv:{value:new rt},cameraPos:{value:new X},resolution:{value:new ue},time:{value:0},samples:{value:[]},samplesR:{value:[]},bluenoise:{value:null},distanceFalloff:{value:1},radius:{value:5},near:{value:.1},far:{value:1e3},logDepth:{value:!1},ortho:{value:!1},screenSpaceRadius:{value:!1}},vertexShader:`
varying vec2 vUv;
void main() {
  vUv = uv;
  gl_Position = vec4(position, 1);
}`,fragmentShader:`
    #define SAMPLES 16
    #define FSAMPLES 16.0
uniform sampler2D sceneDiffuse;
uniform highp sampler2D sceneNormal;
uniform highp sampler2D sceneDepth;
uniform mat4 projectionMatrixInv;
uniform mat4 viewMatrixInv;
uniform mat4 projMat;
uniform mat4 viewMat;
uniform mat4 projViewMat;
uniform vec3 cameraPos;
uniform vec2 resolution;
uniform float time;
uniform vec3[SAMPLES] samples;
uniform float[SAMPLES] samplesR;
uniform float radius;
uniform float distanceFalloff;
uniform float near;
uniform float far;
uniform bool logDepth;
uniform bool ortho;
uniform bool screenSpaceRadius;
uniform sampler2D bluenoise;
    varying vec2 vUv;
    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)
    {
        return (zFar * zNear) / (zFar - d * (zFar - zNear));
    }
    highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {
      return nearZ + (farZ - nearZ) * d;
    }
    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {
      float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;
      float a = farZ / (farZ - nearZ);
      float b = farZ * nearZ / (nearZ - farZ);
      float linDepth = a + b / depth;
      return ortho ? linearize_depth_ortho(
        linDepth,
        nearZ,
        farZ
      ) :linearize_depth(linDepth, nearZ, farZ);
    }

    vec3 getWorldPosLog(vec3 posS) {
      vec2 uv = posS.xy;
      float z = posS.z;
      float nearZ =near;
      float farZ = far;
      float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;
      float a = farZ / (farZ - nearZ);
      float b = farZ * nearZ / (nearZ - farZ);
      float linDepth = a + b / depth;
      vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;
      vec4 wpos = projectionMatrixInv * clipVec;
      return wpos.xyz / wpos.w;
    }
    vec3 getWorldPos(float depth, vec2 coord) {
      #ifdef LOGDEPTH
        return getWorldPosLog(vec3(coord, depth));
      #endif
      float z = depth * 2.0 - 1.0;
      vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);
      vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;
      // Perspective division
     vec4 worldSpacePosition = viewSpacePosition;
     worldSpacePosition.xyz /= worldSpacePosition.w;
      return worldSpacePosition.xyz;
  }

  vec3 computeNormal(vec3 worldPos, vec2 vUv) {
    ivec2 p = ivec2(vUv * resolution);
    float c0 = texelFetch(sceneDepth, p, 0).x;
    float l2 = texelFetch(sceneDepth, p - ivec2(2, 0), 0).x;
    float l1 = texelFetch(sceneDepth, p - ivec2(1, 0), 0).x;
    float r1 = texelFetch(sceneDepth, p + ivec2(1, 0), 0).x;
    float r2 = texelFetch(sceneDepth, p + ivec2(2, 0), 0).x;
    float b2 = texelFetch(sceneDepth, p - ivec2(0, 2), 0).x;
    float b1 = texelFetch(sceneDepth, p - ivec2(0, 1), 0).x;
    float t1 = texelFetch(sceneDepth, p + ivec2(0, 1), 0).x;
    float t2 = texelFetch(sceneDepth, p + ivec2(0, 2), 0).x;

    float dl = abs((2.0 * l1 - l2) - c0);
    float dr = abs((2.0 * r1 - r2) - c0);
    float db = abs((2.0 * b1 - b2) - c0);
    float dt = abs((2.0 * t1 - t2) - c0);

    vec3 ce = getWorldPos(c0, vUv).xyz;

    vec3 dpdx = (dl < dr) ? ce - getWorldPos(l1, (vUv - vec2(1.0 / resolution.x, 0.0))).xyz
                          : -ce + getWorldPos(r1, (vUv + vec2(1.0 / resolution.x, 0.0))).xyz;
    vec3 dpdy = (db < dt) ? ce - getWorldPos(b1, (vUv - vec2(0.0, 1.0 / resolution.y))).xyz
                          : -ce + getWorldPos(t1, (vUv + vec2(0.0, 1.0 / resolution.y))).xyz;

    return normalize(cross(dpdx, dpdy));
}

void main() {
      vec4 diffuse = texture2D(sceneDiffuse, vUv);
      float depth = texture2D(sceneDepth, vUv).x;
      if (depth == 1.0) {
        gl_FragColor = vec4(vec3(1.0), 1.0);
        return;
      }
      vec3 worldPos = getWorldPos(depth, vUv);
    //  vec3 normal = texture2D(sceneNormal, vUv).rgb;//computeNormal(worldPos, vUv);
      #ifdef HALFRES
        vec3 normal = texture2D(sceneNormal, vUv).rgb;
      #else
        vec3 normal = computeNormal(worldPos, vUv);
      #endif
      vec4 noise = texture2D(bluenoise, gl_FragCoord.xy / 128.0);
      vec3 randomVec = normalize(noise.rgb * 2.0 - 1.0);
      vec3 tangent = normalize(randomVec - normal * dot(randomVec, normal));
      vec3 bitangent = cross(normal, tangent);
      mat3 tbn = mat3(tangent, bitangent, normal);
      float occluded = 0.0;
      float totalWeight = 0.0;
     /* float radiusScreen = distance(
        worldPos,
        getWorldPos(depth, vUv + 
          vec2(48.0, 0.0) / resolution)
      );/*vUv.x < 0.5 ? radius : min(distance(
        worldPos,
        getWorldPos(depth, vUv + 
          vec2(100.0, 0.0) / resolution)
      ), radius);
      float distanceFalloffScreen = radiusScreen * 0.2;*/
      float radiusToUse = screenSpaceRadius ? distance(
        worldPos,
        getWorldPos(depth, vUv +
          vec2(radius, 0.0) / resolution)
      ) : radius;
      float distanceFalloffToUse =screenSpaceRadius ?
          radiusToUse * distanceFalloff
      : distanceFalloff;
      float bias = (0.1 / near) * fwidth(distance(worldPos, cameraPos)) / radiusToUse;
      for(float i = 0.0; i < FSAMPLES; i++) {
        vec3 sampleDirection = 
        tbn * 
        samples[int(i)];
        ;
        float moveAmt = samplesR[int(mod(i + noise.a * FSAMPLES, FSAMPLES))];
        vec3 samplePos = worldPos + radiusToUse * moveAmt * sampleDirection;
        vec4 offset = projMat * vec4(samplePos, 1.0);
        offset.xyz /= offset.w;
        offset.xyz = offset.xyz * 0.5 + 0.5;
        float sampleDepth = textureLod(sceneDepth, offset.xy, 0.0).x;
        /*float distSample = logDepth ? linearize_depth_log(sampleDepth, near, far) 
         (ortho ?  linearize_depth_ortho(sampleDepth, near, far) : linearize_depth(sampleDepth, near, far));*/
        #ifdef LOGDEPTH
        float distSample = linearize_depth_log(sampleDepth, near, far);
        #else
        float distSample = ortho ? linearize_depth_ortho(sampleDepth, near, far) : linearize_depth(sampleDepth, near, far);
        #endif
        float distWorld = ortho ? linearize_depth_ortho(offset.z, near, far) : linearize_depth(offset.z, near, far);
        float rangeCheck = smoothstep(0.0, 1.0, distanceFalloffToUse / (abs(distSample - distWorld)));
        vec2 diff = gl_FragCoord.xy - ( offset.xy * resolution);
        float weight = dot(sampleDirection, normal);
          occluded += rangeCheck * weight * 
            (distSample + bias
               < distWorld ? 1.0 : 0.0) * (
          (dot(
            diff,
            diff
             
            ) < 1.0 || (sampleDepth == depth) || (
              offset.x < 0.0 || offset.x > 1.0 || offset.y < 0.0 || offset.y > 1.0
            ) ? 0.0 : 1.0)
          );
          totalWeight += weight;
      }
      float occ = clamp(1.0 - occluded / totalWeight, 0.0, 1.0);
      gl_FragColor = vec4(0.5 + 0.5 * normal, occ);
}`},uue={uniforms:{sceneDiffuse:{value:null},sceneDepth:{value:null},tDiffuse:{value:null},projMat:{value:new rt},viewMat:{value:new rt},projectionMatrixInv:{value:new rt},viewMatrixInv:{value:new rt},cameraPos:{value:new X},resolution:{value:new ue},color:{value:new X(0,0,0)},blueNoise:{value:null},downsampledDepth:{value:null},time:{value:0},intensity:{value:10},renderMode:{value:0},gammaCorrection:{value:!1},logDepth:{value:!1},ortho:{value:!1},near:{value:.1},far:{value:1e3},screenSpaceRadius:{value:!1},radius:{value:0},distanceFalloff:{value:1},fog:{value:!1},fogExp:{value:!1},fogDensity:{value:0},fogNear:{value:1/0},fogFar:{value:1/0},colorMultiply:{value:!0}},vertexShader:`
		varying vec2 vUv;
		void main() {
			vUv = uv;
			gl_Position = vec4(position, 1);
		}`,fragmentShader:`
		uniform sampler2D sceneDiffuse;
    uniform highp sampler2D sceneDepth;
    uniform highp sampler2D downsampledDepth;
    uniform sampler2D tDiffuse;
    uniform sampler2D blueNoise;
    uniform vec2 resolution;
    uniform vec3 color;
    uniform mat4 projectionMatrixInv;
    uniform mat4 viewMatrixInv;
    uniform float intensity;
    uniform float renderMode;
    uniform float near;
    uniform float far;
    uniform bool gammaCorrection;
    uniform bool logDepth;
    uniform bool ortho;
    uniform bool screenSpaceRadius;
    uniform bool fog;
    uniform bool fogExp;
    uniform bool colorMultiply;
    uniform float fogDensity;
    uniform float fogNear;
    uniform float fogFar;
    uniform float radius;
    uniform float distanceFalloff;
    uniform vec3 cameraPos;
    varying vec2 vUv;
    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)
    {
        return (zFar * zNear) / (zFar - d * (zFar - zNear));
    }
    highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {
      return nearZ + (farZ - nearZ) * d;
    }
    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {
      float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;
      float a = farZ / (farZ - nearZ);
      float b = farZ * nearZ / (nearZ - farZ);
      float linDepth = a + b / depth;
      return ortho ? linearize_depth_ortho(
        linDepth,
        nearZ,
        farZ
      ) :linearize_depth(linDepth, nearZ, farZ);
    }
    vec3 getWorldPosLog(vec3 posS) {
        vec2 uv = posS.xy;
        float z = posS.z;
        float nearZ =near;
        float farZ = far;
        float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;
        float a = farZ / (farZ - nearZ);
        float b = farZ * nearZ / (nearZ - farZ);
        float linDepth = a + b / depth;
        vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;
        vec4 wpos = projectionMatrixInv * clipVec;
        return wpos.xyz / wpos.w;
      }
      vec3 getWorldPos(float depth, vec2 coord) {
       // if (logDepth) {
        #ifdef LOGDEPTH
          return getWorldPosLog(vec3(coord, depth));
        #endif
      //  }
        float z = depth * 2.0 - 1.0;
        vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);
        vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;
        // Perspective division
       vec4 worldSpacePosition = viewSpacePosition;
       worldSpacePosition.xyz /= worldSpacePosition.w;
        return worldSpacePosition.xyz;
    }
  
    vec3 computeNormal(vec3 worldPos, vec2 vUv) {
      ivec2 p = ivec2(vUv * resolution);
      float c0 = texelFetch(sceneDepth, p, 0).x;
      float l2 = texelFetch(sceneDepth, p - ivec2(2, 0), 0).x;
      float l1 = texelFetch(sceneDepth, p - ivec2(1, 0), 0).x;
      float r1 = texelFetch(sceneDepth, p + ivec2(1, 0), 0).x;
      float r2 = texelFetch(sceneDepth, p + ivec2(2, 0), 0).x;
      float b2 = texelFetch(sceneDepth, p - ivec2(0, 2), 0).x;
      float b1 = texelFetch(sceneDepth, p - ivec2(0, 1), 0).x;
      float t1 = texelFetch(sceneDepth, p + ivec2(0, 1), 0).x;
      float t2 = texelFetch(sceneDepth, p + ivec2(0, 2), 0).x;
  
      float dl = abs((2.0 * l1 - l2) - c0);
      float dr = abs((2.0 * r1 - r2) - c0);
      float db = abs((2.0 * b1 - b2) - c0);
      float dt = abs((2.0 * t1 - t2) - c0);
  
      vec3 ce = getWorldPos(c0, vUv).xyz;
  
      vec3 dpdx = (dl < dr) ? ce - getWorldPos(l1, (vUv - vec2(1.0 / resolution.x, 0.0))).xyz
                            : -ce + getWorldPos(r1, (vUv + vec2(1.0 / resolution.x, 0.0))).xyz;
      vec3 dpdy = (db < dt) ? ce - getWorldPos(b1, (vUv - vec2(0.0, 1.0 / resolution.y))).xyz
                            : -ce + getWorldPos(t1, (vUv + vec2(0.0, 1.0 / resolution.y))).xyz;
  
      return normalize(cross(dpdx, dpdy));
  }

    #include <common>
    #include <dithering_pars_fragment>
    void main() {
        //vec4 texel = texture2D(tDiffuse, vUv);//vec3(0.0);
        vec4 sceneTexel = texture2D(sceneDiffuse, vUv);
        float depth = texture2D(
            sceneDepth,
            vUv
        ).x;
        #ifdef HALFRES 
        vec4 texel;
        if (depth == 1.0) {
            texel = vec4(0.0, 0.0, 0.0, 1.0);
        } else {
        vec3 worldPos = getWorldPos(depth, vUv);
        vec3 normal = computeNormal(getWorldPos(depth, vUv), vUv);
       // vec4 texel = texture2D(tDiffuse, vUv);
       // Find closest depth;
       float totalWeight = 0.0;
       float radiusToUse = screenSpaceRadius ? distance(
        worldPos,
        getWorldPos(depth, vUv +
          vec2(radius, 0.0) / resolution)
      ) : radius;
      float distanceFalloffToUse =screenSpaceRadius ?
          radiusToUse * distanceFalloff
      : distanceFalloff;
        for(float x = -1.0; x <= 1.0; x++) {
            for(float y = -1.0; y <= 1.0; y++) {
                vec2 offset = vec2(x, y);
                ivec2 p = ivec2(
                    (vUv * resolution * 0.5) + offset
                );
                vec2 pUv = vec2(p) / (resolution * 0.5);
                float sampleDepth = texelFetch(downsampledDepth,p, 0).x;
                vec4 sampleInfo = texelFetch(tDiffuse, p, 0);
                vec3 normalSample = sampleInfo.xyz * 2.0 - 1.0;
                vec3 worldPosSample = getWorldPos(sampleDepth, pUv);
                float tangentPlaneDist = abs(dot(worldPos - worldPosSample, normal));
                float rangeCheck = exp(-1.0 * tangentPlaneDist * (1.0 / distanceFalloffToUse)) * max(dot(normal, normalSample), 0.0);
                float weight = rangeCheck;
                totalWeight += weight;
                texel += sampleInfo * weight;
            }
        }
        if (totalWeight == 0.0) {
            texel = texture2D(tDiffuse, vUv);
        } else {
            texel /= totalWeight;
        }
    }
        #else
        vec4 texel = texture2D(tDiffuse, vUv);
        #endif

     
        float finalAo = pow(texel.a, intensity);
        float fogFactor;
        float fogDepth = distance(
            cameraPos,
            getWorldPos(depth, vUv)
        );
        if (fog) {
            if (fogExp) {
                fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
            } else {
                fogFactor = smoothstep( fogNear, fogFar, fogDepth );
            }
        }
        finalAo = mix(finalAo, 1.0, fogFactor);
        vec3 aoApplied = color * mix(vec3(1.0), sceneTexel.rgb, float(colorMultiply));
        if (renderMode == 0.0) {
            gl_FragColor = vec4( mix(sceneTexel.rgb, aoApplied, 1.0 - finalAo), sceneTexel.a);
        } else if (renderMode == 1.0) {
            gl_FragColor = vec4( mix(vec3(1.0), aoApplied, 1.0 - finalAo), sceneTexel.a);
        } else if (renderMode == 2.0) {
            gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);
        } else if (renderMode == 3.0) {
            if (vUv.x < 0.5) {
                gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);
            } else if (abs(vUv.x - 0.5) < 1.0 / resolution.x) {
                gl_FragColor = vec4(1.0);
            } else {
                gl_FragColor = vec4( mix(sceneTexel.rgb, aoApplied, 1.0 - finalAo), sceneTexel.a);
            }
        } else if (renderMode == 4.0) {
            if (vUv.x < 0.5) {
                gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);
            } else if (abs(vUv.x - 0.5) < 1.0 / resolution.x) {
                gl_FragColor = vec4(1.0);
            } else {
                gl_FragColor = vec4( mix(vec3(1.0), aoApplied, 1.0 - finalAo), sceneTexel.a);
            }
        }
        #include <dithering_fragment>
        if (gammaCorrection) {
            gl_FragColor = LinearTosRGB(gl_FragColor);
        }
    }
    `},cue={uniforms:{sceneDiffuse:{value:null},sceneDepth:{value:null},tDiffuse:{value:null},projMat:{value:new rt},viewMat:{value:new rt},projectionMatrixInv:{value:new rt},viewMatrixInv:{value:new rt},cameraPos:{value:new X},resolution:{value:new ue},time:{value:0},r:{value:5},blueNoise:{value:null},radius:{value:12},worldRadius:{value:5},index:{value:0},poissonDisk:{value:[]},distanceFalloff:{value:1},near:{value:.1},far:{value:1e3},logDepth:{value:!1},screenSpaceRadius:{value:!1}},vertexShader:`
		varying vec2 vUv;
		void main() {
			vUv = uv;
			gl_Position = vec4(position, 1.0);
		}`,fragmentShader:`
		uniform sampler2D sceneDiffuse;
    uniform highp sampler2D sceneDepth;
    uniform sampler2D tDiffuse;
    uniform sampler2D blueNoise;
    uniform mat4 projectionMatrixInv;
    uniform mat4 viewMatrixInv;
    uniform vec2 resolution;
    uniform float r;
    uniform float radius;
     uniform float worldRadius;
    uniform float index;
     uniform float near;
     uniform float far;
     uniform float distanceFalloff;
     uniform bool logDepth;
     uniform bool screenSpaceRadius;
    varying vec2 vUv;

    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)
    {
        highp float z_n = 2.0 * d - 1.0;
        return 2.0 * zNear * zFar / (zFar + zNear - z_n * (zFar - zNear));
    }
    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {
     float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;
     float a = farZ / (farZ - nearZ);
     float b = farZ * nearZ / (nearZ - farZ);
     float linDepth = a + b / depth;
     return linearize_depth(linDepth, nearZ, farZ);
   }
   highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {
     return nearZ + (farZ - nearZ) * d;
   }
   vec3 getWorldPosLog(vec3 posS) {
     vec2 uv = posS.xy;
     float z = posS.z;
     float nearZ =near;
     float farZ = far;
     float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;
     float a = farZ / (farZ - nearZ);
     float b = farZ * nearZ / (nearZ - farZ);
     float linDepth = a + b / depth;
     vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;
     vec4 wpos = projectionMatrixInv * clipVec;
     return wpos.xyz / wpos.w;
   }
    vec3 getWorldPos(float depth, vec2 coord) {
     #ifdef LOGDEPTH
          return getWorldPosLog(vec3(coord, depth));
     #endif
        
        float z = depth * 2.0 - 1.0;
        vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);
        vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;
        // Perspective division
       vec4 worldSpacePosition = viewSpacePosition;
       worldSpacePosition.xyz /= worldSpacePosition.w;
        return worldSpacePosition.xyz;
    }
    #include <common>
    #define NUM_SAMPLES 16
    uniform vec2 poissonDisk[NUM_SAMPLES];
    void main() {
        const float pi = 3.14159;
        vec2 texelSize = vec2(1.0 / resolution.x, 1.0 / resolution.y);
        vec2 uv = vUv;
        vec4 data = texture2D(tDiffuse, vUv);
        float occlusion = data.a;
        float baseOcc = data.a;
        vec3 normal = data.rgb * 2.0 - 1.0;
        float count = 1.0;
        float d = texture2D(sceneDepth, vUv).x;
        if (d == 1.0) {
          gl_FragColor = data;
          return;
        }
        vec3 worldPos = getWorldPos(d, vUv);
        float size = radius;
        float angle;
        if (index == 0.0) {
             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).x * PI2;
        } else if (index == 1.0) {
             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).y * PI2;
        } else if (index == 2.0) {
             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).z * PI2;
        } else {
             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).w * PI2;
        }

        mat2 rotationMatrix = mat2(cos(angle), -sin(angle), sin(angle), cos(angle));
        float radiusToUse = screenSpaceRadius ? distance(
          worldPos,
          getWorldPos(d, vUv +
            vec2(worldRadius, 0.0) / resolution)
        ) : worldRadius;
        float distanceFalloffToUse =screenSpaceRadius ?
            radiusToUse * distanceFalloff
        : distanceFalloff;


        for(int i = 0; i < NUM_SAMPLES; i++) {
            vec2 offset = (rotationMatrix * poissonDisk[i]) * texelSize * size;
            vec4 dataSample = texture2D(tDiffuse, uv + offset);
            float occSample = dataSample.a;
            vec3 normalSample = dataSample.rgb * 2.0 - 1.0;
            float dSample = texture2D(sceneDepth, uv + offset).x;
            vec3 worldPosSample = getWorldPos(dSample, uv + offset);
            float tangentPlaneDist = abs(dot(worldPos - worldPosSample, normal));
            float rangeCheck = dSample == 1.0 ? 0.0 :exp(-1.0 * tangentPlaneDist * (1.0 / distanceFalloffToUse)) * max(dot(normal, normalSample), 0.0) * (1.0 - abs(occSample - baseOcc));
            occlusion += occSample * rangeCheck;
            count += rangeCheck;
        }
        occlusion /= count;
        gl_FragColor = vec4(0.5 + 0.5 * normal, occlusion);
    }
    `},fue={uniforms:{sceneDepth:{value:null},resolution:{value:new ue},near:{value:.1},far:{value:1e3},viewMatrixInv:{value:new rt},projectionMatrixInv:{value:new rt},logDepth:{value:!1}},vertexShader:`
    varying vec2 vUv;
    void main() {
        vUv = uv;
        gl_Position = vec4(position, 1);
    }`,fragmentShader:`
    uniform highp sampler2D sceneDepth;
    uniform vec2 resolution;
    uniform float near;
    uniform float far;
    uniform bool logDepth;
    uniform mat4 viewMatrixInv;
    uniform mat4 projectionMatrixInv;
    varying vec2 vUv;
    layout(location = 1) out vec4 gNormal;
    vec3 getWorldPosLog(vec3 posS) {
        vec2 uv = posS.xy;
        float z = posS.z;
        float nearZ =near;
        float farZ = far;
        float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;
        float a = farZ / (farZ - nearZ);
        float b = farZ * nearZ / (nearZ - farZ);
        float linDepth = a + b / depth;
        vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;
        vec4 wpos = projectionMatrixInv * clipVec;
        return wpos.xyz / wpos.w;
      }
      vec3 getWorldPos(float depth, vec2 coord) {
        if (logDepth) {
          return getWorldPosLog(vec3(coord, depth));
        }
        float z = depth * 2.0 - 1.0;
        vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);
        vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;
        // Perspective division
       vec4 worldSpacePosition = viewSpacePosition;
       worldSpacePosition.xyz /= worldSpacePosition.w;
        return worldSpacePosition.xyz;
    }
  
    vec3 computeNormal(vec3 worldPos, vec2 vUv) {
      ivec2 p = ivec2(vUv * resolution);
      float c0 = texelFetch(sceneDepth, p, 0).x;
      float l2 = texelFetch(sceneDepth, p - ivec2(2, 0), 0).x;
      float l1 = texelFetch(sceneDepth, p - ivec2(1, 0), 0).x;
      float r1 = texelFetch(sceneDepth, p + ivec2(1, 0), 0).x;
      float r2 = texelFetch(sceneDepth, p + ivec2(2, 0), 0).x;
      float b2 = texelFetch(sceneDepth, p - ivec2(0, 2), 0).x;
      float b1 = texelFetch(sceneDepth, p - ivec2(0, 1), 0).x;
      float t1 = texelFetch(sceneDepth, p + ivec2(0, 1), 0).x;
      float t2 = texelFetch(sceneDepth, p + ivec2(0, 2), 0).x;
  
      float dl = abs((2.0 * l1 - l2) - c0);
      float dr = abs((2.0 * r1 - r2) - c0);
      float db = abs((2.0 * b1 - b2) - c0);
      float dt = abs((2.0 * t1 - t2) - c0);
  
      vec3 ce = getWorldPos(c0, vUv).xyz;
  
      vec3 dpdx = (dl < dr) ? ce - getWorldPos(l1, (vUv - vec2(1.0 / resolution.x, 0.0))).xyz
                            : -ce + getWorldPos(r1, (vUv + vec2(1.0 / resolution.x, 0.0))).xyz;
      vec3 dpdy = (db < dt) ? ce - getWorldPos(b1, (vUv - vec2(0.0, 1.0 / resolution.y))).xyz
                            : -ce + getWorldPos(t1, (vUv + vec2(0.0, 1.0 / resolution.y))).xyz;
  
      return normalize(cross(dpdx, dpdy));
  }
    void main() {
        vec2 uv = vUv - vec2(0.5) / resolution;
        vec2 pixelSize = vec2(1.0) / resolution;
        vec2[] uvSamples = vec2[4](
            uv,
            uv + vec2(pixelSize.x, 0.0),
            uv + vec2(0.0, pixelSize.y),
            uv + pixelSize
        );
        float depth00 = texture2D(sceneDepth, uvSamples[0]).r;
        float depth10 = texture2D(sceneDepth, uvSamples[1]).r;
        float depth01 = texture2D(sceneDepth, uvSamples[2]).r;
        float depth11 = texture2D(sceneDepth, uvSamples[3]).r;
        float minDepth = min(min(depth00, depth10), min(depth01, depth11));
        float maxDepth = max(max(depth00, depth10), max(depth01, depth11));
        float targetDepth = minDepth;
        // Checkerboard pattern to avoid artifacts
        if (mod(gl_FragCoord.x + gl_FragCoord.y, 2.0) > 0.5) { 
            targetDepth = maxDepth;
        }
        int chosenIndex = 0;
        float[] samples = float[4](depth00, depth10, depth01, depth11);
        for(int i = 0; i < 4; ++i) {
            if (samples[i] == targetDepth) {
                chosenIndex = i;
                break;
            }
        }
        gl_FragColor = vec4(samples[chosenIndex], 0.0, 0.0, 1.0);
        gNormal = vec4(computeNormal(
            getWorldPos(samples[chosenIndex], uvSamples[chosenIndex]), uvSamples[chosenIndex]
        ), 0.0);
       /* float[] samples = float[4](depth00, depth10, depth01, depth11);
        float c = 0.25 * (depth00 + depth10 + depth01 + depth11);
        float[] distances = float[4](depth00, depth10, depth01, depth11);
        float maxDistance = max(max(distances[0], distances[1]), max(distances[2], distances[3]));

        int remaining[3];
        int rejected[3];
        int i, j, k;

        for(i = 0, j = 0, k = 0; i < 4; ++i) {
            if (distances[i] < maxDistance) {
                remaining[j++] = i;
            } else {
                rejected[k++] = i;
            }
        }
        for(;j < 3;++j) {
            remaining[j] = rejected[--k];
        }
        vec3 s = vec3(
            samples[remaining[0]],
            samples[remaining[1]],
            samples[remaining[2]]
        );
        c = (s.x + s.y + s.z) / 3.0;

        distances[0] = abs(c - s.x);
        distances[1] = abs(c - s.y);
        distances[2] = abs(c - s.z);

        float minDistance = min(min(distances[0], distances[1]), distances[2]);

        for(i = 0; i < 3; ++i) {
            if (distances[i] == minDistance) {
                break;
            }
        }*/
      /*  gl_FragColor = vec4(samples[remaining[i]], 0.0, 0.0, 0.0);
        gNormal = vec4(computeNormal(
            getWorldPos(samples[remaining[i]], uvSamples[remaining[i]]), uvSamples[remaining[i]]
        ), 0.0);*/
    }`};var wU="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";const hue=Uint8Array.from(atob(wU),t=>t.charCodeAt(0));function EU(t,e,n){if(e.getQueryParameter(t,e.QUERY_RESULT_AVAILABLE)){const s=e.getQueryParameter(t,e.QUERY_RESULT)/1e6;n.lastTime=s}else setTimeout(()=>{EU(t,e,n)},1)}class due extends Rr{constructor(e,n,r=512,i=512){super(),this.width=r,this.height=i,this.clear=!0,this.camera=n,this.scene=e,this.autosetGamma=!0,this.configuration=new Proxy({aoSamples:16,aoRadius:5,denoiseSamples:8,denoiseRadius:12,distanceFalloff:1,intensity:5,denoiseIterations:2,renderMode:0,color:new Xe(0,0,0),gammaCorrection:!0,logarithmicDepthBuffer:!1,screenSpaceRadius:!1,halfRes:!1,depthAwareUpsampling:!0,colorMultiply:!0},{set:(s,o,a)=>{const l=s[o];return s[o]=a,o==="aoSamples"&&l!==a&&this.configureAOPass(this.configuration.logarithmicDepthBuffer),o==="denoiseSamples"&&l!==a&&this.configureDenoisePass(this.configuration.logarithmicDepthBuffer),o==="halfRes"&&l!==a&&(this.configureAOPass(this.configuration.logarithmicDepthBuffer),this.configureHalfResTargets(),this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer),this.setSize(this.width,this.height)),o==="depthAwareUpsampling"&&l!==a&&this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer),o==="gammaCorrection"&&(this.autosetGamma=!1),!0}}),this.samples=[],this.samplesR=[],this.samplesDenoise=[],this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer),this.configureSampleDependentPasses(),this.configureHalfResTargets(),this.copyQuad=new T0(new Ht({uniforms:{tDiffuse:{value:null}},depthWrite:!1,vertexShader:`
            varying vec2 vUv;
            void main() {
                vUv = uv;
                gl_Position = vec4(position, 1);
            }
            `,fragmentShader:`
            uniform sampler2D tDiffuse;
            varying vec2 vUv;
            void main() {
                gl_FragColor = texture2D(tDiffuse, vUv);
            }
            `})),this.writeTargetInternal=new Qt(this.width,this.height,{minFilter:ht,magFilter:ht,depthBuffer:!1}),this.readTargetInternal=new Qt(this.width,this.height,{minFilter:ht,magFilter:ht,depthBuffer:!1}),this.outputTargetInternal=new Qt(this.width,this.height,{minFilter:ht,magFilter:ht,depthBuffer:!1}),this.bluenoise=new La(hue,128,128),this.bluenoise.colorSpace=Ml,this.bluenoise.wrapS=Ai,this.bluenoise.wrapT=Ai,this.bluenoise.minFilter=Dt,this.bluenoise.magFilter=Dt,this.bluenoise.needsUpdate=!0,this.lastTime=0,this.needsDepthTexture=!0,this.needsSwap=!0,this._r=new ue,this._c=new Xe}configureHalfResTargets(){this.configuration.halfRes?(this.depthDownsampleTarget=new cS(this.width/2,this.height/2,2),this.depthDownsampleTarget.texture[0].format=v5,this.depthDownsampleTarget.texture[0].type=Jn,this.depthDownsampleTarget.texture[0].minFilter=Dt,this.depthDownsampleTarget.texture[0].magFilter=Dt,this.depthDownsampleTarget.texture[0].depthBuffer=!1,this.depthDownsampleTarget.texture[1].format=Bn,this.depthDownsampleTarget.texture[1].type=ps,this.depthDownsampleTarget.texture[1].minFilter=Dt,this.depthDownsampleTarget.texture[1].magFilter=Dt,this.depthDownsampleTarget.texture[1].depthBuffer=!1,this.depthDownsampleQuad=new T0(new Ht(fue))):(this.depthDownsampleTarget&&(this.depthDownsampleTarget.dispose(),this.depthDownsampleTarget=null),this.depthDownsampleQuad&&(this.depthDownsampleQuad.dispose(),this.depthDownsampleQuad=null))}configureSampleDependentPasses(){this.configureAOPass(this.configuration.logarithmicDepthBuffer),this.configureDenoisePass(this.configuration.logarithmicDepthBuffer)}configureAOPass(e=!1){this.samples=this.generateHemisphereSamples(this.configuration.aoSamples),this.samplesR=this.generateHemisphereSamplesR(this.configuration.aoSamples);const n={...lue};n.fragmentShader=n.fragmentShader.replace("16",this.configuration.aoSamples).replace("16.0",this.configuration.aoSamples+".0"),e&&(n.fragmentShader=`#define LOGDEPTH
`+n.fragmentShader),this.configuration.halfRes&&(n.fragmentShader=`#define HALFRES
`+n.fragmentShader),this.effectShaderQuad?(this.effectShaderQuad.material.dispose(),this.effectShaderQuad.material=new Ht(n)):this.effectShaderQuad=new T0(new Ht(n))}configureDenoisePass(e=!1){this.samplesDenoise=this.generateDenoiseSamples(this.configuration.denoiseSamples,11);const n={...cue};n.fragmentShader=n.fragmentShader.replace("16",this.configuration.denoiseSamples),e&&(n.fragmentShader=`#define LOGDEPTH
`+n.fragmentShader),this.poissonBlurQuad?(this.poissonBlurQuad.material.dispose(),this.poissonBlurQuad.material=new Ht(n)):this.poissonBlurQuad=new T0(new Ht(n))}configureEffectCompositer(e=!1){const n={...uue};e&&(n.fragmentShader=`#define LOGDEPTH
`+n.fragmentShader),this.configuration.halfRes&&this.configuration.depthAwareUpsampling&&(n.fragmentShader=`#define HALFRES
`+n.fragmentShader),this.effectCompositerQuad?(this.effectCompositerQuad.material.dispose(),this.effectCompositerQuad.material=new Ht(n)):this.effectCompositerQuad=new T0(new Ht(n))}generateHemisphereSamples(e){const n=[];for(let r=0;r<e;r++){const i=2.399963*r,s=Math.sqrt(r+.5)/Math.sqrt(e),o=s*Math.cos(i),a=s*Math.sin(i),l=Math.sqrt(1-(o*o+a*a));n.push(new X(o,a,l))}return n}generateHemisphereSamplesR(e){let n=[];for(let r=0;r<e;r++)n.push((r+1)/e);return n}generateDenoiseSamples(e,n){const r=2*Math.PI*n/e,i=1/e,s=i,o=[];let a=i,l=0;for(let u=0;u<e;u++)o.push(new ue(Math.cos(l),Math.sin(l)).multiplyScalar(Math.pow(a,.75))),a+=s,l+=r;return o}setSize(e,n){this.width=e,this.height=n;const r=this.configuration.halfRes?.5:1;this.writeTargetInternal.setSize(e*r,n*r),this.readTargetInternal.setSize(e*r,n*r),this.configuration.halfRes&&this.depthDownsampleTarget.setSize(e*r,n*r),this.outputTargetInternal.setSize(e,n)}setDepthTexture(e){this.depthTexture=e}render(e,n,r){const i=e.xr.enabled;e.xr.enabled=!1,e.capabilities.logarithmicDepthBuffer!==this.configuration.logarithmicDepthBuffer&&(this.configuration.logarithmicDepthBuffer=e.capabilities.logarithmicDepthBuffer,this.configureAOPass(this.configuration.logarithmicDepthBuffer),this.configureDenoisePass(this.configuration.logarithmicDepthBuffer),this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer)),n.texture.type!==this.outputTargetInternal.texture.type&&(this.outputTargetInternal.texture.type=n.texture.type,this.outputTargetInternal.texture.needsUpdate=!0);let s,o,a;this.debugMode&&(s=e.getContext(),o=s.getExtension("EXT_disjoint_timer_query_webgl2"),o===null&&(console.error("EXT_disjoint_timer_query_webgl2 not available, disabling debug mode."),this.debugMode=!1)),this.debugMode&&(a=s.createQuery(),s.beginQuery(o.TIME_ELAPSED_EXT,a)),this.camera.updateMatrixWorld(),this._r.set(this.width,this.height);let l=this.configuration.aoRadius;this.configuration.halfRes&&this.configuration.screenSpaceRadius&&(l*=.5),this.configuration.halfRes&&(e.setRenderTarget(this.depthDownsampleTarget),this.depthDownsampleQuad.material.uniforms.sceneDepth.value=this.depthTexture,this.depthDownsampleQuad.material.uniforms.resolution.value=this._r,this.depthDownsampleQuad.material.uniforms.near.value=this.camera.near,this.depthDownsampleQuad.material.uniforms.far.value=this.camera.far,this.depthDownsampleQuad.material.uniforms.projectionMatrixInv.value=this.camera.projectionMatrixInverse,this.depthDownsampleQuad.material.uniforms.viewMatrixInv.value=this.camera.matrixWorld,this.depthDownsampleQuad.material.uniforms.logDepth.value=this.configuration.logarithmicDepthBuffer,this.depthDownsampleQuad.render(e)),this.effectShaderQuad.material.uniforms.sceneDiffuse.value=n.texture,this.effectShaderQuad.material.uniforms.sceneDepth.value=this.configuration.halfRes?this.depthDownsampleTarget.texture[0]:this.depthTexture,this.effectShaderQuad.material.uniforms.sceneNormal.value=this.configuration.halfRes?this.depthDownsampleTarget.texture[1]:null,this.effectShaderQuad.material.uniforms.projMat.value=this.camera.projectionMatrix,this.effectShaderQuad.material.uniforms.viewMat.value=this.camera.matrixWorldInverse,this.effectShaderQuad.material.uniforms.projViewMat.value=this.camera.projectionMatrix.clone().multiply(this.camera.matrixWorldInverse.clone()),this.effectShaderQuad.material.uniforms.projectionMatrixInv.value=this.camera.projectionMatrixInverse,this.effectShaderQuad.material.uniforms.viewMatrixInv.value=this.camera.matrixWorld,this.effectShaderQuad.material.uniforms.cameraPos.value=this.camera.getWorldPosition(new X),this.effectShaderQuad.material.uniforms.resolution.value=this.configuration.halfRes?this._r.clone().multiplyScalar(.5).floor():this._r,this.effectShaderQuad.material.uniforms.time.value=performance.now()/1e3,this.effectShaderQuad.material.uniforms.samples.value=this.samples,this.effectShaderQuad.material.uniforms.samplesR.value=this.samplesR,this.effectShaderQuad.material.uniforms.bluenoise.value=this.bluenoise,this.effectShaderQuad.material.uniforms.radius.value=l,this.effectShaderQuad.material.uniforms.distanceFalloff.value=this.configuration.distanceFalloff,this.effectShaderQuad.material.uniforms.near.value=this.camera.near,this.effectShaderQuad.material.uniforms.far.value=this.camera.far,this.effectShaderQuad.material.uniforms.logDepth.value=e.capabilities.logarithmicDepthBuffer,this.effectShaderQuad.material.uniforms.ortho.value=this.camera.isOrthographicCamera,this.effectShaderQuad.material.uniforms.screenSpaceRadius.value=this.configuration.screenSpaceRadius,e.setRenderTarget(this.writeTargetInternal),this.effectShaderQuad.render(e);for(let u=0;u<this.configuration.denoiseIterations;u++)[this.writeTargetInternal,this.readTargetInternal]=[this.readTargetInternal,this.writeTargetInternal],this.poissonBlurQuad.material.uniforms.tDiffuse.value=this.readTargetInternal.texture,this.poissonBlurQuad.material.uniforms.sceneDepth.value=this.configuration.halfRes?this.depthDownsampleTarget.texture[0]:this.depthTexture,this.poissonBlurQuad.material.uniforms.projMat.value=this.camera.projectionMatrix,this.poissonBlurQuad.material.uniforms.viewMat.value=this.camera.matrixWorldInverse,this.poissonBlurQuad.material.uniforms.projectionMatrixInv.value=this.camera.projectionMatrixInverse,this.poissonBlurQuad.material.uniforms.viewMatrixInv.value=this.camera.matrixWorld,this.poissonBlurQuad.material.uniforms.cameraPos.value=this.camera.getWorldPosition(new X),this.poissonBlurQuad.material.uniforms.resolution.value=this.configuration.halfRes?this._r.clone().multiplyScalar(.5).floor():this._r,this.poissonBlurQuad.material.uniforms.time.value=performance.now()/1e3,this.poissonBlurQuad.material.uniforms.blueNoise.value=this.bluenoise,this.poissonBlurQuad.material.uniforms.radius.value=this.configuration.denoiseRadius*(this.configuration.halfRes?.5:1),this.poissonBlurQuad.material.uniforms.worldRadius.value=l,this.poissonBlurQuad.material.uniforms.distanceFalloff.value=this.configuration.distanceFalloff,this.poissonBlurQuad.material.uniforms.index.value=u,this.poissonBlurQuad.material.uniforms.poissonDisk.value=this.samplesDenoise,this.poissonBlurQuad.material.uniforms.near.value=this.camera.near,this.poissonBlurQuad.material.uniforms.far.value=this.camera.far,this.poissonBlurQuad.material.uniforms.logDepth.value=e.capabilities.logarithmicDepthBuffer,this.poissonBlurQuad.material.uniforms.screenSpaceRadius.value=this.configuration.screenSpaceRadius,e.setRenderTarget(this.writeTargetInternal),this.poissonBlurQuad.render(e);this.effectCompositerQuad.material.uniforms.sceneDiffuse.value=n.texture,this.effectCompositerQuad.material.uniforms.sceneDepth.value=this.depthTexture,this.effectCompositerQuad.material.uniforms.near.value=this.camera.near,this.effectCompositerQuad.material.uniforms.far.value=this.camera.far,this.effectCompositerQuad.material.uniforms.projectionMatrixInv.value=this.camera.projectionMatrixInverse,this.effectCompositerQuad.material.uniforms.viewMatrixInv.value=this.camera.matrixWorld,this.effectCompositerQuad.material.uniforms.logDepth.value=e.capabilities.logarithmicDepthBuffer,this.effectCompositerQuad.material.uniforms.ortho.value=this.camera.isOrthographicCamera,this.effectCompositerQuad.material.uniforms.downsampledDepth.value=this.configuration.halfRes?this.depthDownsampleTarget.texture[0]:this.depthTexture,this.effectCompositerQuad.material.uniforms.resolution.value=this._r,this.effectCompositerQuad.material.uniforms.blueNoise.value=this.bluenoise,this.effectCompositerQuad.material.uniforms.intensity.value=this.configuration.intensity,this.effectCompositerQuad.material.uniforms.renderMode.value=this.configuration.renderMode,this.effectCompositerQuad.material.uniforms.screenSpaceRadius.value=this.configuration.screenSpaceRadius,this.effectCompositerQuad.material.uniforms.radius.value=l,this.effectCompositerQuad.material.uniforms.distanceFalloff.value=this.configuration.distanceFalloff,this.effectCompositerQuad.material.uniforms.gammaCorrection.value=this.autosetGamma?this.renderToScreen:this.configuration.gammaCorrection,this.effectCompositerQuad.material.uniforms.tDiffuse.value=this.writeTargetInternal.texture,this.effectCompositerQuad.material.uniforms.color.value=this._c.copy(this.configuration.color).convertSRGBToLinear(),this.effectCompositerQuad.material.uniforms.colorMultiply.value=this.configuration.colorMultiply,this.effectCompositerQuad.material.uniforms.cameraPos.value=this.camera.getWorldPosition(new X),this.effectCompositerQuad.material.uniforms.fog.value=!!this.scene.fog,this.scene.fog&&(this.scene.fog.isFog?(this.effectCompositerQuad.material.uniforms.fogExp.value=!1,this.effectCompositerQuad.material.uniforms.fogNear.value=this.scene.fog.near,this.effectCompositerQuad.material.uniforms.fogFar.value=this.scene.fog.far):this.scene.fog.isFogExp2?(this.effectCompositerQuad.material.uniforms.fogExp.value=!0,this.effectCompositerQuad.material.uniforms.fogDensity.value=this.scene.fog.density):console.error(`Unsupported fog type ${this.scene.fog.constructor.name} in SSAOPass.`)),e.setRenderTarget(this.outputTargetInternal),this.effectCompositerQuad.render(e),e.setRenderTarget(this.renderToScreen?null:r),this.copyQuad.material.uniforms.tDiffuse.value=this.outputTargetInternal.texture,this.copyQuad.render(e),this.debugMode&&(s.endQuery(o.TIME_ELAPSED_EXT),EU(a,s,this)),e.xr.enabled=i}enableDebugMode(){this.debugMode=!0}disableDebugMode(){this.debugMode=!1}setDisplayMode(e){this.configuration.renderMode=["Combined","AO","No AO","Split","Split AO"].indexOf(e)}setQualityMode(e){e==="Performance"?(this.configuration.aoSamples=8,this.configuration.denoiseSamples=4,this.configuration.denoiseRadius=12):e==="Low"?(this.configuration.aoSamples=16,this.configuration.denoiseSamples=4,this.configuration.denoiseRadius=12):e==="Medium"?(this.configuration.aoSamples=16,this.configuration.denoiseSamples=8,this.configuration.denoiseRadius=12):e==="High"?(this.configuration.aoSamples=64,this.configuration.denoiseSamples=8,this.configuration.denoiseRadius=6):e==="Ultra"&&(this.configuration.aoSamples=64,this.configuration.denoiseSamples=16,this.configuration.denoiseRadius=6)}}Uint8Array.from(atob(wU),t=>t.charCodeAt(0));R.forwardRef(({halfRes:t,screenSpaceRadius:e,quality:n,depthAwareUpsampling:r=!0,aoRadius:i=5,aoSamples:s=16,denoiseSamples:o=4,denoiseRadius:a=12,distanceFalloff:l=1,intensity:u=1,color:c,renderMode:f=0},h)=>{const{camera:p,scene:g}=cn(),x=R.useMemo(()=>new due(g,p),[]);return R.useLayoutEffect(()=>{Yc(x.configuration,{color:c,aoRadius:i,distanceFalloff:l,intensity:u,aoSamples:s,denoiseSamples:o,denoiseRadius:a,screenSpaceRadius:e,renderMode:f,halfRes:t,depthAwareUpsampling:r})},[e,c,i,l,u,s,o,a,f,t,r]),R.useLayoutEffect(()=>{n&&x.setQualityMode(n.charAt(0).toUpperCase()+n.slice(1))},[n]),B.jsx("primitive",{ref:h,object:x})});function pue(){return B.jsx(B.Fragment,{children:B.jsx(Sle,{children:B.jsx(Tle,{mipmapBlur:!0,intensity:2,luminanceThreshold:.15})})})}function mue(t){const{nodes:e,materials:n}=ua("./models/HassenCantina.glb");return B.jsx("group",{...t,dispose:null,onPointerDown:r=>r.stopPropagation(),onPointerOver:r=>r.stopPropagation(),onPointerOut:r=>r.stopPropagation(),children:B.jsxs("group",{position:[0,10,0],scale:[20,10,20],children:[B.jsxs("group",{position:[-.393,-.71,-.607],scale:[.05,.1,.05],children:[B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cube025.geometry,material:n.CubeCrateMaterial1}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cube025_1.geometry,material:n.CubeCrateMaterial2}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cube025_2.geometry,material:n.BigCrateScreenMaterial}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cube025_3.geometry,material:n.BigCrateRedButtonMaterial}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cube025_4.geometry,material:n.BigCrateGreenButtonMaterial})]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.BigPipe.geometry,material:n.PipeMaterial,position:[-.35,-1,.8],rotation:[Math.PI/2,0,Math.PI/2],scale:[.05,.05,.1]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.BigUndergroundPipe.geometry,material:n.PipeMaterial,position:[.478,-.815,-1.194],rotation:[Math.PI/2,0,Math.PI/3],scale:[.05,.05,.1]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Bottle006.geometry,material:n.BottleMaterial,position:[0,-1,0],scale:[.05,.1,.05]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.ClassyGlass.geometry,material:n["Material.004"],position:[.383,-.437,-.266],scale:[.012,.024,.012]}),B.jsxs("group",{position:[.307,-1.391,1.006],scale:[.05,.1,.05],children:[B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cylinder004.geometry,material:n.CylinderCrateMaterial1}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cylinder004_1.geometry,material:n.CylinderCrateMaterial2})]}),B.jsxs("group",{position:[0,-1.005,0],scale:[.05,.1,.05],children:[B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cylinder008.geometry,material:n.CylinderCrateMaterial1}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cylinder008_1.geometry,material:n.CylinderCrateMaterial2})]}),B.jsxs("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Etagere.geometry,material:n["BarTopMaterial.001"],position:[.301,-.042,-.774],scale:[.05,.1,.05],children:[B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Bottle001.geometry,material:n.BottleMaterial,position:[1.373,-.451,-.033]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Bottle2.geometry,material:n.WeirdBottle,position:[.129,-1.099,-.036],scale:.645})]}),B.jsxs("group",{position:[0,-1,0],scale:[.05,.1,.05],children:[B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cube004.geometry,material:n.CratePrimaryMaterial}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cube004_1.geometry,material:n.CrateSecondaryMaterial})]}),B.jsxs("group",{position:[0,-1,0],scale:[.05,.1,.05],children:[B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cube005.geometry,material:n.CratePrimaryMaterial}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cube005_1.geometry,material:n.CrateSecondaryMaterial})]}),B.jsxs("group",{position:[0,-1,0],scale:[.05,.1,.05],children:[B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cube006.geometry,material:n.CratePrimaryMaterial}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cube006_1.geometry,material:n.CrateSecondaryMaterial})]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Glass.geometry,material:n.GlassMaterial,position:[.027,-.409,.246],scale:[.05,.1,.05]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Glass001.geometry,material:n.GlassMaterial,position:[-2.871,-.685,.451],scale:[.05,.1,.05]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.InDoorPipe.geometry,material:n.PipeMaterial,position:[-2.47,-.903,.032],rotation:[-Math.PI/2,0,0],scale:[.05,.05,.1]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.LampHolder.geometry,material:n.LampHolderMaterial,position:[0,-1,0],scale:[.05,.1,.05]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.LampHolder001.geometry,material:n.LampHolderMaterial,position:[0,-1,0],scale:[.05,.1,.05]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Line.geometry,material:n.DoorMaterial,position:[-.102,.2,.027],scale:[.05,.1,.05]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Line2.geometry,material:n.DoorMaterial,position:[-.102,.169,.013],scale:[.05,.1,.05]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Line3.geometry,material:n.DoorMaterial,position:[-.102,.126,-.012],scale:[.05,.1,.05]}),B.jsxs("group",{position:[0,-1,0],scale:[.05,.1,.05],children:[B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cube001.geometry,material:n.WallsMaterial}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cube001_1.geometry,material:n.WallsMaterial})]}),B.jsxs("group",{position:[.101,-.664,-.644],scale:[.05,.1,.05],children:[B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cube031.geometry,material:n.WallsMaterial}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cube031_1.geometry,material:n["BarTopMaterial.001"]})]}),B.jsxs("group",{position:[.51,-.748,-.599],rotation:[0,.72,0],scale:[.05,.1,.05],children:[B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.StoolDown.geometry,material:n.StoolBackMaterial,position:[-.016,1.588,.012],rotation:[0,Math.PI/2,0]}),B.jsxs("group",{position:[-.016,1.588,.012],rotation:[0,Math.PI/2,0],children:[B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cylinder009.geometry,material:n.StoolMaterial}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cylinder009_1.geometry,material:n.StoolBackMaterial})]})]}),B.jsxs("group",{position:[.003,-.75,.393],rotation:[Math.PI,-.849,Math.PI],scale:[.05,.1,.05],children:[B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.StoolDown001.geometry,material:n.StoolBackMaterial,position:[-.016,1.588,.012],rotation:[0,Math.PI/2,0]}),B.jsxs("group",{position:[-.016,1.588,.012],rotation:[0,Math.PI/2,0],children:[B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cylinder011.geometry,material:n.StoolMaterial}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cylinder011_1.geometry,material:n.StoolBackMaterial})]})]}),B.jsxs("group",{position:[.227,-.75,.312],rotation:[0,.519,0],scale:[.05,.1,.05],children:[B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.StoolDown002.geometry,material:n.StoolBackMaterial,position:[-.016,1.588,.012],rotation:[0,Math.PI/2,0]}),B.jsxs("group",{position:[-.016,1.588,.012],rotation:[0,Math.PI/2,0],children:[B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cylinder013.geometry,material:n.StoolMaterial}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cylinder013_1.geometry,material:n.StoolBackMaterial})]})]}),B.jsxs("group",{position:[.502,-.755,-.264],rotation:[0,-.004,0],scale:[.05,.1,.05],children:[B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.StoolDown003.geometry,material:n.StoolBackMaterial,position:[-.016,1.588,.012],rotation:[0,Math.PI/2,0]}),B.jsxs("group",{position:[-.016,1.588,.012],rotation:[0,Math.PI/2,0],children:[B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cylinder015.geometry,material:n.StoolMaterial}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cylinder015_1.geometry,material:n.StoolBackMaterial})]})]}),B.jsxs("group",{position:[.46,-.75,0],rotation:[0,-.281,0],scale:[.05,.1,.05],children:[B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.StoolDown004.geometry,material:n.StoolBackMaterial,position:[-.016,1.588,.012],rotation:[0,Math.PI/2,0]}),B.jsxs("group",{position:[-.016,1.588,.012],rotation:[0,Math.PI/2,0],children:[B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cylinder017.geometry,material:n.StoolMaterial}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cylinder017_1.geometry,material:n.StoolBackMaterial})]})]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.SmallGlass.geometry,material:n.GlassMaterial,position:[.37,-.44,-.587],scale:[.05,.1,.05]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.SmallGlass001.geometry,material:n.GlassMaterial,position:[.357,-.44,-.569],scale:[.05,.1,.05]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.SmallGlass002.geometry,material:n.GlassMaterial,position:[.342,-.44,-.588],scale:[.05,.1,.05]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.SmallGlass003.geometry,material:n.GlassMaterial,position:[.388,-.44,-.527],scale:[.05,.1,.05]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.SmallPipe.geometry,material:n.PipeMaterial,position:[-.332,-1,.65],rotation:[Math.PI/2,0,Math.PI/2],scale:[.05,.05,.1]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.SmallPipe001.geometry,material:n.PipeMaterial,position:[-.334,-1,.55],rotation:[Math.PI/2,0,Math.PI/2],scale:[.05,.05,.1]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.SmallPipe002.geometry,material:n.PipeMaterial,position:[-.133,-.765,.573],scale:[.05,.1,.05]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.SmallPipe1.geometry,material:n.PipeMaterial,position:[-.133,-.879,.017],scale:[.05,.1,.05]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.SmallPipe2.geometry,material:n.PipeMaterial,position:[-.133,-.879,.017],scale:[.05,.1,.05]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.SmallPipe3.geometry,material:n.PipeMaterial,position:[-.133,-.949,.146],scale:[.05,.1,.05]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.SpecialBottle.geometry,material:n.SpecialBottleMaterial,position:[.237,-.139,-.784],scale:[.05,.1,.05],children:B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cylinder.geometry,material:n["Material.005"],position:[0,1.998,.001],rotation:[-Math.PI,0,0],scale:.124})}),B.jsxs("group",{position:[0,-1,0],scale:[.05,.1,.05],children:[B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cylinder001.geometry,material:n.StreetLampMaterial1}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cylinder001_1.geometry,material:n.StreetLampMaterial2})]}),B.jsxs("group",{position:[.739,-.269,.67],scale:[.05,.1,.05],children:[B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cube015.geometry,material:n.DoorMaterial}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cube015_1.geometry,material:n.BigCrateRedButtonMaterial}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cube015_2.geometry,material:n.BigCrateGreenButtonMaterial})]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.DoorOutlines.geometry,material:n.DoorOutlineMaterial,position:[.348,-.286,.872],scale:[.05,.1,.05]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.DoorOutlines001.geometry,material:n.DoorOutlineMaterial,position:[.348,-.286,.872],scale:[.05,.1,.05]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.ElectricBox.geometry,material:n.Electric,position:[-.058,.258,.908],scale:[.05,.1,.05]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.ElectricLine.geometry,material:n.Electric,position:[.303,.262,.899],scale:[.05,.1,.05]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.ElectricLine001.geometry,material:n.Electric,position:[.297,.249,.899],scale:[.05,.1,.05]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.ElectricLine002.geometry,material:n.Electric,position:[.294,.23,.899],scale:[.05,.1,.05]}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.MainDoor.geometry,material:n.DoorMaterial,position:[.35,-.023,.849],scale:[.05,.095,.007]})]})})}ua.preload("./models/HassenCantina.glb");function XC({position:t=[0,0,0],emissiveColor:e=[0,0,1]}){return B.jsx(B.Fragment,{children:B.jsxs("mesh",{scale:.8,position:t,children:[B.jsx("sphereGeometry",{}),B.jsx("meshStandardMaterial",{emissive:"blue",emissiveIntensity:4.08,toneMapped:!1,color:[0,0,6],opacity:1}),B.jsx("pointLight",{color:[.3,.6,1],distance:50,intensity:10})]})})}function fl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bU(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.12.2
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var zs={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Xd={duration:.5,overwrite:!1,delay:0},d_,bi,ar,So=1e8,En=1/So,h9=Math.PI*2,gue=h9/4,vue=0,MU=Math.sqrt,yue=Math.cos,xue=Math.sin,ei=function(e){return typeof e=="string"},lr=function(e){return typeof e=="function"},Ol=function(e){return typeof e=="number"},p_=function(e){return typeof e>"u"},Na=function(e){return typeof e=="object"},ms=function(e){return e!==!1},m_=function(){return typeof window<"u"},eg=function(e){return lr(e)||ei(e)},TU=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Mi=Array.isArray,d9=/(?:-?\.?\d|\.)+/gi,AU=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,cd=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,W4=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,CU=/[+-]=-?[.\d]+/,RU=/[^,'"\[\]\s]+/gi,Sue=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Kn,ho,p9,g_,Ws={},Tv={},PU,DU=function(e){return(Tv=If(e,Ws))&&ys},v_=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},Av=function(e,n){return!n&&console.warn(e)},LU=function(e,n){return e&&(Ws[e]=n)&&Tv&&(Tv[e]=n)||Ws},Xm=function(){return 0},_ue={suppressEvents:!0,isStart:!0,kill:!1},Og={suppressEvents:!0,kill:!1},wue={suppressEvents:!0},y_={},zu=[],m9={},IU,Ls={},j4={},YC=30,kg=[],x_="",S_=function(e){var n=e[0],r,i;if(Na(n)||lr(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(i=kg.length;i--&&!kg[i].targetTest(n););r=kg[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new rO(e[i],r)))||e.splice(i,1);return e},xf=function(e){return e._gsap||S_(_o(e))[0]._gsap},BU=function(e,n,r){return(r=e[n])&&lr(r)?e[n]():p_(r)&&e.getAttribute&&e.getAttribute(n)||r},gs=function(e,n){return(e=e.split(",")).forEach(n)||e},gr=function(e){return Math.round(e*1e5)/1e5||0},si=function(e){return Math.round(e*1e7)/1e7||0},Ed=function(e,n){var r=n.charAt(0),i=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},Eue=function(e,n){for(var r=n.length,i=0;e.indexOf(n[i])<0&&++i<r;);return i<r},Cv=function(){var e=zu.length,n=zu.slice(0),r,i;for(m9={},zu.length=0,r=0;r<e;r++)i=n[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},FU=function(e,n,r,i){zu.length&&!bi&&Cv(),e.render(n,r,i||bi&&n<0&&(e._initted||e._startAt)),zu.length&&!bi&&Cv()},UU=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(RU).length<2?n:ei(e)?e.trim():e},OU=function(e){return e},Po=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},bue=function(e){return function(n,r){for(var i in r)i in n||i==="duration"&&e||i==="ease"||(n[i]=r[i])}},If=function(e,n){for(var r in n)e[r]=n[r];return e},KC=function t(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Na(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},Rv=function(e,n){var r={},i;for(i in e)i in n||(r[i]=e[i]);return r},sm=function(e){var n=e.parent||Kn,r=e.keyframes?bue(Mi(e.keyframes)):Po;if(ms(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},Mue=function(e,n){for(var r=e.length,i=r===n.length;i&&r--&&e[r]===n[r];);return r<0},kU=function(e,n,r,i,s){r===void 0&&(r="_first"),i===void 0&&(i="_last");var o=e[i],a;if(s)for(a=n[s];o&&o[s]>a;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[i]=n,n._prev=o,n.parent=n._dp=e,n},e6=function(e,n,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=n._prev,o=n._next;s?s._next=o:e[r]===n&&(e[r]=o),o?o._prev=s:e[i]===n&&(e[i]=s),n._next=n._prev=n.parent=null},Ju=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Sf=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},Tue=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},g9=function(e,n,r,i){return e._startAt&&(bi?e._startAt.revert(Og):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,i))},Aue=function t(e){return!e||e._ts&&t(e.parent)},JC=function(e){return e._repeat?Yd(e._tTime,e=e.duration()+e._rDelay)*e:0},Yd=function(e,n){var r=Math.floor(e/=n);return e&&r===e?r-1:r},Pv=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},t6=function(e){return e._end=si(e._start+(e._tDur/Math.abs(e._ts||e._rts||En)||0))},n6=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=si(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),t6(e),r._dirty||Sf(r,e)),e},NU=function(e,n){var r;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(r=Pv(e.rawTime(),n),(!n._dur||U1(0,n.totalDuration(),r)-n._tTime>En)&&n.render(r,!0)),Sf(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-En}},Ea=function(e,n,r,i){return n.parent&&Ju(n),n._start=si((Ol(r)?r:r||e!==Kn?co(e,r,n):e._time)+n._delay),n._end=si(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),kU(e,n,"_first","_last",e._sort?"_start":0),v9(n)||(e._recent=n),i||NU(e,n),e._ts<0&&n6(e,e._tTime),e},zU=function(e,n){return(Ws.ScrollTrigger||v_("scrollTrigger",n))&&Ws.ScrollTrigger.create(n,e)},GU=function(e,n,r,i,s){if(w_(e,n,s),!e._initted)return 1;if(!r&&e._pt&&!bi&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&IU!==Bs.frame)return zu.push(e),e._lazy=[s,i],1},Cue=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},v9=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},Rue=function(e,n,r,i){var s=e.ratio,o=n<0||!n&&(!e._start&&Cue(e)&&!(!e._initted&&v9(e))||(e._ts<0||e._dp._ts<0)&&!v9(e))?0:1,a=e._rDelay,l=0,u,c,f;if(a&&e._repeat&&(l=U1(0,e._tDur,n),c=Yd(l,a),e._yoyo&&c&1&&(o=1-o),c!==Yd(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||bi||i||e._zTime===En||!n&&e._zTime){if(!e._initted&&GU(e,n,i,r,l))return;for(f=e._zTime,e._zTime=n||(r?En:0),r||(r=n&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,u=e._pt;u;)u.r(o,u.d),u=u._next;n<0&&g9(e,n,r,!0),e._onUpdate&&!r&&wo(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&wo(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===o&&(o&&Ju(e,1),!r&&!bi&&(wo(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},Pue=function(e,n,r){var i;if(r>n)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>n)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<n)return i;i=i._prev}},Kd=function(e,n,r,i){var s=e._repeat,o=si(n)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:si(o*(s+1)+e._rDelay*s):o,a>0&&!i&&n6(e,e._tTime=e._tDur*a),e.parent&&t6(e),r||Sf(e.parent,e),e},ZC=function(e){return e instanceof as?Sf(e):Kd(e,e._dur)},Due={_start:0,endTime:Xm,totalDuration:Xm},co=function t(e,n,r){var i=e.labels,s=e._recent||Due,o=e.duration()>=So?s.endTime(!1):e._dur,a,l,u;return ei(n)&&(isNaN(n)||n in i)?(l=n.charAt(0),u=n.substr(-1)==="%",a=n.indexOf("="),l==="<"||l===">"?(a>=0&&(n=n.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(n.substr(1))||0)*(u?(a<0?s:r).totalDuration()/100:1)):a<0?(n in i||(i[n]=o),i[n]):(l=parseFloat(n.charAt(a-1)+n.substr(a+1)),u&&r&&(l=l/100*(Mi(r)?r[0]:r).totalDuration()),a>1?t(e,n.substr(0,a-1),r)+l:o+l)):n==null?o:+n},om=function(e,n,r){var i=Ol(n[1]),s=(i?2:1)+(e<2?0:1),o=n[s],a,l;if(i&&(o.duration=n[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=ms(l.vars.inherit)&&l.parent;o.immediateRender=ms(a.immediateRender),e<2?o.runBackwards=1:o.startAt=n[s-1]}return new br(n[0],o,n[s+1])},cc=function(e,n){return e||e===0?n(e):n},U1=function(e,n,r){return r<e?e:r>n?n:r},wi=function(e,n){return!ei(e)||!(n=Sue.exec(e))?"":n[1]},Lue=function(e,n,r){return cc(r,function(i){return U1(e,n,i)})},y9=[].slice,HU=function(e,n){return e&&Na(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&Na(e[0]))&&!e.nodeType&&e!==ho},Iue=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return ei(i)&&!n||HU(i,1)?(s=r).push.apply(s,_o(i)):r.push(i)})||r},_o=function(e,n,r){return ar&&!n&&ar.selector?ar.selector(e):ei(e)&&!r&&(p9||!Jd())?y9.call((n||g_).querySelectorAll(e),0):Mi(e)?Iue(e,r):HU(e)?y9.call(e,0):e?[e]:[]},x9=function(e){return e=_o(e)[0]||Av("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return _o(n,r.querySelectorAll?r:r===e?Av("Invalid scope")||g_.createElement("div"):e)}},VU=function(e){return e.sort(function(){return .5-Math.random()})},WU=function(e){if(lr(e))return e;var n=Na(e)?e:{each:e},r=_f(n.ease),i=n.from||0,s=parseFloat(n.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,u=n.axis,c=i,f=i;return ei(i)?c=f={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(c=i[0],f=i[1]),function(h,p,g){var x=(g||n).length,y=o[x],v,S,_,E,b,T,A,D,C;if(!y){if(C=n.grid==="auto"?0:(n.grid||[1,So])[1],!C){for(A=-So;A<(A=g[C++].getBoundingClientRect().left)&&C<x;);C--}for(y=o[x]=[],v=l?Math.min(C,x)*c-.5:i%C,S=C===So?0:l?x*f/C-.5:i/C|0,A=0,D=So,T=0;T<x;T++)_=T%C-v,E=S-(T/C|0),y[T]=b=u?Math.abs(u==="y"?E:_):MU(_*_+E*E),b>A&&(A=b),b<D&&(D=b);i==="random"&&VU(y),y.max=A-D,y.min=D,y.v=x=(parseFloat(n.amount)||parseFloat(n.each)*(C>x?x-1:u?u==="y"?x/C:C:Math.max(C,x/C))||0)*(i==="edges"?-1:1),y.b=x<0?s-x:s,y.u=wi(n.amount||n.each)||0,r=r&&x<0?eO(r):r}return x=(y[h]-y.min)/y.max||0,si(y.b+(r?r(x):x)*y.v)+y.u}},S9=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=si(Math.round(parseFloat(r)/e)*e*n);return(i-i%1)/n+(Ol(r)?0:wi(r))}},jU=function(e,n){var r=Mi(e),i,s;return!r&&Na(e)&&(i=r=e.radius||So,e.values?(e=_o(e.values),(s=!Ol(e[0]))&&(i*=i)):e=S9(e.increment)),cc(n,r?lr(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),u=So,c=0,f=e.length,h,p;f--;)s?(h=e[f].x-a,p=e[f].y-l,h=h*h+p*p):h=Math.abs(e[f]-a),h<u&&(u=h,c=f);return c=!i||u<=i?e[c]:o,s||c===o||Ol(o)?c:c+wi(o)}:S9(e))},XU=function(e,n,r,i){return cc(Mi(e)?!n:r===!0?!!(r=0):!i,function(){return Mi(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*i)/i})},Bue=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduce(function(s,o){return o(s)},i)}},Fue=function(e,n){return function(r){return e(parseFloat(r))+(n||wi(r))}},Uue=function(e,n,r){return KU(e,n,0,1,r)},YU=function(e,n,r){return cc(r,function(i){return e[~~n(i)]})},Oue=function t(e,n,r){var i=n-e;return Mi(e)?YU(e,t(0,e.length),n):cc(r,function(s){return(i+(s-e)%i)%i+e})},kue=function t(e,n,r){var i=n-e,s=i*2;return Mi(e)?YU(e,t(0,e.length-1),n):cc(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},Ym=function(e){for(var n=0,r="",i,s,o,a;~(i=e.indexOf("random(",n));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?RU:d9),r+=e.substr(n,i-n)+XU(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),n=o+1;return r+e.substr(n,e.length-n)},KU=function(e,n,r,i,s){var o=n-e,a=i-r;return cc(s,function(l){return r+((l-e)/o*a||0)})},Nue=function t(e,n,r,i){var s=isNaN(e+n)?0:function(p){return(1-p)*e+p*n};if(!s){var o=ei(e),a={},l,u,c,f,h;if(r===!0&&(i=1)&&(r=null),o)e={p:e},n={p:n};else if(Mi(e)&&!Mi(n)){for(c=[],f=e.length,h=f-2,u=1;u<f;u++)c.push(t(e[u-1],e[u]));f--,s=function(g){g*=f;var x=Math.min(h,~~g);return c[x](g-x)},r=n}else i||(e=If(Mi(e)?[]:{},e));if(!c){for(l in n)__.call(a,e,l,"get",n[l]);s=function(g){return M_(g,a)||(o?e.p:e)}}}return cc(r,s)},QC=function(e,n,r){var i=e.labels,s=So,o,a,l;for(o in i)a=i[o]-n,a<0==!!r&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},wo=function(e,n,r){var i=e.vars,s=i[n],o=ar,a=e._ctx,l,u,c;if(s)return l=i[n+"Params"],u=i.callbackScope||e,r&&zu.length&&Cv(),a&&(ar=a),c=l?s.apply(u,l):s.call(u),ar=o,c},k0=function(e){return Ju(e),e.scrollTrigger&&e.scrollTrigger.kill(!!bi),e.progress()<1&&wo(e,"onInterrupt"),e},fd,JU=[],ZU=function(e){if(m_()&&e){e=!e.name&&e.default||e;var n=e.name,r=lr(e),i=n&&!r&&e.init?function(){this._props=[]}:e,s={init:Xm,render:M_,add:__,kill:tce,modifier:ece,rawVars:0},o={targetTest:0,get:0,getSetter:b_,aliases:{},register:0};if(Jd(),e!==i){if(Ls[n])return;Po(i,Po(Rv(e,s),o)),If(i.prototype,If(s,Rv(e,o))),Ls[i.prop=n]=i,e.targetTest&&(kg.push(i),y_[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}LU(n,i),e.register&&e.register(ys,i,vs)}else e&&JU.push(e)},wn=255,N0={aqua:[0,wn,wn],lime:[0,wn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,wn],navy:[0,0,128],white:[wn,wn,wn],olive:[128,128,0],yellow:[wn,wn,0],orange:[wn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[wn,0,0],pink:[wn,192,203],cyan:[0,wn,wn],transparent:[wn,wn,wn,0]},X4=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*wn+.5|0},QU=function(e,n,r){var i=e?Ol(e)?[e>>16,e>>8&wn,e&wn]:0:N0.black,s,o,a,l,u,c,f,h,p,g;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),N0[e])i=N0[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&wn,i&wn,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&wn,e&wn]}else if(e.substr(0,3)==="hsl"){if(i=g=e.match(d9),!n)l=+i[0]%360/360,u=+i[1]/100,c=+i[2]/100,o=c<=.5?c*(u+1):c+u-c*u,s=c*2-o,i.length>3&&(i[3]*=1),i[0]=X4(l+1/3,s,o),i[1]=X4(l,s,o),i[2]=X4(l-1/3,s,o);else if(~e.indexOf("="))return i=e.match(AU),r&&i.length<4&&(i[3]=1),i}else i=e.match(d9)||N0.transparent;i=i.map(Number)}return n&&!g&&(s=i[0]/wn,o=i[1]/wn,a=i[2]/wn,f=Math.max(s,o,a),h=Math.min(s,o,a),c=(f+h)/2,f===h?l=u=0:(p=f-h,u=c>.5?p/(2-f-h):p/(f+h),l=f===s?(o-a)/p+(o<a?6:0):f===o?(a-s)/p+2:(s-o)/p+4,l*=60),i[0]=~~(l+.5),i[1]=~~(u*100+.5),i[2]=~~(c*100+.5)),r&&i.length<4&&(i[3]=1),i},qU=function(e){var n=[],r=[],i=-1;return e.split(Gu).forEach(function(s){var o=s.match(cd)||[];n.push.apply(n,o),r.push(i+=o.length+1)}),n.c=r,n},qC=function(e,n,r){var i="",s=(e+i).match(Gu),o=n?"hsla(":"rgba(",a=0,l,u,c,f;if(!s)return e;if(s=s.map(function(h){return(h=QU(h,n,1))&&o+(n?h[0]+","+h[1]+"%,"+h[2]+"%,"+h[3]:h.join(","))+")"}),r&&(c=qU(e),l=r.c,l.join(i)!==c.c.join(i)))for(u=e.replace(Gu,"1").split(cd),f=u.length-1;a<f;a++)i+=u[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(c.length?c:s.length?s:r).shift());if(!u)for(u=e.split(Gu),f=u.length-1;a<f;a++)i+=u[a]+s[a];return i+u[f]},Gu=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in N0)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),zue=/hsl[a]?\(/,$U=function(e){var n=e.join(" "),r;if(Gu.lastIndex=0,Gu.test(n))return r=zue.test(n),e[1]=qC(e[1],r),e[0]=qC(e[0],r,qU(e[1])),!0},Km,Bs=function(){var t=Date.now,e=500,n=33,r=t(),i=r,s=1e3/240,o=s,a=[],l,u,c,f,h,p,g=function x(y){var v=t()-i,S=y===!0,_,E,b,T;if(v>e&&(r+=v-n),i+=v,b=i-r,_=b-o,(_>0||S)&&(T=++f.frame,h=b-f.time*1e3,f.time=b=b/1e3,o+=_+(_>=s?4:s-_),E=1),S||(l=u(x)),E)for(p=0;p<a.length;p++)a[p](b,h,T,y)};return f={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(y){return h/(1e3/(y||60))},wake:function(){PU&&(!p9&&m_()&&(ho=p9=window,g_=ho.document||{},Ws.gsap=ys,(ho.gsapVersions||(ho.gsapVersions=[])).push(ys.version),DU(Tv||ho.GreenSockGlobals||!ho.gsap&&ho||{}),c=ho.requestAnimationFrame,JU.forEach(ZU)),l&&f.sleep(),u=c||function(y){return setTimeout(y,o-f.time*1e3+1|0)},Km=1,g(2))},sleep:function(){(c?ho.cancelAnimationFrame:clearTimeout)(l),Km=0,u=Xm},lagSmoothing:function(y,v){e=y||1/0,n=Math.min(v||33,e)},fps:function(y){s=1e3/(y||240),o=f.time*1e3+s},add:function(y,v,S){var _=v?function(E,b,T,A){y(E,b,T,A),f.remove(_)}:y;return f.remove(y),a[S?"unshift":"push"](_),Jd(),_},remove:function(y,v){~(v=a.indexOf(y))&&a.splice(v,1)&&p>=v&&p--},_listeners:a},f}(),Jd=function(){return!Km&&Bs.wake()},en={},Gue=/^[\d.\-M][\d.\-,\s]/,Hue=/["']/g,Vue=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,a,l,u;s<o;s++)l=r[s],a=s!==o-1?l.lastIndexOf(","):l.length,u=l.substr(0,a),n[i]=isNaN(u)?u.replace(Hue,"").trim():+u,i=l.substr(a+1).trim();return n},Wue=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",n);return e.substring(n,~i&&i<r?e.indexOf(")",r+1):r)},jue=function(e){var n=(e+"").split("("),r=en[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[Vue(n[1])]:Wue(e).split(",").map(UU)):en._CE&&Gue.test(e)?en._CE("",e):r},eO=function(e){return function(n){return 1-e(1-n)}},tO=function t(e,n){for(var r=e._first,i;r;)r instanceof as?t(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?t(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},_f=function(e,n){return e&&(lr(e)?e:en[e]||jue(e))||n},Wf=function(e,n,r,i){r===void 0&&(r=function(l){return 1-n(1-l)}),i===void 0&&(i=function(l){return l<.5?n(l*2)/2:1-n((1-l)*2)/2});var s={easeIn:n,easeOut:r,easeInOut:i},o;return gs(e,function(a){en[a]=Ws[a]=s,en[o=a.toLowerCase()]=r;for(var l in s)en[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=en[a+"."+l]=s[l]}),s},nO=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},Y4=function t(e,n,r){var i=n>=1?n:1,s=(r||(e?.3:.45))/(n<1?n:1),o=s/h9*(Math.asin(1/i)||0),a=function(c){return c===1?1:i*Math.pow(2,-10*c)*xue((c-o)*s)+1},l=e==="out"?a:e==="in"?function(u){return 1-a(1-u)}:nO(a);return s=h9/s,l.config=function(u,c){return t(e,u,c)},l},K4=function t(e,n){n===void 0&&(n=1.70158);var r=function(o){return o?--o*o*((n+1)*o+n)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:nO(r);return i.config=function(s){return t(e,s)},i};gs("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;Wf(t+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});en.Linear.easeNone=en.none=en.Linear.easeIn;Wf("Elastic",Y4("in"),Y4("out"),Y4());(function(t,e){var n=1/e,r=2*n,i=2.5*n,s=function(a){return a<n?t*a*a:a<r?t*Math.pow(a-1.5/e,2)+.75:a<i?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};Wf("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Wf("Expo",function(t){return t?Math.pow(2,10*(t-1)):0});Wf("Circ",function(t){return-(MU(1-t*t)-1)});Wf("Sine",function(t){return t===1?1:-yue(t*gue)+1});Wf("Back",K4("in"),K4("out"),K4());en.SteppedEase=en.steps=Ws.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,i=e+(n?0:1),s=n?1:0,o=1-En;return function(a){return((i*U1(0,o,a)|0)+s)*r}}};Xd.ease=en["quad.out"];gs("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return x_+=t+","+t+"Params,"});var rO=function(e,n){this.id=vue++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:BU,this.set=n?n.getSetter:b_},Jm=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,Kd(this,+n.duration,1,1),this.data=n.data,ar&&(this._ctx=ar,ar.data.push(this)),Km||Bs.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,Kd(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(Jd(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(n6(this,r),!s._dp||s.parent||NU(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Ea(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===En||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),FU(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+JC(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+JC(this),i):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?Yd(this._tTime,s)+1:1},e.timeScale=function(r){if(!arguments.length)return this._rts===-En?0:this._rts;if(this._rts===r)return this;var i=this.parent&&this._ts?Pv(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-En?0:this._rts,this.totalTime(U1(-Math.abs(this._delay),this._tDur,i),!0),t6(this),Tue(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Jd(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==En&&(this._tTime-=En)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Ea(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(ms(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Pv(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=wue);var i=bi;return bi=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),bi=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(i._ts||1),i=i._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,ZC(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,ZC(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(co(this,r),ms(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,ms(i))},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-En:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-En,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-En)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=lr(r)?r:OU,a=function(){var u=i.then;i.then=null,lr(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=u),s(o),i.then=u};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){k0(this)},t}();Po(Jm.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-En,_prom:0,_ps:!1,_rts:1});var as=function(t){bU(e,t);function e(r,i){var s;return r===void 0&&(r={}),s=t.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=ms(r.sortChildren),Kn&&Ea(r.parent||Kn,fl(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&zU(fl(s),r.scrollTrigger),s}var n=e.prototype;return n.to=function(i,s,o){return om(0,arguments,this),this},n.from=function(i,s,o){return om(1,arguments,this),this},n.fromTo=function(i,s,o,a){return om(2,arguments,this),this},n.set=function(i,s,o){return s.duration=0,s.parent=this,sm(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new br(i,s,co(this,o),1),this},n.call=function(i,s,o){return Ea(this,br.delayedCall(0,i,s),o)},n.staggerTo=function(i,s,o,a,l,u,c){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=u,o.onCompleteParams=c,o.parent=this,new br(i,o,co(this,l)),this},n.staggerFrom=function(i,s,o,a,l,u,c){return o.runBackwards=1,sm(o).immediateRender=ms(o.immediateRender),this.staggerTo(i,s,o,a,l,u,c)},n.staggerFromTo=function(i,s,o,a,l,u,c,f){return a.startAt=o,sm(a).immediateRender=ms(a.immediateRender),this.staggerTo(i,s,a,l,u,c,f)},n.render=function(i,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,c=i<=0?0:si(i),f=this._zTime<0!=i<0&&(this._initted||!u),h,p,g,x,y,v,S,_,E,b,T,A;if(this!==Kn&&c>l&&i>=0&&(c=l),c!==this._tTime||o||f){if(a!==this._time&&u&&(c+=this._time-a,i+=this._time-a),h=c,E=this._start,_=this._ts,v=!_,f&&(u||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(T=this._yoyo,y=u+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(y*100+i,s,o);if(h=si(c%y),c===l?(x=this._repeat,h=u):(x=~~(c/y),x&&x===c/y&&(h=u,x--),h>u&&(h=u)),b=Yd(this._tTime,y),!a&&this._tTime&&b!==x&&this._tTime-b*y-this._dur<=0&&(b=x),T&&x&1&&(h=u-h,A=1),x!==b&&!this._lock){var D=T&&b&1,C=D===(T&&x&1);if(x<b&&(D=!D),a=D?0:c%u?u:c,this._lock=1,this.render(a||(A?0:si(x*y)),s,!u)._lock=0,this._tTime=c,!s&&this.parent&&wo(this,"onRepeat"),this.vars.repeatRefresh&&!A&&(this.invalidate()._lock=1),a&&a!==this._time||v!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,C&&(this._lock=2,a=D?u:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!A&&this.invalidate()),this._lock=0,!this._ts&&!v)return this;tO(this,A)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(S=Pue(this,si(a),si(h)),S&&(c-=h-(h=S._start))),this._tTime=c,this._time=h,this._act=!_,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&h&&!s&&!x&&(wo(this,"onStart"),this._tTime!==c))return this;if(h>=a&&i>=0)for(p=this._first;p;){if(g=p._next,(p._act||h>=p._start)&&p._ts&&S!==p){if(p.parent!==this)return this.render(i,s,o);if(p.render(p._ts>0?(h-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(h-p._start)*p._ts,s,o),h!==this._time||!this._ts&&!v){S=0,g&&(c+=this._zTime=-En);break}}p=g}else{p=this._last;for(var L=i<0?i:h;p;){if(g=p._prev,(p._act||L<=p._end)&&p._ts&&S!==p){if(p.parent!==this)return this.render(i,s,o);if(p.render(p._ts>0?(L-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(L-p._start)*p._ts,s,o||bi&&(p._initted||p._startAt)),h!==this._time||!this._ts&&!v){S=0,g&&(c+=this._zTime=L?-En:En);break}}p=g}}if(S&&!s&&(this.pause(),S.render(h>=a?0:-En)._zTime=h>=a?1:-1,this._ts))return this._start=E,t6(this),this.render(i,s,o);this._onUpdate&&!s&&wo(this,"onUpdate",!0),(c===l&&this._tTime>=this.totalDuration()||!c&&a)&&(E===this._start||Math.abs(_)!==Math.abs(this._ts))&&(this._lock||((i||!u)&&(c===l&&this._ts>0||!c&&this._ts<0)&&Ju(this,1),!s&&!(i<0&&!a)&&(c||a||!l)&&(wo(this,c===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<l&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(i,s){var o=this;if(Ol(s)||(s=co(this,s,i)),!(i instanceof Jm)){if(Mi(i))return i.forEach(function(a){return o.add(a,s)}),this;if(ei(i))return this.addLabel(i,s);if(lr(i))i=br.delayedCall(0,i);else return this}return this!==i?Ea(this,i,s):this},n.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-So);for(var l=[],u=this._first;u;)u._start>=a&&(u instanceof br?s&&l.push(u):(o&&l.push(u),i&&l.push.apply(l,u.getChildren(!0,s,o)))),u=u._next;return l},n.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},n.remove=function(i){return ei(i)?this.removeLabel(i):lr(i)?this.killTweensOf(i):(e6(this,i),i===this._recent&&(this._recent=this._last),Sf(this))},n.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=si(Bs.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},n.addLabel=function(i,s){return this.labels[i]=co(this,s),this},n.removeLabel=function(i){return delete this.labels[i],this},n.addPause=function(i,s,o){var a=br.delayedCall(0,s||Xm,o);return a.data="isPause",this._hasPause=1,Ea(this,a,co(this,i))},n.removePause=function(i){var s=this._first;for(i=co(this,i);s;)s._start===i&&s.data==="isPause"&&Ju(s),s=s._next},n.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)Au!==a[l]&&a[l].kill(i,s);return this},n.getTweensOf=function(i,s){for(var o=[],a=_o(i),l=this._first,u=Ol(s),c;l;)l instanceof br?Eue(l._targets,a)&&(u?(!Au||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(c=l.getTweensOf(a,s)).length&&o.push.apply(o,c),l=l._next;return o},n.tweenTo=function(i,s){s=s||{};var o=this,a=co(o,i),l=s,u=l.startAt,c=l.onStart,f=l.onStartParams,h=l.immediateRender,p,g=br.to(o,Po({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale())||En,onStart:function(){if(o.pause(),!p){var y=s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale());g._dur!==y&&Kd(g,y,0,1).render(g._time,!0,!0),p=1}c&&c.apply(g,f||[])}},s));return h?g.render(0):g},n.tweenFromTo=function(i,s,o){return this.tweenTo(s,Po({startAt:{time:co(this,i)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(i){return i===void 0&&(i=this._time),QC(this,co(this,i))},n.previousLabel=function(i){return i===void 0&&(i=this._time),QC(this,co(this,i),1)},n.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+En)},n.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,u;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(u in l)l[u]>=o&&(l[u]+=i);return Sf(this)},n.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return t.prototype.invalidate.call(this,i)},n.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Sf(this)},n.totalDuration=function(i){var s=0,o=this,a=o._last,l=So,u,c,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(f=o.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),c=a._start,c>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Ea(o,a,c-a._delay,1)._lock=0):l=c,c<0&&a._ts&&(s-=c,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=c/o._ts,o._time-=c,o._tTime-=c),o.shiftChildren(-c,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=u;Kd(o,o===Kn&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(Kn._ts&&(FU(Kn,Pv(i,Kn)),IU=Bs.frame),Bs.frame>=YC){YC+=zs.autoSleep||120;var s=Kn._first;if((!s||!s._ts)&&zs.autoSleep&&Bs._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Bs.sleep()}}},e}(Jm);Po(as.prototype,{_lock:0,_hasPause:0,_forcing:0});var Xue=function(e,n,r,i,s,o,a){var l=new vs(this._pt,e,n,0,1,uO,null,s),u=0,c=0,f,h,p,g,x,y,v,S;for(l.b=r,l.e=i,r+="",i+="",(v=~i.indexOf("random("))&&(i=Ym(i)),o&&(S=[r,i],o(S,e,n),r=S[0],i=S[1]),h=r.match(W4)||[];f=W4.exec(i);)g=f[0],x=i.substring(u,f.index),p?p=(p+1)%5:x.substr(-5)==="rgba("&&(p=1),g!==h[c++]&&(y=parseFloat(h[c-1])||0,l._pt={_next:l._pt,p:x||c===1?x:",",s:y,c:g.charAt(1)==="="?Ed(y,g)-y:parseFloat(g)-y,m:p&&p<4?Math.round:0},u=W4.lastIndex);return l.c=u<i.length?i.substring(u,i.length):"",l.fp=a,(CU.test(i)||v)&&(l.e=0),this._pt=l,l},__=function(e,n,r,i,s,o,a,l,u,c){lr(i)&&(i=i(s||0,e,o));var f=e[n],h=r!=="get"?r:lr(f)?u?e[n.indexOf("set")||!lr(e["get"+n.substr(3)])?n:"get"+n.substr(3)](u):e[n]():f,p=lr(f)?u?Que:aO:E_,g;if(ei(i)&&(~i.indexOf("random(")&&(i=Ym(i)),i.charAt(1)==="="&&(g=Ed(h,i)+(wi(h)||0),(g||g===0)&&(i=g))),!c||h!==i||_9)return!isNaN(h*i)&&i!==""?(g=new vs(this._pt,e,n,+h||0,i-(h||0),typeof f=="boolean"?$ue:lO,0,p),u&&(g.fp=u),a&&g.modifier(a,this,e),this._pt=g):(!f&&!(n in e)&&v_(n,i),Xue.call(this,e,n,h,i,p,l||zs.stringFilter,u))},Yue=function(e,n,r,i,s){if(lr(e)&&(e=am(e,s,n,r,i)),!Na(e)||e.style&&e.nodeType||Mi(e)||TU(e))return ei(e)?am(e,s,n,r,i):e;var o={},a;for(a in e)o[a]=am(e[a],s,n,r,i);return o},iO=function(e,n,r,i,s,o){var a,l,u,c;if(Ls[e]&&(a=new Ls[e]).init(s,a.rawVars?n[e]:Yue(n[e],i,s,o,r),r,i,o)!==!1&&(r._pt=l=new vs(r._pt,s,e,0,1,a.render,a,0,a.priority),r!==fd))for(u=r._ptLookup[r._targets.indexOf(s)],c=a._props.length;c--;)u[a._props[c]]=l;return a},Au,_9,w_=function t(e,n,r){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,u=i.onUpdate,c=i.onUpdateParams,f=i.callbackScope,h=i.runBackwards,p=i.yoyoEase,g=i.keyframes,x=i.autoRevert,y=e._dur,v=e._startAt,S=e._targets,_=e.parent,E=_&&_.data==="nested"?_.vars.targets:S,b=e._overwrite==="auto"&&!d_,T=e.timeline,A,D,C,L,k,z,H,V,K,J,$,U,G;if(T&&(!g||!s)&&(s="none"),e._ease=_f(s,Xd.ease),e._yEase=p?eO(_f(p===!0?s:p,Xd.ease)):0,p&&e._yoyo&&!e._repeat&&(p=e._yEase,e._yEase=e._ease,e._ease=p),e._from=!T&&!!i.runBackwards,!T||g&&!i.stagger){if(V=S[0]?xf(S[0]).harness:0,U=V&&i[V.prop],A=Rv(i,y_),v&&(v._zTime<0&&v.progress(1),n<0&&h&&a&&!x?v.render(-1,!0):v.revert(h&&y?Og:_ue),v._lazy=0),o){if(Ju(e._startAt=br.set(S,Po({data:"isStart",overwrite:!1,parent:_,immediateRender:!0,lazy:!v&&ms(l),startAt:null,delay:0,onUpdate:u,onUpdateParams:c,callbackScope:f,stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(bi||!a&&!x)&&e._startAt.revert(Og),a&&y&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(h&&y&&!v){if(n&&(a=!1),C=Po({overwrite:!1,data:"isFromStart",lazy:a&&!v&&ms(l),immediateRender:a,stagger:0,parent:_},A),U&&(C[V.prop]=U),Ju(e._startAt=br.set(S,C)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(bi?e._startAt.revert(Og):e._startAt.render(-1,!0)),e._zTime=n,!a)t(e._startAt,En,En);else if(!n)return}for(e._pt=e._ptCache=0,l=y&&ms(l)||l&&!y,D=0;D<S.length;D++){if(k=S[D],H=k._gsap||S_(S)[D]._gsap,e._ptLookup[D]=J={},m9[H.id]&&zu.length&&Cv(),$=E===S?D:E.indexOf(k),V&&(K=new V).init(k,U||A,e,$,E)!==!1&&(e._pt=L=new vs(e._pt,k,K.name,0,1,K.render,K,0,K.priority),K._props.forEach(function(W){J[W]=L}),K.priority&&(z=1)),!V||U)for(C in A)Ls[C]&&(K=iO(C,A,e,$,k,E))?K.priority&&(z=1):J[C]=L=__.call(e,k,C,"get",A[C],$,E,0,i.stringFilter);e._op&&e._op[D]&&e.kill(k,e._op[D]),b&&e._pt&&(Au=e,Kn.killTweensOf(k,J,e.globalTime(n)),G=!e.parent,Au=0),e._pt&&l&&(m9[H.id]=1)}z&&cO(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!G,g&&n<=0&&T.render(So,!0,!0)},Kue=function(e,n,r,i,s,o,a){var l=(e._pt&&e._ptCache||(e._ptCache={}))[n],u,c,f,h;if(!l)for(l=e._ptCache[n]=[],f=e._ptLookup,h=e._targets.length;h--;){if(u=f[h][n],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==n&&u.fp!==n;)u=u._next;if(!u)return _9=1,e.vars[n]="+=0",w_(e,a),_9=0,1;l.push(u)}for(h=l.length;h--;)c=l[h],u=c._pt||c,u.s=(i||i===0)&&!s?i:u.s+(i||0)+o*u.c,u.c=r-u.s,c.e&&(c.e=gr(r)+wi(c.e)),c.b&&(c.b=u.s+wi(c.b))},Jue=function(e,n){var r=e[0]?xf(e[0]).harness:0,i=r&&r.aliases,s,o,a,l;if(!i)return n;s=If({},n);for(o in i)if(o in s)for(l=i[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},Zue=function(e,n,r,i){var s=n.ease||i||"power1.inOut",o,a;if(Mi(n))a=r[e]||(r[e]=[]),n.forEach(function(l,u){return a.push({t:u/(n.length-1)*100,v:l,e:s})});else for(o in n)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:n[o],e:s})},am=function(e,n,r,i,s){return lr(e)?e.call(n,r,i,s):ei(e)&&~e.indexOf("random(")?Ym(e):e},sO=x_+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",oO={};gs(sO+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return oO[t]=1});var br=function(t){bU(e,t);function e(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=t.call(this,o?i:sm(i))||this;var l=a.vars,u=l.duration,c=l.delay,f=l.immediateRender,h=l.stagger,p=l.overwrite,g=l.keyframes,x=l.defaults,y=l.scrollTrigger,v=l.yoyoEase,S=i.parent||Kn,_=(Mi(r)||TU(r)?Ol(r[0]):"length"in i)?[r]:_o(r),E,b,T,A,D,C,L,k;if(a._targets=_.length?S_(_):Av("GSAP target "+r+" not found. https://greensock.com",!zs.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=p,g||h||eg(u)||eg(c)){if(i=a.vars,E=a.timeline=new as({data:"nested",defaults:x||{},targets:S&&S.data==="nested"?S.vars.targets:_}),E.kill(),E.parent=E._dp=fl(a),E._start=0,h||eg(u)||eg(c)){if(A=_.length,L=h&&WU(h),Na(h))for(D in h)~sO.indexOf(D)&&(k||(k={}),k[D]=h[D]);for(b=0;b<A;b++)T=Rv(i,oO),T.stagger=0,v&&(T.yoyoEase=v),k&&If(T,k),C=_[b],T.duration=+am(u,fl(a),b,C,_),T.delay=(+am(c,fl(a),b,C,_)||0)-a._delay,!h&&A===1&&T.delay&&(a._delay=c=T.delay,a._start+=c,T.delay=0),E.to(C,T,L?L(b,C,_):0),E._ease=en.none;E.duration()?u=c=0:a.timeline=0}else if(g){sm(Po(E.vars.defaults,{ease:"none"})),E._ease=_f(g.ease||i.ease||"none");var z=0,H,V,K;if(Mi(g))g.forEach(function(J){return E.to(_,J,">")}),E.duration();else{T={};for(D in g)D==="ease"||D==="easeEach"||Zue(D,g[D],T,g.easeEach);for(D in T)for(H=T[D].sort(function(J,$){return J.t-$.t}),z=0,b=0;b<H.length;b++)V=H[b],K={ease:V.e,duration:(V.t-(b?H[b-1].t:0))/100*u},K[D]=V.v,E.to(_,K,z),z+=K.duration;E.duration()<u&&E.to({},{duration:u-E.duration()})}}u||a.duration(u=E.duration())}else a.timeline=0;return p===!0&&!d_&&(Au=fl(a),Kn.killTweensOf(_),Au=0),Ea(S,fl(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(f||!u&&!g&&a._start===si(S._time)&&ms(f)&&Aue(fl(a))&&S.data!=="nested")&&(a._tTime=-En,a.render(Math.max(0,-c)||0)),y&&zU(fl(a),y),a}var n=e.prototype;return n.render=function(i,s,o){var a=this._time,l=this._tDur,u=this._dur,c=i<0,f=i>l-En&&!c?l:i<En?0:i,h,p,g,x,y,v,S,_,E;if(!u)Rue(this,i,s,o);else if(f!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==c){if(h=f,_=this.timeline,this._repeat){if(x=u+this._rDelay,this._repeat<-1&&c)return this.totalTime(x*100+i,s,o);if(h=si(f%x),f===l?(g=this._repeat,h=u):(g=~~(f/x),g&&g===f/x&&(h=u,g--),h>u&&(h=u)),v=this._yoyo&&g&1,v&&(E=this._yEase,h=u-h),y=Yd(this._tTime,x),h===a&&!o&&this._initted)return this._tTime=f,this;g!==y&&(_&&this._yEase&&tO(_,v),this.vars.repeatRefresh&&!v&&!this._lock&&(this._lock=o=1,this.render(si(x*g),!0).invalidate()._lock=0))}if(!this._initted){if(GU(this,c?i:h,o,s,f))return this._tTime=0,this;if(a!==this._time)return this;if(u!==this._dur)return this.render(i,s,o)}if(this._tTime=f,this._time=h,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=S=(E||this._ease)(h/u),this._from&&(this.ratio=S=1-S),h&&!a&&!s&&!g&&(wo(this,"onStart"),this._tTime!==f))return this;for(p=this._pt;p;)p.r(S,p.d),p=p._next;_&&_.render(i<0?i:!h&&v?-En:_._dur*_._ease(h/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(c&&g9(this,i,s,o),wo(this,"onUpdate")),this._repeat&&g!==y&&this.vars.onRepeat&&!s&&this.parent&&wo(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(c&&!this._onUpdate&&g9(this,i,!0,!0),(i||!u)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&Ju(this,1),!s&&!(c&&!a)&&(f||a||v)&&(wo(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},n.resetTo=function(i,s,o,a){Km||Bs.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||w_(this,l),u=this._ease(l/this._dur),Kue(this,i,s,o,a,u,l)?this.resetTo(i,s,o,a):(n6(this,0),this.parent||kU(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?k0(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,Au&&Au.vars.overwrite!==!0)._first||k0(this),this.parent&&o!==this.timeline.totalDuration()&&Kd(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?_o(i):a,u=this._ptLookup,c=this._pt,f,h,p,g,x,y,v;if((!s||s==="all")&&Mue(a,l))return s==="all"&&(this._pt=0),k0(this);for(f=this._op=this._op||[],s!=="all"&&(ei(s)&&(x={},gs(s,function(S){return x[S]=1}),s=x),s=Jue(a,s)),v=a.length;v--;)if(~l.indexOf(a[v])){h=u[v],s==="all"?(f[v]=s,g=h,p={}):(p=f[v]=f[v]||{},g=s);for(x in g)y=h&&h[x],y&&((!("kill"in y.d)||y.d.kill(x)===!0)&&e6(this,y,"_pt"),delete h[x]),p!=="all"&&(p[x]=1)}return this._initted&&!this._pt&&c&&k0(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return om(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return om(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return Kn.killTweensOf(i,s,o)},e}(Jm);Po(br.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});gs("staggerTo,staggerFrom,staggerFromTo",function(t){br[t]=function(){var e=new as,n=y9.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var E_=function(e,n,r){return e[n]=r},aO=function(e,n,r){return e[n](r)},Que=function(e,n,r,i){return e[n](i.fp,r)},que=function(e,n,r){return e.setAttribute(n,r)},b_=function(e,n){return lr(e[n])?aO:p_(e[n])&&e.setAttribute?que:E_},lO=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},$ue=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},uO=function(e,n){var r=n._pt,i="";if(!e&&n.b)i=n.b;else if(e===1&&n.e)i=n.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=n.c}n.set(n.t,n.p,i,n)},M_=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},ece=function(e,n,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,n,r),s=o},tce=function(e){for(var n=this._pt,r,i;n;)i=n._next,n.p===e&&!n.op||n.op===e?e6(this,n,"_pt"):n.dep||(r=1),n=i;return!r},nce=function(e,n,r,i){i.mSet(e,n,i.m.call(i.tween,r,i.mt),i)},cO=function(e){for(var n=e._pt,r,i,s,o;n;){for(r=n._next,i=s;i&&i.pr>n.pr;)i=i._next;(n._prev=i?i._prev:o)?n._prev._next=n:s=n,(n._next=i)?i._prev=n:o=n,n=r}e._pt=s},vs=function(){function t(n,r,i,s,o,a,l,u,c){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||lO,this.d=l||this,this.set=u||E_,this.pr=c||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=nce,this.m=r,this.mt=s,this.tween=i},t}();gs(x_+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return y_[t]=1});Ws.TweenMax=Ws.TweenLite=br;Ws.TimelineLite=Ws.TimelineMax=as;Kn=new as({sortChildren:!1,defaults:Xd,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});zs.stringFilter=$U;var wf=[],Ng={},rce=[],$C=0,ice=0,J4=function(e){return(Ng[e]||rce).map(function(n){return n()})},w9=function(){var e=Date.now(),n=[];e-$C>2&&(J4("matchMediaInit"),wf.forEach(function(r){var i=r.queries,s=r.conditions,o,a,l,u;for(a in i)o=ho.matchMedia(i[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,u=1);u&&(r.revert(),l&&n.push(r))}),J4("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r)}),$C=e,J4("matchMedia"))},fO=function(){function t(n,r){this.selector=r&&x9(r),this.data=[],this._r=[],this.isReverted=!1,this.id=ice++,n&&this.add(n)}var e=t.prototype;return e.add=function(r,i,s){lr(r)&&(s=i,i=r,r=lr);var o=this,a=function(){var u=ar,c=o.selector,f;return u&&u!==o&&u.data.push(o),s&&(o.selector=x9(s)),ar=o,f=i.apply(o,arguments),lr(f)&&o._r.push(f),ar=u,o.selector=c,o.isReverted=!1,f};return o.last=a,r===lr?a(o):r?o[r]=a:a},e.ignore=function(r){var i=ar;ar=null,r(this),ar=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof t?r.push.apply(r,i.getTweens()):i instanceof br&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r){var o=this.getTweens();this.data.forEach(function(l){l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(u){return o.splice(o.indexOf(u),1)}))}),o.map(function(l){return{g:l.globalTime(0),t:l}}).sort(function(l,u){return u.g-l.g||-1/0}).forEach(function(l){return l.t.revert(r)}),this.data.forEach(function(l){return!(l instanceof br)&&l.revert&&l.revert(r)}),this._r.forEach(function(l){return l(r,s)}),this.isReverted=!0}else this.data.forEach(function(l){return l.kill&&l.kill()});if(this.clear(),i)for(var a=wf.length;a--;)wf[a].id===this.id&&wf.splice(a,1)},e.revert=function(r){this.kill(r||{})},t}(),sce=function(){function t(n){this.contexts=[],this.scope=n}var e=t.prototype;return e.add=function(r,i,s){Na(r)||(r={matches:r});var o=new fO(0,s||this.scope),a=o.conditions={},l,u,c;ar&&!o.selector&&(o.selector=ar.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(u in r)u==="all"?c=1:(l=ho.matchMedia(r[u]),l&&(wf.indexOf(o)<0&&wf.push(o),(a[u]=l.matches)&&(c=1),l.addListener?l.addListener(w9):l.addEventListener("change",w9)));return c&&i(o),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},t}(),Dv={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(i){return ZU(i)})},timeline:function(e){return new as(e)},getTweensOf:function(e,n){return Kn.getTweensOf(e,n)},getProperty:function(e,n,r,i){ei(e)&&(e=_o(e)[0]);var s=xf(e||{}).get,o=r?OU:UU;return r==="native"&&(r=""),e&&(n?o((Ls[n]&&Ls[n].get||s)(e,n,r,i)):function(a,l,u){return o((Ls[a]&&Ls[a].get||s)(e,a,l,u))})},quickSetter:function(e,n,r){if(e=_o(e),e.length>1){var i=e.map(function(c){return ys.quickSetter(c,n,r)}),s=i.length;return function(c){for(var f=s;f--;)i[f](c)}}e=e[0]||{};var o=Ls[n],a=xf(e),l=a.harness&&(a.harness.aliases||{})[n]||n,u=o?function(c){var f=new o;fd._pt=0,f.init(e,r?c+r:c,fd,0,[e]),f.render(1,f),fd._pt&&M_(1,fd)}:a.set(e,l);return o?u:function(c){return u(e,l,r?c+r:c,a,1)}},quickTo:function(e,n,r){var i,s=ys.to(e,If((i={},i[n]="+=0.1",i.paused=!0,i),r||{})),o=function(l,u,c){return s.resetTo(n,l,u,c)};return o.tween=s,o},isTweening:function(e){return Kn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=_f(e.ease,Xd.ease)),KC(Xd,e||{})},config:function(e){return KC(zs,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!Ls[a]&&!Ws[a]&&Av(n+" effect requires "+a+" plugin.")}),j4[n]=function(a,l,u){return r(_o(a),Po(l||{},s),u)},o&&(as.prototype[n]=function(a,l,u){return this.add(j4[n](a,Na(l)?l:(u=l)&&{},this),u)})},registerEase:function(e,n){en[e]=_f(n)},parseEase:function(e,n){return arguments.length?_f(e,n):en},getById:function(e){return Kn.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new as(e),i,s;for(r.smoothChildTiming=ms(e.smoothChildTiming),Kn.remove(r),r._dp=0,r._time=r._tTime=Kn._time,i=Kn._first;i;)s=i._next,(n||!(!i._dur&&i instanceof br&&i.vars.onComplete===i._targets[0]))&&Ea(r,i,i._start-i._delay),i=s;return Ea(Kn,r,0),r},context:function(e,n){return e?new fO(e,n):ar},matchMedia:function(e){return new sce(e)},matchMediaRefresh:function(){return wf.forEach(function(e){var n=e.conditions,r,i;for(i in n)n[i]&&(n[i]=!1,r=1);r&&e.revert()})||w9()},addEventListener:function(e,n){var r=Ng[e]||(Ng[e]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(e,n){var r=Ng[e],i=r&&r.indexOf(n);i>=0&&r.splice(i,1)},utils:{wrap:Oue,wrapYoyo:kue,distribute:WU,random:XU,snap:jU,normalize:Uue,getUnit:wi,clamp:Lue,splitColor:QU,toArray:_o,selector:x9,mapRange:KU,pipe:Bue,unitize:Fue,interpolate:Nue,shuffle:VU},install:DU,effects:j4,ticker:Bs,updateRoot:as.updateRoot,plugins:Ls,globalTimeline:Kn,core:{PropTween:vs,globals:LU,Tween:br,Timeline:as,Animation:Jm,getCache:xf,_removeLinkedListItem:e6,reverting:function(){return bi},context:function(e){return e&&ar&&(ar.data.push(e),e._ctx=ar),ar},suppressOverwrites:function(e){return d_=e}}};gs("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Dv[t]=br[t]});Bs.add(as.updateRoot);fd=Dv.to({},{duration:0});var oce=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},ace=function(e,n){var r=e._targets,i,s,o;for(i in n)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=oce(o,i)),o&&o.modifier&&o.modifier(n[i],e,r[s],i))},Z4=function(e,n){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,u;if(ei(s)&&(l={},gs(s,function(c){return l[c]=1}),s=l),n){l={};for(u in s)l[u]=n(s[u]);s=l}ace(a,s)}}}},ys=Dv.registerPlugin({name:"attr",init:function(e,n,r,i,s){var o,a,l;this.tween=r;for(o in n)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",n[o],i,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,n){for(var r=n._pt;r;)bi?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r],0,0,0,0,0,1)}},Z4("roundProps",S9),Z4("modifiers"),Z4("snap",jU))||Dv;br.version=as.version=ys.version="3.12.2";PU=1;m_()&&Jd();en.Power0;en.Power1;en.Power2;en.Power3;en.Power4;en.Linear;en.Quad;en.Cubic;en.Quart;en.Quint;en.Strong;en.Elastic;en.Back;en.SteppedEase;en.Bounce;en.Sine;en.Expo;en.Circ;/*!
 * CSSPlugin 3.12.2
 * https://greensock.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var eR,Cu,bd,T_,uf,tR,A_,lce=function(){return typeof window<"u"},kl={},Kc=180/Math.PI,Md=Math.PI/180,Oh=Math.atan2,nR=1e8,C_=/([A-Z])/g,uce=/(left|right|width|margin|padding|x)/i,cce=/[\s,\(]\S/,Aa={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},E9=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},fce=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},hce=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},dce=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},hO=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},dO=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},pce=function(e,n,r){return e.style[n]=r},mce=function(e,n,r){return e.style.setProperty(n,r)},gce=function(e,n,r){return e._gsap[n]=r},vce=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},yce=function(e,n,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},xce=function(e,n,r,i,s){var o=e._gsap;o[n]=r,o.renderTransform(s,o)},Qn="transform",Qo=Qn+"Origin",Sce=function t(e,n){var r=this,i=this.target,s=i.style;if(e in kl&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Aa[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return r.tfm[o]=pl(i,o)}):this.tfm[e]=i._gsap.x?i._gsap[e]:pl(i,e);else return Aa.transform.split(",").forEach(function(o){return t.call(r,o,n)});if(this.props.indexOf(Qn)>=0)return;i._gsap.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Qo,n,"")),e=Qn}(s||n)&&this.props.push(e,n,s[e])},pO=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},_ce=function(){var e=this.props,n=this.target,r=n.style,i=n._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?n[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(C_,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),s=A_(),(!s||!s.isStart)&&!r[Qn]&&(pO(r),i.uncache=1)}},mO=function(e,n){var r={target:e,props:[],revert:_ce,save:Sce};return e._gsap||ys.core.getCache(e),n&&n.split(",").forEach(function(i){return r.save(i)}),r},gO,b9=function(e,n){var r=Cu.createElementNS?Cu.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Cu.createElement(e);return r.style?r:Cu.createElement(e)},Ua=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(C_,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,Zd(n)||n,1)||""},rR="O,Moz,ms,Ms,Webkit".split(","),Zd=function(e,n,r){var i=n||uf,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(rR[o]+e in s););return o<0?null:(o===3?"ms":o>=0?rR[o]:"")+e},M9=function(){lce()&&window.document&&(eR=window,Cu=eR.document,bd=Cu.documentElement,uf=b9("div")||{style:{}},b9("div"),Qn=Zd(Qn),Qo=Qn+"Origin",uf.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",gO=!!Zd("perspective"),A_=ys.core.reverting,T_=1)},Q4=function t(e){var n=b9("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(bd.appendChild(n),n.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch{}else this._gsapBBox&&(o=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),bd.removeChild(n),this.style.cssText=s,o},iR=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},vO=function(e){var n;try{n=e.getBBox()}catch{n=Q4.call(e,!0)}return n&&(n.width||n.height)||e.getBBox===Q4||(n=Q4.call(e,!0)),n&&!n.width&&!n.x&&!n.y?{x:+iR(e,["x","cx","x1"])||0,y:+iR(e,["y","cy","y1"])||0,width:0,height:0}:n},yO=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&vO(e))},Zm=function(e,n){if(n){var r=e.style;n in kl&&n!==Qo&&(n=Qn),r.removeProperty?((n.substr(0,2)==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(n.replace(C_,"-$1").toLowerCase())):r.removeAttribute(n)}},Ru=function(e,n,r,i,s,o){var a=new vs(e._pt,n,r,0,1,o?dO:hO);return e._pt=a,a.b=i,a.e=s,e._props.push(r),a},sR={deg:1,rad:1,turn:1},wce={grid:1,flex:1},Zu=function t(e,n,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=uf.style,l=uce.test(n),u=e.tagName.toLowerCase()==="svg",c=(u?"client":"offset")+(l?"Width":"Height"),f=100,h=i==="px",p=i==="%",g,x,y,v;return i===o||!s||sR[i]||sR[o]?s:(o!=="px"&&!h&&(s=t(e,n,r,"px")),v=e.getCTM&&yO(e),(p||o==="%")&&(kl[n]||~n.indexOf("adius"))?(g=v?e.getBBox()[l?"width":"height"]:e[c],gr(p?s/g*f:s/100*g)):(a[l?"width":"height"]=f+(h?o:i),x=~n.indexOf("adius")||i==="em"&&e.appendChild&&!u?e:e.parentNode,v&&(x=(e.ownerSVGElement||{}).parentNode),(!x||x===Cu||!x.appendChild)&&(x=Cu.body),y=x._gsap,y&&p&&y.width&&l&&y.time===Bs.time&&!y.uncache?gr(s/y.width*f):((p||o==="%")&&!wce[Ua(x,"display")]&&(a.position=Ua(e,"position")),x===e&&(a.position="static"),x.appendChild(uf),g=uf[c],x.removeChild(uf),a.position="absolute",l&&p&&(y=xf(x),y.time=Bs.time,y.width=x[c]),gr(h?g*s/f:g&&s?f/g*s:0))))},pl=function(e,n,r,i){var s;return T_||M9(),n in Aa&&n!=="transform"&&(n=Aa[n],~n.indexOf(",")&&(n=n.split(",")[0])),kl[n]&&n!=="transform"?(s=qm(e,i),s=n!=="transformOrigin"?s[n]:s.svg?s.origin:Iv(Ua(e,Qo))+" "+s.zOrigin+"px"):(s=e.style[n],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=Lv[n]&&Lv[n](e,n,r)||Ua(e,n)||BU(e,n)||(n==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?Zu(e,n,s,r)+r:s},Ece=function(e,n,r,i){if(!r||r==="none"){var s=Zd(n,e,1),o=s&&Ua(e,s,1);o&&o!==r?(n=s,r=o):n==="borderColor"&&(r=Ua(e,"borderTopColor"))}var a=new vs(this._pt,e.style,n,0,1,uO),l=0,u=0,c,f,h,p,g,x,y,v,S,_,E,b;if(a.b=r,a.e=i,r+="",i+="",i==="auto"&&(e.style[n]=i,i=Ua(e,n)||i,e.style[n]=r),c=[r,i],$U(c),r=c[0],i=c[1],h=r.match(cd)||[],b=i.match(cd)||[],b.length){for(;f=cd.exec(i);)y=f[0],S=i.substring(l,f.index),g?g=(g+1)%5:(S.substr(-5)==="rgba("||S.substr(-5)==="hsla(")&&(g=1),y!==(x=h[u++]||"")&&(p=parseFloat(x)||0,E=x.substr((p+"").length),y.charAt(1)==="="&&(y=Ed(p,y)+E),v=parseFloat(y),_=y.substr((v+"").length),l=cd.lastIndex-_.length,_||(_=_||zs.units[n]||E,l===i.length&&(i+=_,a.e+=_)),E!==_&&(p=Zu(e,n,x,_)||0),a._pt={_next:a._pt,p:S||u===1?S:",",s:p,c:v-p,m:g&&g<4||n==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=n==="display"&&i==="none"?dO:hO;return CU.test(i)&&(a.e=0),this._pt=a,a},oR={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},bce=function(e){var n=e.split(" "),r=n[0],i=n[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),n[0]=oR[r]||r,n[1]=oR[i]||i,n.join(" ")},Mce=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,i=r.style,s=n.u,o=r._gsap,a,l,u;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),u=s.length;--u>-1;)a=s[u],kl[a]&&(l=1,a=a==="transformOrigin"?Qo:Qn),Zm(r,a);l&&(Zm(r,Qn),o&&(o.svg&&r.removeAttribute("transform"),qm(r,1),o.uncache=1,pO(i)))}},Lv={clearProps:function(e,n,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new vs(e._pt,n,r,0,0,Mce);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},Qm=[1,0,0,1,0,0],xO={},SO=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},aR=function(e){var n=Ua(e,Qn);return SO(n)?Qm:n.substr(7).match(AU).map(gr)},R_=function(e,n){var r=e._gsap||xf(e),i=e.style,s=aR(e),o,a,l,u;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?Qm:s):(s===Qm&&!e.offsetParent&&e!==bd&&!r.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(u=1,a=e.nextElementSibling,bd.appendChild(e)),s=aR(e),l?i.display=l:Zm(e,"display"),u&&(a?o.insertBefore(e,a):o?o.appendChild(e):bd.removeChild(e))),n&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},T9=function(e,n,r,i,s,o){var a=e._gsap,l=s||R_(e,!0),u=a.xOrigin||0,c=a.yOrigin||0,f=a.xOffset||0,h=a.yOffset||0,p=l[0],g=l[1],x=l[2],y=l[3],v=l[4],S=l[5],_=n.split(" "),E=parseFloat(_[0])||0,b=parseFloat(_[1])||0,T,A,D,C;r?l!==Qm&&(A=p*y-g*x)&&(D=E*(y/A)+b*(-x/A)+(x*S-y*v)/A,C=E*(-g/A)+b*(p/A)-(p*S-g*v)/A,E=D,b=C):(T=vO(e),E=T.x+(~_[0].indexOf("%")?E/100*T.width:E),b=T.y+(~(_[1]||_[0]).indexOf("%")?b/100*T.height:b)),i||i!==!1&&a.smooth?(v=E-u,S=b-c,a.xOffset=f+(v*p+S*x)-v,a.yOffset=h+(v*g+S*y)-S):a.xOffset=a.yOffset=0,a.xOrigin=E,a.yOrigin=b,a.smooth=!!i,a.origin=n,a.originIsAbsolute=!!r,e.style[Qo]="0px 0px",o&&(Ru(o,a,"xOrigin",u,E),Ru(o,a,"yOrigin",c,b),Ru(o,a,"xOffset",f,a.xOffset),Ru(o,a,"yOffset",h,a.yOffset)),e.setAttribute("data-svg-origin",E+" "+b)},qm=function(e,n){var r=e._gsap||new rO(e);if("x"in r&&!n&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),u=Ua(e,Qo)||"0",c,f,h,p,g,x,y,v,S,_,E,b,T,A,D,C,L,k,z,H,V,K,J,$,U,G,W,F,j,ie,se,re;return c=f=h=x=y=v=S=_=E=0,p=g=1,r.svg=!!(e.getCTM&&yO(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[Qn]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Qn]!=="none"?l[Qn]:"")),i.scale=i.rotate=i.translate="none"),A=R_(e,r.svg),r.svg&&(r.uncache?(U=e.getBBox(),u=r.xOrigin-U.x+"px "+(r.yOrigin-U.y)+"px",$=""):$=!n&&e.getAttribute("data-svg-origin"),T9(e,$||u,!!$||r.originIsAbsolute,r.smooth!==!1,A)),b=r.xOrigin||0,T=r.yOrigin||0,A!==Qm&&(k=A[0],z=A[1],H=A[2],V=A[3],c=K=A[4],f=J=A[5],A.length===6?(p=Math.sqrt(k*k+z*z),g=Math.sqrt(V*V+H*H),x=k||z?Oh(z,k)*Kc:0,S=H||V?Oh(H,V)*Kc+x:0,S&&(g*=Math.abs(Math.cos(S*Md))),r.svg&&(c-=b-(b*k+T*H),f-=T-(b*z+T*V))):(re=A[6],ie=A[7],W=A[8],F=A[9],j=A[10],se=A[11],c=A[12],f=A[13],h=A[14],D=Oh(re,j),y=D*Kc,D&&(C=Math.cos(-D),L=Math.sin(-D),$=K*C+W*L,U=J*C+F*L,G=re*C+j*L,W=K*-L+W*C,F=J*-L+F*C,j=re*-L+j*C,se=ie*-L+se*C,K=$,J=U,re=G),D=Oh(-H,j),v=D*Kc,D&&(C=Math.cos(-D),L=Math.sin(-D),$=k*C-W*L,U=z*C-F*L,G=H*C-j*L,se=V*L+se*C,k=$,z=U,H=G),D=Oh(z,k),x=D*Kc,D&&(C=Math.cos(D),L=Math.sin(D),$=k*C+z*L,U=K*C+J*L,z=z*C-k*L,J=J*C-K*L,k=$,K=U),y&&Math.abs(y)+Math.abs(x)>359.9&&(y=x=0,v=180-v),p=gr(Math.sqrt(k*k+z*z+H*H)),g=gr(Math.sqrt(J*J+re*re)),D=Oh(K,J),S=Math.abs(D)>2e-4?D*Kc:0,E=se?1/(se<0?-se:se):0),r.svg&&($=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!SO(Ua(e,Qn)),$&&e.setAttribute("transform",$))),Math.abs(S)>90&&Math.abs(S)<270&&(s?(p*=-1,S+=x<=0?180:-180,x+=x<=0?180:-180):(g*=-1,S+=S<=0?180:-180)),n=n||r.uncache,r.x=c-((r.xPercent=c&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-c)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=f-((r.yPercent=f&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=h+o,r.scaleX=gr(p),r.scaleY=gr(g),r.rotation=gr(x)+a,r.rotationX=gr(y)+a,r.rotationY=gr(v)+a,r.skewX=S+a,r.skewY=_+a,r.transformPerspective=E+o,(r.zOrigin=parseFloat(u.split(" ")[2])||0)&&(i[Qo]=Iv(u)),r.xOffset=r.yOffset=0,r.force3D=zs.force3D,r.renderTransform=r.svg?Ace:gO?_O:Tce,r.uncache=0,r},Iv=function(e){return(e=e.split(" "))[0]+" "+e[1]},q4=function(e,n,r){var i=wi(n);return gr(parseFloat(n)+parseFloat(Zu(e,"x",r+"px",i)))+i},Tce=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,_O(e,n)},zc="0deg",A0="0px",Gc=") ",_O=function(e,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.z,u=r.rotation,c=r.rotationY,f=r.rotationX,h=r.skewX,p=r.skewY,g=r.scaleX,x=r.scaleY,y=r.transformPerspective,v=r.force3D,S=r.target,_=r.zOrigin,E="",b=v==="auto"&&e&&e!==1||v===!0;if(_&&(f!==zc||c!==zc)){var T=parseFloat(c)*Md,A=Math.sin(T),D=Math.cos(T),C;T=parseFloat(f)*Md,C=Math.cos(T),o=q4(S,o,A*C*-_),a=q4(S,a,-Math.sin(T)*-_),l=q4(S,l,D*C*-_+_)}y!==A0&&(E+="perspective("+y+Gc),(i||s)&&(E+="translate("+i+"%, "+s+"%) "),(b||o!==A0||a!==A0||l!==A0)&&(E+=l!==A0||b?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Gc),u!==zc&&(E+="rotate("+u+Gc),c!==zc&&(E+="rotateY("+c+Gc),f!==zc&&(E+="rotateX("+f+Gc),(h!==zc||p!==zc)&&(E+="skew("+h+", "+p+Gc),(g!==1||x!==1)&&(E+="scale("+g+", "+x+Gc),S.style[Qn]=E||"translate(0, 0)"},Ace=function(e,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.rotation,u=r.skewX,c=r.skewY,f=r.scaleX,h=r.scaleY,p=r.target,g=r.xOrigin,x=r.yOrigin,y=r.xOffset,v=r.yOffset,S=r.forceCSS,_=parseFloat(o),E=parseFloat(a),b,T,A,D,C;l=parseFloat(l),u=parseFloat(u),c=parseFloat(c),c&&(c=parseFloat(c),u+=c,l+=c),l||u?(l*=Md,u*=Md,b=Math.cos(l)*f,T=Math.sin(l)*f,A=Math.sin(l-u)*-h,D=Math.cos(l-u)*h,u&&(c*=Md,C=Math.tan(u-c),C=Math.sqrt(1+C*C),A*=C,D*=C,c&&(C=Math.tan(c),C=Math.sqrt(1+C*C),b*=C,T*=C)),b=gr(b),T=gr(T),A=gr(A),D=gr(D)):(b=f,D=h,T=A=0),(_&&!~(o+"").indexOf("px")||E&&!~(a+"").indexOf("px"))&&(_=Zu(p,"x",o,"px"),E=Zu(p,"y",a,"px")),(g||x||y||v)&&(_=gr(_+g-(g*b+x*A)+y),E=gr(E+x-(g*T+x*D)+v)),(i||s)&&(C=p.getBBox(),_=gr(_+i/100*C.width),E=gr(E+s/100*C.height)),C="matrix("+b+","+T+","+A+","+D+","+_+","+E+")",p.setAttribute("transform",C),S&&(p.style[Qn]=C)},Cce=function(e,n,r,i,s){var o=360,a=ei(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Kc:1),u=l-i,c=i+u+"deg",f,h;return a&&(f=s.split("_")[1],f==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),f==="cw"&&u<0?u=(u+o*nR)%o-~~(u/o)*o:f==="ccw"&&u>0&&(u=(u-o*nR)%o-~~(u/o)*o)),e._pt=h=new vs(e._pt,n,r,i,u,fce),h.e=c,h.u="deg",e._props.push(r),h},lR=function(e,n){for(var r in n)e[r]=n[r];return e},Rce=function(e,n,r){var i=lR({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,u,c,f,h,p,g;i.svg?(u=r.getAttribute("transform"),r.setAttribute("transform",""),o[Qn]=n,a=qm(r,1),Zm(r,Qn),r.setAttribute("transform",u)):(u=getComputedStyle(r)[Qn],o[Qn]=n,a=qm(r,1),o[Qn]=u);for(l in kl)u=i[l],c=a[l],u!==c&&s.indexOf(l)<0&&(p=wi(u),g=wi(c),f=p!==g?Zu(r,l,u,g):parseFloat(u),h=parseFloat(c),e._pt=new vs(e._pt,a,l,f,h-f,E9),e._pt.u=g||0,e._props.push(l));lR(a,i)};gs("padding,margin,Width,Radius",function(t,e){var n="Top",r="Right",i="Bottom",s="Left",o=(e<3?[n,r,i,s]:[n+s,n+r,i+r,i+s]).map(function(a){return e<2?t+a:"border"+a+t});Lv[e>1?"border"+t:t]=function(a,l,u,c,f){var h,p;if(arguments.length<4)return h=o.map(function(g){return pl(a,g,u)}),p=h.join(" "),p.split(h[0]).length===5?h[0]:p;h=(c+"").split(" "),p={},o.forEach(function(g,x){return p[g]=h[x]=h[x]||h[(x-1)/2|0]}),a.init(l,p,f)}});var wO={name:"css",register:M9,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,i,s){var o=this._props,a=e.style,l=r.vars.startAt,u,c,f,h,p,g,x,y,v,S,_,E,b,T,A,D;T_||M9(),this.styles=this.styles||mO(e),D=this.styles.props,this.tween=r;for(x in n)if(x!=="autoRound"&&(c=n[x],!(Ls[x]&&iO(x,n,r,i,e,s)))){if(p=typeof c,g=Lv[x],p==="function"&&(c=c.call(r,i,e,s),p=typeof c),p==="string"&&~c.indexOf("random(")&&(c=Ym(c)),g)g(this,e,x,c,r)&&(A=1);else if(x.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(x)+"").trim(),c+="",Gu.lastIndex=0,Gu.test(u)||(y=wi(u),v=wi(c)),v?y!==v&&(u=Zu(e,x,u,v)+v):y&&(c+=y),this.add(a,"setProperty",u,c,i,s,0,0,x),o.push(x),D.push(x,0,a[x]);else if(p!=="undefined"){if(l&&x in l?(u=typeof l[x]=="function"?l[x].call(r,i,e,s):l[x],ei(u)&&~u.indexOf("random(")&&(u=Ym(u)),wi(u+"")||(u+=zs.units[x]||wi(pl(e,x))||""),(u+"").charAt(1)==="="&&(u=pl(e,x))):u=pl(e,x),h=parseFloat(u),S=p==="string"&&c.charAt(1)==="="&&c.substr(0,2),S&&(c=c.substr(2)),f=parseFloat(c),x in Aa&&(x==="autoAlpha"&&(h===1&&pl(e,"visibility")==="hidden"&&f&&(h=0),D.push("visibility",0,a.visibility),Ru(this,a,"visibility",h?"inherit":"hidden",f?"inherit":"hidden",!f)),x!=="scale"&&x!=="transform"&&(x=Aa[x],~x.indexOf(",")&&(x=x.split(",")[0]))),_=x in kl,_){if(this.styles.save(x),E||(b=e._gsap,b.renderTransform&&!n.parseTransform||qm(e,n.parseTransform),T=n.smoothOrigin!==!1&&b.smooth,E=this._pt=new vs(this._pt,a,Qn,0,1,b.renderTransform,b,0,-1),E.dep=1),x==="scale")this._pt=new vs(this._pt,b,"scaleY",b.scaleY,(S?Ed(b.scaleY,S+f):f)-b.scaleY||0,E9),this._pt.u=0,o.push("scaleY",x),x+="X";else if(x==="transformOrigin"){D.push(Qo,0,a[Qo]),c=bce(c),b.svg?T9(e,c,0,T,0,this):(v=parseFloat(c.split(" ")[2])||0,v!==b.zOrigin&&Ru(this,b,"zOrigin",b.zOrigin,v),Ru(this,a,x,Iv(u),Iv(c)));continue}else if(x==="svgOrigin"){T9(e,c,1,T,0,this);continue}else if(x in xO){Cce(this,b,x,h,S?Ed(h,S+c):c);continue}else if(x==="smoothOrigin"){Ru(this,b,"smooth",b.smooth,c);continue}else if(x==="force3D"){b[x]=c;continue}else if(x==="transform"){Rce(this,c,e);continue}}else x in a||(x=Zd(x)||x);if(_||(f||f===0)&&(h||h===0)&&!cce.test(c)&&x in a)y=(u+"").substr((h+"").length),f||(f=0),v=wi(c)||(x in zs.units?zs.units[x]:y),y!==v&&(h=Zu(e,x,u,v)),this._pt=new vs(this._pt,_?b:a,x,h,(S?Ed(h,S+f):f)-h,!_&&(v==="px"||x==="zIndex")&&n.autoRound!==!1?dce:E9),this._pt.u=v||0,y!==v&&v!=="%"&&(this._pt.b=u,this._pt.r=hce);else if(x in a)Ece.call(this,e,x,u,S?S+c:c);else if(x in e)this.add(e,x,u||e[x],S?S+c:c,i,s);else if(x!=="parseTransform"){v_(x,c);continue}_||(x in a?D.push(x,0,a[x]):D.push(x,1,u||e[x])),o.push(x)}}A&&cO(this)},render:function(e,n){if(n.tween._time||!A_())for(var r=n._pt;r;)r.r(e,r.d),r=r._next;else n.styles.revert()},get:pl,aliases:Aa,getSetter:function(e,n,r){var i=Aa[n];return i&&i.indexOf(",")<0&&(n=i),n in kl&&n!==Qo&&(e._gsap.x||pl(e,"x"))?r&&tR===r?n==="scale"?vce:gce:(tR=r||{})&&(n==="scale"?yce:xce):e.style&&!p_(e.style[n])?pce:~n.indexOf("-")?mce:b_(e,n)},core:{_removeProperty:Zm,_getMatrix:R_}};ys.utils.checkPrefix=Zd;ys.core.getStyleSaver=mO;(function(t,e,n,r){var i=gs(t+","+e+","+n,function(s){kl[s]=1});gs(e,function(s){zs.units[s]="deg",xO[s]=1}),Aa[i[13]]=t+","+e,gs(r,function(s){var o=s.split(":");Aa[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");gs("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){zs.units[t]="px"});ys.registerPlugin(wO);var Qd=ys.registerPlugin(wO)||ys;Qd.core.Tween;const Pce=.2,Dce=.4,Lce=8,Ice=26,Bce=5,Fce=10;function Uce(){const t=R.useRef(),e=R.useRef(),n=()=>{var r=A9(Bce,Fce);Qd.to(t.current,{keyframes:Oce(100,60,20),onComplete:n,delay:r,duration:1.4})};return R.useEffect(()=>{t.current.target=e.current,n()},[]),B.jsxs(B.Fragment,{children:[B.jsx("spotLight",{ref:t,position:[1,14.5,-15.5],intensity:100,angle:Math.PI*.3,distance:50,penumbra:.65,castShadow:!0,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024,"shadow-radius":3.5,"shadow-normalBias":1}),B.jsx("mesh",{position:[1,0,-15.7],ref:e})]})}function Oce(t,e,n){for(var r=Math.floor(A9(Lce,Ice)),i=[r++],s=0;s<r;s++){var o=A9(Pce,Dce);i[s]=s%2==0?{intensity:n,delay:o}:{intensity:e,delay:o}}return i[r++]={intensity:t},i}function A9(t,e){return Math.random()*(e-t)+t}function kce(){return B.jsxs(B.Fragment,{children:[B.jsx(mue,{position:[0,-1.25,0],rotation:[0,Math.PI*-.5,0]}),B.jsx(Uce,{}),B.jsx(Sse,{position:[1,8,-16.5],size:5,scale:[6,12,8],count:40,speed:.4}),B.jsx(XC,{position:[-14.59,10.01,12.03]}),B.jsx(XC,{position:[14.59,10.01,12.03]}),B.jsxs("mesh",{position:[-2.47,1.67,6.34],scale:[.25,5.2,.25],"rotation-y":Math.PI*.75,children:[B.jsx("boxGeometry",{}),B.jsx("meshStandardMaterial",{color:[.6*5,.55*5,0],emissive:"orange",emissiveIntensity:.9,toneMapped:!1}),B.jsx("pointLight",{color:[1,1,1],distance:10,position:[0,0,0],intensity:5})]})]})}function Nce({title:t,period:e,videoLink:n,techUsed:r=[],description:i,gitLink:s,clickSound:o}){return B.jsxs("div",{className:"text-communicator-white pl-4 font-SpaceMono",children:[B.jsx("li",{className:"list-disc font-bold text-5xl p-1 text-communicator-red",children:t}),B.jsxs("div",{className:"border-communicator-red border-l-[6px] ml-[10px] pl-9 ",children:[B.jsx("h2",{className:"text-[33px]",children:e}),B.jsxs("div",{className:"mt-8 aspect-video w-3/4",children:[B.jsx("iframe",{className:"rounded-lg w-full h-full p-2",src:n,allowFullScreen:!0}),B.jsx("div",{className:" py-6 flex justify-center ",children:r.map((a,l)=>B.jsx("span",{className:" bg-communicator-red text-communicator-white text-3xl font-bold mr-3 px-2.5 py-1 rounded",children:a},l))})]}),B.jsx("div",{className:"text-[33px]",children:i.map((a,l)=>B.jsxs("div",{children:[" ",a," ",B.jsx("br",{})," "]},l))}),s!=null?B.jsx("div",{className:`button w-36 h-10 my-5 bg-green-400 rounded-full cursor-pointer select-none\r
                                                     active:translate-y-2  active:[box-shadow:0_0px_0_0_#1cc538,0_0px_0_0_#1cc53841]\r
                                                     transition-all duration-150 [box-shadow:0_8px_0_0_#1cc538,0_13px_0_0_#1cc53841]`,children:B.jsx("a",{href:s,target:"_blank",className:"flex flex-col justify-center items-center h-full text-white font-bold text-4xl ",onClick:()=>o(),children:"Github"})}):null]})]})}const zce="modulepreload",Gce=function(t){return"https://hassenbenabid.github.io/"+t},uR={},Hce=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=Gce(s),s in uR)return;uR[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const f=i[c];if(f.href===s&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":zce,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((c,f)=>{u.addEventListener("load",c),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};function Bv(){return Bv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bv.apply(this,arguments)}function Vce(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Wce(t){R.useEffect(t,[])}function r6(t,e){e===void 0&&(e={});var n=e,r=n.volume,i=r===void 0?1:r,s=n.playbackRate,o=s===void 0?1:s,a=n.soundEnabled,l=a===void 0?!0:a,u=n.interrupt,c=u===void 0?!1:u,f=n.onload,h=Vce(n,["id","volume","playbackRate","soundEnabled","interrupt","onload"]),p=te.useRef(null),g=te.useRef(!1),x=te.useState(null),y=x[0],v=x[1],S=te.useState(null),_=S[0],E=S[1],b=function(){typeof f=="function"&&f.call(this),g.current&&v(this.duration()*1e3),E(this)};Wce(function(){return Hce(()=>import("./howler-f30dd6c2.js").then(L=>L.h),[]).then(function(L){if(!g.current){var k;p.current=(k=L.Howl)!==null&&k!==void 0?k:L.default.Howl,g.current=!0,new p.current(Bv({src:Array.isArray(t)?t:[t],volume:i,rate:o,onload:b},h))}}),function(){g.current=!1}}),te.useEffect(function(){p.current&&_&&E(new p.current(Bv({src:Array.isArray(t)?t:[t],volume:i,onload:b},h)))},[JSON.stringify(t)]),te.useEffect(function(){_&&(_.volume(i),_.rate(o))},[i,o]);var T=te.useCallback(function(L){typeof L>"u"&&(L={}),!(!_||!l&&!L.forceSoundEnabled)&&(c&&_.stop(),L.playbackRate&&_.rate(L.playbackRate),_.play(L.id))},[_,l,c]),A=te.useCallback(function(L){_&&_.stop(L)},[_]),D=te.useCallback(function(L){_&&_.pause(L)},[_]),C=[T,{sound:_,stop:A,pause:D,duration:y}];return C}const Ca={DEFAULT_CAMERA_POSITION:{x:0,y:20,z:50},ON_START_CAMERA_POSITION:{x:0,y:20,z:60},UI_SOUND_VOLUME:.6},jce=500,ll={None:0,Professional:1,Personal:2};var Xce=[{title:"Strange Loop Games: Programmer",period:"06/2021 - Present",videoLink:"https://www.youtube.com/embed/ud_refZuQoA?rel=0",techUsed:["Unity","C#","Scrum(ClickUp)"],description:["- Implemented new features on both the client and server side like the whole tooltip system.","- Reworked and helped reworking many different systems like the chat and the settlement systems.","- Benchmarked and optimized a large chunk of the legacy code using both the .NET benchmark library and the unity profiler.","- Took the responsibility of mentoring a new intern and introducing him to our code base which later became an integral part of the team.","- Constantly debugged and fixed bugs and crashes in record time.","- Worked in an agile environment with an international team (used ClickUp)."],gitLink:null},{title:"StolenPad Studio: Game developer",period:"06/2021 - 08/2021",videoLink:"https://www.youtube.com/embed/0KgrstnQSOY?rel=0",techUsed:["Unity","C#"],description:["- Prototyped and developed a new hyper-casual game every two weeks.","- Coordinated my work with both an artist and an animator.","- Tested games on both android and iOS.","- Implemented different APIs to track the player progression and game statistics."],gitLink:null},{title:"Amilcar Technologies: Game dev intern",period:"01/2021 - 04/2021",videoLink:"https://www.youtube.com/embed/VsLKklKha0M?rel=0",techUsed:["Unity","C#"],description:["- Implemented a base building system with a grid and some resource gathering and management.","- Implemented a deck building system where the player unlocked and customized his multiple decks.","- Worked on a small RTS battle system where the player had the ability to spawn and control different types of units and fight against a basic AI."],gitLink:null}],Yce=[{title:"Cygnus3D: Small game engine",period:"2019 - 2021",videoLink:"https://www.youtube.com/embed/Xr4G_if2Zms",techUsed:["C++","OpenGL"],description:["- A small game engine that I developed using C++/OpenGL. It has a basic rendering, some physics implementation using the bullet library, a loading model system with skeletal animation and some basic lighting features. ","This was started as a way for me to understand the backbones of game engines but also as a challenge to push my boundaries and my understanding of computer science.","To approach this, I started by creating a small 2D game using C++ and openGL and from there I chose the features that I wanted to work on and made a roadmap for myself."],gitLink:"https://github.com/HassenBenAbid/Cygnus3D"},{title:"Untold Future: A Rogue-like game",period:"2020",videoLink:"https://www.youtube.com/embed/A7fQHOdjjb4",techUsed:["C#","Unity"],description:["- A rogue-like top down shooter where every new restart generates a new dungeon.","This was done by using BPS tree to create the boundaries of each room, then Delaunay triangulation to connect them and finally (with the help of some preset rules) the A* algorithm to create the corridors.","For the final touches, it chooses from a large pool of preset rooms the right ones for each position.","- I also developed my own AI system using a middle ground between pluggable AI and behavior trees to create different AI personalities.","Some local Coop functionalities were worked on but never implemented in the end.","- Note: All assets were imported from the Unity asset store."],gitLink:null},{title:"Project Occt: An android app",period:"2021",videoLink:"./UI/OcctDisplay.PNG",techUsed:["Kotlin","Android Studio"],description:["- An android app compatible with any device that supports miracast which helps in making digital acuity tests more affordable for everybody.","- The app casts, on any screen of the user choice, the different charts while transforming his smartphone into a simple remote controller.","- The available charts are : LogMar, Lea, tumbling but also a duochrome option and an astigmatism test. Plus a fun chart for the kids."],gitLink:"https://github.com/HassenBenAbid/OccT"},{title:"FearNot: 2D platformer game",period:"2021",videoLink:"https://www.youtube.com/embed/hEGC3Xegj4Y",techUsed:["C#","Unity"],description:["- For this game I created nearly all the used assets.","- This game was a huge adventure for me where I experimented with many new features that I never touched before starting from actually making the pixel art myself, using ragdolls instead of death animation to make it more satisfying and finally some simple procedural generation.","- A simple boss fight and some narrative were also implemented."],gitLink:"https://github.com/HassenBenAbid/FearNot"}],tg=[];function Kce({isFocused:t,onCloseCallback:e}){const[n,r]=R.useState(ll.None),[i,s]=R.useState(!0),[o]=r6("./Sound/CommunicatorClick.wav",{volume:Ca.UI_SOUND_VOLUME}),a=l=>{switch(l){case ll.Professional:tg=Xce;break;case ll.Personal:tg=Yce;break;case ll.None:tg=[],e();break}r(l)};return R.useEffect(()=>{const l=setInterval(()=>{s(u=>!u)},jce);return()=>clearInterval(l)},[]),B.jsx(B.Fragment,{children:B.jsxs(QS,{className:"CommunicatorPage overflow-auto scrollbar-none select-none",zIndexRange:t?[1e4,2]:[1,1],occlude:"blending",scale:.05,rotation:[Math.PI*-.5,0,Math.PI*.5],position:[0,1.21,0],style:{backgroundImage:'url("./UI/CommunicatorBackground.png")'},transform:!0,children:[B.jsxs("div",{className:"flex text-5xl text-white mt-16 items-center justify-center font-SpaceMono",children:[B.jsx("div",{className:`button bg-communicator-red rounded-lg cursor-pointer select-none\r
                active:translate-y-2  active:[box-shadow:0_5px_0_0_#c5262b,0_6px_0_0_#c5262b41]\r
                active:border-b-[0px]\r
                transition-all duration-150 [box-shadow:0_10px_0_0_#c5262b,0_15px_0_0_#c5262b41]\r
                border-b-[1px] border-communicator-red`,onClick:()=>{o(),a(ll.Professional)},children:B.jsx("span",{className:"flex flex-col justify-center items-center text-communicator-white px-5 py-5 font-bold text-5xl",children:"Professional"})}),B.jsx("h1",{className:"text-communicator-red text-6xl font-extrabold mx-5",children:"Projects"}),B.jsx("div",{className:`button bg-communicator-red rounded-lg cursor-pointer select-none\r
                active:translate-y-2  active:[box-shadow:0_5px_0_0_#c5262b,0_6px_0_0_#c5262b41]\r
                active:border-b-[0px]\r
                transition-all duration-150 [box-shadow:0_10px_0_0_#c5262b,0_15px_0_0_#c5262b41]\r
                border-b-[1px] border-communicator-red`,onClick:()=>{o(),a(ll.Personal)},children:B.jsx("span",{className:"flex flex-col justify-center items-center text-communicator-white px-16 py-5 font-bold text-5xl",children:"Personal"})})]}),B.jsx("div",{className:"relativeflex flex-col space-y-6 mt-20",children:n!=ll.None?tg.map((l,u)=>B.jsx(Nce,{title:l.title,videoLink:l.videoLink,techUsed:l.techUsed,period:l.period,description:l.description,gitLink:l.gitLink,clickSound:o},u)):null}),n==ll.None?B.jsx("div",{style:{opacity:i?1:0},className:"flex justify-center text-5xl py-96 mb-24 text-communicator-white font-SpaceMono font-extrabold ",children:"Choose what projects to check..."}):null,B.jsx("div",{className:`button bg-communicator-red rounded-full cursor-pointer select-none\r
                             active:translate-y-2  active:[box-shadow:0_4px_0_0_#c5262b,0_6px_0_0_#c5262b41]\r
                             active:border-b-[0px]\r
                             transition-all duration-150 [box-shadow:0_8px_0_0_#c5262b,0_13px_0_0_#c5262b41]\r
                             mx-20 my-10 py-5`,onClick:()=>{o(),a(ll.None)},children:B.jsx("span",{className:"flex flex-col justify-center items-center h-[50px] text-communicator-white font-bold text-5xl",children:"POWER OFF"})})]})})}function Jce(t){const{nodes:e,materials:n}=ua("./models/Communicator.glb");return B.jsx("group",{...t,dispose:null,children:B.jsxs("group",{position:[0,.981,0],children:[B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cube.geometry,material:n.MainComMaterial}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cube_1.geometry,material:n.BlueMaterial}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cube_2.geometry,material:n.RedMaterial}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cube_3.geometry,material:n.RedMaterial})]})})}ua.preload("./models/Communicator.glb");var $4=new X(-.62,3.55,5.58),e8=new X(0,-Math.PI*.5,0),cR=new X(-.62,6.05,5.58),Zce=new X(Math.PI*.5,-Math.PI*.5,0);function Qce({pageSelected:t,setPageSelected:e,focusObjectFunc:n,objectIsFocused:r,focusedSound:i}){const s=R.useRef(),[o,a]=R.useState($4),[l,u]=R.useState(e8),[c,f]=R.useState(!1),h=()=>{Qd.timeline().to(s.current.position,{duration:.5,x:o.x,y:o.y,z:o.z}),Qd.timeline().to(s.current.rotation,{duration:.5,x:l.x,y:l.y,z:l.z},"<")},p=()=>{a(c||t==Mr.Projects?cR:$4),u(c||t==Mr.Projects?Zce:e8)};return R.useEffect(()=>{s.current.position.copy($4),s.current.rotation.y=e8.y},[]),R.useEffect(()=>{t==Mr.Projects&&n(cR,0,4.5),p()},[t]),R.useEffect(()=>{p()},[c]),R.useEffect(()=>{h()},[o,l]),B.jsxs(B.Fragment,{children:[B.jsxs("mesh",{scale:[2.5,2,2.5],position:[-.62,5,5.58],onPointerOver:()=>f(!0),onPointerOut:()=>f(!1),onPointerDown:()=>{i(),e(Mr.Projects)},children:[B.jsx("boxGeometry",{}),B.jsx("meshBasicMaterial",{opacity:0,transparent:!0})]}),B.jsxs("group",{ref:s,children:[B.jsx(Jce,{}),B.jsx(Kce,{isFocused:t==Mr.Projects&&r,onCloseCallback:()=>e(Mr.None)})]})]})}var fR=!1;function qce({position:t,target:e,pageSelected:n=Mr.None,setCanSelect:r,setObjectIsFocused:i}){const[s,o]=R.useState(!0),{camera:a,gl:{domElement:l}}=cn(),[u,c]=R.useState(!1),f=R.useRef(),h=()=>{f!=null&&fR&&(c(!0),o(!0),n==Mr.None&&i(!1),Qd.timeline().to(a.position,{duration:.6,x:t.x,y:t.y,z:t.z}),Qd.timeline().to(f.current.target,{duration:.6,x:e.x,y:e.y,z:e.z},"<").eventCallback("onComplete",()=>{n!=Mr.None&&(o(!1),i(!0)),c(!1),r(!0)}))};return R.useEffect(()=>{a.up=new X(0,1,0)},[]),R.useEffect(()=>{h(),fR=!0},[t,e]),B.jsx(vse,{ref:f,args:[a,l],rotateSpeed:.5,maxZoom:1,minDistance:u?0:30,maxDistance:60,enabled:s,minPolarAngle:u?0:Math.PI*.2,maxPolarAngle:u?Math.PI:Math.PI*.4,enablePan:!1,makeDefault:!0})}function $ce(t){const{nodes:e,materials:n}=ua("./models/MenuStand.glb");return B.jsxs("group",{...t,dispose:null,children:[B.jsxs("group",{position:[-.989,0,0],rotation:[-Math.PI,0,-3.009],children:[B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cube001.geometry,material:n.MainStandMaterial}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cube001_1.geometry,material:n.BoardMaterial})]}),B.jsxs("group",{position:[.162,0,0],rotation:[0,0,.133],children:[B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cube002.geometry,material:n.MainStandMaterial}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cube002_1.geometry,material:n.BoardMaterial})]})]})}ua.preload("./models/MenuStand.glb");function efe(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function EO(...t){return e=>t.forEach(n=>efe(n,e))}function vp(...t){return R.useCallback(EO(...t),t)}const bO=R.forwardRef((t,e)=>{const{children:n,...r}=t,i=R.Children.toArray(n),s=i.find(tfe);if(s){const o=s.props.children,a=i.map(l=>l===s?R.Children.count(o)>1?R.Children.only(null):R.isValidElement(o)?o.props.children:null:l);return R.createElement(C9,kn({},r,{ref:e}),R.isValidElement(o)?R.cloneElement(o,void 0,a):null)}return R.createElement(C9,kn({},r,{ref:e}),n)});bO.displayName="Slot";const C9=R.forwardRef((t,e)=>{const{children:n,...r}=t;return R.isValidElement(n)?R.cloneElement(n,{...nfe(r,n.props),ref:e?EO(e,n.ref):n.ref}):R.Children.count(n)>1?R.Children.only(null):null});C9.displayName="SlotClone";const MO=({children:t})=>R.createElement(R.Fragment,null,t);function tfe(t){return R.isValidElement(t)&&t.type===MO}function nfe(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}const rfe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],jf=rfe.reduce((t,e)=>{const n=R.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?bO:e;return R.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),R.createElement(a,kn({},o,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function ife(t,e){t&&l1.flushSync(()=>t.dispatchEvent(e))}const sfe=R.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?tH.createPortal(R.createElement(jf.div,kn({},i,{ref:e})),r):null}),ofe=sfe;var hR=Object.prototype.hasOwnProperty;function Fv(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Fv(t[r],e[r]););return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(hR.call(t,n)&&++r&&!hR.call(e,n)||!(n in e)||!Fv(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}var i6=function(e,n,r,i){this.name=e,this.fn=n,this.args=r,this.modifiers=i};i6.prototype._test=function(e){var n=this.fn;try{Td(this.modifiers.slice(),n,this)(e)}catch{n=function(){return!1}}try{return Td(this.modifiers.slice(),n,this)(e)}catch{return!1}};i6.prototype._check=function(e){try{Td(this.modifiers.slice(),this.fn,this)(e)}catch{if(Td(this.modifiers.slice(),function(r){return r},this)(!1))return}if(!Td(this.modifiers.slice(),this.fn,this)(e))throw null};i6.prototype._testAsync=function(e){var n=this;return new Promise(function(r,i){AO(n.modifiers.slice(),n.fn,n)(e).then(function(s){s?r(e):i(null)}).catch(function(s){return i(s)})})};function TO(t,e){return e===void 0&&(e="simple"),typeof t=="object"?t[e]:t}function Td(t,e,n){if(t.length){var r=t.shift(),i=Td(t,e,n);return r.perform(i,n)}else return TO(e)}function AO(t,e,n){if(t.length){var r=t.shift(),i=AO(t,e,n);return r.performAsync(i,n)}else return function(s){return Promise.resolve(TO(e,"async")(s))}}var afe=function(e,n,r){this.name=e,this.perform=n,this.performAsync=r},P_=function(t){function e(n,r,i,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];t.call(this,o),t.captureStackTrace&&t.captureStackTrace(this,e),this.rule=n,this.value=r,this.cause=i,this.target=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),za=function(e,n){e===void 0&&(e=[]),n===void 0&&(n=[]),this.chain=e,this.nextRuleModifiers=n};za.prototype._applyRule=function(e,n){var r=this;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return r.chain.push(new i6(n,e.apply(r,i),i,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}};za.prototype._applyModifier=function(e,n){return this.nextRuleModifiers.push(new afe(n,e.simple,e.async)),this};za.prototype._clone=function(){return new za(this.chain.slice(),this.nextRuleModifiers.slice())};za.prototype.test=function(e){return this.chain.every(function(n){return n._test(e)})};za.prototype.testAll=function(e){var n=[];return this.chain.forEach(function(r){try{r._check(e)}catch(i){n.push(new P_(r,e,i))}}),n};za.prototype.check=function(e){this.chain.forEach(function(n){try{n._check(e)}catch(r){throw new P_(n,e,r)}})};za.prototype.testAsync=function(e){var n=this;return new Promise(function(r,i){CO(e,n.chain.slice(),r,i)})};function CO(t,e,n,r){if(e.length){var i=e.shift();i._testAsync(t).then(function(){CO(t,e,n,r)},function(s){r(new P_(i,t,s))})}else n(t)}var dR=function(t,e){return e&&typeof t=="string"&&t.trim().length===0?!0:t==null};function lfe(t,e){return e===void 0&&(e=!1),{simple:function(n){return dR(n,e)||t.check(n)===void 0},async:function(n){return dR(n,e)||t.testAsync(n)}}}function cs(){return typeof Proxy<"u"?RO(new za):R9(new za)}var $m={};cs.extend=function(t){Object.assign($m,t)};cs.clearCustomRules=function(){$m={}};function RO(t){return new Proxy(t,{get:function(n,r){if(r in n)return n[r];var i=RO(t._clone());if(r in Uv)return i._applyModifier(Uv[r],r);if(r in $m)return i._applyRule($m[r],r);if(r in P9)return i._applyRule(P9[r],r)}})}function R9(t){var e=function(i,s){return Object.keys(i).forEach(function(o){s[o]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var u=R9(s._clone()),c=u._applyRule(i[o],o).apply(void 0,a);return c}}),s},n=e(P9,t),r=e($m,n);return Object.keys(Uv).forEach(function(i){Object.defineProperty(r,i,{get:function(){var s=R9(r._clone());return s._applyModifier(Uv[i],i)}})}),r}var Uv={not:{simple:function(t){return function(e){return!t(e)}},async:function(t){return function(e){return Promise.resolve(t(e)).then(function(n){return!n}).catch(function(){return!0})}}},some:{simple:function(t){return function(e){return ng(e).some(function(n){try{return t(n)}catch{return!1}})}},async:function(t){return function(e){return Promise.all(ng(e).map(function(n){try{return t(n).catch(function(){return!1})}catch{return!1}})).then(function(n){return n.some(Boolean)})}}},every:{simple:function(t){return function(e){return e!==!1&&ng(e).every(t)}},async:function(t){return function(e){return Promise.all(ng(e).map(t)).then(function(n){return n.every(Boolean)})}}},strict:{simple:function(t,e){return function(n){return pR(e)&&n&&typeof n=="object"?Object.keys(e.args[0]).length===Object.keys(n).length&&t(n):t(n)}},async:function(t,e){return function(n){return Promise.resolve(t(n)).then(function(r){return pR(e)&&n&&typeof n=="object"?Object.keys(e.args[0]).length===Object.keys(n).length&&r:r}).catch(function(){return!1})}}}};function pR(t){return t&&t.name==="schema"&&t.args.length>0&&typeof t.args[0]=="object"}function ng(t){return typeof t=="string"?t.split(""):t}var P9={equal:function(t){return function(e){return e==t}},exact:function(t){return function(e){return e===t}},number:function(t){return t===void 0&&(t=!0),function(e){return typeof e=="number"&&(t||isFinite(e))}},integer:function(){return function(t){var e=Number.isInteger||ufe;return e(t)}},numeric:function(){return function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},string:function(){return kh("string")},boolean:function(){return kh("boolean")},undefined:function(){return kh("undefined")},null:function(){return kh("null")},array:function(){return kh("array")},object:function(){return kh("object")},instanceOf:function(t){return function(e){return e instanceof t}},pattern:function(t){return function(e){return t.test(e)}},lowercase:function(){return function(t){return typeof t=="boolean"||t===t.toLowerCase()&&t.trim()!==""}},uppercase:function(){return function(t){return t===t.toUpperCase()&&t.trim()!==""}},vowel:function(){return function(t){return/^[aeiou]+$/i.test(t)}},consonant:function(){return function(t){return/^(?=[^aeiou])([a-z]+)$/i.test(t)}},first:function(t){return function(e){return e[0]==t}},last:function(t){return function(e){return e[e.length-1]==t}},empty:function(){return function(t){return t.length===0}},length:function(t,e){return function(n){return n.length>=t&&n.length<=(e||t)}},minLength:function(t){return function(e){return e.length>=t}},maxLength:function(t){return function(e){return e.length<=t}},negative:function(){return function(t){return t<0}},positive:function(){return function(t){return t>=0}},between:function(t,e){return function(n){return n>=t&&n<=e}},range:function(t,e){return function(n){return n>=t&&n<=e}},lessThan:function(t){return function(e){return e<t}},lessThanOrEqual:function(t){return function(e){return e<=t}},greaterThan:function(t){return function(e){return e>t}},greaterThanOrEqual:function(t){return function(e){return e>=t}},even:function(){return function(t){return t%2===0}},odd:function(){return function(t){return t%2!==0}},includes:function(t){return function(e){return~e.indexOf(t)}},schema:function(t){return cfe(t)},passesAnyOf:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(n){return t.some(function(r){return r.test(n)})}},optional:lfe};function kh(t){return function(e){return Array.isArray(e)&&t==="array"||e===null&&t==="null"||typeof e===t}}function ufe(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function cfe(t){return{simple:function(e){var n=[];if(Object.keys(t).forEach(function(r){var i=t[r];try{i.check((e||{})[r])}catch(s){s.target=r,n.push(s)}}),n.length>0)throw n;return!0},async:function(e){var n=[],r=Object.keys(t).map(function(i){var s=t[i];return s.testAsync((e||{})[i]).catch(function(o){o.target=i,n.push(o)})});return Promise.all(r).then(function(){if(n.length>0)throw n;return!0})}}}function ml(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function PO(t,e=[]){let n=[];function r(s,o){const a=R.createContext(o),l=n.length;n=[...n,o];function u(f){const{scope:h,children:p,...g}=f,x=(h==null?void 0:h[t][l])||a,y=R.useMemo(()=>g,Object.values(g));return R.createElement(x.Provider,{value:y},p)}function c(f,h){const p=(h==null?void 0:h[t][l])||a,g=R.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,c]}const i=()=>{const s=n.map(o=>R.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return R.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,ffe(i,...e)]}function ffe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return R.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function yp(t){const e=R.useRef(t);return R.useEffect(()=>{e.current=t}),R.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function hfe(t,e=globalThis==null?void 0:globalThis.document){const n=yp(t);R.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const D9="dismissableLayer.update",dfe="dismissableLayer.pointerDownOutside",pfe="dismissableLayer.focusOutside";let mR;const mfe=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gfe=R.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...u}=t,c=R.useContext(mfe),[f,h]=R.useState(null),p=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,g]=R.useState({}),x=vp(e,D=>h(D)),y=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),S=y.indexOf(v),_=f?y.indexOf(f):-1,E=c.layersWithOutsidePointerEventsDisabled.size>0,b=_>=S,T=vfe(D=>{const C=D.target,L=[...c.branches].some(k=>k.contains(C));!b||L||(s==null||s(D),a==null||a(D),D.defaultPrevented||l==null||l())},p),A=yfe(D=>{const C=D.target;[...c.branches].some(k=>k.contains(C))||(o==null||o(D),a==null||a(D),D.defaultPrevented||l==null||l())},p);return hfe(D=>{_===c.layers.size-1&&(i==null||i(D),!D.defaultPrevented&&l&&(D.preventDefault(),l()))},p),R.useEffect(()=>{if(f)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(mR=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),gR(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=mR)}},[f,p,r,c]),R.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),gR())},[f,c]),R.useEffect(()=>{const D=()=>g({});return document.addEventListener(D9,D),()=>document.removeEventListener(D9,D)},[]),R.createElement(jf.div,kn({},u,{ref:x,style:{pointerEvents:E?b?"auto":"none":void 0,...t.style},onFocusCapture:ml(t.onFocusCapture,A.onFocusCapture),onBlurCapture:ml(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:ml(t.onPointerDownCapture,T.onPointerDownCapture)}))});function vfe(t,e=globalThis==null?void 0:globalThis.document){const n=yp(t),r=R.useRef(!1),i=R.useRef(()=>{});return R.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let u=function(){DO(dfe,n,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function yfe(t,e=globalThis==null?void 0:globalThis.document){const n=yp(t),r=R.useRef(!1);return R.useEffect(()=>{const i=s=>{s.target&&!r.current&&DO(pfe,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function gR(){const t=new CustomEvent(D9);document.dispatchEvent(t)}function DO(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?ife(i,s):i.dispatchEvent(s)}const qd=globalThis!=null&&globalThis.document?R.useLayoutEffect:()=>{},xfe=jN["useId".toString()]||(()=>{});let Sfe=0;function _fe(t){const[e,n]=R.useState(xfe());return qd(()=>{t||n(r=>r??String(Sfe++))},[t]),t||(e?`radix-${e}`:"")}const wfe=["top","right","bottom","left"],Qu=Math.min,Is=Math.max,Ov=Math.round,rg=Math.floor,qu=t=>({x:t,y:t}),Efe={left:"right",right:"left",bottom:"top",top:"bottom"},bfe={start:"end",end:"start"};function L9(t,e,n){return Is(t,Qu(e,n))}function Nl(t,e){return typeof t=="function"?t(e):t}function zl(t){return t.split("-")[0]}function xp(t){return t.split("-")[1]}function D_(t){return t==="x"?"y":"x"}function L_(t){return t==="y"?"height":"width"}function Sp(t){return["top","bottom"].includes(zl(t))?"y":"x"}function I_(t){return D_(Sp(t))}function Mfe(t,e,n){n===void 0&&(n=!1);const r=xp(t),i=I_(t),s=L_(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=kv(o)),[o,kv(o)]}function Tfe(t){const e=kv(t);return[I9(t),e,I9(e)]}function I9(t){return t.replace(/start|end/g,e=>bfe[e])}function Afe(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function Cfe(t,e,n,r){const i=xp(t);let s=Afe(zl(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(I9)))),s}function kv(t){return t.replace(/left|right|bottom|top/g,e=>Efe[e])}function Rfe(t){return{top:0,right:0,bottom:0,left:0,...t}}function LO(t){return typeof t!="number"?Rfe(t):{top:t,right:t,bottom:t,left:t}}function Nv(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function vR(t,e,n){let{reference:r,floating:i}=t;const s=Sp(e),o=I_(e),a=L_(o),l=zl(e),u=s==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:c,y:r.y-i.height};break;case"bottom":p={x:c,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(xp(e)){case"start":p[o]-=h*(n&&u?-1:1);break;case"end":p[o]+=h*(n&&u?-1:1);break}return p}const Pfe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:f}=vR(u,r,l),h=r,p={},g=0;for(let x=0;x<a.length;x++){const{name:y,fn:v}=a[x],{x:S,y:_,data:E,reset:b}=await v({x:c,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});if(c=S??c,f=_??f,p={...p,[y]:{...p[y],...E}},b&&g<=50){g++,typeof b=="object"&&(b.placement&&(h=b.placement),b.rects&&(u=b.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):b.rects),{x:c,y:f}=vR(u,h,l)),x=-1;continue}}return{x:c,y:f,placement:h,strategy:i,middlewareData:p}};async function e1(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Nl(e,t),g=LO(p),y=a[h?f==="floating"?"reference":"floating":f],v=Nv(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),S=f==="floating"?{...o.floating,x:r,y:i}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),E=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},b=Nv(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:S,offsetParent:_,strategy:l}):S);return{top:(v.top-b.top+g.top)/E.y,bottom:(b.bottom-v.bottom+g.bottom)/E.y,left:(v.left-b.left+g.left)/E.x,right:(b.right-v.right+g.right)/E.x}}const yR=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:c=0}=Nl(t,e)||{};if(u==null)return{};const f=LO(c),h={x:n,y:r},p=I_(i),g=L_(p),x=await o.getDimensions(u),y=p==="y",v=y?"top":"left",S=y?"bottom":"right",_=y?"clientHeight":"clientWidth",E=s.reference[g]+s.reference[p]-h[p]-s.floating[g],b=h[p]-s.reference[p],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let A=T?T[_]:0;(!A||!await(o.isElement==null?void 0:o.isElement(T)))&&(A=a.floating[_]||s.floating[g]);const D=E/2-b/2,C=A/2-x[g]/2-1,L=Qu(f[v],C),k=Qu(f[S],C),z=L,H=A-x[g]-k,V=A/2-x[g]/2+D,K=L9(z,V,H),J=!l.arrow&&xp(i)!=null&&V!=K&&s.reference[g]/2-(V<z?L:k)-x[g]/2<0,$=J?V<z?V-z:V-H:0;return{[p]:h[p]+$,data:{[p]:K,centerOffset:V-K-$,...J&&{alignmentOffset:$}},reset:J}}}),Dfe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:x=!0,...y}=Nl(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=zl(i),S=zl(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=h||(S||!x?[kv(a)]:Tfe(a));!h&&g!=="none"&&E.push(...Cfe(a,x,g,_));const b=[a,...E],T=await e1(e,y),A=[];let D=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&A.push(T[v]),f){const z=Mfe(i,o,_);A.push(T[z[0]],T[z[1]])}if(D=[...D,{placement:i,overflows:A}],!A.every(z=>z<=0)){var C,L;const z=(((C=s.flip)==null?void 0:C.index)||0)+1,H=b[z];if(H)return{data:{index:z,overflows:D},reset:{placement:H}};let V=(L=D.filter(K=>K.overflows[0]<=0).sort((K,J)=>K.overflows[1]-J.overflows[1])[0])==null?void 0:L.placement;if(!V)switch(p){case"bestFit":{var k;const K=(k=D.map(J=>[J.placement,J.overflows.filter($=>$>0).reduce(($,U)=>$+U,0)]).sort((J,$)=>J[1]-$[1])[0])==null?void 0:k[0];K&&(V=K);break}case"initialPlacement":V=a;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function xR(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function SR(t){return wfe.some(e=>t[e]>=0)}const Lfe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Nl(t,e);switch(r){case"referenceHidden":{const s=await e1(e,{...i,elementContext:"reference"}),o=xR(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:SR(o)}}}case"escaped":{const s=await e1(e,{...i,altBoundary:!0}),o=xR(s,n.floating);return{data:{escapedOffsets:o,escaped:SR(o)}}}default:return{}}}}};async function Ife(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=zl(n),a=xp(n),l=Sp(n)==="y",u=["left","top"].includes(o)?-1:1,c=s&&l?-1:1,f=Nl(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*c,y:h*u}:{x:h*u,y:p*c}}const Bfe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r}=e,i=await Ife(e,t);return{x:n+i.x,y:r+i.y,data:i}}}},Ffe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:v,y:S}=y;return{x:v,y:S}}},...l}=Nl(t,e),u={x:n,y:r},c=await e1(e,l),f=Sp(zl(i)),h=D_(f);let p=u[h],g=u[f];if(s){const y=h==="y"?"top":"left",v=h==="y"?"bottom":"right",S=p+c[y],_=p-c[v];p=L9(S,p,_)}if(o){const y=f==="y"?"top":"left",v=f==="y"?"bottom":"right",S=g+c[y],_=g-c[v];g=L9(S,g,_)}const x=a.fn({...e,[h]:p,[f]:g});return{...x,data:{x:x.x-n,y:x.y-r}}}}},Ufe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Nl(t,e),c={x:n,y:r},f=Sp(i),h=D_(f);let p=c[h],g=c[f];const x=Nl(a,e),y=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const _=h==="y"?"height":"width",E=s.reference[h]-s.floating[_]+y.mainAxis,b=s.reference[h]+s.reference[_]-y.mainAxis;p<E?p=E:p>b&&(p=b)}if(u){var v,S;const _=h==="y"?"width":"height",E=["top","left"].includes(zl(i)),b=s.reference[f]-s.floating[_]+(E&&((v=o.offset)==null?void 0:v[f])||0)+(E?0:y.crossAxis),T=s.reference[f]+s.reference[_]+(E?0:((S=o.offset)==null?void 0:S[f])||0)-(E?y.crossAxis:0);g<b?g=b:g>T&&(g=T)}return{[h]:p,[f]:g}}}},Ofe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:i,elements:s}=e,{apply:o=()=>{},...a}=Nl(t,e),l=await e1(e,a),u=zl(n),c=xp(n),f=Sp(n)==="y",{width:h,height:p}=r.floating;let g,x;u==="top"||u==="bottom"?(g=u,x=c===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(x=u,g=c==="end"?"top":"bottom");const y=p-l[g],v=h-l[x],S=!e.middlewareData.shift;let _=y,E=v;if(f){const T=h-l.left-l.right;E=c||S?Qu(v,T):T}else{const T=p-l.top-l.bottom;_=c||S?Qu(y,T):T}if(S&&!c){const T=Is(l.left,0),A=Is(l.right,0),D=Is(l.top,0),C=Is(l.bottom,0);f?E=h-2*(T!==0||A!==0?T+A:Is(l.left,l.right)):_=p-2*(D!==0||C!==0?D+C:Is(l.top,l.bottom))}await o({...e,availableWidth:E,availableHeight:_});const b=await i.getDimensions(s.floating);return h!==b.width||p!==b.height?{reset:{rects:!0}}:{}}}};function $u(t){return IO(t)?(t.nodeName||"").toLowerCase():"#document"}function Gs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Xl(t){var e;return(e=(IO(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function IO(t){return t instanceof Node||t instanceof Gs(t).Node}function Gl(t){return t instanceof Element||t instanceof Gs(t).Element}function Ga(t){return t instanceof HTMLElement||t instanceof Gs(t).HTMLElement}function _R(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Gs(t).ShadowRoot}function O1(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Do(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function kfe(t){return["table","td","th"].includes($u(t))}function B_(t){const e=F_(),n=Do(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Nfe(t){let e=$d(t);for(;Ga(e)&&!s6(e);){if(B_(e))return e;e=$d(e)}return null}function F_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function s6(t){return["html","body","#document"].includes($u(t))}function Do(t){return Gs(t).getComputedStyle(t)}function o6(t){return Gl(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function $d(t){if($u(t)==="html")return t;const e=t.assignedSlot||t.parentNode||_R(t)&&t.host||Xl(t);return _R(e)?e.host:e}function BO(t){const e=$d(t);return s6(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ga(e)&&O1(e)?e:BO(e)}function t1(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=BO(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Gs(i);return s?e.concat(o,o.visualViewport||[],O1(i)?i:[],o.frameElement&&n?t1(o.frameElement):[]):e.concat(i,t1(i,[],n))}function FO(t){const e=Do(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ga(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Ov(n)!==s||Ov(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function U_(t){return Gl(t)?t:t.contextElement}function Ad(t){const e=U_(t);if(!Ga(e))return qu(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=FO(e);let o=(s?Ov(n.width):n.width)/r,a=(s?Ov(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const zfe=qu(0);function UO(t){const e=Gs(t);return!F_()||!e.visualViewport?zfe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Gfe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Gs(t)?!1:e}function Bf(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=U_(t);let o=qu(1);e&&(r?Gl(r)&&(o=Ad(r)):o=Ad(t));const a=Gfe(s,n,r)?UO(s):qu(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,c=i.width/o.x,f=i.height/o.y;if(s){const h=Gs(s),p=r&&Gl(r)?Gs(r):r;let g=h.frameElement;for(;g&&r&&p!==h;){const x=Ad(g),y=g.getBoundingClientRect(),v=Do(g),S=y.left+(g.clientLeft+parseFloat(v.paddingLeft))*x.x,_=y.top+(g.clientTop+parseFloat(v.paddingTop))*x.y;l*=x.x,u*=x.y,c*=x.x,f*=x.y,l+=S,u+=_,g=Gs(g).frameElement}}return Nv({width:c,height:f,x:l,y:u})}function Hfe(t){let{rect:e,offsetParent:n,strategy:r}=t;const i=Ga(n),s=Xl(n);if(n===s)return e;let o={scrollLeft:0,scrollTop:0},a=qu(1);const l=qu(0);if((i||!i&&r!=="fixed")&&(($u(n)!=="body"||O1(s))&&(o=o6(n)),Ga(n))){const u=Bf(n);a=Ad(n),l.x=u.x+n.clientLeft,l.y=u.y+n.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+l.x,y:e.y*a.y-o.scrollTop*a.y+l.y}}function Vfe(t){return Array.from(t.getClientRects())}function OO(t){return Bf(Xl(t)).left+o6(t).scrollLeft}function Wfe(t){const e=Xl(t),n=o6(t),r=t.ownerDocument.body,i=Is(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Is(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+OO(t);const a=-n.scrollTop;return Do(r).direction==="rtl"&&(o+=Is(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function jfe(t,e){const n=Gs(t),r=Xl(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=F_();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function Xfe(t,e){const n=Bf(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Ga(t)?Ad(t):qu(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function wR(t,e,n){let r;if(e==="viewport")r=jfe(t,n);else if(e==="document")r=Wfe(Xl(t));else if(Gl(e))r=Xfe(e,n);else{const i=UO(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Nv(r)}function kO(t,e){const n=$d(t);return n===e||!Gl(n)||s6(n)?!1:Do(n).position==="fixed"||kO(n,e)}function Yfe(t,e){const n=e.get(t);if(n)return n;let r=t1(t,[],!1).filter(a=>Gl(a)&&$u(a)!=="body"),i=null;const s=Do(t).position==="fixed";let o=s?$d(t):t;for(;Gl(o)&&!s6(o);){const a=Do(o),l=B_(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||O1(o)&&!l&&kO(t,o))?r=r.filter(c=>c!==o):i=a,o=$d(o)}return e.set(t,r),r}function Kfe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Yfe(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,c)=>{const f=wR(e,c,i);return u.top=Is(f.top,u.top),u.right=Qu(f.right,u.right),u.bottom=Qu(f.bottom,u.bottom),u.left=Is(f.left,u.left),u},wR(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Jfe(t){return FO(t)}function Zfe(t,e,n){const r=Ga(e),i=Xl(e),s=n==="fixed",o=Bf(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=qu(0);if(r||!r&&!s)if(($u(e)!=="body"||O1(i))&&(a=o6(e)),r){const u=Bf(e,!0,s,e);l.x=u.x+e.clientLeft,l.y=u.y+e.clientTop}else i&&(l.x=OO(i));return{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function ER(t,e){return!Ga(t)||Do(t).position==="fixed"?null:e?e(t):t.offsetParent}function NO(t,e){const n=Gs(t);if(!Ga(t))return n;let r=ER(t,e);for(;r&&kfe(r)&&Do(r).position==="static";)r=ER(r,e);return r&&($u(r)==="html"||$u(r)==="body"&&Do(r).position==="static"&&!B_(r))?n:r||Nfe(t)||n}const Qfe=async function(t){let{reference:e,floating:n,strategy:r}=t;const i=this.getOffsetParent||NO,s=this.getDimensions;return{reference:Zfe(e,await i(n),r),floating:{x:0,y:0,...await s(n)}}};function qfe(t){return Do(t).direction==="rtl"}const $fe={convertOffsetParentRelativeRectToViewportRelativeRect:Hfe,getDocumentElement:Xl,getClippingRect:Kfe,getOffsetParent:NO,getElementRects:Qfe,getClientRects:Vfe,getDimensions:Jfe,getScale:Ad,isElement:Gl,isRTL:qfe};function ehe(t,e){let n=null,r;const i=Xl(t);function s(){clearTimeout(r),n&&n.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:c,width:f,height:h}=t.getBoundingClientRect();if(a||e(),!f||!h)return;const p=rg(c),g=rg(i.clientWidth-(u+f)),x=rg(i.clientHeight-(c+h)),y=rg(u),S={rootMargin:-p+"px "+-g+"px "+-x+"px "+-y+"px",threshold:Is(0,Qu(1,l))||1};let _=!0;function E(b){const T=b[0].intersectionRatio;if(T!==l){if(!_)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},100)}_=!1}try{n=new IntersectionObserver(E,{...S,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,S)}n.observe(t)}return o(!0),s}function the(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=U_(t),c=i||s?[...u?t1(u):[],...t1(e)]:[];c.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const f=u&&a?ehe(u,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(v=>{let[S]=v;S&&S.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{p&&p.observe(e)})),n()}),u&&!l&&p.observe(u),p.observe(e));let g,x=l?Bf(t):null;l&&y();function y(){const v=Bf(t);x&&(v.x!==x.x||v.y!==x.y||v.width!==x.width||v.height!==x.height)&&n(),x=v,g=requestAnimationFrame(y)}return n(),()=>{c.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),f&&f(),p&&p.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const nhe=(t,e,n)=>{const r=new Map,i={platform:$fe,...n},s={...i.platform,_c:r};return Pfe(t,e,{...i,platform:s})},rhe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?yR({element:r.current,padding:i}).fn(n):{}:r?yR({element:r,padding:i}).fn(n):{}}}};var zg=typeof document<"u"?R.useLayoutEffect:R.useEffect;function zv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!zv(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!zv(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function zO(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function bR(t,e){const n=zO(t);return Math.round(e*n)/n}function MR(t){const e=R.useRef(t);return zg(()=>{e.current=t}),e}function ihe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[c,f]=R.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=R.useState(r);zv(h,r)||p(r);const[g,x]=R.useState(null),[y,v]=R.useState(null),S=R.useCallback(J=>{J!=T.current&&(T.current=J,x(J))},[x]),_=R.useCallback(J=>{J!==A.current&&(A.current=J,v(J))},[v]),E=s||g,b=o||y,T=R.useRef(null),A=R.useRef(null),D=R.useRef(c),C=MR(l),L=MR(i),k=R.useCallback(()=>{if(!T.current||!A.current)return;const J={placement:e,strategy:n,middleware:h};L.current&&(J.platform=L.current),nhe(T.current,A.current,J).then($=>{const U={...$,isPositioned:!0};z.current&&!zv(D.current,U)&&(D.current=U,l1.flushSync(()=>{f(U)}))})},[h,e,n,L]);zg(()=>{u===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,f(J=>({...J,isPositioned:!1})))},[u]);const z=R.useRef(!1);zg(()=>(z.current=!0,()=>{z.current=!1}),[]),zg(()=>{if(E&&(T.current=E),b&&(A.current=b),E&&b){if(C.current)return C.current(E,b,k);k()}},[E,b,k,C]);const H=R.useMemo(()=>({reference:T,floating:A,setReference:S,setFloating:_}),[S,_]),V=R.useMemo(()=>({reference:E,floating:b}),[E,b]),K=R.useMemo(()=>{const J={position:n,left:0,top:0};if(!V.floating)return J;const $=bR(V.floating,c.x),U=bR(V.floating,c.y);return a?{...J,transform:"translate("+$+"px, "+U+"px)",...zO(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:U}},[n,a,V.floating,c.x,c.y]);return R.useMemo(()=>({...c,update:k,refs:H,elements:V,floatingStyles:K}),[c,k,H,V,K])}const she=R.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return R.createElement(jf.svg,kn({},s,{ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),t.asChild?n:R.createElement("polygon",{points:"0,0 30,0 15,10"}))}),ohe=she;function ahe(t){const[e,n]=R.useState(void 0);return qd(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const GO="Popper",[HO,VO]=PO(GO),[lhe,WO]=HO(GO),uhe=t=>{const{__scopePopper:e,children:n}=t,[r,i]=R.useState(null);return R.createElement(lhe,{scope:e,anchor:r,onAnchorChange:i},n)},che="PopperAnchor",fhe=R.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=WO(che,n),o=R.useRef(null),a=vp(e,o);return R.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:R.createElement(jf.div,kn({},i,{ref:a}))}),jO="PopperContent",[hhe,dhe]=HO(jO),phe=R.forwardRef((t,e)=>{var n,r,i,s,o,a,l,u;const{__scopePopper:c,side:f="bottom",sideOffset:h=0,align:p="center",alignOffset:g=0,arrowPadding:x=0,collisionBoundary:y=[],collisionPadding:v=0,sticky:S="partial",hideWhenDetached:_=!1,avoidCollisions:E=!0,onPlaced:b,...T}=t,A=WO(jO,c),[D,C]=R.useState(null),L=vp(e,me=>C(me)),[k,z]=R.useState(null),H=ahe(k),V=(n=H==null?void 0:H.width)!==null&&n!==void 0?n:0,K=(r=H==null?void 0:H.height)!==null&&r!==void 0?r:0,J=f+(p!=="center"?"-"+p:""),$=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},U=Array.isArray(y)?y:[y],G=U.length>0,W={padding:$,boundary:U.filter(yhe),altBoundary:G},{refs:F,floatingStyles:j,placement:ie,isPositioned:se,middlewareData:re}=ihe({strategy:"fixed",placement:J,whileElementsMounted:the,elements:{reference:A.anchor},middleware:[Bfe({mainAxis:h+K,alignmentAxis:g}),E&&Ffe({mainAxis:!0,crossAxis:!1,limiter:S==="partial"?Ufe():void 0,...W}),E&&Dfe({...W}),Ofe({...W,apply:({elements:me,rects:de,availableWidth:pe,availableHeight:ze})=>{const{width:ye,height:Be}=de.reference,Ue=me.floating.style;Ue.setProperty("--radix-popper-available-width",`${pe}px`),Ue.setProperty("--radix-popper-available-height",`${ze}px`),Ue.setProperty("--radix-popper-anchor-width",`${ye}px`),Ue.setProperty("--radix-popper-anchor-height",`${Be}px`)}}),k&&rhe({element:k,padding:x}),xhe({arrowWidth:V,arrowHeight:K}),_&&Lfe({strategy:"referenceHidden"})]}),[fe,oe]=XO(ie),he=yp(b);qd(()=>{se&&(he==null||he())},[se,he]);const ke=(i=re.arrow)===null||i===void 0?void 0:i.x,He=(s=re.arrow)===null||s===void 0?void 0:s.y,ge=((o=re.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[Y,Se]=R.useState();return qd(()=>{D&&Se(window.getComputedStyle(D).zIndex)},[D]),R.createElement("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...j,transform:se?j.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Y,"--radix-popper-transform-origin":[(a=re.transformOrigin)===null||a===void 0?void 0:a.x,(l=re.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:t.dir},R.createElement(hhe,{scope:c,placedSide:fe,onArrowChange:z,arrowX:ke,arrowY:He,shouldHideArrow:ge},R.createElement(jf.div,kn({"data-side":fe,"data-align":oe},T,{ref:L,style:{...T.style,animation:se?void 0:"none",opacity:(u=re.hide)!==null&&u!==void 0&&u.referenceHidden?0:void 0}}))))}),mhe="PopperArrow",ghe={top:"bottom",right:"left",bottom:"top",left:"right"},vhe=R.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=dhe(mhe,r),o=ghe[s.placedSide];return R.createElement("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0}},R.createElement(ohe,kn({},i,{ref:n,style:{...i.style,display:"block"}})))});function yhe(t){return t!==null}const xhe=t=>({name:"transformOrigin",options:t,fn(e){var n,r,i,s,o;const{placement:a,rects:l,middlewareData:u}=e,f=((n=u.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,h=f?0:t.arrowWidth,p=f?0:t.arrowHeight,[g,x]=XO(a),y={start:"0%",center:"50%",end:"100%"}[x],v=((r=(i=u.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+h/2,S=((s=(o=u.arrow)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0)+p/2;let _="",E="";return g==="bottom"?(_=f?y:`${v}px`,E=`${-p}px`):g==="top"?(_=f?y:`${v}px`,E=`${l.floating.height+p}px`):g==="right"?(_=`${-p}px`,E=f?y:`${S}px`):g==="left"&&(_=`${l.floating.width+p}px`,E=f?y:`${S}px`),{data:{x:_,y:E}}}});function XO(t){const[e,n="center"]=t.split("-");return[e,n]}const She=uhe,_he=fhe,whe=phe,Ehe=vhe;function bhe(t,e){return R.useReducer((n,r)=>{const i=e[n][r];return i??n},t)}const YO=t=>{const{present:e,children:n}=t,r=Mhe(e),i=typeof n=="function"?n({present:r.isPresent}):R.Children.only(n),s=vp(r.ref,i.ref);return typeof n=="function"||r.isPresent?R.cloneElement(i,{ref:s}):null};YO.displayName="Presence";function Mhe(t){const[e,n]=R.useState(),r=R.useRef({}),i=R.useRef(t),s=R.useRef("none"),o=t?"mounted":"unmounted",[a,l]=bhe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R.useEffect(()=>{const u=ig(r.current);s.current=a==="mounted"?u:"none"},[a]),qd(()=>{const u=r.current,c=i.current;if(c!==t){const h=s.current,p=ig(u);t?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),qd(()=>{if(e){const u=f=>{const p=ig(r.current).includes(f.animationName);f.target===e&&p&&l1.flushSync(()=>l("ANIMATION_END"))},c=f=>{f.target===e&&(s.current=ig(r.current))};return e.addEventListener("animationstart",c),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{e.removeEventListener("animationstart",c),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:R.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function ig(t){return(t==null?void 0:t.animationName)||"none"}function The({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=Ahe({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=yp(n),l=R.useCallback(u=>{if(s){const f=typeof u=="function"?u(t):u;f!==t&&a(f)}else i(u)},[s,t,i,a]);return[o,l]}function Ahe({defaultProp:t,onChange:e}){const n=R.useState(t),[r]=n,i=R.useRef(r),s=yp(e);return R.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}const Che=R.forwardRef((t,e)=>R.createElement(jf.span,kn({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}))),Rhe=Che,[a6,d3e]=PO("Tooltip",[VO]),l6=VO(),Phe="TooltipProvider",B9="tooltip.open",[p3e,O_]=a6(Phe),k_="Tooltip",[Dhe,u6]=a6(k_),Lhe=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=t,l=O_(k_,t.__scopeTooltip),u=l6(e),[c,f]=R.useState(null),h=_fe(),p=R.useRef(0),g=o??l.disableHoverableContent,x=a??l.delayDuration,y=R.useRef(!1),[v=!1,S]=The({prop:r,defaultProp:i,onChange:A=>{A?(l.onOpen(),document.dispatchEvent(new CustomEvent(B9))):l.onClose(),s==null||s(A)}}),_=R.useMemo(()=>v?y.current?"delayed-open":"instant-open":"closed",[v]),E=R.useCallback(()=>{window.clearTimeout(p.current),y.current=!1,S(!0)},[S]),b=R.useCallback(()=>{window.clearTimeout(p.current),S(!1)},[S]),T=R.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{y.current=!0,S(!0)},x)},[x,S]);return R.useEffect(()=>()=>window.clearTimeout(p.current),[]),R.createElement(She,u,R.createElement(Dhe,{scope:e,contentId:h,open:v,stateAttribute:_,trigger:c,onTriggerChange:f,onTriggerEnter:R.useCallback(()=>{l.isOpenDelayed?T():E()},[l.isOpenDelayed,T,E]),onTriggerLeave:R.useCallback(()=>{g?b():window.clearTimeout(p.current)},[b,g]),onOpen:E,onClose:b,disableHoverableContent:g},n))},TR="TooltipTrigger",Ihe=R.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=u6(TR,n),s=O_(TR,n),o=l6(n),a=R.useRef(null),l=vp(e,a,i.onTriggerChange),u=R.useRef(!1),c=R.useRef(!1),f=R.useCallback(()=>u.current=!1,[]);return R.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),R.createElement(_he,kn({asChild:!0},o),R.createElement(jf.button,kn({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:l,onPointerMove:ml(t.onPointerMove,h=>{h.pointerType!=="touch"&&!c.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),c.current=!0)}),onPointerLeave:ml(t.onPointerLeave,()=>{i.onTriggerLeave(),c.current=!1}),onPointerDown:ml(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ml(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:ml(t.onBlur,i.onClose),onClick:ml(t.onClick,i.onClose)})))}),Bhe="TooltipPortal",[m3e,Fhe]=a6(Bhe,{forceMount:void 0}),n1="TooltipContent",Uhe=R.forwardRef((t,e)=>{const n=Fhe(n1,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=u6(n1,t.__scopeTooltip);return R.createElement(YO,{present:r||o.open},o.disableHoverableContent?R.createElement(KO,kn({side:i},s,{ref:e})):R.createElement(Ohe,kn({side:i},s,{ref:e})))}),Ohe=R.forwardRef((t,e)=>{const n=u6(n1,t.__scopeTooltip),r=O_(n1,t.__scopeTooltip),i=R.useRef(null),s=vp(e,i),[o,a]=R.useState(null),{trigger:l,onClose:u}=n,c=i.current,{onPointerInTransitChange:f}=r,h=R.useCallback(()=>{a(null),f(!1)},[f]),p=R.useCallback((g,x)=>{const y=g.currentTarget,v={x:g.clientX,y:g.clientY},S=Hhe(v,y.getBoundingClientRect()),_=Vhe(v,S),E=Whe(x.getBoundingClientRect()),b=Xhe([..._,...E]);a(b),f(!0)},[f]);return R.useEffect(()=>()=>h(),[h]),R.useEffect(()=>{if(l&&c){const g=y=>p(y,c),x=y=>p(y,l);return l.addEventListener("pointerleave",g),c.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",g),c.removeEventListener("pointerleave",x)}}},[l,c,p,h]),R.useEffect(()=>{if(o){const g=x=>{const y=x.target,v={x:x.clientX,y:x.clientY},S=(l==null?void 0:l.contains(y))||(c==null?void 0:c.contains(y)),_=!jhe(v,o);S?h():_&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,c,o,u,h]),R.createElement(KO,kn({},t,{ref:s}))}),[khe,Nhe]=a6(k_,{isInside:!1}),KO=R.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=u6(n1,n),u=l6(n),{onClose:c}=l;return R.useEffect(()=>(document.addEventListener(B9,c),()=>document.removeEventListener(B9,c)),[c]),R.useEffect(()=>{if(l.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&c()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,c]),R.createElement(gfe,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:c},R.createElement(whe,kn({"data-state":l.stateAttribute},u,a,{ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),R.createElement(MO,null,r),R.createElement(khe,{scope:n,isInside:!0},R.createElement(Rhe,{id:l.contentId,role:"tooltip"},i||r))))}),zhe="TooltipArrow",Ghe=R.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=l6(n);return Nhe(zhe,n).isInside?null:R.createElement(Ehe,kn({},i,r,{ref:e}))});function Hhe(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Vhe(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Whe(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function jhe(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,u=e[o].x,c=e[o].y;l>r!=c>r&&n<(u-a)*(r-l)/(c-l)+a&&(i=!i)}return i}function Xhe(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Yhe(e)}function Yhe(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}const Khe=Lhe,Jhe=Ihe,Zhe=Uhe,Qhe=Ghe;function qhe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Pn(t,e){if(t==null)return{};var n=qhe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}let Xn;(function(t){t[t.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",t[t.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",t[t.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",t[t.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",t[t.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",t[t.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",t[t.THEME_ERROR=6]="THEME_ERROR",t[t.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",t[t.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",t[t.EMPTY_KEY=9]="EMPTY_KEY"})(Xn||(Xn={}));const $he={[Xn.UNSUPPORTED_INPUT]:(t,e)=>[`An input with type \`${t}\` input was found at path \`${e}\` but it's not supported yet.`],[Xn.NO_COMPONENT_FOR_TYPE]:(t,e)=>[`Type \`${t}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[Xn.UNKNOWN_INPUT]:(t,e)=>[`input at path \`${t}\` is not recognized.`,e],[Xn.DUPLICATE_KEYS]:(t,e,n)=>[`Key \`${t}\` of path \`${e}\` already exists at path \`${n}\`. Even nested keys need to be unique. Rename one of the keys.`],[Xn.ALREADY_REGISTERED_TYPE]:t=>[`Type ${t} has already been registered. You can't register a component with the same type.`],[Xn.CLIPBOARD_ERROR]:t=>["Error copying the value",t],[Xn.THEME_ERROR]:(t,e)=>[`Error accessing the theme \`${t}.${e}\` value.`],[Xn.PATH_DOESNT_EXIST]:t=>[`Error getting the value at path \`${t}\`. There is probably an error in your \`render\` function.`],[Xn.PATH_DOESNT_EXIST]:t=>[`Error accessing the value at path \`${t}\``],[Xn.INPUT_TYPE_OVERRIDE]:(t,e,n)=>[`Input at path \`${t}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${n}\`.`],[Xn.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function JO(t,e,...n){const[r,...i]=$he[e](...n);console[t]("LEVA: "+r,...i)}const vl=JO.bind(null,"warn"),ede=JO.bind(null,"log"),tde=["value"],nde=["schema"],rde=["value"],ZO=[],Ff={};function AR(t){let{value:e}=t,n=Pn(t,tde);for(let r of ZO){const i=r(e,n);if(i)return i}}function Yl(t,e){let{schema:n}=e,r=Pn(e,nde);if(t in Ff){vl(Xn.ALREADY_REGISTERED_TYPE,t);return}ZO.push((i,s)=>n(i,s)&&t),Ff[t]=r}function t8(t,e,n,r){const{normalize:i}=Ff[t];if(i)return i(e,n,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=Pn(e,rde);return{value:s,settings:o}}function ide(t,e,n,r,i,s){const{sanitize:o}=Ff[t];return o?o(e,n,r,i,s):e}function CR(t,e,n){const{format:r}=Ff[t];return r?r(e,n):e}function sde(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(n),!0).forEach(function(r){sde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const ec=(t,e,n)=>t>n?n:t<e?e:t,ode=t=>{if(t===""||typeof t=="number")return t;try{const e=vu(t);if(!isNaN(e))return e}catch{}return parseFloat(t)},ade=Math.log(10);function PR(t){let e=Math.abs(+String(t).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const n=Math.floor(Math.log(e)/ade)+1,r=Math.floor(Math.log10(Math.abs(t))),i=Math.pow(10,r-n);return Math.max(i,.001)}const Gv=(t,e,n)=>n===e?0:(ec(t,e,n)-e)/(n-e),Hv=(t,e,n)=>t*(n-e)+e,lde=()=>"_"+Math.random().toString(36).substr(2,9),DR=/\(([0-9+\-*/^ .]+)\)/,LR=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,IR=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,BR=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,FR=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,UR=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function vu(t){if(isNaN(Number(t)))if(DR.test(t)){const e=t.replace(DR,(n,r)=>String(vu(r)));return vu(e)}else if(LR.test(t)){const e=t.replace(LR,(n,r,i)=>String(Math.pow(Number(r),Number(i))));return vu(e)}else if(IR.test(t)){const e=t.replace(IR,(n,r,i)=>String(Number(r)*Number(i)));return vu(e)}else if(BR.test(t)){const e=t.replace(BR,(n,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return vu(e)}else if(FR.test(t)){const e=t.replace(FR,(n,r,i)=>String(Number(r)+Number(i)));return vu(e)}else if(UR.test(t)){const e=t.replace(UR,(n,r,i)=>String(Number(r)-Number(i)));return vu(e)}else return Number(t);return Number(t)}function ude(t,e){const n=Ot({},t);return e.forEach(r=>r in t&&delete n[r]),n}function cde(t,e){return t.reduce((n,r,i)=>Object.assign(n,{[e[i]]:r}),{})}function QO(t){return Object.prototype.toString.call(t)==="[object Object]"}const fde=t=>QO(t)&&Object.keys(t).length===0;let Oa;(function(t){t.BUTTON="BUTTON",t.BUTTON_GROUP="BUTTON_GROUP",t.MONITOR="MONITOR",t.FOLDER="FOLDER"})(Oa||(Oa={}));let ra;(function(t){t.SELECT="SELECT",t.IMAGE="IMAGE",t.NUMBER="NUMBER",t.COLOR="COLOR",t.STRING="STRING",t.BOOLEAN="BOOLEAN",t.INTERVAL="INTERVAL",t.VECTOR3D="VECTOR3D",t.VECTOR2D="VECTOR2D"})(ra||(ra={}));const hde=["type","__customInput"],dde=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],pde=["type"];function qO(t,e,n={},r){var i,s;if(typeof t!="object"||Array.isArray(t))return{type:r,input:t,options:Ot({key:e,label:e,optional:!1,disabled:!1,order:0},n)};if("__customInput"in t){const{type:b,__customInput:T}=t,A=Pn(t,hde);return qO(T,e,A,b)}const{render:o,label:a,optional:l,order:u=0,disabled:c,hint:f,onChange:h,onEditStart:p,onEditEnd:g,transient:x}=t,y=Pn(t,dde),v=Ot({render:o,key:e,label:a??e,hint:f,transient:x??!!h,onEditStart:p,onEditEnd:g,disabled:c,optional:l,order:u},n);let{type:S}=y,_=Pn(y,pde);if(S=r??S,S in Oa)return{type:S,input:_,options:v};let E;return r&&QO(_)&&"value"in _?E=_.value:E=fde(_)?void 0:_,{type:S,input:E,options:Ot(Ot({},v),{},{onChange:h,optional:(i=v.optional)!==null&&i!==void 0?i:!1,disabled:(s=v.disabled)!==null&&s!==void 0?s:!1})}}function mde(t,e,n,r){const i=qO(t,e),{type:s,input:o,options:a}=i;if(s)return s in Oa?i:{type:s,input:t8(s,o,n,r),options:a};let l=AR(o);return l?{type:l,input:t8(l,o,n,r),options:a}:(l=AR({value:o}),l?{type:l,input:t8(l,{value:o},n,r),options:a}:!1)}function OR(t,e,n,r,i){const{value:s,type:o,settings:a}=t;t.value=$O({type:o,value:s,settings:a},e,n,r),t.fromPanel=i}const gde=function(e,n,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=n,this.error=r};function $O({type:t,value:e,settings:n},r,i,s){const o=t!=="SELECT"&&typeof r=="function"?r(e):r;let a;try{a=ide(t,o,n,e,i,s)}catch(l){throw new gde(`The value \`${r}\` did not result in a correct value.`,e,l)}return Fv(a,e)?e:a}const ek=(t,e,n=!1)=>{let r=0;return function(){const i=arguments,s=n&&!r,o=()=>t.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,e),s&&o()}},tk=t=>t.shiftKey?5:t.altKey?1/5:1,vde=["value"],yde=["min","max"],xde=t=>{if(typeof t=="number")return!0;if(typeof t=="string"){const e=parseFloat(t);return isNaN(e)?!1:t.substring((""+e).length).trim().length<4}return!1},nk=(t,{min:e=-1/0,max:n=1/0,suffix:r})=>{const i=parseFloat(t);if(t===""||isNaN(i))throw Error("Invalid number");const s=ec(i,e,n);return r?s+r:s},Sde=(t,{pad:e=0,suffix:n})=>{const r=parseFloat(t).toFixed(e);return n?r+n:r},rk=t=>{let{value:e}=t,n=Pn(t,vde);const{min:r=-1/0,max:i=1/0}=n,s=Pn(n,yde);let o=parseFloat(e);const a=typeof e=="string"?e.substring((""+o).length):void 0;o=ec(o,r,i);let l=n.step;l||(Number.isFinite(r)?Number.isFinite(i)?l=+(Math.abs(i-r)/100).toPrecision(1):l=+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-o)/100).toPrecision(1)));const u=l?PR(l)*10:PR(o);l=l||u/10;const c=Math.round(ec(Math.log10(1/u),0,2));return{value:a?o+a:o,settings:Ot({initialValue:o,step:l,pad:c,min:r,max:i,suffix:a},s)}},ik=(t,{step:e,initialValue:n})=>{const r=Math.round((t-n)/e);return n+r*e};var sk=Object.freeze({__proto__:null,schema:xde,sanitize:nk,format:Sde,normalize:rk,sanitizeStep:ik});function Cr(){return Cr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cr.apply(this,arguments)}const ok=R.createContext({});function Di(){return R.useContext(ok)}const ak=R.createContext(null),lk=R.createContext(null),uk=R.createContext(null);function k1(){return R.useContext(lk)}function _de(){return R.useContext(uk)}const wde=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function sg(t,e){const[n,r]=t.split(" "),i={};return n!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${n!=="default"&&n||e.borderColor}`),r&&(i.backgroundColor=r),i}const C0={$inputStyle:()=>t=>sg(t,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>t=>sg(t,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>t=>sg(t,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>t=>sg(t,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:St,css:g3e,createTheme:v3e,globalCss:Ede,keyframes:y3e}=XB({prefix:"leva",theme:wde(),utils:Ot(Ot({},C0),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:t=>({"&:focus":C0.$focusStyle()(t)}),$focusWithin:t=>({"&:focus-within":C0.$focusStyle()(t)}),$hover:t=>({"&:hover":C0.$hoverStyle()(t)}),$active:t=>({"&:active":C0.$activeStyle()(t)})})}),bde=Ede({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function Al(t,e){const{theme:n}=R.useContext(ak);if(!(t in n)||!(e in n[t]))return vl(Xn.THEME_ERROR,t,e),"";let r=e;for(;;){let i=n[t][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const ck=St("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),fk=St("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${ck}`]:{paddingLeft:0}}),Mde=St(fk,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),Tde=St("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),Ade=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],Cde=["onUpdate"];function N_(t){let{innerLabel:e,value:n,onUpdate:r,onChange:i,onKeyDown:s,type:o,id:a,inputType:l="text",rows:u=0}=t,c=Pn(t,Ade);const{id:f,emitOnEditStart:h,emitOnEditEnd:p,disabled:g}=Di(),x=a||f,y=R.useRef(null),v=u>0,S=v?"textarea":"input",_=R.useCallback(T=>A=>{const D=A.currentTarget.value;T(D)},[]);te.useEffect(()=>{const T=y.current,A=_(D=>{r(D),p()});return T==null||T.addEventListener("blur",A),()=>T==null?void 0:T.removeEventListener("blur",A)},[_,r,p]);const E=R.useCallback(T=>{T.key==="Enter"&&_(r)(T)},[_,r]),b=Object.assign({as:S},v?{rows:u}:{},c);return te.createElement(Tde,{textArea:v},e&&typeof e=="string"?te.createElement(fk,null,e):e,te.createElement(ck,Cr({levaType:o,ref:y,id:x,type:l,autoComplete:"off",spellCheck:"false",value:n,onChange:_(i),onFocus:()=>h(),onKeyPress:E,onKeyDown:s,disabled:g},b)))}function Rde(t){let{onUpdate:e}=t,n=Pn(t,Cde);const r=R.useCallback(s=>e(ode(s)),[e]),i=R.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;e(l=>parseFloat(l)+o*a)}},[e]);return te.createElement(N_,Cr({},n,{onUpdate:r,onKeyDown:i,type:"number"}))}const Vv=St("div",{}),F9=St("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),Pde=St("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${F9}::after`]:{opacity:.6},[`${Vv}:hover > & + ${F9}::after`]:{opacity:.6},[`${Vv}:hover > & > svg`]:{opacity:1}}),hk=St("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${Vv}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),dk=St("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${hk} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),pk=St(dk,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),Dde=St("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),Lde=St("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),U9=St("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),Ide=St("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${U9}`]:{pointerEvents:"auto"}}}}}),mk=St("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),Bde=St("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),Fde=St(Qhe,{fill:"$toolTipBackground"});function z_({children:t}){const{className:e}=R.useContext(ak);return te.createElement(ofe,{className:e},t)}const Ude=["align"];function Ode(){const{id:t,disable:e,disabled:n}=Di();return te.createElement(te.Fragment,null,te.createElement(Lde,{id:t+"__disable",type:"checkbox",checked:!n,onChange:()=>e(!n)}),te.createElement("label",{htmlFor:t+"__disable"}))}function kde(t){const{id:e,optional:n,hint:r}=Di(),i=t.htmlFor||(e?{htmlFor:e}:null),s=!r&&typeof t.children=="string"?{title:t.children}:null;return te.createElement(te.Fragment,null,n&&te.createElement(Ode,null),r!==void 0?te.createElement(Khe,null,te.createElement(Jhe,{asChild:!0},te.createElement(U9,Cr({},i,t))),te.createElement(Zhe,{side:"top",sideOffset:2},te.createElement(Bde,null,r,te.createElement(Fde,null)))):te.createElement(U9,Cr({},i,s,t)))}function ca(t){let{align:e}=t,n=Pn(t,Ude);const{value:r,label:i,key:s,disabled:o}=Di(),{hideCopyButton:a}=_de(),l=!a&&s!==void 0,[u,c]=R.useState(!1),f=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:r??""})),c(!0)}catch{vl(Xn.CLIPBOARD_ERROR,{[s]:r})}};return te.createElement(Dde,{align:e,onPointerLeave:()=>c(!1)},te.createElement(kde,n),l&&!o&&te.createElement("div",{title:`Click to copy ${typeof i=="string"?i:s} value`},u?te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},te.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),te.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):te.createElement("svg",{onClick:f,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},te.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),te.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const Nde=["toggled"],zde=St("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function G_(t){let{toggled:e}=t,n=Pn(t,Nde);return te.createElement(zde,Cr({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},n),te.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const Gde=["input"];function Bo(t){let{input:e}=t,n=Pn(t,Gde);return e?te.createElement(pk,n):te.createElement(dk,n)}function gk({value:t,type:e,settings:n,setValue:r}){const[i,s]=R.useState(CR(e,t,n)),o=R.useRef(t),a=R.useRef(n);a.current=n;const l=R.useCallback(c=>s(CR(e,c,a.current)),[e]),u=R.useCallback(c=>{try{r(c)}catch(f){const{type:h,previousValue:p}=f;if(h!=="LEVA_ERROR")throw f;l(p)}},[l,r]);return R.useEffect(()=>{Fv(t,o.current)||l(t),o.current=t},[t,l]),{displayValue:i,onChange:s,onUpdate:u}}function N1(t,e){const{emitOnEditStart:n,emitOnEditEnd:r}=Di();return z$(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),n==null||n());const s=t(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),s},e)}function Hde(t){const e=R.useRef(null),n=R.useRef(null),r=R.useRef(!1);return R.useEffect(()=>{const i=ek(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,t(e.current,n.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[t]),R.useEffect(()=>{n.current=e.current.getContext("2d")},[]),[e,n]}function vk(){const t=R.useRef(null),e=R.useRef({x:0,y:0}),n=R.useCallback(r=>{Object.assign(e.current,r),t.current&&(t.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[t,n]}const Vde=["__refCount"],n8=(t,e)=>{if(!t[e])return null;const n=t[e];return Pn(n,Vde)};function Wde(t){const e=k1(),[n,r]=R.useState(n8(e.getData(),t)),i=R.useCallback(u=>e.setValueAtPath(t,u,!0),[t,e]),s=R.useCallback(u=>e.setSettingsAtPath(t,u),[t,e]),o=R.useCallback(u=>e.disableInputAtPath(t,u),[t,e]),a=R.useCallback(()=>e.emitOnEditStart(t),[t,e]),l=R.useCallback(()=>e.emitOnEditEnd(t),[t,e]);return R.useEffect(()=>{r(n8(e.getData(),t));const u=e.useStore.subscribe(c=>n8(c.data,t),r,{equalityFn:zF});return()=>u()},[e,t]),[n,{set:i,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:l}]}const jde=St("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),yk=St("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),O9=St("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),xk=St("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),Sk=St("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function Xde({value:t,min:e,max:n,onDrag:r,step:i,initialValue:s}){const o=R.useRef(null),a=R.useRef(null),l=R.useRef(0),u=Al("sizes","scrubberWidth"),c=N1(({event:h,first:p,xy:[g],movement:[x],memo:y})=>{if(p){const{width:S,left:_}=o.current.getBoundingClientRect();l.current=S-parseFloat(u),y=(h==null?void 0:h.target)===a.current?t:Hv((g-_)/S,e,n)}const v=y+Hv(x/l.current,0,n-e);return r(ik(v,{step:i,initialValue:s})),y}),f=Gv(t,e,n);return te.createElement(xk,Cr({ref:o},c()),te.createElement(yk,null,te.createElement(Sk,{style:{left:0,right:`${(1-f)*100}%`}})),te.createElement(O9,{ref:a,style:{left:`calc(${f} * (100% - ${u}))`}}))}const Yde=te.memo(({label:t,onUpdate:e,step:n,innerLabelTrim:r})=>{const[i,s]=R.useState(!1),o=N1(({active:a,delta:[l],event:u,memo:c=0})=>(s(a),c+=l/2,Math.abs(c)>=1&&(e(f=>parseFloat(f)+Math.floor(c)*n*tk(u)),c=0),c));return te.createElement(Mde,Cr({dragging:i,title:t.length>1?t:""},o()),t.slice(0,r))});function _k({label:t,id:e,displayValue:n,onUpdate:r,onChange:i,settings:s,innerLabelTrim:o=1}){const a=o>0&&te.createElement(Yde,{label:t,step:s.step,onUpdate:r,innerLabelTrim:o});return te.createElement(Rde,{id:e,value:String(n),onUpdate:r,onChange:i,innerLabel:a})}function Kde(){const t=Di(),{label:e,value:n,onUpdate:r,settings:i,id:s}=t,{min:o,max:a}=i,l=a!==1/0&&o!==-1/0;return te.createElement(Bo,{input:!0},te.createElement(ca,null,e),te.createElement(jde,{hasRange:l},l&&te.createElement(Xde,Cr({value:parseFloat(n),onDrag:r},i)),te.createElement(_k,Cr({},t,{id:s,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:Jde}=sk,Zde=Pn(sk,["sanitizeStep"]);var Qde=Ot({component:Kde},Zde);const qde=(t,e)=>cs().schema({options:cs().passesAnyOf(cs().object(),cs().array())}).test(e),$de=(t,{values:e})=>{if(e.indexOf(t)<0)throw Error("Selected value doesn't match Select options");return t},epe=(t,{values:e})=>e.indexOf(t),tpe=t=>{let{value:e,options:n}=t,r,i;return Array.isArray(n)?(i=n,r=n.map(s=>String(s))):(i=Object.values(n),r=Object.keys(n)),"value"in t?i.includes(e)||(r.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(n).includes(e)||(n[String(e)]=e),{value:e,settings:{keys:r,values:i}}};var npe=Object.freeze({__proto__:null,schema:qde,sanitize:$de,format:epe,normalize:tpe});const rpe=St("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),k9=St("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),ipe=St("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${k9}:focus + &`]:{$focusStyle:""},[`${k9}:hover + &`]:{$hoverStyle:""}});function spe({displayValue:t,value:e,onUpdate:n,id:r,settings:i,disabled:s}){const{keys:o,values:a}=i,l=R.useRef();return e===a[t]&&(l.current=o[t]),te.createElement(rpe,null,te.createElement(k9,{id:r,value:t,onChange:u=>n(a[Number(u.currentTarget.value)]),disabled:s},o.map((u,c)=>te.createElement("option",{key:u,value:c},u))),te.createElement(ipe,null,l.current),te.createElement(G_,{toggled:!0}))}function ope(){const{label:t,value:e,displayValue:n,onUpdate:r,id:i,disabled:s,settings:o}=Di();return te.createElement(Bo,{input:!0},te.createElement(ca,null,t),te.createElement(spe,{id:i,value:e,displayValue:n,onUpdate:r,settings:o,disabled:s}))}var ape=Ot({component:ope},npe);const lpe=t=>cs().string().test(t),upe=t=>{if(typeof t!="string")throw Error("Invalid string");return t},cpe=({value:t,editable:e=!0,rows:n=!1})=>({value:t,settings:{editable:e,rows:typeof n=="number"?n:n?5:0}});var fpe=Object.freeze({__proto__:null,schema:lpe,sanitize:upe,normalize:cpe});const hpe=["displayValue","onUpdate","onChange","editable"],dpe=St("div",{whiteSpace:"pre-wrap"});function ppe(t){let{displayValue:e,onUpdate:n,onChange:r,editable:i=!0}=t,s=Pn(t,hpe);return i?te.createElement(N_,Cr({value:e,onUpdate:n,onChange:r},s)):te.createElement(dpe,null,e)}function mpe(){const{label:t,settings:e,displayValue:n,onUpdate:r,onChange:i}=Di();return te.createElement(Bo,{input:!0},te.createElement(ca,null,t),te.createElement(ppe,Cr({displayValue:n,onUpdate:r,onChange:i},e)))}var gpe=Ot({component:mpe},fpe);const vpe=t=>cs().boolean().test(t),ype=t=>{if(typeof t!="boolean")throw Error("Invalid boolean");return t};var xpe=Object.freeze({__proto__:null,schema:vpe,sanitize:ype});const Spe=St("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function _pe({value:t,onUpdate:e,id:n,disabled:r}){return te.createElement(Spe,null,te.createElement("input",{id:n,type:"checkbox",checked:t,onChange:i=>e(i.currentTarget.checked),disabled:r}),te.createElement("label",{htmlFor:n},te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function wpe(){const{label:t,value:e,onUpdate:n,disabled:r,id:i}=Di();return te.createElement(Bo,{input:!0},te.createElement(ca,null,t),te.createElement(_pe,{value:e,onUpdate:n,id:i,disabled:r}))}var Epe=Ot({component:wpe},xpe);const bpe=["locked"];function Mpe({value:t,id:e,valueKey:n,settings:r,onUpdate:i,innerLabelTrim:s}){const o=R.useRef(t[n]);o.current=t[n];const a=R.useCallback(u=>i({[n]:$O({type:"NUMBER",value:o.current,settings:r},u)}),[i,r,n]),l=gk({type:"NUMBER",value:t[n],settings:r,setValue:a});return te.createElement(_k,{id:e,label:n,value:t[n],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:r,innerLabelTrim:s})}const Tpe=St("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function Ape(t){let{locked:e}=t,n=Pn(t,bpe);return te.createElement("svg",Cr({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),e?te.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):te.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function H_({value:t,onUpdate:e,settings:n,innerLabelTrim:r}){const{id:i,setSettings:s}=Di(),{lock:o,locked:a}=n;return te.createElement(Tpe,{withLock:o},o&&te.createElement(Ape,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(t).map((l,u)=>te.createElement(Mpe,{id:u===0?i:`${i}.${l}`,key:l,valueKey:l,value:t,settings:n[l],onUpdate:e,innerLabelTrim:r})))}const wk=(t,e)=>{const n={};let r=0,i=1/0;Object.entries(t).forEach(([s,o])=>{n[s]=rk(Ot({value:o},e[s])).settings,r=Math.max(r,n[s].step),i=Math.min(i,n[s].pad)});for(let s in n){const{step:o,min:a,max:l}=e[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(l))&&(n[s].step=r,n[s].pad=i)}return n},Cpe=["lock"],Rpe=["value"];function Ppe(t){const e=cs().array().length(t).every.number(),n=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===t&&i.every(s=>isFinite(s))};return r=>e.test(r)||n(r)}function Dpe(t){return Array.isArray(t)?"array":"object"}function lm(t,e,n){return Dpe(t)===e?t:e==="array"?Object.values(t):cde(t,n)}const Lpe=(t,e,n)=>{const r=lm(t,"object",e.keys);for(let o in r)r[o]=nk(r[o],e[o]);const i=Object.keys(r);let s={};if(i.length===e.keys.length)s=r;else{const o=lm(n,"object",e.keys);if(i.length===1&&e.locked){const a=i[0],l=r[a],u=o[a],c=u!==0?l/u:1;for(let f in o)f===a?s[a]=l:s[f]=o[f]*c}else s=Ot(Ot({},o),r)}return lm(s,e.format,e.keys)},Ipe=(t,e)=>lm(t,"object",e.keys),Bpe=t=>!!t&&("step"in t||"min"in t||"max"in t);function Fpe(t,e,n=[]){const{lock:r=!1}=e,i=Pn(e,Cpe),s=Array.isArray(t)?"array":"object",o=s==="object"?Object.keys(t):n,a=lm(t,"object",o),l=Bpe(i)?o.reduce((c,f)=>Object.assign(c,{[f]:i}),{}):i,u=wk(a,l);return{value:s==="array"?t:a,settings:Ot(Ot({},u),{},{format:s,keys:o,lock:r,locked:!1})}}function Ek(t){return{schema:Ppe(t.length),normalize:e=>{let{value:n}=e,r=Pn(e,Rpe);return Fpe(n,r,t)},format:(e,n)=>Ipe(e,n),sanitize:(e,n,r)=>Lpe(e,n,r)}}var Upe={grad:.9,turn:360,rad:360/(2*Math.PI)},ul=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Jr=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},Eo=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},bk=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},kR=function(t){return{r:Eo(t.r,0,255),g:Eo(t.g,0,255),b:Eo(t.b,0,255),a:Eo(t.a)}},r8=function(t){return{r:Jr(t.r),g:Jr(t.g),b:Jr(t.b),a:Jr(t.a,3)}},Ope=/^#([0-9a-f]{3,8})$/i,og=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},Mk=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),a=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},Tk=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),a=r*(1-(e-s)*n),l=r*(1-(1-e+s)*n),u=s%6;return{r:255*[r,a,o,o,l,r][u],g:255*[l,r,r,a,o,o][u],b:255*[o,o,l,r,r,a][u],a:i}},NR=function(t){return{h:bk(t.h),s:Eo(t.s,0,100),l:Eo(t.l,0,100),a:Eo(t.a)}},zR=function(t){return{h:Jr(t.h),s:Jr(t.s),l:Jr(t.l),a:Jr(t.a,3)}},GR=function(t){return Tk((n=(e=t).s,{h:e.h,s:(n*=((r=e.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:e.a}));var e,n,r},um=function(t){return{h:(e=Mk(t)).h,s:(i=(200-(n=e.s))*(r=e.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,n,r,i},kpe=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Npe=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,zpe=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Gpe=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,N9={string:[[function(t){var e=Ope.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Jr(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Jr(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=zpe.exec(t)||Gpe.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:kR({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=kpe.exec(t)||Npe.exec(t);if(!e)return null;var n,r,i=NR({h:(n=e[1],r=e[2],r===void 0&&(r="deg"),Number(n)*(Upe[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return GR(i)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=i===void 0?1:i;return ul(e)&&ul(n)&&ul(r)?kR({r:Number(e),g:Number(n),b:Number(r),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,n=t.s,r=t.l,i=t.a,s=i===void 0?1:i;if(!ul(e)||!ul(n)||!ul(r))return null;var o=NR({h:Number(e),s:Number(n),l:Number(r),a:Number(s)});return GR(o)},"hsl"],[function(t){var e=t.h,n=t.s,r=t.v,i=t.a,s=i===void 0?1:i;if(!ul(e)||!ul(n)||!ul(r))return null;var o=function(a){return{h:bk(a.h),s:Eo(a.s,0,100),v:Eo(a.v,0,100),a:Eo(a.a)}}({h:Number(e),s:Number(n),v:Number(r),a:Number(s)});return Tk(o)},"hsv"]]},HR=function(t,e){for(var n=0;n<e.length;n++){var r=e[n][0](t);if(r)return[r,e[n][1]]}return[null,void 0]},Ak=function(t){return typeof t=="string"?HR(t.trim(),N9.string):typeof t=="object"&&t!==null?HR(t,N9.object):[null,void 0]},Hpe=function(t){return Ak(t)[1]},i8=function(t,e){var n=um(t);return{h:n.h,s:Eo(n.s+100*e,0,100),l:n.l,a:n.a}},s8=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},VR=function(t,e){var n=um(t);return{h:n.h,s:n.s,l:Eo(n.l+100*e,0,100),a:n.a}},z9=function(){function t(e){this.parsed=Ak(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Jr(s8(this.rgba),2)},t.prototype.isDark=function(){return s8(this.rgba)<.5},t.prototype.isLight=function(){return s8(this.rgba)>=.5},t.prototype.toHex=function(){return e=r8(this.rgba),n=e.r,r=e.g,i=e.b,o=(s=e.a)<1?og(Jr(255*s)):"","#"+og(n)+og(r)+og(i)+o;var e,n,r,i,s,o},t.prototype.toRgb=function(){return r8(this.rgba)},t.prototype.toRgbString=function(){return e=r8(this.rgba),n=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+n+", "+r+", "+i+", "+s+")":"rgb("+n+", "+r+", "+i+")";var e,n,r,i,s},t.prototype.toHsl=function(){return zR(um(this.rgba))},t.prototype.toHslString=function(){return e=zR(um(this.rgba)),n=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+n+", "+r+"%, "+i+"%, "+s+")":"hsl("+n+", "+r+"%, "+i+"%)";var e,n,r,i,s},t.prototype.toHsv=function(){return e=Mk(this.rgba),{h:Jr(e.h),s:Jr(e.s),v:Jr(e.v),a:Jr(e.a,3)};var e},t.prototype.invert=function(){return Wi({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Wi(i8(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Wi(i8(this.rgba,-e))},t.prototype.grayscale=function(){return Wi(i8(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Wi(VR(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Wi(VR(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Wi({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):Jr(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=um(this.rgba);return typeof e=="number"?Wi({h:e,s:n.s,l:n.l,a:n.a}):Jr(n.h)},t.prototype.isEqual=function(e){return this.toHex()===Wi(e).toHex()},t}(),Wi=function(t){return t instanceof z9?t:new z9(t)},WR=[],Vpe=function(t){t.forEach(function(e){WR.indexOf(e)<0&&(e(z9,N9),WR.push(e))})};function Wpe(t,e){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,u=r[this.toHex()];if(u)return u;if(o!=null&&o.closest){var c=this.toRgb(),f=1/0,h="black";if(!s.length)for(var p in n)s[p]=new t(n[p]).toRgb();for(var g in n){var x=(a=c,l=s[g],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));x<f&&(f=x,h=g)}return h}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":n[a];return l?new t(l).toRgb():null},"name"])}function _p(){return(_p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function V_(t,e){if(t==null)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)e.indexOf(n=s[r])>=0||(i[n]=t[n]);return i}function G9(t){var e=R.useRef(t),n=R.useRef(function(r){e.current&&e.current(r)});return e.current=t,n.current}var ep=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t<e?e:t},cm=function(t){return"touches"in t},H9=function(t){return t&&t.ownerDocument.defaultView||self},jR=function(t,e,n){var r=t.getBoundingClientRect(),i=cm(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,n):e;return{left:ep((i.pageX-(r.left+H9(t).pageXOffset))/r.width),top:ep((i.pageY-(r.top+H9(t).pageYOffset))/r.height)}},XR=function(t){!cm(t)&&t.preventDefault()},W_=te.memo(function(t){var e=t.onMove,n=t.onKey,r=V_(t,["onMove","onKey"]),i=R.useRef(null),s=G9(e),o=G9(n),a=R.useRef(null),l=R.useRef(!1),u=R.useMemo(function(){var p=function(y){XR(y),(cm(y)?y.touches.length>0:y.buttons>0)&&i.current?s(jR(i.current,y,a.current)):x(!1)},g=function(){return x(!1)};function x(y){var v=l.current,S=H9(i.current),_=y?S.addEventListener:S.removeEventListener;_(v?"touchmove":"mousemove",p),_(v?"touchend":"mouseup",g)}return[function(y){var v=y.nativeEvent,S=i.current;if(S&&(XR(v),!function(E,b){return b&&!cm(E)}(v,l.current)&&S)){if(cm(v)){l.current=!0;var _=v.changedTouches||[];_.length&&(a.current=_[0].identifier)}S.focus(),s(jR(S,v,a.current)),x(!0)}},function(y){var v=y.which||y.keyCode;v<37||v>40||(y.preventDefault(),o({left:v===39?.05:v===37?-.05:0,top:v===40?.05:v===38?-.05:0}))},x]},[o,s]),c=u[0],f=u[1],h=u[2];return R.useEffect(function(){return h},[h]),te.createElement("div",_p({},r,{onTouchStart:c,onMouseDown:c,className:"react-colorful__interactive",ref:i,onKeyDown:f,tabIndex:0,role:"slider"}))}),z1=function(t){return t.filter(Boolean).join(" ")},j_=function(t){var e=t.color,n=t.left,r=t.top,i=r===void 0?.5:r,s=z1(["react-colorful__pointer",t.className]);return te.createElement("div",{className:s,style:{top:100*i+"%",left:100*n+"%"}},te.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},ji=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n},Ck=function(t){var e=t.s,n=t.v,r=t.a,i=(200-e)*n/100;return{h:ji(t.h),s:ji(i>0&&i<200?e*n/100/(i<=100?i:200-i)*100:0),l:ji(i/2),a:ji(r,2)}},V9=function(t){var e=Ck(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},o8=function(t){var e=Ck(t);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},Rk=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),a=r*(1-(e-s)*n),l=r*(1-(1-e+s)*n),u=s%6;return{r:ji(255*[r,a,o,o,l,r][u]),g:ji(255*[l,r,r,a,o,o][u]),b:ji(255*[o,o,l,r,r,a][u]),a:ji(i,2)}},Pk=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),a=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:ji(60*(a<0?a+6:a)),s:ji(s?o/s*100:0),v:ji(s/255*100),a:i}},Dk=te.memo(function(t){var e=t.hue,n=t.onChange,r=z1(["react-colorful__hue",t.className]);return te.createElement("div",{className:r},te.createElement(W_,{onMove:function(i){n({h:360*i.left})},onKey:function(i){n({h:ep(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":ji(e),"aria-valuemax":"360","aria-valuemin":"0"},te.createElement(j_,{className:"react-colorful__hue-pointer",left:e/360,color:V9({h:e,s:100,v:100,a:1})})))}),Lk=te.memo(function(t){var e=t.hsva,n=t.onChange,r={backgroundColor:V9({h:e.h,s:100,v:100,a:1})};return te.createElement("div",{className:"react-colorful__saturation",style:r},te.createElement(W_,{onMove:function(i){n({s:100*i.left,v:100-100*i.top})},onKey:function(i){n({s:ep(e.s+100*i.left,0,100),v:ep(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+ji(e.s)+"%, Brightness "+ji(e.v)+"%"},te.createElement(j_,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:V9(e)})))}),X_=function(t,e){if(t===e)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0};function Ik(t,e,n){var r=G9(n),i=R.useState(function(){return t.toHsva(e)}),s=i[0],o=i[1],a=R.useRef({color:e,hsva:s});R.useEffect(function(){if(!t.equal(e,a.current.color)){var u=t.toHsva(e);a.current={hsva:u,color:e},o(u)}},[e,t]),R.useEffect(function(){var u;X_(s,a.current.hsva)||t.equal(u=t.fromHsva(s),a.current.color)||(a.current={hsva:s,color:u},r(u))},[s,t,r]);var l=R.useCallback(function(u){o(function(c){return Object.assign({},c,u)})},[]);return[s,l]}var jpe=typeof window<"u"?R.useLayoutEffect:R.useEffect,Xpe=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},YR=new Map,Bk=function(t){jpe(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!YR.has(e)){var n=e.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,YR.set(e,n);var r=Xpe();r&&n.setAttribute("nonce",r),e.head.appendChild(n)}},[])},Ype=function(t){var e=t.className,n=t.colorModel,r=t.color,i=r===void 0?n.defaultColor:r,s=t.onChange,o=V_(t,["className","colorModel","color","onChange"]),a=R.useRef(null);Bk(a);var l=Ik(n,i,s),u=l[0],c=l[1],f=z1(["react-colorful",e]);return te.createElement("div",_p({},o,{ref:a,className:f}),te.createElement(Lk,{hsva:u,onChange:c}),te.createElement(Dk,{hue:u.h,onChange:c,className:"react-colorful__last-control"}))},Kpe=function(t){var e=t.className,n=t.hsva,r=t.onChange,i={backgroundImage:"linear-gradient(90deg, "+o8(Object.assign({},n,{a:0}))+", "+o8(Object.assign({},n,{a:1}))+")"},s=z1(["react-colorful__alpha",e]),o=ji(100*n.a);return te.createElement("div",{className:s},te.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),te.createElement(W_,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:ep(n.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},te.createElement(j_,{className:"react-colorful__alpha-pointer",left:n.a,color:o8(n)})))},Jpe=function(t){var e=t.className,n=t.colorModel,r=t.color,i=r===void 0?n.defaultColor:r,s=t.onChange,o=V_(t,["className","colorModel","color","onChange"]),a=R.useRef(null);Bk(a);var l=Ik(n,i,s),u=l[0],c=l[1],f=z1(["react-colorful",e]);return te.createElement("div",_p({},o,{ref:a,className:f}),te.createElement(Lk,{hsva:u,onChange:c}),te.createElement(Dk,{hue:u.h,onChange:c}),te.createElement(Kpe,{hsva:u,onChange:c,className:"react-colorful__last-control"}))},Zpe={defaultColor:{r:0,g:0,b:0,a:1},toHsva:Pk,fromHsva:Rk,equal:X_},Qpe=function(t){return te.createElement(Jpe,_p({},t,{colorModel:Zpe}))},qpe={defaultColor:{r:0,g:0,b:0},toHsva:function(t){return Pk({r:t.r,g:t.g,b:t.b,a:1})},fromHsva:function(t){return{r:(e=Rk(t)).r,g:e.g,b:e.b};var e},equal:X_},$pe=function(t){return te.createElement(Ype,_p({},t,{colorModel:qpe}))};function wp(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function Ep(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function e0e(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function t0e(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(e0e(arguments[e]));return t}var n0e=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function G1(t,e){var n=r0e(t);if(typeof n.path!="string"){var r=t.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}function r0e(t){var e=t.name,n=e&&e.lastIndexOf(".")!==-1;if(n&&!t.type){var r=e.split(".").pop().toLowerCase(),i=n0e.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}var i0e=[".DS_Store","Thumbs.db"];function s0e(t){return wp(this,void 0,void 0,function(){return Ep(this,function(e){return Wv(t)&&o0e(t)?[2,c0e(t.dataTransfer,t.type)]:a0e(t)?[2,l0e(t)]:Array.isArray(t)&&t.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,u0e(t)]:[2,[]]})})}function o0e(t){return Wv(t.dataTransfer)}function a0e(t){return Wv(t)&&Wv(t.target)}function Wv(t){return typeof t=="object"&&t!==null}function l0e(t){return W9(t.target.files).map(function(e){return G1(e)})}function u0e(t){return wp(this,void 0,void 0,function(){var e;return Ep(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(r){return r.getFile()}))];case 1:return e=n.sent(),[2,e.map(function(r){return G1(r)})]}})})}function c0e(t,e){return wp(this,void 0,void 0,function(){var n,r;return Ep(this,function(i){switch(i.label){case 0:return t===null?[2,[]]:t.items?(n=W9(t.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,n]:[4,Promise.all(n.map(f0e))]):[3,2];case 1:return r=i.sent(),[2,KR(Fk(r))];case 2:return[2,KR(W9(t.files).map(function(s){return G1(s)}))]}})})}function KR(t){return t.filter(function(e){return i0e.indexOf(e.name)===-1})}function W9(t){if(t===null)return[];for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r)}return e}function f0e(t){if(typeof t.webkitGetAsEntry!="function")return JR(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?Uk(e):JR(t)}function Fk(t){return t.reduce(function(e,n){return t0e(e,Array.isArray(n)?Fk(n):[n])},[])}function JR(t){var e=t.getAsFile();if(!e)return Promise.reject(t+" is not a File");var n=G1(e);return Promise.resolve(n)}function h0e(t){return wp(this,void 0,void 0,function(){return Ep(this,function(e){return[2,t.isDirectory?Uk(t):d0e(t)]})})}function Uk(t){var e=t.createReader();return new Promise(function(n,r){var i=[];function s(){var o=this;e.readEntries(function(a){return wp(o,void 0,void 0,function(){var l,u,c;return Ep(this,function(f){switch(f.label){case 0:if(a.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=f.sent(),n(l),[3,4];case 3:return u=f.sent(),r(u),[3,4];case 4:return[3,6];case 5:c=Promise.all(a.map(h0e)),i.push(c),s(),f.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function d0e(t){return wp(this,void 0,void 0,function(){return Ep(this,function(e){return[2,new Promise(function(n,r){t.file(function(i){var s=G1(i,t.fullPath);n(s)},function(i){r(i)})})]})})}var p0e=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function ZR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZR(Object(n),!0).forEach(function(r){Ok(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ok(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qR(t,e){return y0e(t)||v0e(t,e)||g0e(t,e)||m0e()}function m0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g0e(t,e){if(t){if(typeof t=="string")return $R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $R(t,e)}}function $R(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function y0e(t){if(Array.isArray(t))return t}var x0e="file-invalid-type",S0e="file-too-large",_0e="file-too-small",w0e="too-many-files",E0e=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var n=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:x0e,message:"File type must be ".concat(n)}},eP=function(e){return{code:S0e,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},tP=function(e){return{code:_0e,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},b0e={code:w0e,message:"Too many files"};function kk(t,e){var n=t.type==="application/x-moz-file"||p0e(t,e);return[n,n?null:E0e(e)]}function Nk(t,e,n){if(R0(t.size))if(R0(e)&&R0(n)){if(t.size>n)return[!1,eP(n)];if(t.size<e)return[!1,tP(e)]}else{if(R0(e)&&t.size<e)return[!1,tP(e)];if(R0(n)&&t.size>n)return[!1,eP(n)]}return[!0,null]}function R0(t){return t!=null}function M0e(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,o=t.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var l=kk(a,n),u=qR(l,1),c=u[0],f=Nk(a,r,i),h=qR(f,1),p=h[0];return c&&p})}function jv(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function ag(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function nP(t){t.preventDefault()}function T0e(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function A0e(t){return t.indexOf("Edge/")!==-1}function C0e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return T0e(t)||A0e(t)}function Sa(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!jv(r)&&a&&a.apply(void 0,[r].concat(s)),jv(r)})}}function R0e(){return"showOpenFilePicker"in window}function P0e(t){return t=typeof t=="string"?t.split(","):t,[{description:"everything",accept:Array.isArray(t)?t.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,n){return QR(QR({},e),{},Ok({},n,[]))},{}):{}}]}function D0e(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function L0e(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}var I0e=["children"],B0e=["open"],F0e=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],U0e=["refKey","onChange","onClick"];function O0e(t){return z0e(t)||N0e(t)||zk(t)||k0e()}function k0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function z0e(t){if(Array.isArray(t))return j9(t)}function a8(t,e){return V0e(t)||H0e(t,e)||zk(t,e)||G0e()}function G0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zk(t,e){if(t){if(typeof t=="string")return j9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j9(t,e)}}function j9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function H0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function V0e(t){if(Array.isArray(t))return t}function rP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rP(Object(n),!0).forEach(function(r){X9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X9(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xv(t,e){if(t==null)return{};var n=W0e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function W0e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Y_=R.forwardRef(function(t,e){var n=t.children,r=Xv(t,I0e),i=Hk(r),s=i.open,o=Xv(i,B0e);return R.useImperativeHandle(e,function(){return{open:s}},[s]),te.createElement(R.Fragment,null,n(jn(jn({},o),{},{open:s})))});Y_.displayName="Dropzone";var Gk={disabled:!1,getFilesFromEvent:s0e,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};Y_.defaultProps=Gk;Y_.propTypes={children:An.func,accept:An.oneOfType([An.string,An.arrayOf(An.string)]),multiple:An.bool,preventDropOnDocument:An.bool,noClick:An.bool,noKeyboard:An.bool,noDrag:An.bool,noDragEventsBubbling:An.bool,minSize:An.number,maxSize:An.number,maxFiles:An.number,disabled:An.bool,getFilesFromEvent:An.func,onFileDialogCancel:An.func,onFileDialogOpen:An.func,useFsAccessApi:An.bool,onDragEnter:An.func,onDragLeave:An.func,onDragOver:An.func,onDrop:An.func,onDropAccepted:An.func,onDropRejected:An.func,validator:An.func};var Y9={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function Hk(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=jn(jn({},Gk),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,u=e.onDragEnter,c=e.onDragLeave,f=e.onDragOver,h=e.onDrop,p=e.onDropAccepted,g=e.onDropRejected,x=e.onFileDialogCancel,y=e.onFileDialogOpen,v=e.useFsAccessApi,S=e.preventDropOnDocument,_=e.noClick,E=e.noKeyboard,b=e.noDrag,T=e.noDragEventsBubbling,A=e.validator,D=R.useMemo(function(){return typeof y=="function"?y:iP},[y]),C=R.useMemo(function(){return typeof x=="function"?x:iP},[x]),L=R.useRef(null),k=R.useRef(null),z=R.useReducer(j0e,Y9),H=a8(z,2),V=H[0],K=H[1],J=V.isFocused,$=V.isFileDialogActive,U=V.draggedFiles,G=R.useRef(typeof window<"u"&&window.isSecureContext&&v&&R0e()),W=function(){!G.current&&$&&setTimeout(function(){if(k.current){var O=k.current.files;O.length||(K({type:"closeDialog"}),C())}},300)};R.useEffect(function(){return window.addEventListener("focus",W,!1),function(){window.removeEventListener("focus",W,!1)}},[k,$,C,G]);var F=R.useRef([]),j=function(O){L.current&&L.current.contains(O.target)||(O.preventDefault(),F.current=[])};R.useEffect(function(){return S&&(document.addEventListener("dragover",nP,!1),document.addEventListener("drop",j,!1)),function(){S&&(document.removeEventListener("dragover",nP),document.removeEventListener("drop",j))}},[L,S]);var ie=R.useCallback(function(N){N.preventDefault(),N.persist(),pe(N),F.current=[].concat(O0e(F.current),[N.target]),ag(N)&&Promise.resolve(i(N)).then(function(O){jv(N)&&!T||(K({draggedFiles:O,isDragActive:!0,type:"setDraggedFiles"}),u&&u(N))})},[i,u,T]),se=R.useCallback(function(N){N.preventDefault(),N.persist(),pe(N);var O=ag(N);if(O&&N.dataTransfer)try{N.dataTransfer.dropEffect="copy"}catch{}return O&&f&&f(N),!1},[f,T]),re=R.useCallback(function(N){N.preventDefault(),N.persist(),pe(N);var O=F.current.filter(function(Ae){return L.current&&L.current.contains(Ae)}),ne=O.indexOf(N.target);ne!==-1&&O.splice(ne,1),F.current=O,!(O.length>0)&&(K({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),ag(N)&&c&&c(N))},[L,c,T]),fe=R.useCallback(function(N,O){var ne=[],Ae=[];N.forEach(function(be){var Ee=kk(be,n),Ge=a8(Ee,2),Fe=Ge[0],ve=Ge[1],je=Nk(be,o,s),Ze=a8(je,2),Ye=Ze[0],Ne=Ze[1],ee=A?A(be):null;if(Fe&&Ye&&!ee)ne.push(be);else{var Te=[ve,Ne];ee&&(Te=Te.concat(ee)),Ae.push({file:be,errors:Te.filter(function(Ke){return Ke})})}}),(!a&&ne.length>1||a&&l>=1&&ne.length>l)&&(ne.forEach(function(be){Ae.push({file:be,errors:[b0e]})}),ne.splice(0)),K({acceptedFiles:ne,fileRejections:Ae,type:"setFiles"}),h&&h(ne,Ae,O),Ae.length>0&&g&&g(Ae,O),ne.length>0&&p&&p(ne,O)},[K,a,n,o,s,l,h,p,g,A]),oe=R.useCallback(function(N){N.preventDefault(),N.persist(),pe(N),F.current=[],ag(N)&&Promise.resolve(i(N)).then(function(O){jv(N)&&!T||fe(O,N)}),K({type:"reset"})},[i,fe,T]),he=R.useCallback(function(){if(G.current){K({type:"openDialog"}),D();var N={multiple:a,types:P0e(n)};window.showOpenFilePicker(N).then(function(O){return i(O)}).then(function(O){fe(O,null),K({type:"closeDialog"})}).catch(function(O){D0e(O)?(C(O),K({type:"closeDialog"})):L0e(O)&&(G.current=!1,k.current&&(k.current.value=null,k.current.click()))});return}k.current&&(K({type:"openDialog"}),D(),k.current.value=null,k.current.click())},[K,D,C,v,fe,n,a]),ke=R.useCallback(function(N){!L.current||!L.current.isEqualNode(N.target)||(N.key===" "||N.key==="Enter"||N.keyCode===32||N.keyCode===13)&&(N.preventDefault(),he())},[L,he]),He=R.useCallback(function(){K({type:"focus"})},[]),ge=R.useCallback(function(){K({type:"blur"})},[]),Y=R.useCallback(function(){_||(C0e()?setTimeout(he,0):he())},[_,he]),Se=function(O){return r?null:O},me=function(O){return E?null:Se(O)},de=function(O){return b?null:Se(O)},pe=function(O){T&&O.stopPropagation()},ze=R.useMemo(function(){return function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=N.refKey,ne=O===void 0?"ref":O,Ae=N.role,be=N.onKeyDown,Ee=N.onFocus,Ge=N.onBlur,Fe=N.onClick,ve=N.onDragEnter,je=N.onDragOver,Ze=N.onDragLeave,Ye=N.onDrop,Ne=Xv(N,F0e);return jn(jn(X9({onKeyDown:me(Sa(be,ke)),onFocus:me(Sa(Ee,He)),onBlur:me(Sa(Ge,ge)),onClick:Se(Sa(Fe,Y)),onDragEnter:de(Sa(ve,ie)),onDragOver:de(Sa(je,se)),onDragLeave:de(Sa(Ze,re)),onDrop:de(Sa(Ye,oe)),role:typeof Ae=="string"&&Ae!==""?Ae:"button"},ne,L),!r&&!E?{tabIndex:0}:{}),Ne)}},[L,ke,He,ge,Y,ie,se,re,oe,E,b,r]),ye=R.useCallback(function(N){N.stopPropagation()},[]),Be=R.useMemo(function(){return function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=N.refKey,ne=O===void 0?"ref":O,Ae=N.onChange,be=N.onClick,Ee=Xv(N,U0e),Ge=X9({accept:n,multiple:a,type:"file",style:{display:"none"},onChange:Se(Sa(Ae,oe)),onClick:Se(Sa(be,ye)),tabIndex:-1},ne,k);return jn(jn({},Ge),Ee)}},[k,n,a,oe,r]),Ue=U.length,Ce=Ue>0&&M0e({files:U,accept:n,minSize:o,maxSize:s,multiple:a,maxFiles:l}),$e=Ue>0&&!Ce;return jn(jn({},V),{},{isDragAccept:Ce,isDragReject:$e,isFocused:J&&!r,getRootProps:ze,getInputProps:Be,rootRef:L,inputRef:k,open:Se(he)})}function j0e(t,e){switch(e.type){case"focus":return jn(jn({},t),{},{isFocused:!0});case"blur":return jn(jn({},t),{},{isFocused:!1});case"openDialog":return jn(jn({},Y9),{},{isFileDialogActive:!0});case"closeDialog":return jn(jn({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=e.isDragActive,r=e.draggedFiles;return jn(jn({},t),{},{draggedFiles:r,isDragActive:n});case"setFiles":return jn(jn({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return jn({},Y9);default:return t}}function iP(){}/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var X0e=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Y0e=X0e;function sP(t){return Y0e(t)===!0&&Object.prototype.toString.call(t)==="[object Object]"}var Vk=function(e){var n,r;return!(sP(e)===!1||(n=e.constructor,typeof n!="function")||(r=n.prototype,sP(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var K0e=Vk,K_=function(e){return K0e(e)||typeof e=="function"||Array.isArray(e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var J0e=function(e,n,r){for(var i in e)if(n.call(r,e[i],i,e)===!1)break},Z0e=K_,Q0e=J0e;function Wk(t,e){for(var n=arguments.length,r=0;++r<n;){var i=arguments[r];K9(i)&&Q0e(i,q0e,t)}return t}function q0e(t,e){if($0e(e)){var n=this[e];K9(t)&&K9(n)?Wk(n,t):this[e]=t}}function K9(t){return Z0e(t)&&!Array.isArray(t)}function $0e(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}var eme=Wk;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var tme=function(t,e,n,r,i){if(!nme(t)||!e)return t;if(e=lg(e),n&&(e+="."+lg(n)),r&&(e+="."+lg(r)),i&&(e+="."+lg(i)),e in t)return t[e];for(var s=e.split("."),o=s.length,a=-1;t&&++a<o;){for(var l=s[a];l[l.length-1]==="\\";)l=l.slice(0,-1)+"."+s[++a];t=t[l]}return t};function nme(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function lg(t){return t?Array.isArray(t)?t.join("."):t:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var rme=function(t,e){if(t===null||typeof t>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return t;for(var n=Object.prototype.propertyIsEnumerable,r=Object(t),i=arguments.length,s=0;++s<i;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),l=0;l<a.length;l++){var u=a[l];n.call(o,u)&&(r[u]=o[u])}return r},ime=K_,sme=rme,ome=Object.assign||function(t){if(t===null||typeof t>"u")throw new TypeError("Cannot convert undefined or null to object");oP(t)||(t={});for(var e=1;e<arguments.length;e++){var n=arguments[e];lme(n)&&(n=ume(n)),oP(n)&&(ame(t,n),sme(t,n))}return t};function ame(t,e){for(var n in e)cme(e,n)&&(t[n]=e[n])}function lme(t){return t&&typeof t=="string"}function ume(t){var e={};for(var n in t)e[n]=t[n];return e}function oP(t){return t&&typeof t=="object"||ime(t)}function cme(t,e){return Object.prototype.hasOwnProperty.call(t,e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var fme=ome,hme=function(t,e,n){if(typeof t!="string")throw new TypeError("expected a string");typeof e=="function"&&(n=e,e=null),typeof e=="string"&&(e={sep:e});var r=fme({sep:"."},e),i=r.quotes||['"',"'","`"],s;r.brackets===!0?s={"<":">","(":")","[":"]","{":"}"}:r.brackets&&(s=r.brackets);var o=[],a=[],l=[""],u=r.sep,c=t.length,f=-1,h;function p(){if(s&&a.length)return s[a[a.length-1]]}for(;++f<c;){var g=t[f],x=t[f+1],y={val:g,idx:f,arr:l,str:t};if(o.push(y),g==="\\"){y.val=pme(r,t,f)===!0?g+x:x,y.escaped=!0,typeof n=="function"&&n(y),l[l.length-1]+=y.val,f++;continue}if(s&&s[g]){a.push(g);var v=p(),S=f+1;if(t.indexOf(v,S+1)!==-1)for(;a.length&&S<c;){var _=t[++S];if(_==="\\"){_++;continue}if(i.indexOf(_)!==-1){S=J9(t,_,S+1);continue}if(v=p(),a.length&&t.indexOf(v,S+1)===-1)break;if(s[_]){a.push(_);continue}v===_&&a.pop()}if(h=S,h===-1){l[l.length-1]+=g;continue}g=t.slice(f,h+1),y.val=g,y.idx=f=h}if(i.indexOf(g)!==-1){if(h=J9(t,g,f+1),h===-1){l[l.length-1]+=g;continue}dme(g,r)===!0?g=t.slice(f,h+1):g=t.slice(f+1,h),y.val=g,y.idx=f=h}if(typeof n=="function"&&(n(y,o),g=y.val,f=y.idx),y.val===u&&y.split!==!1){l.push("");continue}l[l.length-1]+=y.val}return l};function J9(t,e,n,r){var i=t.indexOf(e,n);return t.charAt(i-1)==="\\"?J9(t,e,i+1):i}function dme(t,e){return e.keepDoubleQuotes===!0&&t==='"'||e.keepSingleQuotes===!0&&t==="'"?!0:e.keepQuotes}function pme(t,e,n){return typeof t.keepEscaping=="function"?t.keepEscaping(e,n):t.keepEscaping===!0||e[n+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var mme=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")},aP=mme,gme=function(e){aP(e)||(e={});for(var n=arguments.length,r=1;r<n;r++){var i=arguments[r];aP(i)&&vme(e,i)}return e};function vme(t,e){for(var n in e)yme(e,n)&&(t[n]=e[n])}function yme(t,e){return Object.prototype.hasOwnProperty.call(t,e)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var xme=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Sme=hme,_me=gme,lP=Vk,uP=xme,wme=function(t,e,n){if(!uP(t)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return t;for(var r=Sme(e,{sep:".",brackets:!0}).filter(Eme),i=r.length,s=-1,o=t;++s<i;){var a=r[s];if(s!==i-1){uP(o[a])||(o[a]={}),o=o[a];continue}lP(o[a])&&lP(n)?o[a]=_me({},o[a],n):o[a]=n}return t};function Eme(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}var l8=K_,cP=eme,bme=tme,fP=wme,Mme=function(e,n,r){if(!l8(e))throw new TypeError("expected an object");if(typeof n!="string"||r==null)return cP.apply(null,arguments);if(typeof r=="string")return fP(e,n,r),e;var i=bme(e,n);return l8(r)&&l8(i)&&(r=cP({},i,r)),fP(e,n,r),e};const Tme=tc(Mme),J_=(...t)=>t.filter(Boolean).join(".");function Ame(t){const e=t.split(".");return[e.pop(),e.join(".")||void 0]}function Cme(t){const e=R.useRef(null),n=R.useRef(null),r=R.useRef(!0);return R.useLayoutEffect(()=>{t||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),R.useEffect(()=>{if(r.current){r.current=!1;return}let i;const s=e.current,o=()=>{t&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),n.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=n.current.getBoundingClientRect();return s.style.height=a+"px",t||(s.style.overflow="hidden",i=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(i)}},[t]),{wrapperRef:e,contentRef:n}}const Rme=t=>{const[e,n]=R.useState(t.getVisiblePaths());return R.useEffect(()=>{n(t.getVisiblePaths());const r=t.useStore.subscribe(t.getVisiblePaths,n,{equalityFn:zF});return()=>r()},[t]),e};function jk(t=3){const e=R.useRef(null),n=R.useRef(null),[r,i]=R.useState(!1),s=R.useCallback(()=>i(!0),[]),o=R.useCallback(()=>i(!1),[]);return R.useLayoutEffect(()=>{if(r){const{bottom:a,top:l,left:u}=e.current.getBoundingClientRect(),{height:c}=n.current.getBoundingClientRect(),f=a+c>window.innerHeight-40?"up":"down";n.current.style.position="fixed",n.current.style.zIndex="10000",n.current.style.left=u+"px",f==="down"?n.current.style.top=a+t+"px":n.current.style.bottom=window.innerHeight-l+t+"px"}},[t,r]),{popinRef:e,wrapperRef:n,shown:r,show:s,hide:o}}Vpe([Wpe]);const Pme={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};cs.extend({color:()=>t=>Wi(t).isValid()});const Dme=t=>cs().color().test(t);function Xk(t,{format:e,hasAlpha:n,isString:r}){const i=Pme[e]+(r&&e!=="hex"?"String":""),s=t[i]();return typeof s=="object"&&!n?ude(s,["a"]):s}const Yk=(t,e)=>{const n=Wi(t);if(!n.isValid())throw Error("Invalid color");return Xk(n,e)},Lme=(t,e)=>Xk(Wi(t),Ot(Ot({},e),{},{isString:!0,format:"hex"})),Ime=({value:t})=>{const e=Hpe(t),n=e==="name"?"hex":e,r=typeof t=="object"?"a"in t:e==="hex"&&t.length===8||/^(rgba)|(hsla)|(hsva)/.test(t),i={format:n,hasAlpha:r,isString:typeof t=="string"};return{value:Yk(t,i),settings:i}};var Bme=Object.freeze({__proto__:null,schema:Dme,sanitize:Yk,format:Lme,normalize:Ime});const Fme=St("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),Ume=St("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),Ome=St("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function hP(t,e){return e!=="rgb"?Wi(t).toRgb():t}function kme({value:t,displayValue:e,settings:n,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:s}=Di(),{format:o,hasAlpha:a}=n,{popinRef:l,wrapperRef:u,shown:c,show:f,hide:h}=jk(),p=R.useRef(0),[g,x]=R.useState(()=>hP(t,o)),y=a?Qpe:$pe,v=()=>{x(hP(t,o)),f(),i()},S=()=>{h(),s(),window.clearTimeout(p.current)},_=()=>{p.current=window.setTimeout(S,500)};return R.useEffect(()=>()=>window.clearTimeout(p.current),[]),te.createElement(te.Fragment,null,te.createElement(Fme,{ref:l,active:c,onClick:()=>v(),style:{color:e}}),c&&te.createElement(z_,null,te.createElement(mk,{onPointerUp:S}),te.createElement(Ome,{ref:u,onMouseEnter:()=>window.clearTimeout(p.current),onMouseLeave:E=>E.buttons===0&&_()},te.createElement(y,{color:g,onChange:r}))))}function Nme(){const{value:t,displayValue:e,label:n,onChange:r,onUpdate:i,settings:s}=Di();return te.createElement(Bo,{input:!0},te.createElement(ca,null,n),te.createElement(Ume,null,te.createElement(kme,{value:t,displayValue:e,onChange:r,onUpdate:i,settings:s}),te.createElement(N_,{value:e,onChange:r,onUpdate:i})))}var zme=Ot({component:Nme},Bme);function Gme(){const{label:t,displayValue:e,onUpdate:n,settings:r}=Di();return te.createElement(Bo,{input:!0},te.createElement(ca,null,t),te.createElement(H_,{value:e,settings:r,onUpdate:n}))}var Hme=Ot({component:Gme},Ek(["x","y","z"]));const Vme=St("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),Wme=St("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function jme({value:t,settings:e,onUpdate:n}){const r=R.useRef(),i=R.useRef(0),s=R.useRef(0),o=R.useRef(1),[a,l]=R.useState(!1),[u,c]=R.useState(!1),[f,h]=vk(),p=R.useRef(null),g=R.useRef(null);R.useLayoutEffect(()=>{if(a){const{top:z,left:H,width:V,height:K}=p.current.getBoundingClientRect();g.current.style.left=H+V/2+"px",g.current.style.top=z+K/2+"px"}},[a]);const{keys:[x,y],joystick:v}=e,S=v==="invertY"?1:-1,{[x]:{step:_},[y]:{step:E}}=e,b=Al("sizes","joystickWidth"),T=Al("sizes","joystickHeight"),A=parseFloat(b)*.8/2,D=parseFloat(T)*.8/2,C=R.useCallback(()=>{r.current||(c(!0),i.current&&h({x:i.current*A}),s.current&&h({y:s.current*-D}),r.current=window.setInterval(()=>{n(z=>{const H=_*i.current*o.current,V=S*E*s.current*o.current;return Array.isArray(z)?{[x]:z[0]+H,[y]:z[1]+V}:{[x]:z[x]+H,[y]:z[y]+V}})},16))},[A,D,n,h,_,E,x,y,S]),L=R.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,c(!1)},[]);R.useEffect(()=>{function z(H){o.current=tk(H)}return window.addEventListener("keydown",z),window.addEventListener("keyup",z),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",z),window.removeEventListener("keyup",z)}},[]);const k=N1(({first:z,active:H,delta:[V,K],movement:[J,$]})=>{z&&l(!0);const U=ec(J,-A,A),G=ec($,-D,D);i.current=Math.abs(J)>Math.abs(U)?Math.sign(J-U):0,s.current=Math.abs($)>Math.abs(G)?Math.sign(G-$):0;let W=t[x],F=t[y];H?(i.current||(W+=V*_*o.current,h({x:U})),s.current||(F-=S*K*E*o.current,h({y:G})),i.current||s.current?C():L(),n({[x]:W,[y]:F})):(l(!1),i.current=0,s.current=0,h({x:0,y:0}),L())});return te.createElement(Vme,Cr({ref:p},k()),a&&te.createElement(z_,null,te.createElement(Wme,{ref:g,isOutOfBounds:u},te.createElement("div",null),te.createElement("span",{ref:f}))))}const Xme=St("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function Yme(){const{label:t,displayValue:e,onUpdate:n,settings:r}=Di();return te.createElement(Bo,{input:!0},te.createElement(ca,null,t),te.createElement(Xme,{withJoystick:!!r.joystick},r.joystick&&te.createElement(jme,{value:e,settings:r,onUpdate:n}),te.createElement(H_,{value:e,settings:r,onUpdate:n})))}const Kme=["joystick"],Kk=Ek(["x","y"]),Jme=t=>{let{joystick:e=!0}=t,n=Pn(t,Kme);const{value:r,settings:i}=Kk.normalize(n);return{value:r,settings:Ot(Ot({},i),{},{joystick:e})}};var Zme=Ot(Ot({component:Yme},Kk),{},{normalize:Jme});const Qme=t=>{if(t!==void 0){if(t instanceof File)try{return URL.createObjectURL(t)}catch{return}if(typeof t=="string"&&t.indexOf("blob:")===0)return t;throw Error("Invalid image format [undefined | blob | File].")}},qme=(t,e)=>typeof e=="object"&&"image"in e,$me=({image:t})=>({value:t});var e1e=Object.freeze({__proto__:null,sanitize:Qme,schema:qme,normalize:$me});const t1e=St("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),n1e=St("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),r1e=St("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),i1e=St("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),s1e=St("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),o1e=St("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function a1e(){const{label:t,value:e,onUpdate:n,disabled:r}=Di(),{popinRef:i,wrapperRef:s,shown:o,show:a,hide:l}=jk(),u=R.useCallback(g=>{g.length&&n(g[0])},[n]),c=R.useCallback(g=>{g.stopPropagation(),n(void 0)},[n]),{getRootProps:f,getInputProps:h,isDragAccept:p}=Hk({maxFiles:1,accept:"image/*",onDrop:u,disabled:r});return te.createElement(Bo,{input:!0},te.createElement(ca,null,t),te.createElement(t1e,null,te.createElement(r1e,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&te.createElement(z_,null,te.createElement(mk,{onPointerUp:l,style:{cursor:"pointer"}}),te.createElement(i1e,{ref:s,style:{backgroundImage:`url(${e})`}})),te.createElement(n1e,f({isDragAccept:p}),te.createElement("input",h()),te.createElement(s1e,null,p?"drop image":"click or drop")),te.createElement(o1e,{onClick:c,disabled:!e})))}var l1e=Ot({component:a1e},e1e);const dP=cs().number(),u1e=(t,e)=>cs().array().length(2).every.number().test(t)&&cs().schema({min:dP,max:dP}).test(e),Yv=t=>({min:t[0],max:t[1]}),Jk=(t,{bounds:[e,n]},r)=>{const i=Array.isArray(t)?Yv(t):t,s={min:r[0],max:r[1]},{min:o,max:a}=Ot(Ot({},s),i);return[ec(Number(o),e,Math.max(e,a)),ec(Number(a),Math.min(n,o),n)]},c1e=({value:t,min:e,max:n})=>{const r={min:e,max:n},i=wk(Yv(t),{min:r,max:r}),s=[e,n],o=Ot(Ot({},i),{},{bounds:s});return{value:Jk(Yv(t),o,t),settings:o}};var f1e=Object.freeze({__proto__:null,schema:u1e,format:Yv,sanitize:Jk,normalize:c1e});const h1e=["value","bounds","onDrag"],d1e=["bounds"],p1e=St("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function m1e(t){let{value:e,bounds:[n,r],onDrag:i}=t,s=Pn(t,h1e);const o=R.useRef(null),a=R.useRef(null),l=R.useRef(null),u=R.useRef(0),c=Al("sizes","scrubberWidth"),f=N1(({event:g,first:x,xy:[y],movement:[v],memo:S={}})=>{if(x){const{width:E,left:b}=o.current.getBoundingClientRect();u.current=E-parseFloat(c);const T=(g==null?void 0:g.target)===a.current||(g==null?void 0:g.target)===l.current;S.pos=Hv((y-b)/E,n,r);const A=Math.abs(S.pos-e.min)-Math.abs(S.pos-e.max);S.key=A<0||A===0&&S.pos<=e.min?"min":"max",T&&(S.pos=e[S.key])}const _=S.pos+Hv(v/u.current,0,r-n);return i({[S.key]:Jde(_,s[S.key])}),S}),h=`calc(${Gv(e.min,n,r)} * (100% - ${c} - 8px) + 4px)`,p=`calc(${1-Gv(e.max,n,r)} * (100% - ${c} - 8px) + 4px)`;return te.createElement(xk,Cr({ref:o},f()),te.createElement(yk,null,te.createElement(Sk,{style:{left:h,right:p}})),te.createElement(O9,{position:"left",ref:a,style:{left:h}}),te.createElement(O9,{position:"right",ref:l,style:{right:p}}))}function g1e(){const{label:t,displayValue:e,onUpdate:n,settings:r}=Di(),i=Pn(r,d1e);return te.createElement(te.Fragment,null,te.createElement(Bo,{input:!0},te.createElement(ca,null,t),te.createElement(p1e,null,te.createElement(m1e,Cr({value:e},r,{onDrag:n})),te.createElement(H_,{value:e,settings:i,onUpdate:n,innerLabelTrim:0}))))}var v1e=Ot({component:g1e},f1e);const y1e=()=>{const t=new Map;return{on:(e,n)=>{let r=t.get(e);r===void 0&&(r=new Set,t.set(e,r)),r.add(n)},off:(e,n)=>{const r=t.get(e);r!==void 0&&(r.delete(n),r.size===0&&t.delete(e))},emit:(e,...n)=>{const r=t.get(e);if(r!==void 0)for(const i of r)i(...n)}}},x1e=["type","value"],S1e=["onChange","transient","onEditStart","onEditEnd"],_1e=function(){const e=K5(G$(()=>({data:{}}))),n=y1e();this.storeId=lde(),this.useStore=e;const r={},i=new Set;this.getVisiblePaths=()=>{const o=this.getData(),a=Object.keys(o),l=[];Object.entries(r).forEach(([c,f])=>{f.render&&a.some(h=>h.indexOf(c)===0)&&!f.render(this.get)&&l.push(c+".")});const u=[];return i.forEach(c=>{c in o&&o[c].__refCount>0&&l.every(f=>c.indexOf(f)===-1)&&(!o[c].render||o[c].render(this.get))&&u.push(c)}),u},this.setOrderedPaths=o=>{o.forEach(a=>i.add(a))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(a=>{const l=a.data;return o.forEach(u=>{if(u in l){const c=l[u];c.__refCount--,c.__refCount===0&&c.type in Oa&&delete l[u]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>r[o]||{},this.getData=()=>e.getState().data,this.addData=(o,a)=>{e.setState(l=>{const u=l.data;return Object.entries(o).forEach(([c,f])=>{let h=u[c];if(h){const{type:p,value:g}=f,x=Pn(f,x1e);p!==h.type?vl(Xn.INPUT_TYPE_OVERRIDE,p):((h.__refCount===0||a)&&Object.assign(h,x),h.__refCount++)}else u[c]=Ot(Ot({},f),{},{__refCount:1})}),{data:u}})},this.setValueAtPath=(o,a,l)=>{e.setState(u=>{const c=u.data;return OR(c[o],a,o,this,l),{data:c}})},this.setSettingsAtPath=(o,a)=>{e.setState(l=>{const u=l.data;return u[o].settings=Ot(Ot({},u[o].settings),a),{data:u}})},this.disableInputAtPath=(o,a)=>{e.setState(l=>{const u=l.data;return u[o].disabled=a,{data:u}})},this.set=(o,a)=>{e.setState(l=>{const u=l.data;return Object.entries(o).forEach(([c,f])=>{try{OR(u[c],f,void 0,void 0,a)}catch{}}),{data:u}})},this.getInput=o=>{try{return this.getData()[o]}catch{vl(Xn.PATH_DOESNT_EXIST,o)}},this.get=o=>{var a;return(a=this.getInput(o))===null||a===void 0?void 0:a.value},this.emitOnEditStart=o=>{n.emit(`onEditStart:${o}`,this.get(o),o,Ot(Ot({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{n.emit(`onEditEnd:${o}`,this.get(o),o,Ot(Ot({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,a)=>{const l=`onEditStart:${o}`;return n.on(l,a),()=>n.off(l,a)},this.subscribeToEditEnd=(o,a)=>{const l=`onEditEnd:${o}`;return n.on(l,a),()=>n.off(l,a)};const s=(o,a,l)=>{const u={};return Object.entries(o).forEach(([c,f])=>{if(c==="")return vl(Xn.EMPTY_KEY);let h=J_(a,c);if(f.type===Oa.FOLDER){const p=s(f.schema,h,l);Object.assign(u,p),h in r||(r[h]=f.settings)}else if(c in l)vl(Xn.DUPLICATE_KEYS,c,h,l[c].path);else{const p=mde(f,c,h,u);if(p){const{type:g,options:x,input:y}=p,{onChange:v,transient:S,onEditStart:_,onEditEnd:E}=x,b=Pn(x,S1e);u[h]=Ot(Ot(Ot({type:g},b),y),{},{fromPanel:!0}),l[c]={path:h,onChange:v,transient:S,onEditStart:_,onEditEnd:E}}else vl(Xn.UNKNOWN_INPUT,h,f)}}),u};this.getDataFromSchema=o=>{const a={};return[s(o,"",a),a]}};new _1e;const pP=t=>"__levaInput"in t,w1e=(t,e)=>{const n={},r=e?e.toLowerCase():null;return t.forEach(i=>{const[s,o]=Ame(i);(!r||s.toLowerCase().indexOf(r)>-1)&&Tme(n,o,{[s]:{__levaInput:!0,path:i}})}),n},E1e=["type","label","path","valueKey","value","settings","setValue","disabled"];function b1e(t){let{type:e,label:n,path:r,valueKey:i,value:s,settings:o,setValue:a,disabled:l}=t,u=Pn(t,E1e);const{displayValue:c,onChange:f,onUpdate:h}=gk({type:e,value:s,settings:o,setValue:a}),p=Ff[e].component;return p?te.createElement(ok.Provider,{value:Ot({key:i,path:r,id:""+r,label:n,displayValue:c,value:s,onChange:f,onUpdate:h,settings:o,setValue:a,disabled:l},u)},te.createElement(Ide,{disabled:l},te.createElement(p,null))):(vl(Xn.NO_COMPONENT_FOR_TYPE,e,r),null)}const M1e=St("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function T1e({onClick:t,settings:e,label:n}){const r=k1();return te.createElement(Bo,null,te.createElement(M1e,{disabled:e.disabled,onClick:()=>t(r.get)},n))}const A1e=St("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),C1e=St("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),R1e=({label:t,opts:e})=>{let n=typeof t=="string"&&t.trim()===""?null:t,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(n=e.label),r=e.opts),{label:n,opts:r}};function P1e(t){const{label:e,opts:n}=R1e(t),r=k1();return te.createElement(Bo,{input:!!e},e&&te.createElement(ca,null,e),te.createElement(A1e,null,Object.entries(n).map(([i,s])=>te.createElement(C1e,{key:i,onClick:()=>s(r.get)},i))))}const D1e=St("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),Zk=100;function L1e(t,e){t.push(e),t.length>Zk&&t.shift()}const I1e=R.forwardRef(function({initialValue:t},e){const n=Al("colors","highlight3"),r=Al("colors","elevation2"),i=Al("colors","highlight1"),[s,o]=R.useMemo(()=>[Wi(i).alpha(.4).toRgbString(),Wi(i).alpha(.1).toRgbString()],[i]),a=R.useRef([t]),l=R.useRef(t),u=R.useRef(t),c=R.useRef(),f=R.useCallback((g,x)=>{if(!g)return;const{width:y,height:v}=g,S=new Path2D,_=y/Zk,E=v*.05;for(let A=0;A<a.current.length;A++){const D=Gv(a.current[A],l.current,u.current),C=_*A,L=v-D*(v-E*2)-E;S.lineTo(C,L)}x.clearRect(0,0,y,v);const b=new Path2D(S);b.lineTo(_*(a.current.length+1),v),b.lineTo(0,v),b.lineTo(0,0);const T=x.createLinearGradient(0,0,0,v);T.addColorStop(0,s),T.addColorStop(1,o),x.fillStyle=T,x.fill(b),x.strokeStyle=r,x.lineJoin="round",x.lineWidth=14,x.stroke(S),x.strokeStyle=n,x.lineWidth=2,x.stroke(S)},[n,r,s,o]),[h,p]=Hde(f);return R.useImperativeHandle(e,()=>({frame:g=>{(l.current===void 0||g<l.current)&&(l.current=g),(u.current===void 0||g>u.current)&&(u.current=g),L1e(a.current,g),c.current=requestAnimationFrame(()=>f(h.current,p.current))}}),[h,p,f]),R.useEffect(()=>()=>cancelAnimationFrame(c.current),[]),te.createElement(D1e,{ref:h})}),mP=t=>Number.isFinite(t)?t.toPrecision(2):t.toString(),B1e=R.forwardRef(function({initialValue:t},e){const[n,r]=R.useState(mP(t));return R.useImperativeHandle(e,()=>({frame:i=>r(mP(i))}),[]),te.createElement("div",null,n)});function gP(t){return typeof t=="function"?t():t.current}function F1e({label:t,objectOrFn:e,settings:n}){const r=R.useRef(),i=R.useRef(gP(e));return R.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=r.current)===null||o===void 0||o.frame(gP(e))},n.interval);return()=>window.clearInterval(s)},[e,n.interval]),te.createElement(Bo,{input:!0},te.createElement(ca,{align:"top"},t),n.graph?te.createElement(I1e,{ref:r,initialValue:i.current}):te.createElement(B1e,{ref:r,initialValue:i.current}))}const U1e=["type","label","key"],O1e={[Oa.BUTTON]:T1e,[Oa.BUTTON_GROUP]:P1e,[Oa.MONITOR]:F1e},k1e=te.memo(({path:t})=>{const[e,{set:n,setSettings:r,disable:i,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=Wde(t);if(!e)return null;const{type:l,label:u,key:c}=e,f=Pn(e,U1e);if(l in Oa){const h=O1e[l];return te.createElement(h,Cr({label:u,path:t},f))}return l in Ff?te.createElement(b1e,Cr({key:s+t,type:l,label:u,storeId:s,path:t,valueKey:c,setValue:n,setSettings:r,disable:i,emitOnEditStart:o,emitOnEditEnd:a},f)):(ede(Xn.UNSUPPORTED_INPUT,l,t),null)});function N1e({toggle:t,toggled:e,name:n}){return te.createElement(Pde,{onClick:()=>t()},te.createElement(G_,{toggled:e}),te.createElement("div",null,n))}const z1e=({name:t,path:e,tree:n})=>{const r=k1(),i=J_(e,t),{collapsed:s,color:o}=r.getFolderSettings(i),[a,l]=R.useState(!s),u=R.useRef(null),c=Al("colors","folderWidgetColor"),f=Al("colors","folderTextColor");return R.useLayoutEffect(()=>{u.current.style.setProperty("--leva-colors-folderWidgetColor",o||c),u.current.style.setProperty("--leva-colors-folderTextColor",o||f)},[o,c,f]),te.createElement(Vv,{ref:u},te.createElement(N1e,{name:t,toggled:a,toggle:()=>l(h=>!h)}),te.createElement(Qk,{parent:i,tree:n,toggled:a}))},Qk=te.memo(({isRoot:t=!1,fill:e=!1,flat:n=!1,parent:r,tree:i,toggled:s})=>{const{wrapperRef:o,contentRef:a}=Cme(s),l=k1(),u=([f,h])=>{var p;return(pP(h)?(p=l.getInput(h.path))===null||p===void 0?void 0:p.order:l.getFolderSettings(J_(r,f)).order)||0},c=Object.entries(i).sort((f,h)=>u(f)-u(h));return te.createElement(F9,{ref:o,isRoot:t,fill:e,flat:n},te.createElement(hk,{ref:a,isRoot:t,toggled:s},c.map(([f,h])=>pP(h)?te.createElement(k1e,{key:h.path,valueKey:h.valueKey,path:h.path}):te.createElement(z1e,{key:f,name:f,path:r,tree:h}))))}),G1e=St("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${pk}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),qk=40,Kv=St("i",{$flexCenter:"",width:qk,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),H1e=St("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),V1e=St("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${Kv}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),W1e=St("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),j1e=St("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:qk}}}}),X1e=te.forwardRef(({setFilter:t,toggle:e},n)=>{const[r,i]=R.useState(""),s=R.useMemo(()=>ek(t,250),[t]),o=()=>{t(""),i("")},a=l=>{const u=l.currentTarget.value;e(!0),i(u)};return R.useEffect(()=>{s(r)},[r,s]),te.createElement(te.Fragment,null,te.createElement(W1e,{ref:n,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:a}),te.createElement(Kv,{onClick:()=>o(),style:{visibility:r?"visible":"hidden"}},te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function Y1e({setFilter:t,onDrag:e,onDragStart:n,onDragEnd:r,toggle:i,toggled:s,title:o,drag:a,filterEnabled:l,from:u}){const[c,f]=R.useState(!1),h=R.useRef(null);R.useEffect(()=>{var g,x;c?(g=h.current)===null||g===void 0||g.focus():(x=h.current)===null||x===void 0||x.blur()},[c]);const p=N1(({offset:[g,x],first:y,last:v})=>{e({x:g,y:x}),y&&n({x:g,y:x}),v&&r({x:g,y:x})},{filterTaps:!0,from:({offset:[g,x]})=>[(u==null?void 0:u.x)||g,(u==null?void 0:u.y)||x]});return R.useEffect(()=>{const g=x=>{x.key==="L"&&x.shiftKey&&x.metaKey&&f(y=>!y)};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[]),te.createElement(te.Fragment,null,te.createElement(H1e,{mode:a?"drag":void 0},te.createElement(Kv,{active:!s,onClick:()=>i()},te.createElement(G_,{toggled:s,width:12,height:8})),te.createElement(j1e,Cr({},a?p():{},{drag:a,filterEnabled:l}),o===void 0&&a?te.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},te.createElement("circle",{cx:"2",cy:"2",r:"2"}),te.createElement("circle",{cx:"14",cy:"2",r:"2"}),te.createElement("circle",{cx:"26",cy:"2",r:"2"}),te.createElement("circle",{cx:"2",cy:"12",r:"2"}),te.createElement("circle",{cx:"14",cy:"12",r:"2"}),te.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),l&&te.createElement(Kv,{active:c,onClick:()=>f(g=>!g)},te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},te.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),te.createElement(V1e,{toggled:c},te.createElement(X1e,{ref:h,setFilter:t,toggle:i})))}te.memo(({store:t,rootClass:e,fill:n=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:l,setToggle:u})=>{var c,f;const h=Rme(t),[p,g]=R.useState(""),x=R.useMemo(()=>w1e(h,p),[h,p]),[y,v]=vk(),S=i||h.length>0,_=typeof o=="object"&&o.title||void 0,E=typeof o=="object"&&(c=o.drag)!==null&&c!==void 0?c:!0,b=typeof o=="object"&&(f=o.filter)!==null&&f!==void 0?f:!0,T=typeof o=="object"&&o.position||void 0,A=typeof o=="object"&&o.onDrag||void 0,D=typeof o=="object"&&o.onDragStart||void 0,C=typeof o=="object"&&o.onDragEnd||void 0;return te.useEffect(()=>{v({x:T==null?void 0:T.x,y:T==null?void 0:T.y})},[T,v]),bde(),te.createElement(uk.Provider,{value:{hideCopyButton:a}},te.createElement(G1e,{ref:y,className:e,fill:n,flat:r,oneLineLabels:s,hideTitleBar:!o,style:{display:S?"block":"none"}},o&&te.createElement(Y1e,{onDrag:L=>{v(L),A==null||A(L)},onDragStart:L=>D==null?void 0:D(L),onDragEnd:L=>C==null?void 0:C(L),setFilter:g,toggle:L=>u(k=>L??!k),toggled:l,title:_,drag:E,filterEnabled:b,from:T}),S&&te.createElement(lk.Provider,{value:t},te.createElement(Qk,{isRoot:!0,fill:n,flat:r,tree:x,toggled:l}))))});Yl(ra.SELECT,ape);Yl(ra.IMAGE,l1e);Yl(ra.NUMBER,Qde);Yl(ra.COLOR,zme);Yl(ra.STRING,gpe);Yl(ra.BOOLEAN,Epe);Yl(ra.INTERVAL,v1e);Yl(ra.VECTOR3D,Hme);Yl(ra.VECTOR2D,Zme);function K1e({setPageSelected:t}){const[e]=r6("./Sound/BoardClick.wav",{volume:Ca.UI_SOUND_VOLUME});return B.jsx(QS,{className:"MenuStandPage select-none",occlude:"blending",zIndexRange:[2,2],scale:.11,rotation:[Math.PI*-.06,Math.PI*.25,Math.PI*.04],position:[0,4.4,-.1],style:{backgroundColor:"black"},transform:!0,children:B.jsxs("div",{className:"flex flex-col text-10xl text-white font-bold mr-9 items-center justify-center font-ChalkFont",children:[B.jsx("button",{className:"flex my-12 after:content-[''] after:bg-white after:h-8 after:left-0 after:w-[0%] after:bottom-[1270px] after:duration-200 after:hover:w-[95%] after:absolute",onClick:()=>{e(),t(Mr.AboutMe)},children:"About me"}),B.jsx("button",{className:"flex my-44 after:content-[''] after:bg-white after:h-8 after:left-0 after:w-[0%] after:bottom-[770px]  after:duration-200 after:hover:w-[95%] after:absolute",onClick:()=>{e(),t(Mr.Projects)},children:"Projects"}),B.jsx("button",{children:B.jsx("a",{href:"https://www.linkedin.com/in/hassen-ben-abid/",target:"_blank",onClick:()=>e(),children:B.jsx("img",{src:"./UI/LinkedInIcon.png",className:" mt-32 scale-[3.5] scale duration-200 hover:scale-[4.5]"})})})]})})}function J1e({setPageSelected:t}){return B.jsx(B.Fragment,{children:B.jsxs("group",{position:[-12.5,-1.2,12],children:[B.jsx($ce,{scale:2.2,"rotation-y":-Math.PI*.25}),B.jsx(K1e,{setPageSelected:t})]})})}function Z1e({isFocused:t,onCloseCallback:e}){const[n]=r6("./Sound/PublicityDisplayClick.wav",{volume:Ca.UI_SOUND_VOLUME});return B.jsx(QS,{className:" w-[730px] h-[1040px] bg-[#DFDFDE] select-none",occlude:"blending",zIndexRange:t?[1e4,0]:[0,0],position:[-16.9,5.925,-13.5],rotation:[0,Math.PI*-.5,0],scale:.19,transform:!0,children:B.jsx("div",{children:t?B.jsxs("div",{children:[B.jsxs("div",{className:"flex flex-row h-[60px]",children:[B.jsx("div",{className:"flex bg-[#4FAA6D] w-[505px] border-b-[15px] border-b-[#DFDFDE]"}),B.jsx("div",{className:`flex bg-[#FE0000] text-[#DFDFDE] w-[225px] cursor-pointer font-SpaceMono font-bold items-center justify-center text-2xl border-b-[15px] border-b-[#DFDFDE]\r
                            hover:border-b-[0px]\r
                            translation-all duration-150`,onClick:()=>{n(),e()},children:"Back"})]}),B.jsx("div",{className:"mx-2 mt-6 font-bold text-[#4FAA6D] text-[25px] font-SpaceMono border-l-4 border-[#4FAA6D]",children:B.jsxs("div",{className:" ml-2",children:["Hello there! ",B.jsx("br",{})," ",B.jsx("br",{}),"I'm Hassen, an enthusiastic and dynamic software and game programmer. My journey into the realm of programming began at a young age, igniting my unwavering passion. I still vividly remember crafting my very first game at the age of 14, using QT and C++, setting the stage for my adventurous career. ",B.jsx("br",{})," ",B.jsx("br",{}),"My academic foundation in computer science is rock-solid, and I've already amassed over two years of invaluable experience in the game industry where I Worked alongside diverse teams from across the globe which has enriched my professional journey. ",B.jsx("br",{})," ",B.jsx("br",{}),"I invite you to explore this glimpse into my world to not only delve into my extensive work history but also to discover the exciting personal projects I've passionately undertaken. ",B.jsx("br",{})," ",B.jsx("br",{}),"Welcome to my universe!"]})}),B.jsx("a",{className:`text-5xl text-[#4FAA6D] font-bold font-SpaceMono mt-14 mb-1 flex flex-col justify-center items-center border-x-[150px] border-[#4FAA6D]\r
                      hover:border-x-[240px]\r
                      translation-all duration-150`,href:"https://www.linkedin.com/in/hassen-ben-abid/",target:"_blank",onClick:()=>n(),children:"Resume"})]}):B.jsxs("div",{children:[B.jsx("div",{className:"bg-[#FE0000] w-[730px] h-[80px] mb-[50px]"}),B.jsx("div",{className:"flex justify-center text-[75px] font-SpaceMono font-bold text-[#FE0000] ",children:"HASSEN'S CANTINA"}),B.jsx("div",{className:"flex justify-center font-SpaceMono font-bold text-[30px] mb-[50px] text-[#FE0000]",children:"Where you can get the worst drink in town!"}),B.jsx("svg",{className:"w-[250px] h-[100px] ml-[250px] mt-10 text-gray-800 dark:text-[#FE0000]","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:B.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})}),B.jsx("svg",{className:"w-[250px] h-[200px] ml-[50px] mt-2 text-gray-800 dark:text-[#FE0000]","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:B.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})}),B.jsx("svg",{className:"w-[300px] h-[150px] ml-[350px] mt-2 text-gray-800 dark:text-[#FE0000]","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:B.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})}),B.jsx("div",{className:"bg-[#FE0000] w-[730px] h-[190px] mt-[50px]"})]})})})}function Q1e(t){const{nodes:e,materials:n}=ua("./models/PublicityDisplay.glb");return B.jsxs("group",{...t,dispose:null,onPointerDown:r=>r.stopPropagation(),onPointerOver:r=>r.stopPropagation(),onPointerOut:r=>r.stopPropagation(),children:[B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.MainScreen.geometry,material:n.DefaultMaterial}),B.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Holder.geometry,material:n.DefaultMaterial})]})}ua.preload("./models/PublicityDisplay.glb");const mu=new X(-16.5,6,-13.5);function q1e({pageSelected:t,setPageSelected:e,focusObjectFunc:n,objectIsFocused:r,focusedSound:i}){return R.useEffect(()=>{t==Mr.AboutMe&&n(mu,-10,0)},[t]),B.jsxs(B.Fragment,{children:[B.jsx(Q1e,{scale:2,position:[mu.x,-1.7,mu.z],rotation:[0,Math.PI*-.5,0]}),B.jsx("pointLight",{position:[mu.x,5,mu.z],intensity:8,color:"#DFDFDE"}),B.jsxs("mesh",{scale:[.5,4.8,3.5],position:[mu.x-.5,mu.y,mu.z],onPointerDown:()=>{i(),e(Mr.AboutMe)},children:[B.jsx("boxGeometry",{}),B.jsx("meshBasicMaterial",{opacity:0,transparent:!0,color:"red"})]}),B.jsx(Z1e,{isFocused:t==Mr.AboutMe&&r,onCloseCallback:()=>e(Mr.None)})]})}const Mr={None:0,AboutMe:1,Projects:2};function $1e({started:t=!1}){const[e,n]=R.useState(!0),[r,i]=R.useState(Mr.None),[s,o]=R.useState(Ca.ON_START_CAMERA_POSITION),[a,l]=R.useState({x:0,y:0,z:0}),[u,c]=R.useState(!1),[f]=r6("./Sound/FocusObjectClick.wav",{volume:Ca.UI_SOUND_VOLUME});var h=(g,x=0,y=0)=>{t&&(n(!1),l(r!=Mr.None?g:new X(0,0,0)),o(r!=Mr.None?{x:g.x+x,y:g.y,z:g.z+y}:Ca.DEFAULT_CAMERA_POSITION))},p=g=>{!e&&g!=Mr.None||g!=r&&i(g)};return R.useEffect(()=>{r==Mr.None&&h(null)},[r]),R.useEffect(()=>{t&&(n(!1),o(Ca.DEFAULT_CAMERA_POSITION))},[t]),B.jsxs(B.Fragment,{children:[B.jsx(Vse,{}),B.jsx(pue,{}),B.jsx("ambientLight",{intensity:.05}),B.jsx(qce,{position:s,target:a,pageSelected:r,setCanSelect:n,setObjectIsFocused:g=>c(g)}),B.jsx(kce,{}),B.jsx(Qce,{pageSelected:r,setPageSelected:p,focusObjectFunc:h,objectIsFocused:u,focusedSound:f}),B.jsx(q1e,{pageSelected:r,setPageSelected:p,focusObjectFunc:h,objectIsFocused:u,focusedSound:f}),B.jsx(J1e,{setPageSelected:p}),B.jsxs("mesh",{position:[0,-11.05,0],scale:[45,20,45],receiveShadow:!0,children:[B.jsx("boxGeometry",{}),B.jsx("meshStandardMaterial",{color:"sandybrown"})]})]})}var e3e=document.getElementById("loadingScreen"),Nh=document.getElementById("loadPercentage"),t3e=document.getElementById("water"),n3e=document.getElementById("loadingText"),ug=0,u8;const r3e=c8.createRoot(document.querySelector("#root"));r3e.render(B.jsx(i3e,{}));function i3e(){const{progress:t}=Yq(),[e,n]=R.useState(!1);return R.useEffect(()=>{clearInterval(u8),u8=setInterval(()=>{ug++,Nh.innerHTML=ug+" %",t3e.style.transform="translate(0,"+(120-ug)+"%)",ug==t&&(clearInterval(u8),t==100&&(n3e.style.opacity=0,Nh.innerHTML="START",Nh.style.fontStyle="bold",Nh.style.cursor="pointer",Nh.classList.add("hover:text-[#F56C22]"),Nh.onclick=()=>{e3e.classList.add("fadeOut"),n(!0)}))},5)},[t]),B.jsx(R.StrictMode,{children:B.jsxs(VB,{camera:{fov:45,position:[Ca.ON_START_CAMERA_POSITION.x,Ca.ON_START_CAMERA_POSITION.y,Ca.ON_START_CAMERA_POSITION.z]},shadows:{type:u1},children:[B.jsx($1e,{started:e}),B.jsx(Tse,{all:!0})]})})}export{s3e as c,tc as g};
